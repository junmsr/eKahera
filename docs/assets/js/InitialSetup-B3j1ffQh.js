import{j as e}from"./utils-BnCj7yKo.js";import{u as s,a}from"./vendor-BZrj58oz.js";import{B as l,L as r,b as t,a as i}from"./index-DDCXLGHy.js";import{C as n}from"./Card-fMjg4IWJ.js";import{L as d}from"./Logo-Dhggcj2t.js";import{S as o}from"./SectionHeader-DKrtjj68.js";import{I as c}from"./Input-D3kbgyHK.js";import{P as m}from"./PasswordInput-HX0zxmT2.js";function x(){const x=s(),[p,u]=a.useState({name:"",email:"",password:"",confirmPassword:""}),[h,f]=a.useState({}),[j,v]=a.useState(!1),[g,w]=a.useState(""),[N,y]=a.useState(!1),[b,C]=a.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),P=e=>{const{name:s,value:a}=e.target;u({...p,[s]:a}),h[s]&&f({...h,[s]:""}),"password"===s&&C({length:a.length>=8,uppercase:/[A-Z]/.test(a),lowercase:/[a-z]/.test(a),number:/\d/.test(a),special:/[!@#$%^&*(),.?":{}|<>]/.test(a)})};return N?e.jsx(l,{variant:"gradientGreen",pattern:"dots",overlay:!0,floatingElements:!0,children:e.jsx("main",{className:"flex h-screen items-center justify-center px-2 relative z-10",children:e.jsxs(n,{variant:"glass",className:"w-full max-w-md p-8 text-center animate-fadeIn",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx(o,{variant:"light",size:"lg",className:"mb-4",children:"Setup Complete!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your SuperAdmin account has been created successfully."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]}),e.jsx(r,{size:"sm"})]})})}):e.jsxs(l,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:[e.jsx("main",{className:"flex h-screen items-center justify-center px-2 relative z-10 overflow-hidden",children:e.jsxs(n,{variant:"glass",className:"w-full max-w-4xl flex flex-col md:flex-row overflow-hidden p-0 animate-fadeIn",children:[e.jsxs("aside",{className:"hidden md:flex flex-col justify-center items-center bg-gradient-to-br from-blue-500 via-blue-300 to-blue-500 w-1/2 p-15 gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10 -z-10 pointer-events-none",children:e.jsx("div",{className:"w-full h-full bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.3)_1px,transparent_0)] bg-[length:20px_20px]"})}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsxs(o,{variant:"white",size:"xl",className:"mb-4 mt-4 text-center",children:[e.jsx(d,{size:64,className:"mb-10"}),"Initial Setup"]}),e.jsx("p",{className:"text-white/90 text-center text-lg max-w-xs font-medium leading-relaxed mb-4",children:"Welcome to eKahera! Let's create your SuperAdmin account to get started."}),e.jsxs("div",{className:"text-white/80 text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Full system access"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Manage all stores"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Advanced analytics"})]})]})]})]}),e.jsx("section",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-8 md:p-12 bg-white/95 backdrop-blur-sm",children:e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsx(o,{variant:"light",size:"lg",className:"mb-8 text-center",children:"Create SuperAdmin"}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return p.name.trim()||(e.name="Full name is required"),p.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",p.password?p.password.length<8?e.password="Password must be at least 8 characters long":Object.values(b).every(Boolean)||(e.password="Password does not meet security requirements"):e.password="Password is required",p.confirmPassword?p.password!==p.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",f(e),0===Object.keys(e).length})()){v(!0),w("");try{await i("/api/auth/setup/superadmin",{method:"POST",body:JSON.stringify({name:p.name.trim(),email:p.email.trim(),password:p.password,confirmPassword:p.confirmPassword})});y(!0),setTimeout(()=>{x("/login?role=admin&setup=complete")},3e3)}catch(s){w("Setup failed. Please try again.")}finally{v(!1)}}},className:"w-full flex flex-col gap-6",noValidate:!0,children:[e.jsx(c,{name:"name",value:p.name,onChange:P,placeholder:"Enter your full name",type:"text",error:h.name,autoComplete:"name",required:!0}),e.jsx(c,{name:"email",value:p.email,onChange:P,placeholder:"Enter your email address",type:"email",error:h.email,autoComplete:"email",required:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{name:"password",value:p.password,onChange:P,placeholder:"Create a strong password",error:h.password,autoComplete:"new-password",required:!0}),p.password&&e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Password Requirements:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1 "+(b.length?"text-green-600":"text-gray-400"),children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"8+ chars"})]}),e.jsxs("div",{className:"flex items-center gap-1 "+(b.uppercase?"text-green-600":"text-gray-400"),children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Uppercase"})]}),e.jsxs("div",{className:"flex items-center gap-1 "+(b.lowercase?"text-green-600":"text-gray-400"),children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Lowercase"})]}),e.jsxs("div",{className:"flex items-center gap-1 "+(b.number?"text-green-600":"text-gray-400"),children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Number"})]}),e.jsxs("div",{className:"flex items-center gap-1 "+(b.special?"text-green-600":"text-gray-400"),children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Special (!@#$)"})]})]})]})]}),e.jsx(m,{name:"confirmPassword",value:p.confirmPassword,onChange:P,placeholder:"Confirm your password",error:h.confirmPassword,autoComplete:"new-password",required:!0}),g&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("p",{className:"text-sm font-medium text-red-700",children:g.replace(/^\{|\}$/g,"")})]}),e.jsxs(t,{type:"submit",variant:"primary",disabled:j||!Object.values(b).every(Boolean),className:"w-full flex items-center justify-center h-12 mt-4 text-lg font-medium transition-all duration-300 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]",children:[j&&e.jsx(r,{size:"sm",className:"mr-2"}),j?"Creating Account...":"Create SuperAdmin Account"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"This account will have full system access"})})]})})]})}),e.jsx("style",{children:"\n        html, body, #root {\n          height: 100%;\n          margin: 0;\n          padding: 0;\n          overflow: hidden; /* No scroll */\n        }\n      "})]})}export{x as default};
//# sourceMappingURL=InitialSetup-B3j1ffQh.js.map
