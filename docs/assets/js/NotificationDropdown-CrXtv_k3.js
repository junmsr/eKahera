import{j as e}from"./utils-B2FtDWBX.js";import{a as t}from"./vendor-mHQTfcnf.js";import{a as s}from"./index-DrH1VSyj.js";import{G as r,M as a,a as l,b as i}from"./BaseModal-DLQpfPIu.js";function n(e){return r({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(e)}function o({notifications:r=[],unreadCount:o=0,onMarkAsRead:d,onMarkAsUnread:c,onDelete:x,onSelectAll:h,onDeselectAll:m,isOpen:g,onToggle:u,containerRef:b}){const[p,f]=t.useState(new Set),[j,N]=t.useState("all"),y=t.useMemo(()=>"unread"===j?r.filter(e=>!e.isRead):"read"===j?r.filter(e=>e.isRead):r,[r,j]),v=p.size===y.length&&y.length>0,w=p.size>0;return e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative group",title:"Notifications",children:[e.jsx(s,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900"}),o>0&&e.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:o>99?"99+":o})]}),g&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(s,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Notifications"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[o," unread"]})]})]}),e.jsx("button",{onClick:u,className:"p-1 hover:bg-gray-200 rounded-lg transition-colors",children:e.jsx(a,{className:"w-5 h-5 text-gray-500"})})]})}),r.length>0&&e.jsx("div",{className:"flex gap-1 px-4 pt-3 border-b border-gray-100 bg-gray-50",children:["all","unread","read"].map(t=>e.jsx("button",{onClick:()=>{N(t),f(new Set)},className:"px-3 py-2 text-sm font-medium rounded-t-lg transition-colors "+(j===t?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),w&&e.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b border-blue-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[p.size," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{p.forEach(e=>{const t=r.find(t=>t.id===e);t&&!t.isRead&&d(e)}),f(new Set)},className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900 text-xs",title:"Mark as read",children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{p.forEach(e=>{const t=r.find(t=>t.id===e);t&&t.isRead&&c(e)}),f(new Set)},className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900 text-xs",title:"Mark as unread",children:e.jsx(i,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{window.confirm(`Delete ${p.size} notification(s)?`)&&(p.forEach(e=>x(e)),f(new Set))},className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-red-600 hover:text-red-700 text-xs",title:"Delete selected",children:e.jsx(n,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:y.length>0?e.jsxs(e.Fragment,{children:[y.length>1&&e.jsx("div",{className:"px-4 py-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-100 p-2 -m-2 rounded transition-colors",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:()=>{p.size===y.length?f(new Set):f(new Set(y.map(e=>e.id)))},className:"w-4 h-4 rounded border-gray-300 text-blue-600 cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:v?"Deselect All":"Select All"})]})}),y.map(t=>e.jsx("div",{className:"border-b border-gray-100 transition-all duration-200 hover:bg-gray-50 group "+(t.isRead?"":"bg-blue-50/50"),children:e.jsxs("div",{className:"px-4 py-3 flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:e.jsx("input",{type:"checkbox",checked:p.has(t.id),onChange:()=>{return e=t.id,void f(t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s});var e},className:"w-4 h-4 rounded border-gray-300 text-blue-600 cursor-pointer"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.title}),!t.isRead&&e.jsx("span",{className:"inline-flex w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:t.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1.5",children:t.time})]}),e.jsxs("div",{className:"flex-shrink-0 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.isRead?e.jsx("button",{onClick:()=>c(t.id),className:"p-1.5 hover:bg-gray-200 rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:"Mark as unread",children:e.jsx(i,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>d(t.id),className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-blue-600",title:"Mark as read",children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx("button",{onClick:e=>((e,t)=>{t.stopPropagation(),window.confirm("Delete this notification?")&&x(e)})(t.id,e),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-gray-600 hover:text-red-600",title:"Delete",children:e.jsx(n,{className:"w-4 h-4"})})]})]})})]})},t.id))]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(s,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"unread"===j?"No unread notifications":"read"===j?"No read notifications":"No notifications yet"})]})}),r.length>0&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 flex gap-2",children:[e.jsx("button",{onClick:()=>{r.filter(e=>!e.isRead).map(e=>e.id).forEach(e=>d(e)),f(new Set)},className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Mark All as Read"}),e.jsx("button",{onClick:()=>{window.confirm("Delete all notifications?")&&(r.forEach(e=>x(e.id)),f(new Set))},className:"flex-1 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Clear All"})]})]})]})}export{o as N};
//# sourceMappingURL=NotificationDropdown-CrXtv_k3.js.map
