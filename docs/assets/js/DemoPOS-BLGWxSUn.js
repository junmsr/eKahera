import{j as e}from"./utils-BnCj7yKo.js";import{a as s}from"./vendor-BZrj58oz.js";import{P as t}from"./PageLayout-ByFCRuDU.js";import{D as o}from"./DemoNav-CvcmHvT6.js";import{S as i}from"./ScannerCard-B5N3uzS2.js";import{S as r,C as n,D as a,P as l,a as c,b as d,c as m}from"./CashPaymentModal-CkzW6Hfl.js";import{b as x}from"./index-D7iUwyNR.js";import{A as u}from"./AdminReceiptsModal-C1i9J81z.js";import{h as p}from"./index-Bn6GZOQ4.js";import"./Navbar-3OgFLpaQ.js";import"./Logo-D6_1VZJs.js";import"./PrivacyPolicyModal-DgnrAqaq.js";import"./BaseModal-C-8Qp-dk.js";import"./qr-DN-bNBye.js";import"./Card-fMjg4IWJ.js";import"./Input-D3kbgyHK.js";import"./useKeyboardShortcuts-C3XQk2oo.js";const h=({text:s,shortcut:t,variant:o="secondary"})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:s}),e.jsx("span",{className:"hidden sm:inline-block text-xs font-bold px-1.5 py-0.5 rounded border "+("primary"===o?"bg-white/20 border-white/40 text-white":"bg-gray-100 border-gray-300 text-gray-600"),children:t})]}),j=[{product_id:1,sku:"1001",product_name:"Demo Coffee",selling_price:120,stock_quantity:50},{product_id:2,sku:"1002",product_name:"Demo Sandwich",selling_price:85,stock_quantity:20},{product_id:3,sku:"1003",product_name:"Demo Cake Slice",selling_price:150,stock_quantity:15},{product_id:4,sku:"1004",product_name:"Demo Water",selling_price:25,stock_quantity:100}];function f(){const[f,g]=s.useState(""),[v,k]=s.useState(1),[b,N]=s.useState([]),[y,w]=s.useState(!1),[C,S]=s.useState(!1),[M,L]=s.useState(""),[_,D]=s.useState(!1),[O,E]=s.useState(0),[P,q]=s.useState("1"),[R,W]=s.useState(null),z=s.useRef(null),B=s.useRef(null);s.useEffect(()=>{z.current?.focus()},[]);const A=(e,s=1)=>{if(!e)return;L("");const t=j.find(s=>s.sku===e);t?(N(e=>{const o=e.findIndex(e=>e.product_id===t.product_id);if(o>=0){const t=[...e];return t[o]={...t[o],quantity:t[o].quantity+s},t}return[...e,{product_id:t.product_id,sku:t.sku,name:t.product_name,quantity:s,price:t.selling_price}]}),g(""),k(1),z.current?.focus()):L("Product not found (Try SKUs: 1001, 1002, 1003, 1004)")},F=b.reduce((e,s)=>e+s.price*s.quantity,0),I=e=>{alert(`Demo Checkout Successful via ${e}! Total: ₱${F.toFixed(2)}`),N([]),w(!1),S(!1)},T=e.jsxs("div",{className:"flex items-center gap-1 sm:gap-4 mr-3",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["₱",F.toFixed(2)]})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("button",{className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg px-2 py-1.5 sm:px-2.5 shadow-sm",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2M8 16h8a2 2 0 002-2v-6m-10 8l-2 2m2-2l2 2"})}),e.jsx("span",{className:"font-mono text-xs sm:text-sm font-bold tracking-wider truncate max-w-[30vw] sm:max-w-[50vw]",children:"Demo Store"})]})}),e.jsxs("button",{className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm p-1.5 sm:px-3 sm:py-2 rounded-lg border border-gray-200/80 hover:bg-gray-50 transition-colors",title:"View all receipts",children:[e.jsx("div",{className:"relative",children:e.jsx(p,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:inline",children:"Receipts"})]}),e.jsx("div",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold",children:"DEMO MODE"})]});return e.jsxs(t,{title:"POS (DEMO)",sidebar:e.jsx(o,{}),headerActions:T,isSidebarOpen:_,setSidebarOpen:D,children:[e.jsx("div",{className:"flex-1 flex flex-col min-h-screen",children:e.jsx("main",{className:"flex-1 bg-gradient-to-br from-gray-50/50 via-blue-50/30 to-indigo-50/50 overflow-hidden p-2 sm:p-3 md:p-4 pb-10 lg:pb-4",children:e.jsxs("div",{className:"grid gap-2 sm:gap-3 md:gap-4 h-full grid-cols-1 lg:grid-cols-12",children:[e.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-2 sm:gap-3 md:gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(i,{onScan:e=>{const s=e?.[0]?.rawValue;s&&A(s,1)},paused:!1,onResume:()=>{},textMain:"text-blue-700"})}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx(r,{ref:z,sku:f,setSku:g,quantity:v,setQuantity:k,handleAddToCart:()=>{A(f,v)},quantityInputRef:B}),M&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-3 relative animate-in slide-in-from-top-2 duration-300",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("p",{className:"text-sm font-medium text-red-700 flex-1",children:M}),e.jsx("button",{onClick:()=>L(""),className:"text-red-400 hover:text-red-600 transition-colors flex-shrink-0 ml-2","aria-label":"Dismiss error",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),e.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-2 sm:gap-3 min-h-0",children:[e.jsx("div",{className:"flex-1 min-h-0 max-h-[calc(100vh-280px)]",children:e.jsx(n,{cart:b,handleRemove:e=>{N(b.filter((s,t)=>t!==e))},handleEditQuantity:(e,s)=>{const t=Math.max(1,Number(s)||1);N(s=>s.map((s,o)=>o===e?{...s,quantity:t}:s)),W(null)},total:F,selectedIdx:O,onSelectRow:e=>{E(e),b[e]&&q(String(b[e].quantity))},editingIdx:R,editQty:P,onEditQtyChange:q,onEditComplete:()=>W(null),onStartEdit:W,className:"flex-1 h-full"})}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 sm:gap-3 flex-shrink-0",children:[e.jsx("div",{className:"col-span-8",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3",children:[e.jsx(x,{label:e.jsx(h,{text:"CASH LEDGER",shortcut:"F5"}),size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",variant:"secondary",microinteraction:!0,onClick:()=>{},icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),e.jsx("div",{className:"relative group flex-1",children:e.jsx(x,{label:e.jsx(h,{text:"ADD DISCOUNT",shortcut:"F6"}),variant:"secondary",onClick:()=>{},icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold"})}),e.jsx(x,{label:e.jsx(h,{text:"PRICE CHECK",shortcut:"F7"}),size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>{},variant:"secondary",microinteraction:!0,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),e.jsx(x,{label:e.jsx(h,{text:"SCAN CUSTOMER QR",shortcut:"F8"}),size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>{},variant:"secondary",microinteraction:!0,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),iconPosition:"left"})]})}),e.jsx("div",{className:"col-span-4",children:e.jsx(x,{label:e.jsx(h,{text:"CHECKOUT",shortcut:"F12",variant:"primary"}),size:"md",className:"w-full h-full text-sm sm:text-base font-bold",variant:"primary",microinteraction:!0,onClick:()=>w(!0),disabled:0===b.length,icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"})})]})]})]})})}),e.jsx(a,{isOpen:!1,onClose:()=>{},onApplyDiscount:()=>{}}),e.jsx(l,{isOpen:!1,onClose:()=>{},sku:"",setSku:()=>{}}),e.jsx(c,{isOpen:!1,onClose:()=>{}}),e.jsx(u,{isOpen:!1,onClose:()=>{}}),e.jsx(d,{isOpen:y,onClose:()=>w(!1),total:F,onSelectPayment:e=>"cash"===e?S(!0):I(e)}),e.jsx(m,{isOpen:C,onClose:()=>S(!1),total:F,onConfirm:()=>I("cash")})]})}export{f as default};
//# sourceMappingURL=DemoPOS-BLGWxSUn.js.map
