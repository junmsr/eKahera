{"version":3,"file":"CustomerEnter-DgMerRqp.js","sources":["../../../frontend/src/pages/CustomerEnter.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport Background from \"../components/layout/Background\";\nimport ScannerCard from \"../components/ui/POS/ScannerCard\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport Button from \"../components/common/Button\";\n\nfunction parseBusinessIdFromCode(raw) {\n  try {\n    // If it's a URL, parse query params\n    const url = new URL(raw);\n    const bid = url.searchParams.get('business_id') || url.searchParams.get('b') || url.searchParams.get('store');\n    if (bid) return bid;\n  } catch (_) {\n    // not a URL; continue\n  }\n  // Try JSON payload\n  try {\n    const obj = JSON.parse(raw);\n    if (obj && (obj.business_id || obj.businessId || obj.storeId)) {\n      return obj.business_id || obj.businessId || obj.storeId;\n    }\n  } catch (_) {}\n  // Fallback: numeric/string id directly\n  return raw;\n}\n\nexport default function CustomerEnter() {\n  const [paused, setPaused] = useState(false);\n  const [isScanning, setIsScanning] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const handleScan = async (result) => {\n    const code = result?.[0]?.rawValue;\n    if (!code) return;\n\n    setPaused(true);\n    setIsScanning(true);\n    setError(null);\n\n    try {\n      const businessId = parseBusinessIdFromCode(code);\n      \n      if (!businessId) {\n        setError(\"Invalid QR Code. Please scan a valid store QR code.\");\n        setIsScanning(false);\n        setTimeout(() => {\n          setPaused(false);\n        }, 500);\n        return;\n      }\n\n      // Set business ID and generate a transaction number for this session\n      localStorage.setItem(\"business_id\", String(businessId));\n      // Clear old transaction data\n      localStorage.removeItem(\"provisionalTransactionNumber\");\n      localStorage.removeItem(\"customerCart\");\n      // Generate and save new transaction number\n      const timePart = new Date()\n        .toISOString()\n        .replace(/[-:T.Z]/g, \"\")\n        .slice(0, 14);\n      const randPart = Math.floor(1000 + Math.random() * 9000);\n      const transactionNumber = `T-${String(businessId).padStart(\n        2,\n        \"0\"\n      )}-${timePart}-${randPart}`;\n      localStorage.setItem(\"provisionalTransactionNumber\", transactionNumber);\n\n      // Call backend /public/enter-store to create user\n      try {\n        const response = await fetch(\"/api/sales/public/enter-store\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ business_id: businessId }),\n        });\n\n        if (!response.ok) {\n          const errorData = await response\n            .json()\n            .catch(() => ({ error: \"Failed to create customer\" }));\n          console.error(\"Failed to create customer user:\", errorData);\n          // Don't block navigation, but log the error\n        } else {\n          const data = await response.json();\n          // Store user_id and username in localStorage for use later\n          if (data.user_id) {\n            localStorage.setItem(\"customer_user_id\", String(data.user_id));\n            console.log(\"Customer user created:\", data.user_id);\n          }\n          if (data.username) {\n            localStorage.setItem(\"customer_username\", data.username);\n          }\n        }\n      } catch (err) {\n        console.error(\"Error creating customer user:\", err);\n        // Don't block navigation, but log the error\n      }\n\n      // Small delay for better UX feedback\n      setTimeout(() => {\n        navigate(\"/customer\");\n      }, 300);\n    } catch (error) {\n      // Handle cases where the scanned code cannot be parsed\n      setError(\"Invalid QR Code. Please scan a valid store QR code.\");\n      setIsScanning(false);\n      setTimeout(() => {\n        setPaused(false);\n      }, 500);\n    }\n  };\n\n  const containerVariants = {\n    hidden: { opacity: 0 },\n    visible: {\n      opacity: 1,\n      transition: {\n        staggerChildren: 0.2,\n        delayChildren: 0.1,\n      },\n    },\n  };\n\n  const itemVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.5,\n        ease: \"easeOut\",\n      },\n    },\n  };\n\n  const cardVariants = {\n    hidden: { opacity: 0, scale: 0.95 },\n    visible: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        duration: 0.4,\n        ease: \"easeOut\",\n      },\n    },\n  };\n\n  return (\n    <Background variant=\"gradientBlue\" pattern=\"dots\" floatingElements overlay>\n      {/* Animated background orbs */}\n      <motion.div\n        className=\"absolute -top-24 -left-24 w-[28rem] h-[28rem] rounded-full bg-gradient-to-br from-blue-400/15 to-cyan-400/10 blur-3xl\"\n        animate={{ scale: [1, 1.08, 1], opacity: [0.35, 0.5, 0.35] }}\n        transition={{ duration: 10, repeat: Infinity, ease: \"easeInOut\" }}\n      />\n      <motion.div\n        className=\"absolute bottom-0 -right-24 w-[30rem] h-[30rem] rounded-full bg-gradient-to-bl from-indigo-400/15 to-purple-400/10 blur-3xl\"\n        animate={{ scale: [1, 1.12, 1], opacity: [0.3, 0.45, 0.3] }}\n        transition={{ duration: 12, repeat: Infinity, ease: \"easeInOut\" }}\n      />\n\n      <motion.div\n        className=\"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 pt-6 sm:pt-8 relative z-10\"\n        variants={containerVariants}\n        initial=\"hidden\"\n        animate=\"visible\"\n      >\n        {/* Header with back button */}\n        <motion.div\n          className=\"absolute top-4 sm:top-6 left-4 sm:left-6 z-20\"\n          variants={itemVariants}\n        >\n          <Link\n            to=\"/\"\n            className=\"inline-flex items-center gap-2 px-4 py-2.5 rounded-full bg-white/80 backdrop-blur-md border border-white/40 hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl group\"\n          >\n            <svg\n              className=\"w-5 h-5 text-gray-700\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 19l-7-7 7-7\"\n              />\n            </svg>\n            <span className=\"font-semibold text-gray-700 hidden sm:inline\">\n              Back Home\n            </span>\n          </Link>\n        </motion.div>\n\n        {/* Main Content Container */}\n        <div className=\"w-full max-w-4xl flex flex-col gap-6 sm:gap-8\">\n          {/* Top Section - Logo & Title */}\n          <motion.div className=\"text-center\" variants={itemVariants}>\n            <motion.div\n              className=\"inline-flex items-center justify-center gap-3 mb-6\"\n              initial={{ scale: 0, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              transition={{ delay: 0.2, type: \"spring\", stiffness: 180 }}\n            >\n              <motion.div\n                className=\"p-4 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 rounded-2xl shadow-2xl relative group\"\n                animate={{\n                  boxShadow: [\n                    \"0 10px 30px rgba(59, 130, 246, 0.3)\",\n                    \"0 20px 40px rgba(59, 130, 246, 0.4)\",\n                    \"0 10px 30px rgba(59, 130, 246, 0.3)\",\n                  ],\n                }}\n                transition={{ duration: 2.5, repeat: Infinity }}\n              >\n                <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity\" />\n                <svg\n                  className=\"w-8 h-8 sm:w-9 sm:h-9 text-white relative z-10\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z\"\n                  />\n                </svg>\n              </motion.div>\n            </motion.div>\n\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.4 }}\n              className=\"space-y-3\"\n            >\n              <p className=\"text-xl sm:text-2xl font-bold text-gray-900\">\n                Welcome to the Store !!!\n              </p>\n              <p className=\"text-base sm:text-lg text-gray-600 max-w-xl mx-auto leading-relaxed\">\n                Scan the store's QR code to access the self-checkout experience\n              </p>\n            </motion.div>\n          </motion.div>\n\n          {/* Info Section */}\n          <motion.div className=\"\" variants={itemVariants}>\n            <div className=\"bg-gradient-to-r from-blue-50/80 via-indigo-50/60 to-purple-50/80 backdrop-blur-md rounded-2xl border border-blue-200/40 p-6 sm:p-8\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex-shrink-0\">\n                  <motion.div\n                    className=\"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg\"\n                    animate={{ scale: [1, 1.1, 1] }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                  >\n                    <svg\n                      className=\"w-6 h-6\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                      />\n                    </svg>\n                  </motion.div>\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-semibold text-gray-900 mb-1\">\n                    Need Help?\n                  </h3>\n                  <p className=\"text-sm text-gray-600\">\n                    Make sure your device has camera permissions enabled. The QR\n                    code is typically displayed at the store entrance.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Main Content Grid */}\n          <div className=\"grid gap-6 lg:grid-cols-2 items-center\">\n            {/* Right: Scanner Card */}\n            <motion.div\n              className=\"flex items-center justify-center relative w-full\"\n              variants={cardVariants}\n            >\n              <div className=\"w-full aspect-square relative max-w-sm lg:max-w-md\">\n                {/* Glow effect behind scanner */}\n                <motion.div\n                  className=\"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-indigo-600/20 rounded-2xl sm:rounded-lg blur-2xl -z-10\"\n                  animate={{\n                    scale: [1, 1.1, 1],\n                    opacity: [0.4, 0.6, 0.4],\n                  }}\n                  transition={{ duration: 4, repeat: Infinity }}\n                />\n\n                {/* Scanner Container */}\n                <div className=\"relative h-full rounded-2xl sm:rounded-3xl overflow-hidden border-3 sm:border-4 border-white/60 shadow-lg sm:shadow-2xl bg-white/10 backdrop-blur-sm\">\n                  {isScanning && !error && (\n                    <motion.div\n                      className=\"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-md\"\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                      exit={{ opacity: 0 }}\n                    >\n                      <motion.div\n                        className=\"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-xl sm:shadow-2xl border border-white/20 mx-4\"\n                        initial={{ scale: 0.8, opacity: 0 }}\n                        animate={{ scale: 1, opacity: 1 }}\n                        transition={{ type: \"spring\", stiffness: 200 }}\n                      >\n                        <div className=\"flex flex-col items-center gap-3 sm:gap-4\">\n                          <motion.div\n                            className=\"w-12 h-12 sm:w-14 sm:h-14 border-3 sm:border-4 border-blue-500 border-t-indigo-600 rounded-full\"\n                            animate={{ rotate: 360 }}\n                            transition={{\n                              duration: 1,\n                              repeat: Infinity,\n                              ease: \"linear\",\n                            }}\n                          />\n                          <div className=\"text-center\">\n                            <p className=\"text-gray-900 font-semibold text-sm sm:text-base\">\n                              Recognizing store...\n                            </p>\n                            <p className=\"text-xs sm:text-sm text-gray-600 mt-1\">\n                              Please wait\n                            </p>\n                          </div>\n                        </div>\n                      </motion.div>\n                    </motion.div>\n                  )}\n\n                  {error && (\n                    <motion.div\n                      className=\"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-md\"\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                      exit={{ opacity: 0 }}\n                    >\n                      <motion.div\n                        className=\"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-xl sm:shadow-2xl border border-white/20 mx-4\"\n                        initial={{ scale: 0.8, opacity: 0 }}\n                        animate={{ scale: 1, opacity: 1 }}\n                        transition={{ type: \"spring\", stiffness: 200 }}\n                      >\n                        <div className=\"flex flex-col items-center gap-4\">\n                          <motion.div className=\"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-red-100 rounded-full\">\n                            <svg\n                              className=\"w-8 h-8 text-red-500\"\n                              fill=\"none\"\n                              stroke=\"currentColor\"\n                              viewBox=\"0 0 24 24\"\n                            >\n                              <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth={2}\n                                d=\"M6 18L18 6M6 6l12 12\"\n                              />\n                            </svg>\n                          </motion.div>\n                          <div className=\"text-center\">\n                            <p className=\"text-gray-900 font-semibold text-sm sm:text-base\">\n                              Invalid QR Code\n                            </p>\n                            <p className=\"text-xs sm:text-sm text-gray-600 mt-1\">\n                              {error}\n                            </p>\n                          </div>\n                          <Button\n                            label=\"Try Again\"\n                            variant=\"primary\"\n                            onClick={() => {\n                              setError(null);\n                              setPaused(false);\n                              setIsScanning(false);\n                            }}\n                          />\n                        </div>\n                      </motion.div>\n                    </motion.div>\n                  )}\n\n                  <ScannerCard\n                    onScan={handleScan}\n                    paused={paused}\n                    onResume={() => {\n                      setPaused(false);\n                      setIsScanning(false);\n                      setError(null);\n                    }}\n                    className=\"w-full h-full\"\n                  />\n                </div>\n\n                {/* Corner accents */}\n                <div className=\"absolute -top-1.5 -left-1.5 sm:-top-2 sm:-left-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-tl-lg sm:rounded-tl-2xl\" />\n                <div className=\"absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-tr-lg sm:rounded-tr-2xl\" />\n                <div className=\"absolute -bottom-1.5 -left-1.5 sm:-bottom-2 sm:-left-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-bl-lg sm:rounded-bl-2xl\" />\n                <div className=\"absolute -bottom-1.5 -right-1.5 sm:-bottom-2 sm:-right-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-br-lg sm:rounded-br-2xl\" />\n\n                {/* Corner accents */}\n                <div className=\"absolute -top-2 -left-2 w-8 h-8 border-2 border-white/40 rounded-tl-2xl\" />\n                <div className=\"absolute -top-2 -right-2 w-8 h-8 border-2 border-white/40 rounded-tr-2xl\" />\n                <div className=\"absolute -bottom-2 -left-2 w-8 h-8 border-2 border-white/40 rounded-bl-2xl\" />\n                <div className=\"absolute -bottom-2 -right-2 w-8 h-8 border-2 border-white/40 rounded-br-2xl\" />\n              </div>\n            </motion.div>\n\n            {/* Left: Instructions Card */}\n            <motion.div className=\"flex flex-col gap-4\" variants={itemVariants}>\n              <motion.div\n                className=\"bg-white/80 backdrop-blur-xl border border-white/60 rounded-lg shadow-2xl p-6 sm:p-8 hover:shadow-3xl transition-all duration-300 group overflow-hidden\"\n                whileTap={{ scale: 0.98 }}\n              >\n                {/* Shimmer effect */}\n                <div className=\"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/30 to-transparent\" />\n\n                <div className=\"relative z-10 space-y-5\">\n                  {/* Step indicator */}\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"flex-shrink-0\">\n                      <div className=\"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 text-white font-bold shadow-lg\">\n                        1\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n                        Point Your Camera\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        Position your device to scan the QR code displayed in\n                        the store\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent\" />\n\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"flex-shrink-0\">\n                      <div className=\"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 text-white font-bold shadow-lg\">\n                        2\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n                        Scan the Code\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        Allow camera access and keep the QR code in frame\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent\" />\n\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"flex-shrink-0\">\n                      <div className=\"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 to-pink-600 text-white font-bold shadow-lg\">\n                        3\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\n                        Start Shopping\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">\n                        You'll be connected to the store's self-checkout system\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </motion.div>\n            </motion.div>\n          </div>\n        </div>\n      </motion.div>\n    </Background>\n  );\n}\n"],"names":["CustomerEnter","paused","setPaused","useState","isScanning","setIsScanning","error","setError","navigate","useNavigate","itemVariants","hidden","opacity","y","visible","transition","duration","ease","jsxs","Background","variant","pattern","floatingElements","overlay","children","jsx","motion","div","className","animate","scale","repeat","Infinity","variants","staggerChildren","delayChildren","initial","Link","to","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","delay","type","stiffness","boxShadow","exit","rotate","Button","label","onClick","ScannerCard","onScan","async","result","code","rawValue","businessId","raw","url","URL","bid","searchParams","get","_","obj","JSON","parse","business_id","storeId","parseBusinessIdFromCode","setTimeout","localStorage","setItem","String","removeItem","timePart","Date","toISOString","replace","slice","randPart","Math","floor","random","transactionNumber","padStart","response","fetch","method","headers","body","stringify","ok","data","json","user_id","log","username","errorData","catch","err","onResume","whileTap"],"mappings":"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"}