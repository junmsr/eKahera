import{j as e}from"./utils-BnCj7yKo.js";import{a as s,R as a}from"./vendor-BZrj58oz.js";import{d as t,D as r,m as n}from"./DateRangeFilterModal-LlFYLvIy.js";import{P as i}from"./PageLayout-EdUvf13k.js";import{D as o}from"./DemoNav-31GQ2Q_Q.js";import{a as l,D as d,N as c,C as m}from"./NotificationDropdown-Bnq5Jcs8.js";import{u,b as x}from"./index-DLptuXQb.js";import{B as h,a as p}from"./index-4YedFPzh.js";import"./html2canvas.esm-CTiZndrd.js";import"./jspdf.es.min-YhZRndMz.js";import{R as f,L as g,C as j,X as b,Y as v,T as y,a as N,B as w,b as S,c as k}from"./charts-DpvQ0yPn.js";import"./Navbar-C7s4jb7w.js";import"./Logo-DtUJIMK7.js";import"./PrivacyPolicyModal-B1qn0bgk.js";import"./BaseModal-C-8Qp-dk.js";import"./Card-fMjg4IWJ.js";import"./SectionHeader-DKrtjj68.js";t.extend(n);const D="#3b82f6",M={totalSales:25430.5,totalExpenses:8500,totalTransactions:142,totalItemsSold:356,averageTransactionValue:179.08},R=[{name:"2023-10-01",value:12},{name:"2023-10-02",value:19},{name:"2023-10-03",value:15},{name:"2023-10-04",value:25},{name:"2023-10-05",value:32},{name:"2023-10-06",value:28},{name:"2023-10-07",value:40}],P=[{name:"Beverages",value:4500},{name:"Snacks",value:3200},{name:"Meals",value:8900},{name:"Desserts",value:2100}],_=[{product_id:1,product_name:"Vanilla Syrup",quantity_in_stock:3},{product_id:2,product_name:"Paper Cups (L)",quantity_in_stock:15}],T=[{product_name:"Premium Coffee Bean",total_sold:45},{product_name:"Iced Latte",total_sold:38},{product_name:"Cappuccino",total_sold:32},{product_name:"Espresso",total_sold:28},{product_name:"Mocha",total_sold:25}],C=[{name:"Cash",value:50,fill:"#3b82f6"},{name:"Gcash",value:30,fill:"#1d4ed8"},{name:"Maya",value:20,fill:"#1e40af"}];function E({data:s,className:a=""}){return e.jsx(m,{title:e.jsx("span",{className:"text-blue-700",children:"Customer Transactions (Demo)"}),className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${a}`,children:e.jsx("div",{className:"h-72 w-full",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(g,{data:s,margin:{top:20,right:20,left:0,bottom:5},children:[e.jsx(j,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(b,{dataKey:"name",tick:{fill:"#374151",fontSize:10}}),e.jsx(v,{tick:{fill:"#374151",fontSize:10}}),e.jsx(y,{contentStyle:{background:"#fff",borderColor:"#e5e7eb",borderRadius:8}}),e.jsx(N,{type:"monotone",dataKey:"value",stroke:D,strokeWidth:3,dot:{r:5,fill:D}})]})})})})}function L({data:s,className:a=""}){return e.jsx(m,{title:e.jsx("span",{className:"text-blue-700",children:"Sales by Category (Demo)"}),className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${a}`,children:e.jsx("div",{className:"h-72 w-full",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(w,{data:s,margin:{top:20,right:20,left:0,bottom:5},children:[e.jsx(j,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(b,{dataKey:"name",tick:{fill:"#374151",fontSize:12}}),e.jsx(v,{tick:{fill:"#374151",fontSize:12}}),e.jsx(y,{contentStyle:{background:"#fafafa",borderColor:"#8b5cf6",borderRadius:8}}),e.jsx(S,{}),e.jsx(k,{dataKey:"value",fill:D,radius:[8,8,0,0]})]})})})})}function F(){const[n,m]=s.useState({revenue:0,expenses:0,netProfit:0,grossMargin:0,totalTransactions:0,totalItemsSold:0,averageTransactionValue:0}),[f,g]=s.useState([]),[j,b]=s.useState({startDate:t().startOf("month"),endDate:t().endOf("day"),rangeType:"Month"}),[v,y]=s.useState(!1),[N,w]=s.useState([]),[S,k]=s.useState([]),[D,F]=s.useState([]),[I,A]=s.useState(!1),[O,V]=s.useState([]),[B,z]=s.useState(0),[H,K]=s.useState(!1),Y=a.useRef(null);u();const[$,q]=s.useState(!1),[G,U]=s.useState({sales:0,transactions:0,topProduct:"-",totalItemsSold:0,averageTransactionValue:0}),[Q,W]=s.useState(!1),[J,X]=s.useState(t());s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useEffect(()=>{let e;const s=()=>{"visible"===document.visibilityState&&X(t())};s(),e=setInterval(s,1e4);const a=()=>{"visible"===document.visibilityState&&s()};return document.addEventListener("visibilitychange",a),()=>{clearInterval(e),document.removeEventListener("visibilitychange",a)}},[]),s.useEffect(()=>{const e=e=>{Y.current&&!Y.current.contains(e.target)&&K(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const Z=async()=>{y(!0),await new Promise(e=>setTimeout(e,800));const e=M.totalSales,s=M.totalExpenses;m({revenue:e,expenses:s,netProfit:e-s,grossMargin:(e-s)/e*100,totalTransactions:M.totalTransactions,totalItemsSold:M.totalItemsSold,averageTransactionValue:M.averageTransactionValue}),U({sales:1250,transactions:15,totalItemsSold:42,averageTransactionValue:83.33,topProduct:"Iced Latte"}),w(R),k(P),F(_),y(!1)};s.useEffect(()=>{Z(),(async()=>{try{const e=[{id:1,title:"Demo Notification",message:"Demo User did an action: Sample Action",time:t().format("MMM D, h:mm A"),isRead:!1}];V(e),z(e.filter(e=>!e.isRead).length)}catch(e){console.error("Failed to fetch notifications",e)}})()},[j]);const ee=e=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),se=s.useMemo(()=>{if(!j.startDate||!j.endDate)return"Select Range";const e=t.min(j.startDate,j.endDate),s=t.max(j.startDate,j.endDate);return`${e.format("MMM D")} - ${s.format("MMM D, YYYY")}`},[j]),ae=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Z,disabled:v,title:"Refresh Data",className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 p-1.5 sm:p-2 rounded-lg border border-gray-200/80 text-sm font-medium transition-all duration-200 hover:shadow-md hover:scale-[1.02] shrink-0",children:e.jsx(h,{className:"w-4 h-4 sm:w-5 sm:h-5 "+(v?"animate-spin":"")})}),e.jsxs("button",{onClick:()=>A(!0),disabled:v,title:"Select Date Range",className:"flex items-center gap-1 sm:gap-2 bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-lg border border-gray-200/80 text-xs sm:text-sm font-medium transition-all duration-200 outline-none cursor-pointer hover:shadow-md hover:scale-[1.02] shrink-0",children:[e.jsx(p,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:se})]}),e.jsx("div",{className:"py-2 flex justify-end gap-2",children:e.jsx(x,{onClick:()=>{},disabled:Q||v,size:"sm",variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto shrink-0",children:Q?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Exporting..."}),e.jsx("span",{className:"sm:hidden",children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]})})}),e.jsx("div",{className:"relative",ref:Y,children:e.jsx(c,{notifications:O,unreadCount:B,onMarkAsRead:e=>{V(s=>s.map(s=>s.id===e?{...s,isRead:!0}:s)),z(e=>Math.max(0,e-1))},onMarkAsUnread:e=>{V(s=>s.map(s=>s.id===e?{...s,isRead:!1}:s)),z(e=>e+1)},onDelete:e=>{V(s=>s.filter(s=>s.id!==e));const s=O.find(s=>s.id===e);s&&!s.isRead&&z(e=>Math.max(0,e-1))},isOpen:H,onToggle:()=>K(!H),containerRef:Y})})]});return e.jsxs(i,{title:"DASHBOARD (DEMO)",subtitle:"",sidebar:e.jsx(o,{}),headerActions:ae,isSidebarOpen:$,setSidebarOpen:q,className:"bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 w-full mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee(n.revenue)})]}),e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Operating Expenses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ee(n.expenses)})]}),e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Net Profit"}),e.jsx("p",{className:"text-2xl font-bold "+(n.netProfit>=0?"text-green-600":"text-red-600"),children:ee(Math.abs(n.netProfit))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Gross Margin"}),e.jsxs("p",{className:"text-2xl font-bold "+(n.grossMargin>=0?"text-green-600":"text-red-600"),children:[n.grossMargin.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:v?e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-64 animate-pulse"}):e.jsxs(e.Fragment,{children:[e.jsx(E,{data:N}),e.jsx(L,{data:S}),e.jsx(l,{keyMetrics:n,formatCurrency:ee,dateRange:j,currentTime:J,topProducts:T,paymentMethods:C})]})}),e.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6",children:[e.jsx(d,{stats:G,formatCurrency:ee,rangeType:"Today",currentTime:J}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Low Stock Products"}),e.jsxs("ul",{className:"divide-y divide-gray-200",children:[e.jsxs("li",{className:"py-2 text-sm font-semibold text-gray-600 flex justify-between",children:[e.jsx("span",{children:"Product"}),e.jsx("span",{children:"Quantity"})]}),D.map(s=>e.jsxs("li",{className:"py-3 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:s.product_name}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:[s.quantity_in_stock," left"]})]},s.product_id))]})]})]})]})]}),I&&e.jsx(r,{isOpen:I,onClose:()=>A(!1),onApply:e=>{b(e)},initialRange:j})]})}export{F as default};
//# sourceMappingURL=DemoDashboard-CBiQmXbt.js.map
