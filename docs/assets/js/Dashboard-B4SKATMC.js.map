{"version":3,"file":"Dashboard-B4SKATMC.js","sources":["../../../frontend/node_modules/dayjs/dayjs.min.js","../../../frontend/node_modules/dayjs/plugin/minMax.js","../../../frontend/src/components/ui/Dashboard/ChartCard.jsx","../../../frontend/src/components/ui/Dashboard/DashboardStatsCard.jsx","../../../frontend/src/components/ui/Dashboard/DashboardBusinessReport.jsx","../../../frontend/node_modules/dayjs/plugin/isBetween.js","../../../frontend/node_modules/dayjs/plugin/isSameOrBefore.js","../../../frontend/node_modules/dayjs/plugin/isSameOrAfter.js","../../../frontend/src/components/modals/DateRangeFilterModal.jsx","../../../frontend/src/pages/Dashboard.jsx"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_minMax=n()}(this,(function(){\"use strict\";return function(e,n,t){var i=function(e,n){if(!n||!n.length||1===n.length&&!n[0]||1===n.length&&Array.isArray(n[0])&&!n[0].length)return null;var t;1===n.length&&n[0].length>0&&(n=n[0]);t=(n=n.filter((function(e){return e})))[0];for(var i=1;i<n.length;i+=1)n[i].isValid()&&!n[i][e](t)||(t=n[i]);return t};t.max=function(){var e=[].slice.call(arguments,0);return i(\"isAfter\",e)},t.min=function(){var e=[].slice.call(arguments,0);return i(\"isBefore\",e)}}}));","import React from \"react\";\r\nimport Card from \"../../common/Card\";\r\nimport SectionHeader from \"../../layout/SectionHeader\";\r\n\r\n/**\r\n * ChartCard Component\r\n * Provides a consistent layout for dashboard chart sections\r\n */\r\nfunction ChartCard({ title, children, className = \"\", ...props }) {\r\n  return (\r\n    <Card\r\n      className={`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl group ${className}`}\r\n      {...props}\r\n    >\r\n      {title && (\r\n        <SectionHeader\r\n          size=\"md\"\r\n          align=\"left\"\r\n          className=\"text-gray-900 mb-6 font-bold group-hover:text-blue-600 transition-colors duration-300\"\r\n        >\r\n          {title}\r\n        </SectionHeader>\r\n      )}\r\n      <div className=\"relative\">\r\n        {children}\r\n        {/* Subtle gradient overlay for depth */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-blue-50/20 rounded-lg pointer-events-none\"></div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ChartCard;\r\n","import React from \"react\";\r\nimport Card from \"../../common/Card\";\r\n\r\nfunction DashboardStatsCard({ stats, className = \"\", ...props }) {\r\n  return (\r\n    <Card\r\n      className={`bg-white backdrop-blur-sm border border-gray-100 shadow-sm rounded-2xl ${className}`}\r\n      {...props}\r\n    >\r\n      <div className=\"grid grid-cols-1 divide-y divide-gray-200/60 p-6 md:p-8 space-y-4\">\r\n        {/* Sales Metric */}\r\n        <div className=\"flex items-start gap-4 py-4\">\r\n          <div className=\"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold\">\r\n            ₱\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"text-xs font-semibold text-gray-500 tracking-wide uppercase\">\r\n              Today's Sales\r\n            </span>\r\n            <span className=\"text-2xl md:text-xl font-bold text-gray-900 mt-0.5\">\r\n              ₱{Number(stats.sales || 0).toLocaleString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Transactions Metric */}\r\n        <div className=\"flex items-start gap-4 py-4\">\r\n          <div className=\"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold\">\r\n            ↻\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"text-xs font-semibold text-gray-500 tracking-wide uppercase\">\r\n              Transactions\r\n            </span>\r\n            <span className=\"text-2xl md:text-xl font-bold text-gray-900 mt-0.5\">\r\n              {Number(stats.transactions || 0).toLocaleString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Top Product Metric */}\r\n        <div className=\"flex items-start gap-4 py-4\">\r\n          <div className=\"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold\">\r\n            ★\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"text-xs font-semibold text-gray-500 tracking-wide uppercase\">\r\n              Top Product\r\n            </span>\r\n            <span className=\"text-xl md:text-lg font-bold text-gray-900 mt-0.5 leading-tight line-clamp-2\">\r\n              {stats.topProduct || \"-\"}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Total Items Sold Metric */}\r\n        <div className=\"flex items-start gap-4 py-4\">\r\n          <div className=\"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold\">\r\n            #\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <span className=\"text-xs font-semibold text-gray-500 tracking-wide uppercase\">\r\n              Total Items Sold\r\n            </span>\r\n            <span className=\"text-2xl md:text-xl font-bold text-gray-900 mt-0.5\">\r\n              {Number(stats.totalItemsSold || 0).toLocaleString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default DashboardStatsCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  LineChart,\r\n  Line,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n} from \"recharts\";\r\nimport { api } from \"../../../lib/api\";\r\n\r\nconst TrendIcon = ({ trend }) => {\r\n  if (trend === \"up\")\r\n    return <span className=\"text-blue-600 font-semibold text-xl\">↗</span>;\r\n  if (trend === \"down\")\r\n    return <span className=\"text-blue-400 font-semibold text-xl\">↘</span>;\r\n  return <span className=\"text-gray-400 font-semibold text-xl\">→</span>;\r\n};\r\n\r\nexport default function DashboardBusinessReport({ dateRange }) {\r\n  const [salesByLocation, setSalesByLocation] = useState([]);\r\n  const [revenueVsExpenses, setRevenueVsExpenses] = useState([]);\r\n  const [profitTrend, setProfitTrend] = useState([]);\r\n  const [paymentMethods, setPaymentMethods] = useState([]);\r\n  const [productPerformance, setProductPerformance] = useState([]);\r\n  const [keyMetrics, setKeyMetrics] = useState({});\r\n  const [businessStats, setBusinessStats] = useState({\r\n    cashFlow: 0,\r\n    operatingCosts: 0,\r\n    profitGrowth: 0,\r\n  });\r\n\r\n  const blueShades = [\r\n    \"#3b82f6\",\r\n    \"#1d4ed8\",\r\n    \"#1e40af\",\r\n    \"#2563eb\",\r\n    \"#60a5fa\",\r\n    \"#93c5fd\",\r\n    \"#bfdbfe\",\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Format dates for API calls using dayjs if available, otherwise Date\r\n        const formatDate = (date) => {\r\n          if (!date) return null;\r\n          // Handle dayjs objects\r\n          if (date.format) {\r\n            return date.format(\"YYYY-MM-DD\");\r\n          }\r\n          // Handle Date objects\r\n          const d = new Date(date);\r\n          const year = d.getFullYear();\r\n          const month = String(d.getMonth() + 1).padStart(2, '0');\r\n          const day = String(d.getDate()).padStart(2, '0');\r\n          return `${year}-${month}-${day}`;\r\n        };\r\n\r\n        const startDate = dateRange?.startDate ? formatDate(dateRange.startDate) : null;\r\n        const endDate = dateRange?.endDate ? formatDate(dateRange.endDate) : null;\r\n\r\n        // Build query string for API calls\r\n        const buildQueryString = (params) => {\r\n          const queryParams = new URLSearchParams();\r\n          if (params.startDate) queryParams.append('startDate', params.startDate);\r\n          if (params.endDate) queryParams.append('endDate', params.endDate);\r\n          const queryString = queryParams.toString();\r\n          return queryString ? `?${queryString}` : '';\r\n        };\r\n\r\n        const queryParams = {};\r\n        if (startDate && endDate) {\r\n          queryParams.startDate = startDate;\r\n          queryParams.endDate = endDate;\r\n        }\r\n        const queryString = buildQueryString(queryParams);\r\n\r\n        const [\r\n          keyMetricsRes,\r\n          salesByLocationRes,\r\n          revenueVsExpensesRes,\r\n          profitTrendRes,\r\n          paymentMethodsRes,\r\n          productPerformanceRes,\r\n          businessStatsRes,\r\n        ] = await Promise.all([\r\n          api(`/api/stats/key-metrics${queryString}`),\r\n          api(`/api/stats/sales-by-location${queryString}`),\r\n          api(`/api/stats/revenue-vs-expenses${queryString}`),\r\n          api(`/api/stats/profit-trend${queryString}`),\r\n          api(`/api/stats/payment-methods${queryString}`),\r\n          api(`/api/stats/product-performance${queryString}`),\r\n          api(`/api/stats/business-stats${queryString}`),\r\n        ]);\r\n\r\n        setKeyMetrics(keyMetricsRes || {});\r\n        setSalesByLocation(salesByLocationRes || []);\r\n        setRevenueVsExpenses(revenueVsExpensesRes || []);\r\n        setProfitTrend(profitTrendRes || []);\r\n        setPaymentMethods(paymentMethodsRes || []);\r\n        setProductPerformance(productPerformanceRes || []);\r\n        setBusinessStats(businessStatsRes || {});\r\n      } catch (error) {\r\n        console.error(\"Error fetching business report data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [dateRange]);\r\n\r\n  return (\r\n    <section className=\"w-full px-5 md:px-8 py-6 bg-gray-50\">\r\n      {/* Key Metrics */}\r\n      {/* Charts Row 1: Sales by Location and Revenue vs Expenses */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]\">\r\n        {/* Sales by Location */}\r\n        <div className=\"bg-white rounded-lg p-6 border border-blue-300 shadow-lg\">\r\n          <h3 className=\"text-xl font-extrabold text-blue-700 mb-5 select-none\">\r\n            Sales by Location\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={280}>\r\n            <BarChart\r\n              data={salesByLocation}\r\n              margin={{ top: 10, right: 10, left: 0, bottom: 10 }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#cbd5e1\" />\r\n              <XAxis\r\n                dataKey=\"location\"\r\n                tick={{ fontSize: 13, fill: \"#1e40af\" }}\r\n                padding={{ left: 10, right: 10 }}\r\n              />\r\n              <YAxis tick={{ fontSize: 13, fill: \"#1e40af\" }} />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  background: \"#f0f9ff\",\r\n                  borderColor: \"#3b82f6\",\r\n                  borderRadius: 10,\r\n                  fontWeight: \"600\",\r\n                }}\r\n                labelStyle={{ fontWeight: \"700\", color: \"#1e3a8a\" }}\r\n              />\r\n              <Bar\r\n                dataKey=\"sales\"\r\n                fill=\"#3b82f6\"\r\n                radius={[10, 10, 0, 0]}\r\n                barSize={40}\r\n                background={{ fill: \"#c7d2fe\" }}\r\n              />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Revenue vs Expenses */}\r\n        <div className=\"bg-white rounded-lg p-6 border border-blue-300 shadow-lg\">\r\n          <h3 className=\"text-xl font-extrabold text-blue-700 mb-5 select-none\">\r\n            Revenue vs Expenses\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={280}>\r\n            <BarChart\r\n              data={revenueVsExpenses}\r\n              margin={{ top: 10, right: 10, left: 0, bottom: 10 }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#cbd5e1\" />\r\n              <XAxis\r\n                dataKey=\"month\"\r\n                tick={{ fontSize: 13, fill: \"#1e40af\" }}\r\n                padding={{ left: 10, right: 10 }}\r\n              />\r\n              <YAxis tick={{ fontSize: 13, fill: \"#1e40af\" }} />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  background: \"#f0f9ff\",\r\n                  borderColor: \"#3b82f6\",\r\n                  borderRadius: 10,\r\n                  fontWeight: \"600\",\r\n                }}\r\n                labelStyle={{ fontWeight: \"700\", color: \"#1e3a8a\" }}\r\n              />\r\n              <Legend\r\n                verticalAlign=\"top\"\r\n                wrapperStyle={{ paddingBottom: 10 }}\r\n              />\r\n              <Bar\r\n                dataKey=\"revenue\"\r\n                fill=\"#2563eb\"\r\n                radius={[10, 10, 0, 0]}\r\n                barSize={32}\r\n                background={{ fill: \"#bfdbfe\" }}\r\n              />\r\n              <Bar\r\n                dataKey=\"expenses\"\r\n                fill=\"#93c5fd\"\r\n                radius={[10, 10, 0, 0]}\r\n                barSize={32}\r\n                background={{ fill: \"#dbeafe\" }}\r\n              />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Row 2: Profit Trend and Payment Methods */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]\">\r\n        {/* Profit Trends */}\r\n        <div className=\"bg-white rounded-lg p-6 border border-blue-300 shadow-lg\">\r\n          <h3 className=\"text-xl font-extrabold text-blue-700 mb-5 select-none\">\r\n            Profit Trends\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={280}>\r\n            <LineChart\r\n              data={profitTrend}\r\n              margin={{ top: 10, right: 10, left: 0, bottom: 10 }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#cbd5e1\" />\r\n              <XAxis\r\n                dataKey=\"month\"\r\n                tick={{ fontSize: 13, fill: \"#1e40af\" }}\r\n                padding={{ left: 10, right: 10 }}\r\n              />\r\n              <YAxis tick={{ fontSize: 13, fill: \"#1e40af\" }} />\r\n              <Tooltip\r\n                contentStyle={{\r\n                  background: \"#f0f9ff\",\r\n                  borderColor: \"#3b82f6\",\r\n                  borderRadius: 10,\r\n                  fontWeight: \"600\",\r\n                }}\r\n                labelStyle={{ fontWeight: \"700\", color: \"#1e3a8a\" }}\r\n              />\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"profit\"\r\n                stroke=\"#2563eb\"\r\n                strokeWidth={3}\r\n                dot={{ fill: \"#2563eb\", r: 6 }}\r\n              />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Payment Methods */}\r\n        <div className=\"bg-white rounded-lg p-6 border border-blue-300 shadow-lg\">\r\n          <h3 className=\"text-xl font-extrabold text-blue-700 mb-5 select-none\">\r\n            Payment Methods\r\n          </h3>\r\n          <ResponsiveContainer width=\"100%\" height={280}>\r\n            <PieChart margin={{ top: 20, right: 20, left: 20, bottom: 20 }}>\r\n              <Pie\r\n                data={paymentMethods}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                labelLine={false}\r\n                label={({ name, value }) => `${name} ${value}%`}\r\n                outerRadius={90}\r\n                dataKey=\"value\"\r\n              >\r\n                {paymentMethods.map((entry, index) => (\r\n                  <Cell\r\n                    key={`cell-${index}`}\r\n                    fill={blueShades[index % blueShades.length]}\r\n                  />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip\r\n                formatter={(value, name, props) => [\r\n                  `${Number(value).toFixed(0)}%`,\r\n                  props?.payload?.name,\r\n                ]}\r\n                contentStyle={{\r\n                  background: \"#eff6ff\",\r\n                  borderColor: \"#3b82f6\",\r\n                  borderRadius: 10,\r\n                  fontWeight: \"600\",\r\n                }}\r\n                labelStyle={{ fontWeight: \"700\", color: \"#1e40af\" }}\r\n              />\r\n              <Legend verticalAlign=\"bottom\" height={36} />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Product Performance */}\r\n      <div className=\"bg-white rounded-lg p-6 border border-gray-200 shadow-md mb-8 w-full\">\r\n        <h3 className=\"text-xl font-bold text-gray-800 mb-6 select-none\">\r\n          Product Performance\r\n        </h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {(() => {\r\n            const maxSales = Math.max(\r\n              ...productPerformance.map((p) => p.sales || 0)\r\n            );\r\n            return productPerformance.map((product) => {\r\n              const progressPercent = maxSales\r\n                ? Math.round((product.sales / maxSales) * 100)\r\n                : 0;\r\n              return (\r\n                <div\r\n                  key={product.name}\r\n                  className=\"bg-gray-50 rounded-lg p-4 border border-gray-150\"\r\n                >\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <span className=\"font-semibold text-gray-800 text-sm\">\r\n                      {product.name}\r\n                    </span>\r\n                    <TrendIcon trend={product.trend} />\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2 mb-2\">\r\n                    <div\r\n                      className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\r\n                      role=\"progressbar\"\r\n                      aria-valuenow={progressPercent}\r\n                      aria-valuemin={0}\r\n                      aria-valuemax={100}\r\n                      aria-label={`Sales progress for ${product.name}`}\r\n                      style={{ width: `${progressPercent}%` }}\r\n                    ></div>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-600 font-semibold\">\r\n                    ₱{product.sales.toLocaleString()}\r\n                  </p>\r\n                </div>\r\n              );\r\n            });\r\n          })()}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isBetween=i()}(this,(function(){\"use strict\";return function(e,i,t){i.prototype.isBetween=function(e,i,s,f){var n=t(e),o=t(i),r=\"(\"===(f=f||\"()\")[0],u=\")\"===f[1];return(r?this.isAfter(n,s):!this.isBefore(n,s))&&(u?this.isBefore(o,s):!this.isAfter(o,s))||(r?this.isBefore(n,s):!this.isAfter(n,s))&&(u?this.isAfter(o,s):!this.isBefore(o,s))}}}));","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isSameOrBefore=i()}(this,(function(){\"use strict\";return function(e,i){i.prototype.isSameOrBefore=function(e,i){return this.isSame(e,i)||this.isBefore(e,i)}}}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isSameOrAfter=t()}(this,(function(){\"use strict\";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}));","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { BiCalendarAlt, BiX, BiChevronLeft, BiChevronRight } from \"react-icons/bi\"; // Added BiChevron icons for navigation\r\nimport dayjs from \"dayjs\";\r\nimport isBetween from \"dayjs/plugin/isBetween\";\r\nimport isSameOrBefore from \"dayjs/plugin/isSameOrBefore\";\r\nimport isSameOrAfter from \"dayjs/plugin/isSameOrAfter\";\r\nimport minMax from \"dayjs/plugin/minMax\"; \r\n\r\ndayjs.extend(isBetween);\r\ndayjs.extend(isSameOrBefore);\r\ndayjs.extend(isSameOrAfter);\r\ndayjs.extend(minMax); \r\n\r\nconst today = dayjs();\r\nconst PH_LOCALE = \"en-PH\"; \r\n\r\n// --- Date Helper Functions ---\r\n\r\nconst getDaysInMonth = (year, month) => {\r\n  const date = dayjs().year(year).month(month).startOf(\"month\");\r\n  const days = [];\r\n  while (date.month() === month) {\r\n    days.push(date.clone());\r\n    date.add(1, \"day\");\r\n  }\r\n  return days;\r\n};\r\n\r\n// --- Modal Sub-Components ---\r\n\r\nfunction DatePickerGrid({\r\n  currentMonth,\r\n  currentYear,\r\n  startDate,\r\n  endDate,\r\n  onDateClick,\r\n  mode,\r\n}) {\r\n  const startOfMonth = dayjs()\r\n    .year(currentYear)\r\n    .month(currentMonth)\r\n    .startOf(\"month\");\r\n  \r\n  const endOfMonth = dayjs()\r\n    .year(currentYear)\r\n    .month(currentMonth)\r\n    .endOf(\"month\");\r\n\r\n  const startDayIndex = startOfMonth.day(); // 0 (Sun) to 6 (Sat)\r\n  const totalDays = endOfMonth.date();\r\n  const calendarDays = [];\r\n\r\n  // Week starts on Monday (1)\r\n  const startOffset = (startDayIndex === 0 ? 6 : startDayIndex - 1);\r\n\r\n  // Fill in empty spots for previous month\r\n  for (let i = 0; i < startOffset; i++) {\r\n    calendarDays.push(null);\r\n  }\r\n\r\n  // Fill in the actual days\r\n  for (let i = 1; i <= totalDays; i++) {\r\n    const date = startOfMonth.date(i);\r\n    // Don't show dates past today\r\n    if (date.isAfter(today.endOf('day'))) break;\r\n    calendarDays.push(date);\r\n  }\r\n\r\n  const isSelected = (date) => {\r\n    if (!date) return false;\r\n    // Check if date is strictly between start and end (exclusive)\r\n    return startDate && endDate && date.isBetween(startDate, endDate, \"day\", \"()\");\r\n  };\r\n\r\n  const isRangeStart = (date) => {\r\n    if (!date) return false;\r\n    if (startDate && endDate && startDate.isSame(endDate, 'day')) {\r\n        return date.isSame(startDate, 'day');\r\n    }\r\n    return startDate && date.isSame(startDate, \"day\");\r\n  };\r\n\r\n  const isRangeEnd = (date) => {\r\n    if (!date) return false;\r\n     if (startDate && endDate && startDate.isSame(endDate, 'day')) {\r\n        return date.isSame(startDate, 'day');\r\n    }\r\n    return endDate && date.isSame(endDate, \"day\");\r\n  };\r\n\r\n  const isToday = (date) => {\r\n    if (!date) return false;\r\n    return date.isSame(today, \"day\");\r\n  };\r\n\r\n  // Helper to determine cell classes\r\n  const getCellClasses = (date) => {\r\n    if (!date) return \"text-gray-300\";\r\n\r\n    let classes = \"w-9 h-9 flex items-center justify-center rounded-full text-sm font-medium cursor-pointer transition-all duration-150 relative z-10\"; // Reduced size slightly for cleaner look\r\n\r\n    const start = isRangeStart(date);\r\n    const end = isRangeEnd(date);\r\n    const inRange = isSelected(date);\r\n    const currentDay = isToday(date);\r\n    \r\n    // Default hover style\r\n    classes += \" hover:bg-blue-50\"; \r\n\r\n    if (inRange) {\r\n      // Dates in between the range\r\n      classes = \"w-9 h-9 flex items-center justify-center rounded-none text-blue-700 bg-blue-100 relative z-10\"; \r\n    }\r\n\r\n    if (start || end) {\r\n      // Selected start or end date\r\n      classes = \"w-9 h-9 flex items-center justify-center rounded-full text-sm font-medium cursor-pointer transition-all duration-150 bg-blue-600 text-white shadow-md relative z-10\"; \r\n    } else if (currentDay) {\r\n      // Unselected today date\r\n      classes += \" border border-blue-400 text-blue-600\"; \r\n    } else {\r\n      // Normal, unselected date\r\n      classes += \" text-gray-700\";\r\n    }\r\n\r\n    return classes;\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-7 gap-1\">\r\n      {/* Weekday Headers */}\r\n      {[\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"].map((day) => (\r\n        <span key={day} className=\"text-center text-xs font-semibold text-gray-500 py-2\">\r\n          {day}\r\n        </span>\r\n      ))}\r\n\r\n      {/* Calendar Days */}\r\n      {calendarDays.map((date, index) => (\r\n        <React.Fragment key={index}>\r\n          {date ? (\r\n            <div\r\n              className={`flex items-center justify-center`}\r\n              onClick={() => onDateClick(date)}\r\n            >\r\n              <div className={getCellClasses(date)}>\r\n                {date.date()}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div key={`empty-${index}`} className=\"w-9 h-9\"></div>\r\n          )}\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MonthPickerGrid({ currentYear, startDate, endDate, onMonthClick }) {\r\n  const months = [\r\n    \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \r\n    \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n  ];\r\n\r\n  const isSelected = (monthIndex) => {\r\n    if (!startDate || !endDate) return false;\r\n    const startOfMonth = dayjs().year(currentYear).month(monthIndex).startOf('month');\r\n    \r\n    return (\r\n        startOfMonth.isSame(startDate.startOf('month')) && \r\n        startOfMonth.isSame(endDate.startOf('month'))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-4 gap-3\">\r\n      {months.map((month, index) => {\r\n        const startOfMonth = dayjs().year(currentYear).month(index).startOf('month');\r\n        const disabled = startOfMonth.isAfter(today.startOf('month'));\r\n\r\n        return (\r\n          <div\r\n            key={month}\r\n            className={`flex items-center justify-center ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\r\n            onClick={() => !disabled && onMonthClick(index)}\r\n          >\r\n            <div\r\n              className={`w-16 h-12 flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-150 ${ \r\n                isSelected(index)\r\n                  ? \"bg-blue-600 text-white shadow-md\" \r\n                  : \"text-gray-700 border border-gray-300 hover:bg-blue-50\"\r\n              }`}\r\n            >\r\n              {month}\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Main Modal Component ---\r\n\r\nexport default function DateRangeFilterModal({ isOpen, onClose, onDateRangeApply }) {\r\n  const [mode, setMode] = useState(\"Month\"); \r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [currentYear, setCurrentYear] = useState(today.year());\r\n  const [currentMonth, setCurrentMonth] = useState(today.month()); // 0-11\r\n\r\n  // Generate a list of available years (current year and 5 years back)\r\n  const yearOptions = useMemo(() => {\r\n    const currentYearInt = today.year();\r\n    const years = [];\r\n    for (let i = 0; i < 6; i++) { \r\n      years.push(currentYearInt - i);\r\n    }\r\n    return years;\r\n  }, []);\r\n\r\n  const setRange = (start, end, rangeMode) => {\r\n    const finalEnd = end.isAfter(today.endOf('day')) ? today.endOf('day') : end;\r\n    setStartDate(start.startOf('day'));\r\n    setEndDate(finalEnd);\r\n    setMode(rangeMode);\r\n  }\r\n\r\n  // Effect to handle initialization and mode changes\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n    \r\n    const now = dayjs();\r\n    \r\n    if (mode === \"Month\") {\r\n        setCurrentYear(today.year()); \r\n        const start = now.startOf('month');\r\n        setRange(start, now, \"Month\");\r\n    } else if (mode === \"Day\") {\r\n        setRange(now, now, \"Day\");\r\n    } else if (mode === \"Week\") {\r\n        const start = now.subtract(6, 'day'); \r\n        setRange(start, now, \"Week\");\r\n    } else if (mode === \"Custom\") {\r\n        setStartDate(null);\r\n        setEndDate(null);\r\n    }\r\n    \r\n    if (mode !== \"Month\") {\r\n        setCurrentYear(today.year());\r\n        setCurrentMonth(today.month());\r\n    }\r\n  }, [isOpen, mode]); \r\n  \r\n  // Effect to re-select the month range when the Year dropdown changes\r\n  useEffect(() => {\r\n    if (mode === 'Month') {\r\n        const selectedMonthIndex = startDate ? startDate.month() : today.month();\r\n        \r\n        const start = dayjs().year(currentYear).month(selectedMonthIndex).startOf(\"month\");\r\n        const end = dayjs().year(currentYear).month(selectedMonthIndex).endOf(\"month\");\r\n        \r\n        if (!start.isAfter(today.startOf('month'))) {\r\n             setRange(start, end, \"Month\");\r\n        } else {\r\n             const currentMonthStart = dayjs().startOf('month');\r\n             setRange(currentMonthStart, today, \"Month\");\r\n        }\r\n    }\r\n  }, [currentYear]);\r\n\r\n  // Handle date selection in Calendar Grid (Custom/Day/Week)\r\n  const handleDateClick = (date) => {\r\n    date = date.startOf('day'); \r\n\r\n    if (mode === \"Day\") {\r\n      setRange(date, date, \"Day\");\r\n    } else if (mode === \"Week\") {\r\n      const start = date.subtract(6, 'day'); \r\n      setRange(start, date, \"Week\");\r\n    } else if (mode === \"Custom\") {\r\n      if (!startDate || endDate) {\r\n        setStartDate(date);\r\n        setEndDate(null);\r\n      } else if (date.isSameOrBefore(startDate, \"day\")) {\r\n        setEndDate(startDate); \r\n        setStartDate(date); \r\n      } else {\r\n        setEndDate(date);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle month selection (Month Mode)\r\n  const handleMonthClick = (monthIndex) => {\r\n    const start = dayjs().year(currentYear).month(monthIndex).startOf(\"month\");\r\n    const end = dayjs().year(currentYear).month(monthIndex).endOf(\"month\");\r\n    \r\n    if (start.isAfter(today.startOf('month'))) return;\r\n\r\n    setRange(start, end, \"Month\");\r\n  };\r\n\r\n  // Switch between date view (month view) and year view (for month selection)\r\n  const switchCalendarView = (targetMonth, targetYear) => {\r\n    const newDate = dayjs().year(targetYear).month(targetMonth);\r\n    \r\n    if (newDate.isAfter(today, 'month')) {\r\n        setCurrentMonth(today.month());\r\n        setCurrentYear(today.year());\r\n    } else {\r\n        setCurrentMonth(newDate.month());\r\n        setCurrentYear(newDate.year());\r\n    }\r\n  };\r\n\r\n  const isMonthView = mode !== \"Month\";\r\n\r\n  // Footer display text\r\n  const footerText = useMemo(() => {\r\n    if (startDate && endDate) {\r\n      const finalStart = dayjs.min(startDate, endDate);\r\n      const finalEnd = dayjs.max(startDate, endDate);\r\n      \r\n      const startStr = finalStart.format(\"MMM D, YYYY\");\r\n      const endStr = finalEnd.format(\"MMM D, YYYY\");\r\n\r\n      const diff = finalEnd.diff(finalStart, 'day') + 1;\r\n      \r\n      if (diff === 1) return `${startStr} (1 day)`;\r\n      if (mode === \"Month\") return `${finalStart.format(\"MMM YYYY\")} (${diff} days)`;\r\n      \r\n      return `${startStr} - ${endStr} (${diff} days)`;\r\n\r\n    } else if (startDate) {\r\n      return `${startDate.format(\"MMM D, YYYY\")} - Select end date...`;\r\n    }\r\n    return \"Select a date range\";\r\n  }, [startDate, endDate, mode]);\r\n\r\n  // Apply button handler\r\n  const handleApply = () => {\r\n    if (startDate && endDate) {\r\n      const finalStart = dayjs.min(startDate, endDate).startOf('day');\r\n      const finalEnd = dayjs.max(startDate, endDate).endOf('day');\r\n      \r\n      onDateRangeApply({ startDate: finalStart, endDate: finalEnd, rangeType: mode });\r\n      onClose();\r\n    }\r\n  };\r\n\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n      {/* Blurred Backdrop - REVERTED TO STANDARD DIM/BLUR */}\r\n      <div\r\n        className=\"absolute inset-0 bg-gray-900/40 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n      ></div>\r\n\r\n      {/* Modal Content - FIXED WIDTH AND CLEANER SHADOW */}\r\n      <div className=\"bg-white rounded-xl shadow-2xl z-50 w-full max-w-md\"> \r\n        {/* Header and Tabs */}\r\n        <div className=\"p-4 border-b border-gray-100\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-xl font-semibold text-gray-800\">Select date range</h2>\r\n                <button onClick={onClose} className=\"p-1 rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition\">\r\n                    <BiX className=\"w-6 h-6\" />\r\n                </button>\r\n            </div>\r\n            {/* Mode Tabs - Cleaned up to match inspiration image styling */}\r\n            <div className=\"flex space-x-2 border-b-2 border-gray-100 pb-2\">\r\n                {[\"Custom\", \"Week\", \"Month\", \"Day\"].map((m) => ( \r\n                    <button\r\n                    key={m}\r\n                    onClick={() => setMode(m)}\r\n                    className={`px-3 py-1 text-sm font-medium rounded-md transition-colors duration-150 border-b-2 \r\n                        ${\r\n                            mode === m\r\n                                ? \"text-blue-700 border-blue-600 font-bold\" // Active tab line under text\r\n                                : \"text-gray-500 border-transparent hover:text-blue-500\"\r\n                        }`}\r\n                    >\r\n                        {m}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n\r\n        {/* Calendar/Month Picker Area */}\r\n        <div className=\"px-4 py-4 overflow-y-auto max-h-[70vh]\">\r\n          {isMonthView ? (\r\n            // Day/Week/Custom View\r\n            <>\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <button\r\n                  onClick={() => switchCalendarView(currentMonth - 1, currentYear)}\r\n                  className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\"\r\n                >\r\n                  <BiChevronLeft className=\"w-5 h-5\" />\r\n                </button>\r\n                <span className=\"text-lg font-semibold text-gray-800\">\r\n                  {dayjs()\r\n                    .year(currentYear)\r\n                    .month(currentMonth)\r\n                    .format(\"MMM YYYY\")}\r\n                </span>\r\n                <button\r\n                  onClick={() => switchCalendarView(currentMonth + 1, currentYear)}\r\n                  className=\"p-2 text-gray-600 hover:bg-gray-100 rounded-full\"\r\n                  disabled={dayjs().year(currentYear).month(currentMonth).isSame(today, 'month')}\r\n                >\r\n                  <BiChevronRight className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <DatePickerGrid\r\n                currentMonth={currentMonth}\r\n                currentYear={currentYear}\r\n                startDate={startDate}\r\n                endDate={endDate}\r\n                onDateClick={handleDateClick}\r\n                mode={mode}\r\n              />\r\n            </>\r\n          ) : (\r\n            // Month View\r\n            <>\r\n                {/* Year Selector with Icon and Clean Input Style */}\r\n                <div className=\"relative flex items-center mb-6 mt-2 p-3 bg-gray-50 rounded-lg border border-gray-200 shadow-inner\">\r\n                    <BiCalendarAlt className=\"w-5 h-5 text-blue-600 mr-3\" />\r\n                    <label htmlFor=\"year-select\" className=\"sr-only\">Select Year</label>\r\n                    <select\r\n                        id=\"year-select\"\r\n                        value={currentYear}\r\n                        onChange={(e) => setCurrentYear(Number(e.target.value))}\r\n                        className=\"w-full bg-transparent text-lg font-bold text-gray-800 outline-none appearance-none cursor-pointer\"\r\n                    >\r\n                        {yearOptions.map(year => (\r\n                            <option key={year} value={year}>\r\n                                {year}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                \r\n                {/* Single 12-Month Grid for the selected year */}\r\n                <MonthPickerGrid\r\n                    currentYear={currentYear}\r\n                    startDate={startDate}\r\n                    endDate={endDate}\r\n                    onMonthClick={handleMonthClick}\r\n                />\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-4 border-t border-gray-100 flex justify-between items-center\">\r\n          <p className=\"text-sm font-medium text-gray-600\">\r\n            {footerText}\r\n          </p>\r\n          <button\r\n            onClick={handleApply}\r\n            disabled={!startDate || !endDate}\r\n            className={`py-2 px-6 rounded-lg text-white font-semibold transition-all duration-200 ${\r\n              startDate && endDate\r\n                ? \"bg-blue-600 hover:bg-blue-700 shadow-md shadow-blue-500/50\" // Stronger button with shadow\r\n                : \"bg-gray-300 text-gray-500 cursor-not-allowed\" \r\n            }`}\r\n          >\r\n            Done\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { api, authHeaders } from \"../lib/api\";\r\nimport dayjs from \"dayjs\"; \r\nimport minMax from \"dayjs/plugin/minMax\"; \r\n\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  Legend,\r\n} from \"recharts\";\r\n\r\nimport { useAuth } from \"../hooks/useAuth\";\r\n\r\n// Components\r\nimport PageLayout from \"../components/layout/PageLayout\";\r\nimport NavAdmin from \"../components/layout/Nav-Admin\";\r\nimport ChartCard from \"../components/ui/Dashboard/ChartCard\";\r\nimport DashboardStatsCard from \"../components/ui/Dashboard/DashboardStatsCard\";\r\nimport DashboardBusinessReport from \"../components/ui/Dashboard/DashboardBusinessReport\";\r\nimport Button from \"../components/common/Button\";\r\nimport { BiBell, BiUser, BiRefresh, BiCalendarAlt } from \"react-icons/bi\";\r\nimport ProfileModal from \"../components/modals/ProfileModal\";\r\nimport NotificationDropdown from \"../components/common/NotificationDropdown\";\r\nimport DateRangeFilterModal from \"../components/modals/DateRangeFilterModal\";\r\n\r\n// Extend the minMax plugin globally for this file\r\ndayjs.extend(minMax);\r\n\r\n\r\n// Constants\r\nconst BLUE_COLORS = [\"#2563eb\", \"#60a5fa\", \"#93c5fd\", \"#dbeafe\"]; // Blue shades\r\n\r\nconst SOFT_BLUE = \"#3b82f6\"; // Tailwind blue-500/600 for lines/accents\r\nconst SOFT_GREEN = \"#10b981\"; // Retain green for profit, or change to a blue accent if desired\r\nconst SOFT_PURPLE = \"#8b5cf6\"; // Retain purple/accent for pie chart variation\r\nconst TODAY_START = dayjs().startOf('day');\r\nconst TODAY_END = dayjs().endOf('day');\r\n\r\nfunction VisitorsChart({ data, className = \"\", rangeType = \"Custom\" }) {\r\n  const getChartTitle = (rangeType) => {\r\n    switch (rangeType) {\r\n      case \"Day\":\r\n        return \"Visitors Today\";\r\n      case \"Week\":\r\n        return \"Visitors for the last 7 days\";\r\n      case \"Month\":\r\n        return \"Visitors this Month\";\r\n      case \"Custom\":\r\n      default:\r\n        return \"Visitors for the selected range\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ChartCard\r\n      title={<span className=\"text-blue-700\">{getChartTitle(rangeType)}</span>}\r\n      className={`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${className}`}\r\n    >\r\n      <div className=\"h-72 w-full\">\r\n        {\" \"}\r\n        {/* Ensure width is 100% for full responsiveness */}\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <LineChart\r\n            data={data}\r\n            margin={{ top: 20, right: 20, left: 0, bottom: 5 }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n            <XAxis dataKey=\"name\" tick={{ fill: \"#374151\", fontSize: 14 }} />\r\n            <YAxis tick={{ fill: \"#374151\", fontSize: 14 }} />\r\n            <Tooltip\r\n              contentStyle={{\r\n                background: \"#fff\",\r\n                borderColor: \"#e5e7eb\",\r\n                borderRadius: 8,\r\n              }}\r\n            />\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"value\"\r\n              stroke={SOFT_BLUE} // Uses SOFT_BLUE constant\r\n              strokeWidth={3}\r\n              dot={{ r: 5, fill: SOFT_BLUE }}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </ChartCard>\r\n  );\r\n}\r\n\r\nfunction SalesPieChart({ data, className = \"\" }) {\r\n  return (\r\n    <ChartCard\r\n      title={<span className=\"text-blue-700\">Sales by Product Category</span>}\r\n      className={`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${className}`}\r\n    >\r\n      <div className=\"h-72 w-full\">\r\n        {\" \"}\r\n        {/* Ensure width is 100% for full responsiveness */}\r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <PieChart>\r\n            <Pie\r\n              data={data}\r\n              dataKey=\"percent\"\r\n              nameKey=\"name\"\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              outerRadius={80}\r\n              label={(entry) =>\r\n                `${entry.name} (${Number(entry.percent || 0).toFixed(1)}%)`\r\n              }\r\n              fill={SOFT_PURPLE}\r\n            >\r\n              {data.map((entry, idx) => {\r\n                const colors = [SOFT_BLUE, SOFT_GREEN, SOFT_PURPLE]; // Using blue theme colors\r\n                return (\r\n                  <Cell\r\n                    key={`cell-${idx}`}\r\n                    fill={colors[idx % colors.length]}\r\n                  />\r\n                );\r\n              })}\r\n            </Pie>\r\n            <Legend />\r\n            <Tooltip\r\n              formatter={(value, name, props) => [\r\n                `${Number(value).toFixed(1)}%`,\r\n                props?.payload?.name,\r\n              ]}\r\n              contentStyle={{\r\n                background: \"#fafafa\",\r\n                borderColor: SOFT_PURPLE,\r\n                borderRadius: 8,\r\n              }}\r\n            />\r\n          </PieChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </ChartCard>\r\n  );\r\n}\r\n\r\n// Main Dashboard Component\r\nexport default function Dashboard() {\r\n  const [keyMetrics, setKeyMetrics] = useState({\r\n    revenue: 0,\r\n    expenses: 0,\r\n    netProfit: 0,\r\n    grossMargin: 0,\r\n    totalTransactions: 0,\r\n    totalItemsSold: 0,\r\n    averageTransactionValue: 0,\r\n  });\r\n\r\n  // State\r\n  const [stats, setStats] = useState([]);\r\n  const [dateRange, setDateRange] = useState({\r\n    startDate: dayjs().startOf(\"month\"),\r\n    endDate: dayjs().endOf(\"day\"),\r\n    rangeType: \"Month\", \r\n  }); \r\n  const [loading, setLoading] = useState(false);\r\n  const [chartData, setChartData] = useState([]);\r\n  const [pieData, setPieData] = useState([]);\r\n  const [lowStockProducts, setLowStockProducts] = useState([]);\r\n  const [showProfileModal, setShowProfileModal] = useState(false);\r\n  const [showFilterModal, setShowFilterModal] = useState(false); \r\n  const [notifications, setNotifications] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const notificationRef = React.useRef(null);\r\n  const { logout } = useAuth();\r\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\r\n  const [todayHighlight, setTodayHighlight] = useState({\r\n    sales: 0,\r\n    transactions: 0,\r\n    topProduct: \"-\",\r\n    totalItemsSold: 0,\r\n    averageTransactionValue: 0,\r\n  });\r\n\r\n  // Fetch Today's data (independent of the main filter)\r\n  useEffect(() => {\r\n    const fetchTodayData = async () => {\r\n      try {\r\n        const token = sessionStorage.getItem(\"auth_token\");\r\n        const todayStr = dayjs().format(\"YYYY-MM-DD\");\r\n\r\n        const overview = await api(\"/api/dashboard/overview\", {\r\n          headers: authHeaders(token),\r\n          params: { startDate: todayStr, endDate: todayStr },\r\n        });\r\n\r\n        if (overview) {\r\n          setTodayHighlight({\r\n            sales: overview.totalSales || 0,\r\n            transactions: overview.totalTransactions || 0,\r\n            totalItemsSold: overview.totalItemsSold || 0,\r\n            averageTransactionValue: overview.averageTransactionValue || 0,\r\n            topProduct: overview.topProducts?.[0]?.product_name || \"-\",\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch today's data\", err);\r\n      }\r\n    };\r\n    fetchTodayData();\r\n  }, []);\r\n\r\n  const user = useMemo(() => {\r\n    try {\r\n      return JSON.parse(sessionStorage.getItem(\"user\") || \"{}\");\r\n    } catch (e) {\r\n      return {};\r\n    }\r\n  }, []);\r\n\r\n  // Close notification dropdown on outside click\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (\r\n        notificationRef.current &&\r\n        !notificationRef.current.contains(event.target)\r\n      ) {\r\n        setShowNotifications(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  // Data fetching\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n\r\n      const { startDate, endDate, rangeType } = dateRange;\r\n\r\n      const formatDate = (date) => dayjs(date).format(\"YYYY-MM-DD\");\r\n\r\n      const finalStart = dayjs.min(startDate, endDate);\r\n      const finalEnd = dayjs.max(startDate, endDate);\r\n\r\n      const startDateStr = formatDate(finalStart);\r\n      const endDateStr = formatDate(finalEnd);\r\n\r\n      console.log(\"Fetching data for date range:\", {\r\n        rangeType,\r\n        formattedStart: startDateStr,\r\n        formattedEnd: endDateStr,\r\n      });\r\n\r\n      const [overview, timeseries, pie, oldLowStock] = await Promise.all([\r\n        api(\"/api/dashboard/overview\", {\r\n          headers: authHeaders(token),\r\n          params: {\r\n            startDate: startDateStr,\r\n            endDate: endDateStr,\r\n          },\r\n        }),\r\n        api(`/api/stats/customers-timeseries`, {\r\n          headers: authHeaders(token),\r\n          params: {\r\n            startDate: startDateStr,\r\n            endDate: endDateStr,\r\n          },\r\n        }),\r\n        api(\"/api/stats/sales-by-category\", {\r\n          headers: authHeaders(token),\r\n          params: {\r\n            startDate: startDateStr,\r\n            endDate: endDateStr,\r\n          },\r\n        }),\r\n        api(\"/api/products/low-stock\", { headers: authHeaders(token) }),\r\n      ]);\r\n\r\n      const derived = (timeseries || []).map((d) => ({\r\n        ...d,\r\n        name: d.date || d.name,\r\n        value: Number(d.customers || d.total || d.value || 0),\r\n      }));\r\n\r\n      const pieTotal =\r\n        (pie || []).reduce((s, p) => s + Number(p.value || 0), 0) || 1;\r\n      const piePercent = (pie || []).map((p) => ({\r\n        ...p,\r\n        percent: (Number(p.value || 0) / pieTotal) * 100,\r\n      }));\r\n\r\n      if (overview) {\r\n        const revenue = Number(overview.totalSales || 0);\r\n        const expenses = Number(overview.totalExpenses || 0);\r\n        const netProfit = revenue - expenses;\r\n        const grossMargin = revenue > 0 ? ((revenue - expenses) / revenue) * 100 : 0;\r\n        const totalTransactions = Number(overview.totalTransactions || 0);\r\n        const totalItemsSold = Number(overview.totalItemsSold || 0);\r\n        const avgTxValue = Number(\r\n          overview.averageTransactionValue || revenue / (totalTransactions || 1)\r\n        );\r\n        const topProduct = overview.topProducts?.[0]?.product_name || \"-\";\r\n\r\n        setKeyMetrics({\r\n          revenue,\r\n          expenses,\r\n          netProfit,\r\n          grossMargin,\r\n          totalTransactions,\r\n          totalItemsSold,\r\n          averageTransactionValue: avgTxValue,\r\n        });\r\n\r\n        const dateRangeText = \r\n            rangeType === \"Day\" \r\n                ? finalStart.format(\"MMM D, YYYY\")\r\n                : `${finalStart.format(\"MMM D\")} - ${finalEnd.format(\"MMM D, YYYY\")}`;\r\n        \r\n        const salesLabel = rangeType === 'Day' ? \"Daily Sales\" : rangeType === 'Week' ? \"7-Day Sales\" : rangeType === 'Month' ? \"Monthly Sales\" : \"Total Sales\";\r\n        const transactionsLabel = rangeType === 'Day' ? \"Daily Transactions\" : rangeType === 'Week' ? \"7-Day Transactions\" : rangeType === 'Month' ? \"Monthly Transactions\" : \"Total Transactions\";\r\n\r\n\r\n        setStats([\r\n          {\r\n            label: salesLabel,\r\n            value: `₱${revenue.toLocaleString(undefined, {\r\n              minimumFractionDigits: 2,\r\n              maximumFractionDigits: 2,\r\n            })}`,\r\n            subtext: dateRangeText,\r\n          },\r\n          {\r\n            label: transactionsLabel,\r\n            value: totalTransactions,\r\n            subtext: `${dateRangeText}`,\r\n          },\r\n          {\r\n            label: \"Top Product\",\r\n            value: topProduct,\r\n            subtext: `Total: ${overview.topProducts?.[0]?.total_sold || 0} sold`,\r\n          },\r\n          {\r\n            label: \"Items Sold\",\r\n            value: totalItemsSold,\r\n            subtext: `${totalTransactions} transactions`,\r\n          },\r\n        ]);\r\n      }\r\n\r\n      setChartData(derived);\r\n      setPieData(piePercent);\r\n\r\n      const lowStock = oldLowStock || [];\r\n      setLowStockProducts(lowStock);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch dashboard data\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchNotifications = async () => {\r\n    // ... (Notification fetching logic remains the same)\r\n    try {\r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n      const resp = await api(\"/api/logs\", { headers: authHeaders(token) });\r\n      const readIds = new Set(\r\n        JSON.parse(sessionStorage.getItem(\"read_notif_ids\") || \"[]\")\r\n      );\r\n      const deletedIds = new Set(\r\n        JSON.parse(sessionStorage.getItem(\"deleted_notif_ids\") || \"[]\")\r\n      );\r\n      const mapped = (resp || [])\r\n        .filter((log) => !deletedIds.has(log.log_id))\r\n        .map((log) => ({\r\n          id: log.log_id,\r\n          title: log.action,\r\n          message: `${log.username} (${log.role}) did an action: ${log.action}`,\r\n          time: dayjs(log.date_time).format('MMM D, h:mm A'),\r\n          isRead: readIds.has(log.log_id),\r\n        }));\r\n      setNotifications(mapped);\r\n      setUnreadCount(mapped.filter((n) => !n.isRead).length);\r\n    } catch (e) {\r\n      console.error(\"Failed to fetch notifications\", e);\r\n    }\r\n  };\r\n\r\n  const handleMarkAsRead = (id) => {\r\n    // ... (Notification handling logic remains the same)\r\n    const readIds = JSON.parse(\r\n      sessionStorage.getItem(\"read_notif_ids\") || \"[]\"\r\n    );\r\n    if (!readIds.includes(id)) {\r\n      sessionStorage.setItem(\r\n        \"read_notif_ids\",\r\n        JSON.stringify([...readIds, id])\r\n      );\r\n    }\r\n    setNotifications((notifs) =>\r\n      notifs.map((n) => (n.id === id ? { ...n, isRead: true } : n))\r\n    );\r\n    setUnreadCount((c) => Math.max(0, c - 1));\r\n  };\r\n\r\n  const handleDeleteNotification = (id) => {\r\n    // ... (Notification handling logic remains the same)\r\n    const deletedIds = JSON.parse(\r\n      sessionStorage.getItem(\"deleted_notif_ids\") || \"[]\"\r\n    );\r\n    sessionStorage.setItem(\r\n      \"deleted_notif_ids\",\r\n      JSON.stringify([...deletedIds, id])\r\n    );\r\n    setNotifications((notifs) => notifs.filter((n) => n.id !== id));\r\n    const notif = notifications.find((n) => n.id === id);\r\n    if (notif && !notif.isRead) {\r\n      setUnreadCount((c) => Math.max(0, c - 1));\r\n    }\r\n  };\r\n  \r\n  const handleMarkAsUnread = (id) => {\r\n    // ... (Notification handling logic remains the same)\r\n    const readIds = JSON.parse(\r\n      sessionStorage.getItem(\"read_notif_ids\") || \"[]\"\r\n    );\r\n    const filtered = readIds.filter((rid) => rid !== id);\r\n    sessionStorage.setItem(\"read_notif_ids\", JSON.stringify(filtered));\r\n    setNotifications((notifs) =>\r\n      notifs.map((n) => (n.id === id ? { ...n, isRead: false } : n))\r\n    );\r\n    setUnreadCount((c) => c + 1);\r\n  };\r\n  \r\n  // Export to CSV\r\n  const exportToCSV = () => {\r\n    // ... (Export logic remains the same)\r\n    const headers = [\"Label\", \"Value\", \"Change\"];\r\n    const rows = stats.map((s) => [s.label, s.value, s.change || \"-\"]);\r\n    // Add low stock products\r\n    if (lowStockProducts.length > 0) {\r\n      rows.push([\"\", \"\", \"\"]); // separator\r\n      rows.push([\"Low Stock Products\", \"\", \"\"]);\r\n      rows.push([\"Product Name\", \"Quantity Left\", \"\"]);\r\n      lowStockProducts.forEach((p) =>\r\n        rows.push([p.product_name, p.quantity_in_stock, \"\"])\r\n      );\r\n    }\r\n    const csvContent = [headers, ...rows]\r\n      .map((row) => row.join(\",\"))\r\n      .join(\"\\n\");\r\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = \"dashboard-data.csv\";\r\n    link.click();\r\n  };\r\n\r\n  // Fetch filtered data when dateRange changes\r\n  useEffect(() => {\r\n    fetchData();\r\n    fetchNotifications();\r\n  }, [dateRange]); \r\n\r\n  // Helper function to format currency values\r\n  const formatCurrency = (value) => {\r\n    return new Intl.NumberFormat(\"en-PH\", {\r\n      style: \"currency\",\r\n      currency: \"PHP\",\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(value);\r\n  };\r\n  \r\n  // New handler to receive selected dates from modal\r\n  const handleDateRangeApply = (newRange) => {\r\n    setDateRange(newRange);\r\n  };\r\n\r\n  const headerDateDisplay = useMemo(() => {\r\n    if (!dateRange.startDate || !dateRange.endDate) return \"Select Range\";\r\n    \r\n    const finalStart = dayjs.min(dateRange.startDate, dateRange.endDate);\r\n    const finalEnd = dayjs.max(dateRange.startDate, dateRange.endDate);\r\n    \r\n    return `${finalStart.format(\"MMM D\")} - ${finalEnd.format(\"MMM D, YYYY\")}`;\r\n  }, [dateRange]);\r\n\r\n\r\n  // Header actions - REMOVED SELECT DROPDOWN\r\n  const headerActions = (\r\n    <div className=\"flex items-center gap-2\">\r\n      <button\r\n        onClick={fetchData}\r\n        disabled={loading}\r\n        title=\"Refresh Data\"\r\n        className=\"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 p-1.5 sm:p-2 rounded-lg border border-gray-200/80 text-sm font-medium transition-all duration-200 hover:shadow-md hover:scale-[1.02] shrink-0\"\r\n      >\r\n        <BiRefresh\r\n          className={`w-4 h-4 sm:w-5 sm:h-5 ${loading ? \"animate-spin\" : \"\"}`}\r\n        />\r\n      </button>\r\n\r\n      {/* NEW CALENDAR BUTTON */}\r\n      <button\r\n        onClick={() => setShowFilterModal(true)}\r\n        disabled={loading}\r\n        title=\"Select Date Range\"\r\n        className=\"flex items-center gap-1 sm:gap-2 bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-lg border border-gray-200/80 text-xs sm:text-sm font-medium transition-all duration-200 outline-none cursor-pointer hover:shadow-md hover:scale-[1.02] shrink-0\"\r\n      >\r\n        <BiCalendarAlt className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n        <span className=\"hidden sm:inline\">\r\n            {headerDateDisplay}\r\n        </span>\r\n      </button>\r\n\r\n      {/* Adjusted Export Button container for better mobile spacing */}\r\n      <div className=\"py-2 flex justify-end\">\r\n        <Button\r\n          onClick={exportToCSV}\r\n          size=\"sm\"\r\n          variant=\"secondary\"\r\n          className=\"flex items-center gap-2 w-full sm:w-auto shrink-0\"\r\n        >\r\n          <svg\r\n            className=\"w-5 h-5\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n            />\r\n          </svg>\r\n          <span className=\"hidden sm:inline\">Export</span>\r\n          <span className=\"sm:hidden\">Export</span>\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"relative\" ref={notificationRef}>\r\n        <NotificationDropdown\r\n          notifications={notifications}\r\n          unreadCount={unreadCount}\r\n          onMarkAsRead={handleMarkAsRead}\r\n          onMarkAsUnread={handleMarkAsUnread}\r\n          onDelete={handleDeleteNotification}\r\n          isOpen={showNotifications}\r\n          onToggle={() => setShowNotifications(!showNotifications)}\r\n          containerRef={notificationRef}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        onClick={() => setShowProfileModal(true)}\r\n        className=\"flex items-center gap-1 sm:gap-2 bg-white/80 backdrop-blur-sm p-1 sm:p-1.5 sm:px-2 sm:py-2 rounded-lg border border-gray-200/80 hover:bg-white transition-all duration-200 hover:shadow-md hover:scale-[1.02] shrink-0\"\r\n      >\r\n        <div className=\"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full flex items-center justify-center text-sm font-medium shadow-lg\">\r\n          {user.username?.[0]?.toUpperCase() || \"A\"}\r\n        </div>\r\n        <span className=\"text-sm font-medium text-gray-700 hidden sm:inline\">\r\n          {user.username || \"Admin\"}\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <PageLayout\r\n      title=\"DASHBOARD\"\r\n      subtitle=\"\"\r\n      sidebar={<NavAdmin />}\r\n      headerActions={headerActions}\r\n      isSidebarOpen={isSidebarOpen}\r\n      setSidebarOpen={setSidebarOpen}\r\n      className=\"bg-gray-50 min-h-screen\"\r\n    >\r\n      {/* Low Stock Products - Mobile View (Added padding class p-6-safe) */}\r\n      <div className=\"p-4 lg:hidden\">\r\n        {loading ? (\r\n          <div className=\"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse\">\r\n            <div className=\"h-6 bg-gray-200 rounded w-1/2 mb-6\"></div>\r\n            <div className=\"h-4 bg-gray-200 rounded w-full mb-3\"></div>\r\n            <div className=\"h-4 bg-gray-200 rounded w-full mb-3\"></div>\r\n            <div className=\"h-4 bg-gray-200 rounded w-4/5\"></div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white p-6 rounded-xl shadow-md\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h3 className=\"text-lg font-bold text-gray-800\">\r\n                Low Stock Products\r\n              </h3>\r\n            </div>\r\n            <LowStockList lowStockProducts={lowStockProducts} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Key Metrics Cards - Optimized for all screens */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 w-full px-4 sm:px-6 md:px-8 py-2\">\r\n        {/* Card 1: Total Revenue */}\r\n        <div className=\"bg-white rounded-lg p-5 border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200\">\r\n          <p className=\"text-xs font-medium text-gray-500 uppercase mb-1\">\r\n            Total Revenue\r\n          </p>\r\n          <p className=\"text-2xl font-bold text-gray-900\">\r\n            {formatCurrency(keyMetrics.revenue)}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            For selected range\r\n          </p>\r\n        </div>\r\n        {/* Card 2: Operating Expenses */}\r\n        <div className=\"bg-white rounded-lg p-5 border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200\">\r\n          <p className=\"text-xs font-medium text-gray-500 uppercase mb-1\">\r\n            Operating Expenses\r\n          </p>\r\n          <p className=\"text-2xl font-bold text-gray-900\">\r\n            {formatCurrency(keyMetrics.expenses)}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            For selected range\r\n          </p>\r\n        </div>\r\n        {/* Card 3: Net Profit */}\r\n        <div className=\"bg-white rounded-lg p-5 border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200\">\r\n          <p className=\"text-xs font-medium text-gray-500 uppercase mb-1\">\r\n            Net Profit\r\n          </p>\r\n          <p\r\n            className={`text-2xl font-bold ${\r\n              keyMetrics.netProfit >= 0 ? \"text-green-600\" : \"text-red-600\"\r\n            }`}\r\n          >\r\n            {formatCurrency(Math.abs(keyMetrics.netProfit))}\r\n            {keyMetrics.netProfit < 0 && (\r\n              <span className=\"text-sm text-red-500 ml-1\">(Loss)</span>\r\n            )}\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            For selected range\r\n          </p>\r\n        </div>\r\n        {/* Card 4: Gross Margin */}\r\n        <div className=\"bg-white rounded-lg p-5 border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200\">\r\n          <p className=\"text-xs font-medium text-gray-500 uppercase mb-1\">\r\n            Gross Margin\r\n          </p>\r\n          <p\r\n            className={`text-2xl font-bold ${\r\n              keyMetrics.grossMargin >= 0 ? \"text-green-600\" : \"text-red-600\"\r\n            }`}\r\n          >\r\n            {keyMetrics.grossMargin.toFixed(1)}%\r\n          </p>\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            For selected range\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content Area - Optimized for large screen side-by-side layout */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 p-4 sm:p-6 md:p-8 pt-0\">\r\n        {/* Main Chart Area (8/12 width on large screens) */}\r\n        <div className=\"lg:col-span-8 flex flex-col gap-6\">\r\n          {loading ? (\r\n            <>\r\n              <div className=\"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-[336px] animate-pulse flex items-center justify-center\">\r\n                <div className=\"w-full h-64 bg-gray-200 rounded-lg\"></div>\r\n              </div>\r\n              <div className=\"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-[336px] animate-pulse flex items-center justify-center\">\r\n                <div className=\"w-64 h-64 bg-gray-200 rounded-full\"></div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <VisitorsChart data={chartData} rangeType={dateRange.rangeType} />\r\n              <SalesPieChart data={pieData} />\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sidebar with Stats and Low Stock (4/12 width on large screens) */}\r\n        <div className=\"lg:col-span-4 flex flex-col gap-6\">\r\n          {loading ? (\r\n            <div className=\"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse\">\r\n              <div className=\"h-6 bg-gray-200 rounded w-1/3 mb-4\"></div>\r\n              <div className=\"h-8 bg-gray-300 rounded w-1/2 mb-6\"></div>\r\n              <div className=\"h-6 bg-gray-200 rounded w-1/3 mb-4\"></div>\r\n              <div className=\"h-8 bg-gray-300 rounded w-1/2 mb-6\"></div>\r\n              <div className=\"h-6 bg-gray-200 rounded w-1/3 mb-4\"></div>\r\n              <div className=\"h-8 bg-gray-300 rounded w-1/2\"></div>\r\n            </div>\r\n          ) : (\r\n            <DashboardStatsCard \r\n                stats={todayHighlight}\r\n                formatCurrency={formatCurrency}\r\n                rangeType=\"Today\" // Explicitly label this card as \"Today's\" stats\r\n            />\r\n          )}\r\n\r\n          {/* Low Stock Products - Desktop View */}\r\n          {loading ? (\r\n            <div className=\"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse hidden lg:block\">\r\n              <div className=\"h-6 bg-gray-200 rounded w-1/2 mb-6\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded w-full mb-3\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded w-full mb-3\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded w-4/5\"></div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-white p-6 rounded-lg shadow-md hidden lg:block\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-lg font-bold text-gray-800\">\r\n                  Low Stock Products\r\n                </h3>\r\n              </div>\r\n              <LowStockList lowStockProducts={lowStockProducts} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Business Report Component - Ensure it uses the full content width */}\r\n      <div className=\"w-full px-4 sm:px-6 md:px-8 pb-8\">\r\n        <DashboardBusinessReport dateRange={dateRange} />\r\n      </div>\r\n\r\n      <ProfileModal\r\n        isOpen={showProfileModal}\r\n        onClose={() => setShowProfileModal(false)}\r\n        userData={user}\r\n      />\r\n      \r\n      {/* NEW DATE RANGE FILTER MODAL */}\r\n      <DateRangeFilterModal\r\n        isOpen={showFilterModal}\r\n        onClose={() => setShowFilterModal(false)}\r\n        onDateRangeApply={handleDateRangeApply}\r\n      />\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\n// LowStockList is kept as a separate component for clean code, as in the original\r\nfunction LowStockList({ lowStockProducts }) {\r\n    if (lowStockProducts.length === 0) {\r\n      return <p className=\"text-sm text-gray-500\">No products with low stock.</p>;\r\n    }\r\n  \r\n    return (\r\n      <ul className=\"divide-y divide-gray-200\">\r\n        <li className=\"py-2 text-sm font-semibold text-gray-600 flex justify-between\">\r\n            <span>Product</span>\r\n            <span>Quantity</span>\r\n        </li>\r\n        {lowStockProducts.map((product) => (\r\n          <li\r\n            key={product.product_id}\r\n            className=\"py-3 flex justify-between items-center\"\r\n          >\r\n            <span className=\"text-sm font-medium text-gray-800\">\r\n              {product.product_name}\r\n            </span>\r\n            <span className=\"text-sm font-bold text-red-600\">\r\n              {product.quantity_in_stock} left\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }"],"names":["t","e","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","exports","isArray","filter","max","call","ChartCard","title","children","className","props","Card","jsx","SectionHeader","size","align","jsxs","DashboardStatsCard","stats","sales","toLocaleString","transactions","topProduct","totalItemsSold","TrendIcon","trend","DashboardBusinessReport","dateRange","salesByLocation","setSalesByLocation","useState","revenueVsExpenses","setRevenueVsExpenses","profitTrend","setProfitTrend","paymentMethods","setPaymentMethods","productPerformance","setProductPerformance","keyMetrics","setKeyMetrics","businessStats","setBusinessStats","cashFlow","operatingCosts","profitGrowth","blueShades","useEffect","async","formatDate","padStart","startDate","endDate","buildQueryString","params","queryParams","URLSearchParams","append","queryString","keyMetricsRes","salesByLocationRes","revenueVsExpensesRes","profitTrendRes","paymentMethodsRes","productPerformanceRes","businessStatsRes","Promise","all","api","error","fetchData","ResponsiveContainer","width","height","BarChart","data","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","tick","fontSize","fill","padding","YAxis","Tooltip","contentStyle","background","borderColor","borderRadius","fontWeight","labelStyle","color","Bar","radius","barSize","Legend","verticalAlign","wrapperStyle","paddingBottom","LineChart","Line","type","strokeWidth","dot","PieChart","Pie","cx","cy","labelLine","label","value","outerRadius","map","entry","index","Cell","formatter","toFixed","payload","maxSales","product","progressPercent","role","style","isBetween","isSameOrBefore","isSameOrAfter","dayjs","minMax","today","DatePickerGrid","currentMonth","currentYear","onDateClick","mode","startOfMonth","endOfMonth","startDayIndex","day","totalDays","calendarDays","startOffset","push","getCellClasses","classes","start","isRangeStart","end","isRangeEnd","inRange","isSelected","currentDay","isToday","React","Fragment","onClick","MonthPickerGrid","onMonthClick","monthIndex","disabled","DateRangeFilterModal","isOpen","onClose","onDateRangeApply","setMode","setStartDate","setEndDate","setCurrentYear","setCurrentMonth","yearOptions","useMemo","currentYearInt","years","setRange","rangeMode","finalEnd","now","selectedMonthIndex","currentMonthStart","switchCalendarView","targetMonth","targetYear","newDate","isMonthView","footerText","finalStart","startStr","endStr","BiX","BiChevronLeft","BiChevronRight","BiCalendarAlt","htmlFor","id","onChange","target","handleApply","rangeType","SOFT_BLUE","SOFT_PURPLE","VisitorsChart","getChartTitle","SalesPieChart","nameKey","percent","idx","colors","Dashboard","revenue","expenses","netProfit","grossMargin","totalTransactions","averageTransactionValue","setStats","setDateRange","loading","setLoading","chartData","setChartData","pieData","setPieData","lowStockProducts","setLowStockProducts","showProfileModal","setShowProfileModal","showFilterModal","setShowFilterModal","notifications","setNotifications","unreadCount","setUnreadCount","showNotifications","setShowNotifications","notificationRef","useRef","useAuth","isSidebarOpen","setSidebarOpen","todayHighlight","setTodayHighlight","token","sessionStorage","getItem","todayStr","overview","headers","authHeaders","totalSales","topProducts","product_name","err","fetchTodayData","user","JSON","handleClickOutside","event","current","contains","addEventListener","document","removeEventListener","startDateStr","endDateStr","console","log","formattedStart","formattedEnd","timeseries","pie","oldLowStock","derived","customers","total","pieTotal","reduce","piePercent","totalExpenses","avgTxValue","dateRangeText","transactionsLabel","undefined","minimumFractionDigits","maximumFractionDigits","subtext","total_sold","resp","readIds","Set","deletedIds","mapped","has","log_id","action","message","username","time","date_time","isRead","fetchNotifications","formatCurrency","Intl","NumberFormat","currency","headerDateDisplay","headerActions","BiRefresh","Button","exportToCSV","rows","change","quantity_in_stock","csvContent","row","blob","Blob","link","createElement","href","URL","createObjectURL","download","click","variant","viewBox","strokeLinecap","strokeLinejoin","ref","NotificationDropdown","onMarkAsRead","includes","setItem","stringify","notifs","onMarkAsUnread","filtered","rid","onDelete","notif","find","onToggle","containerRef","toUpperCase","PageLayout","subtitle","sidebar","NavAdmin","LowStockList","ProfileModal","userData","newRange","product_id"],"mappings":"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","x_google_ignoreList":[0,1,5,6,7]}