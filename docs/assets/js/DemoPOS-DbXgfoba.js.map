{"version":3,"file":"DemoPOS-DbXgfoba.js","sources":["../../../frontend/src/pages/DemoPOS.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport PageLayout from \"../components/layout/PageLayout\";\r\nimport DemoNav from \"../components/layout/DemoNav\";\r\nimport ScannerCard from \"../components/ui/POS/ScannerCard\";\r\nimport SkuFormCard from \"../components/ui/POS/SkuFormCard\";\r\nimport CartTableCard from \"../components/ui/POS/CartTableCard\";\r\nimport Button from \"../components/common/Button\";\r\nimport CheckoutModal from \"../components/modals/CheckoutModal\";\r\nimport CashPaymentModal from \"../components/modals/CashPaymentModal\";\r\nimport DiscountModal from \"../components/modals/DiscountModal\";\r\nimport PriceCheckModal from \"../components/modals/PriceCheckModal\";\r\nimport CashLedgerModal from \"../components/modals/CashLedgerModal\";\r\nimport AdminReceiptsModal from \"../components/modals/AdminReceiptsModal\";\r\nimport { BiReceipt } from \"react-icons/bi\";\r\nimport { MdClose } from \"react-icons/md\";\r\n\r\nconst ButtonLabel = ({ text, shortcut, variant = \"secondary\" }) => (\r\n  <div className=\"flex items-center gap-2\">\r\n    <span>{text}</span>\r\n    <span\r\n      className={`hidden sm:inline-block text-xs font-bold px-1.5 py-0.5 rounded border ${\r\n        variant === \"primary\"\r\n          ? \"bg-white/20 border-white/40 text-white\"\r\n          : \"bg-gray-100 border-gray-300 text-gray-600\"\r\n      }`}\r\n    >\r\n      {shortcut}\r\n    </span>\r\n  </div>\r\n);\r\n\r\n// Mock Product Database\r\nconst MOCK_PRODUCTS = [\r\n  {\r\n    product_id: 1,\r\n    sku: \"1001\",\r\n    product_name: \"Demo Coffee\",\r\n    selling_price: 120,\r\n    stock_quantity: 50,\r\n  },\r\n  {\r\n    product_id: 2,\r\n    sku: \"1002\",\r\n    product_name: \"Demo Sandwich\",\r\n    selling_price: 85,\r\n    stock_quantity: 20,\r\n  },\r\n  {\r\n    product_id: 3,\r\n    sku: \"1003\",\r\n    product_name: \"Demo Cake Slice\",\r\n    selling_price: 150,\r\n    stock_quantity: 15,\r\n  },\r\n  {\r\n    product_id: 4,\r\n    sku: \"1004\",\r\n    product_name: \"Demo Water\",\r\n    selling_price: 25,\r\n    stock_quantity: 100,\r\n  },\r\n];\r\n\r\nfunction DemoPOS() {\r\n  const [sku, setSku] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [cart, setCart] = useState([]);\r\n  const [showCheckout, setShowCheckout] = useState(false);\r\n  const [showCashModal, setShowCashModal] = useState(false);\r\n  const [showDiscountModal, setShowDiscountModal] = useState(false);\r\n  const [showPriceCheckModal, setShowPriceCheckModal] = useState(false);\r\n  const [showCashLedgerModal, setShowCashLedgerModal] = useState(false);\r\n  const [priceCheckSku, setPriceCheckSku] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\r\n  const [selectedCartIdx, setSelectedCartIdx] = useState(0);\r\n  const [editQty, setEditQty] = useState(\"1\");\r\n  const [editingCartItem, setEditingCartItem] = useState(null);\r\n\r\n  const skuInputRef = useRef(null);\r\n  const quantityInputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    skuInputRef.current?.focus();\r\n  }, []);\r\n\r\n  const addSkuToCart = (skuValue, qty = 1) => {\r\n    if (!skuValue) return;\r\n    setError(\"\");\r\n\r\n    const product = MOCK_PRODUCTS.find((p) => p.sku === skuValue);\r\n\r\n    if (!product) {\r\n      setError(\"Product not found (Try SKUs: 1001, 1002, 1003, 1004)\");\r\n      return;\r\n    }\r\n\r\n    setCart((prev) => {\r\n      const existingIdx = prev.findIndex(\r\n        (i) => i.product_id === product.product_id\r\n      );\r\n      if (existingIdx >= 0) {\r\n        const next = [...prev];\r\n        next[existingIdx] = {\r\n          ...next[existingIdx],\r\n          quantity: next[existingIdx].quantity + qty,\r\n        };\r\n        return next;\r\n      }\r\n      return [\r\n        ...prev,\r\n        {\r\n          product_id: product.product_id,\r\n          sku: product.sku,\r\n          name: product.product_name,\r\n          quantity: qty,\r\n          price: product.selling_price,\r\n        },\r\n      ];\r\n    });\r\n    setSku(\"\");\r\n    setQuantity(1);\r\n    skuInputRef.current?.focus();\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    addSkuToCart(sku, quantity);\r\n  };\r\n\r\n  const handleRemove = (idx) => {\r\n    setCart(cart.filter((_, i) => i !== idx));\r\n  };\r\n\r\n  const handleEditQuantity = (idx, qty) => {\r\n    const newQty = Math.max(1, Number(qty) || 1);\r\n    setCart((prev) =>\r\n      prev.map((item, i) => (i === idx ? { ...item, quantity: newQty } : item))\r\n    );\r\n    setEditingCartItem(null);\r\n  };\r\n\r\n  const subtotal = cart.reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n  const total = subtotal;\r\n\r\n  const handleCheckout = (method) => {\r\n    alert(\r\n      `Demo Checkout Successful via ${method}! Total: ₱${total.toFixed(2)}`\r\n    );\r\n    setCart([]);\r\n    setShowCheckout(false);\r\n    setShowCashModal(false);\r\n  };\r\n\r\n  const headerActions = (\r\n    <div className=\"flex items-center gap-1 sm:gap-4 mr-3\">\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-center justify-between text-lg font-semibold\">\r\n          <span>Total:</span>\r\n          <span>₱{total.toFixed(2)}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex-1 flex items-center justify-center\">\r\n        <button className=\"inline-flex items-center gap-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg px-2 py-1.5 sm:px-2.5 shadow-sm\">\r\n          <svg\r\n            className=\"w-3 h-3 sm:w-4 sm:h-4\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2M8 16h8a2 2 0 002-2v-6m-10 8l-2 2m2-2l2 2\"\r\n            />\r\n          </svg>\r\n          <span className=\"font-mono text-xs sm:text-sm font-bold tracking-wider truncate max-w-[30vw] sm:max-w-[50vw]\">\r\n            Demo Store\r\n          </span>\r\n        </button>\r\n      </div>\r\n      <button\r\n        className=\"flex items-center gap-2 bg-white/80 backdrop-blur-sm p-1.5 sm:px-3 sm:py-2 rounded-lg border border-gray-200/80 hover:bg-gray-50 transition-colors\"\r\n        title=\"View all receipts\"\r\n      >\r\n        <div className=\"relative\">\r\n          <BiReceipt className=\"w-5 h-5 text-blue-600\" />\r\n        </div>\r\n        <span className=\"text-sm font-medium text-gray-700 hidden sm:inline\">\r\n          Receipts\r\n        </span>\r\n      </button>\r\n      <div className=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold\">\r\n        DEMO MODE\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <PageLayout\r\n      title=\"POS (DEMO)\"\r\n      sidebar={<DemoNav />}\r\n      headerActions={headerActions}\r\n      isSidebarOpen={isSidebarOpen}\r\n      setSidebarOpen={setSidebarOpen}\r\n    >\r\n      <div className=\"flex-1 flex flex-col min-h-screen\">\r\n        <main className=\"flex-1 bg-gradient-to-br from-gray-50/50 via-blue-50/30 to-indigo-50/50 overflow-hidden p-2 sm:p-3 md:p-4 pb-10 lg:pb-4\">\r\n          <div className=\"grid gap-2 sm:gap-3 md:gap-4 h-full grid-cols-1 lg:grid-cols-12\">\r\n            {/* Left Column - Scanner, SKU Form, Transaction */}\r\n            <div className=\"lg:col-span-4 flex flex-col gap-2 sm:gap-3 md:gap-4\">\r\n              {/* ScannerCard */}\r\n              <div className=\"flex-shrink-0\">\r\n                <ScannerCard\r\n                  onScan={(result) => {\r\n                    const code = result?.[0]?.rawValue;\r\n                    if (!code) return;\r\n                    addSkuToCart(code, 1);\r\n                  }}\r\n                  paused={false}\r\n                  onResume={() => {}}\r\n                  textMain=\"text-blue-700\"\r\n                />\r\n              </div>\r\n\r\n              {/* SkuFormCard */}\r\n              <div className=\"flex-shrink-0\">\r\n                <SkuFormCard\r\n                  ref={skuInputRef}\r\n                  sku={sku}\r\n                  setSku={setSku}\r\n                  quantity={quantity}\r\n                  setQuantity={setQuantity}\r\n                  handleAddToCart={handleAddToCart}\r\n                  quantityInputRef={quantityInputRef}\r\n                />\r\n                {error && (\r\n                  <div className=\"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-3 relative animate-in slide-in-from-top-2 duration-300\">\r\n                    <svg\r\n                      className=\"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\r\n                      />\r\n                    </svg>\r\n                    <p className=\"text-sm font-medium text-red-700 flex-1\">\r\n                      {error}\r\n                    </p>\r\n                    <button\r\n                      onClick={() => setError(\"\")}\r\n                      className=\"text-red-400 hover:text-red-600 transition-colors flex-shrink-0 ml-2\"\r\n                      aria-label=\"Dismiss error\"\r\n                    >\r\n                      <svg\r\n                        className=\"w-4 h-4\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M6 18L18 6M6 6l12 12\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right Column - Cart and Actions */}\r\n            <div className=\"lg:col-span-8 flex flex-col gap-2 sm:gap-3 min-h-0\">\r\n              {/* CartTableCard */}\r\n              <div className=\"flex-1 min-h-0 max-h-[calc(100vh-280px)]\">\r\n                <CartTableCard\r\n                  cart={cart}\r\n                  handleRemove={handleRemove}\r\n                  handleEditQuantity={handleEditQuantity}\r\n                  total={total}\r\n                  selectedIdx={selectedCartIdx}\r\n                  onSelectRow={(idx) => {\r\n                    setSelectedCartIdx(idx);\r\n                    if (cart[idx]) setEditQty(String(cart[idx].quantity));\r\n                  }}\r\n                  editingIdx={editingCartItem}\r\n                  editQty={editQty}\r\n                  onEditQtyChange={setEditQty}\r\n                  onEditComplete={() => setEditingCartItem(null)}\r\n                  onStartEdit={setEditingCartItem}\r\n                  className=\"flex-1 h-full\"\r\n                />\r\n              </div>\r\n              {/* Action Buttons */}\r\n              <div className=\"grid grid-cols-12 gap-2 sm:gap-3 flex-shrink-0\">\r\n                {/* Grouped Buttons */}\r\n                <div className=\"col-span-8\">\r\n                  <div className=\"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3\">\r\n                    <Button\r\n                      label={<ButtonLabel text=\"CASH LEDGER\" shortcut=\"F5\" />}\r\n                      size=\"md\"\r\n                      className=\"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold\"\r\n                      variant=\"secondary\"\r\n                      microinteraction\r\n                      onClick={() => setShowCashLedgerModal(true)}\r\n                      icon={\r\n                        <svg\r\n                          className=\"w-4 h-4\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                          />\r\n                        </svg>\r\n                      }\r\n                      iconPosition=\"left\"\r\n                    />\r\n                    <div className=\"relative group flex-1\">\r\n                      <Button\r\n                        label={\r\n                          <ButtonLabel text=\"ADD DISCOUNT\" shortcut=\"F6\" />\r\n                        }\r\n                        variant=\"secondary\"\r\n                        onClick={() => setShowDiscountModal(true)}\r\n                        icon={\r\n                          <svg\r\n                            className=\"w-5 h-5\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                          >\r\n                            <path\r\n                              strokeLinecap=\"round\"\r\n                              strokeLinejoin=\"round\"\r\n                              strokeWidth={2}\r\n                              d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                            />\r\n                          </svg>\r\n                        }\r\n                        className=\"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold\"\r\n                      />\r\n                    </div>\r\n                    <Button\r\n                      label={<ButtonLabel text=\"PRICE CHECK\" shortcut=\"F7\" />}\r\n                      size=\"md\"\r\n                      className=\"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold\"\r\n                      onClick={() => setShowPriceCheckModal(true)}\r\n                      variant=\"secondary\"\r\n                      microinteraction\r\n                      icon={\r\n                        <svg\r\n                          className=\"w-4 h-4\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                          />\r\n                        </svg>\r\n                      }\r\n                      iconPosition=\"left\"\r\n                    />\r\n                    <Button\r\n                      label={\r\n                        <ButtonLabel text=\"SCAN CUSTOMER QR\" shortcut=\"F8\" />\r\n                      }\r\n                      size=\"md\"\r\n                      className=\"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold\"\r\n                      onClick={() =>\r\n                        alert(\r\n                          \"Scan Customer QR functionality not implemented yet.\"\r\n                        )\r\n                      }\r\n                      variant=\"secondary\"\r\n                      microinteraction\r\n                      icon={\r\n                        <svg\r\n                          className=\"w-4 h-4\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"\r\n                          />\r\n                        </svg>\r\n                      }\r\n                      iconPosition=\"left\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Checkout Button */}\r\n                <div className=\"col-span-4\">\r\n                  <Button\r\n                    label={\r\n                      <ButtonLabel\r\n                        text=\"CHECKOUT\"\r\n                        shortcut=\"F12\"\r\n                        variant=\"primary\"\r\n                      />\r\n                    }\r\n                    size=\"md\"\r\n                    className=\"w-full h-full text-sm sm:text-base font-bold\"\r\n                    variant=\"primary\"\r\n                    microinteraction\r\n                    onClick={() => setShowCheckout(true)}\r\n                    disabled={cart.length === 0}\r\n                    icon={\r\n                      <svg\r\n                        className=\"w-5 h-5\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                        />\r\n                      </svg>\r\n                    }\r\n                    iconPosition=\"left\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      <DiscountModal\r\n        isOpen={showDiscountModal}\r\n        onClose={() => setShowDiscountModal(false)}\r\n        onApplyDiscount={() => {}}\r\n      />\r\n      <PriceCheckModal\r\n        isOpen={showPriceCheckModal}\r\n        onClose={() => setShowPriceCheckModal(false)}\r\n        sku={priceCheckSku}\r\n        setSku={setPriceCheckSku}\r\n      />\r\n      <CashLedgerModal\r\n        isOpen={showCashLedgerModal}\r\n        onClose={() => setShowCashLedgerModal(false)}\r\n      />\r\n      <AdminReceiptsModal isOpen={false} onClose={() => {}} />\r\n      <CheckoutModal\r\n        isOpen={showCheckout}\r\n        onClose={() => setShowCheckout(false)}\r\n        total={total}\r\n        onSelectPayment={(method) =>\r\n          method === \"cash\" ? setShowCashModal(true) : handleCheckout(method)\r\n        }\r\n      />\r\n      <CashPaymentModal\r\n        isOpen={showCashModal}\r\n        onClose={() => setShowCashModal(false)}\r\n        total={total}\r\n        onConfirm={() => handleCheckout(\"cash\")}\r\n      />\r\n    </PageLayout>\r\n  );\r\n}\r\n\r\nexport default DemoPOS;\r\n"],"names":["ButtonLabel","text","shortcut","variant","jsxs","className","children","jsx","MOCK_PRODUCTS","product_id","sku","product_name","selling_price","stock_quantity","DemoPOS","setSku","useState","quantity","setQuantity","cart","setCart","showCheckout","setShowCheckout","showCashModal","setShowCashModal","showDiscountModal","setShowDiscountModal","showPriceCheckModal","setShowPriceCheckModal","showCashLedgerModal","setShowCashLedgerModal","priceCheckSku","setPriceCheckSku","error","setError","isSidebarOpen","setSidebarOpen","selectedCartIdx","setSelectedCartIdx","editQty","setEditQty","editingCartItem","setEditingCartItem","skuInputRef","useRef","quantityInputRef","useEffect","current","focus","addSkuToCart","skuValue","qty","product","find","p","prev","existingIdx","findIndex","i","next","name","price","total","reduce","sum","item","handleCheckout","method","alert","toFixed","headerActions","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","title","BiReceipt","PageLayout","sidebar","DemoNav","ScannerCard","onScan","result","code","rawValue","paused","onResume","textMain","SkuFormCard","ref","handleAddToCart","onClick","CartTableCard","handleRemove","idx","filter","_","handleEditQuantity","newQty","Math","max","Number","map","selectedIdx","onSelectRow","String","editingIdx","onEditQtyChange","onEditComplete","onStartEdit","Button","label","size","microinteraction","icon","iconPosition","disabled","length","DiscountModal","isOpen","onClose","onApplyDiscount","PriceCheckModal","CashLedgerModal","AdminReceiptsModal","CheckoutModal","onSelectPayment","CashPaymentModal","onConfirm"],"mappings":"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"}