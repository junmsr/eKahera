import{j as t}from"./utils-B2FtDWBX.js";import{u as e,d as s,a}from"./vendor-mHQTfcnf.js";import{a as r,B as n,L as c}from"./index-C9q1jg2T.js";import{C as o}from"./Card-BnHxHSFu.js";const l=()=>{const l=e(),i=s(),{transactionId:m,tn:d}=i.state||{},[u,x]=a.useState("pending"),[p,h]=a.useState("");return a.useEffect(()=>{if(!m)return void h("No transaction ID found. Please try checking out again.");const t=setInterval(async()=>{try{const e=await r(`/sales/public/transaction/${m}`);"completed"===e.status&&(x("completed"),clearInterval(t),l(`/receipt?tn=${e.tn}&from=customer`))}catch(e){console.error("Error fetching transaction status:",e),h("Could not fetch transaction status. Please check your connection."),clearInterval(t)}},3e3);return()=>clearInterval(t)},[m,l,d]),t.jsx(n,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs(o,{className:"p-8 max-w-md mx-auto text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Waiting for Cashier"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Please present your QR code to the cashier to complete your payment. This page will automatically update once your transaction is complete."}),t.jsx(c,{}),t.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Status: ",t.jsx("span",{className:"font-semibold",children:u})]}),p&&t.jsx("p",{className:"text-red-500 mt-4",children:p})]})})})};export{l as default};
//# sourceMappingURL=CustomerWaitingPage-oTwQ6cMD.js.map
