{"version":3,"file":"ProfileModal-BP2vGh1v.js","sources":["../../../frontend/src/components/modals/ProfileModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Button from \"../common/Button\";\r\nimport FormField from \"../common/FormField\";\r\nimport BaseModal from \"./BaseModal\";\r\nimport { api } from \"../../lib/api\";\r\n\r\n/**\r\n * ProfileModal Component\r\n * Modern, trending UI/UX design with glassmorphism and animations\r\n */\r\nconst ProfileModal = ({ isOpen, onClose, userData, businessData }) => {\r\n  const [profileData, setProfileData] = useState({\r\n    first_name: userData?.first_name || \"\",\r\n    last_name: userData?.last_name || \"\",\r\n    email: userData?.email || \"\",\r\n    contact_number: userData?.contact_number || \"\",\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n    // Business fields\r\n    country: businessData?.country || \"\",\r\n    business_email: businessData?.email || \"\",\r\n    business_address: businessData?.business_address || \"\",\r\n    house_number: businessData?.house_number || \"\",\r\n    mobile: businessData?.mobile || \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n  const [touched, setTouched] = useState({});\r\n  const [activeTab, setActiveTab] = useState(\"account\");\r\n\r\n  useEffect(() => {\r\n    if (userData || businessData) {\r\n      setProfileData({\r\n        first_name: userData?.first_name || \"\",\r\n        last_name: userData?.last_name || \"\",\r\n        email: userData?.email || \"\",\r\n        contact_number: userData?.contact_number || \"\",\r\n        currentPassword: \"\",\r\n        newPassword: \"\",\r\n        confirmPassword: \"\",\r\n        // Business fields\r\n        country: businessData?.country || \"\",\r\n        business_email: businessData?.email || \"\",\r\n        business_address: businessData?.business_address || \"\",\r\n        house_number: businessData?.house_number || \"\",\r\n        mobile: businessData?.mobile || \"\",\r\n      });\r\n      setMessage(\"\");\r\n      setError(\"\");\r\n      setErrors({});\r\n      setTouched({});\r\n      setActiveTab(\"account\");\r\n    }\r\n  }, [userData, businessData, isOpen]);\r\n\r\n  const validateField = (name, value) => {\r\n    const newErrors = { ...errors };\r\n\r\n    switch (name) {\r\n      case \"first_name\":\r\n        if (activeTab === \"account\" && !value.trim()) {\r\n          newErrors.first_name = \"First name is required\";\r\n        } else if (value.trim().length < 2) {\r\n          newErrors.first_name = \"First name must be at least 2 characters\";\r\n        } else {\r\n          delete newErrors.first_name;\r\n        }\r\n        break;\r\n\r\n      case \"last_name\":\r\n        if (activeTab === \"account\" && !value.trim()) {\r\n          newErrors.last_name = \"Last name is required\";\r\n        } else if (value.trim().length < 2) {\r\n          newErrors.last_name = \"Last name must be at least 2 characters\";\r\n        } else {\r\n          delete newErrors.last_name;\r\n        }\r\n        break;\r\n\r\n      case \"email\":\r\n        if (activeTab === \"account\" && !value.trim()) {\r\n          newErrors.email = \"Email is required\";\r\n        } else if (\r\n          value.trim() &&\r\n          !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value.trim())\r\n        ) {\r\n          newErrors.email = \"Please enter a valid email\";\r\n        } else {\r\n          delete newErrors.email;\r\n        }\r\n        break;\r\n\r\n      case \"contact_number\":\r\n        if (value && value.trim().length < 7) {\r\n          newErrors.contact_number = \"Phone number must be at least 7 digits\";\r\n        } else {\r\n          delete newErrors.contact_number;\r\n        }\r\n        break;\r\n\r\n      case \"business_email\":\r\n        if (value.trim() && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value.trim())) {\r\n          newErrors.business_email = \"Please enter a valid email\";\r\n        } else {\r\n          delete newErrors.business_email;\r\n        }\r\n        break;\r\n\r\n      case \"mobile\":\r\n        if (value && value.trim().length < 7) {\r\n          newErrors.mobile = \"Mobile number must be at least 7 digits\";\r\n        } else {\r\n          delete newErrors.mobile;\r\n        }\r\n        break;\r\n\r\n      case \"currentPassword\":\r\n        if (profileData.newPassword && !value) {\r\n          newErrors.currentPassword =\r\n            \"Current password is required to change password\";\r\n        } else {\r\n          delete newErrors.currentPassword;\r\n        }\r\n        break;\r\n\r\n      case \"newPassword\":\r\n        if (value && value.length < 6) {\r\n          newErrors.newPassword = \"Password must be at least 6 characters\";\r\n        } else {\r\n          delete newErrors.newPassword;\r\n        }\r\n        break;\r\n\r\n      case \"confirmPassword\":\r\n        if (value && value !== profileData.newPassword) {\r\n          newErrors.confirmPassword = \"Passwords do not match\";\r\n        } else {\r\n          delete newErrors.confirmPassword;\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProfileData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n    if (touched[name]) {\r\n      validateField(name, value);\r\n    }\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    const { name, value } = e.target;\r\n    setTouched((prev) => ({ ...prev, [name]: true }));\r\n    validateField(name, value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(\"\");\r\n    setError(\"\");\r\n\r\n    // Validate all fields\r\n    Object.keys(profileData).forEach((key) => {\r\n      validateField(key, profileData[key]);\r\n    });\r\n\r\n    // Check if form is valid\r\n    const hasErrors = Object.keys(errors).length > 0;\r\n    if (hasErrors) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n\r\n      if (activeTab === \"account\" || activeTab === \"security\") {\r\n        const updateData = {\r\n          first_name: profileData.first_name,\r\n          last_name: profileData.last_name,\r\n          email: profileData.email,\r\n          contact_number: profileData.contact_number,\r\n        };\r\n\r\n        // Add password fields if user is changing password\r\n        if (profileData.newPassword) {\r\n          updateData.currentPassword = profileData.currentPassword;\r\n          updateData.newPassword = profileData.newPassword;\r\n        }\r\n\r\n        await api(\"/api/auth/update-profile\", {\r\n          method: \"PUT\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(updateData),\r\n        });\r\n      } else if (activeTab === \"business\") {\r\n        const businessUpdateData = {\r\n          country: profileData.country,\r\n          business_email: profileData.business_email,\r\n          business_address: profileData.business_address,\r\n          house_number: profileData.house_number,\r\n          mobile: profileData.mobile,\r\n        };\r\n\r\n        await api(\"/api/business/update-business\", {\r\n          method: \"PUT\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(businessUpdateData),\r\n        });\r\n      }\r\n\r\n      setMessage(\"Profile updated successfully!\");\r\n      setTimeout(() => {\r\n        handleClose();\r\n        window.location.reload();\r\n      }, 2000);\r\n    } catch (err) {\r\n      console.error(\"Failed to update profile:\", err);\r\n      setError(err.message || \"Failed to update profile. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setProfileData({\r\n      first_name: userData?.first_name || \"\",\r\n      last_name: userData?.last_name || \"\",\r\n      email: userData?.email || \"\",\r\n      contact_number: userData?.contact_number || \"\",\r\n      currentPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n      // Business fields\r\n      country: businessData?.country || \"\",\r\n      business_email: businessData?.email || \"\",\r\n      business_address: businessData?.business_address || \"\",\r\n      house_number: businessData?.house_number || \"\",\r\n      mobile: businessData?.mobile || \"\",\r\n    });\r\n    setErrors({});\r\n    setTouched({});\r\n    setMessage(\"\");\r\n    setError(\"\");\r\n    setActiveTab(\"account\");\r\n    onClose();\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const isFormValid = () => {\r\n    if (activeTab === \"account\") {\r\n      return (\r\n        Object.keys(errors).length === 0 &&\r\n        profileData.first_name.trim() &&\r\n        profileData.last_name.trim() &&\r\n        profileData.email.trim()\r\n      );\r\n    } else if (activeTab === \"business\") {\r\n      return Object.keys(errors).length === 0;\r\n    } else if (activeTab === \"security\") {\r\n      return Object.keys(errors).length === 0;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const footerContent = (\r\n    <>\r\n      <Button\r\n        label=\"Cancel\"\r\n        variant=\"secondary\"\r\n        onClick={handleClose}\r\n        type=\"button\"\r\n        disabled={loading}\r\n        className=\"px-6 py-2.5 rounded-xl font-medium transition-all duration-200\"\r\n      />\r\n      <Button\r\n        label={loading ? \"Saving...\" : \"Save Changes\"}\r\n        variant=\"primary\"\r\n        type=\"submit\"\r\n        onClick={handleSubmit}\r\n        disabled={!isFormValid() || loading}\r\n        className=\"px-6 py-2.5 rounded-xl font-medium transition-all duration-200 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl\"\r\n      />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <BaseModal\r\n      isOpen={isOpen}\r\n      onClose={handleClose}\r\n      title=\"Edit Profile\"\r\n      subtitle=\"Update your account details\"\r\n      icon={\r\n        <svg\r\n          className=\"w-5 h-5 text-white\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          />\r\n        </svg>\r\n      }\r\n      footer={footerContent}\r\n      disabled={loading}\r\n      contentClassName=\"space-y-5\"\r\n    >\r\n      {/* Success Message */}\r\n      {message && (\r\n        <div className=\"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200/50 rounded-2xl flex items-start gap-3 animate-in slide-in-from-top duration-300\">\r\n          <div className=\"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5\">\r\n            <svg\r\n              className=\"w-5 h-5 text-emerald-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M5 13l4 4L19 7\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm font-semibold text-emerald-900\">{message}</p>\r\n            <p className=\"text-xs text-emerald-700 mt-0.5\">\r\n              Your profile has been updated successfully\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"p-4 bg-gradient-to-r from-red-50 to-rose-50 border border-red-200/50 rounded-2xl flex items-start gap-3 animate-in slide-in-from-top duration-300\">\r\n          <div className=\"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5\">\r\n            <svg\r\n              className=\"w-5 h-5 text-red-600\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm font-semibold text-red-900\">{error}</p>\r\n            <p className=\"text-xs text-red-700 mt-0.5\">\r\n              Please check your information and try again\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"flex gap-1 border-b border-slate-200/10 -mx-6 px-6\">\r\n        <button\r\n          onClick={() => setActiveTab(\"account\")}\r\n          className={`px-4 py-2 rounded-t-xl font-medium transition-all duration-200 relative ${\r\n            activeTab === \"account\"\r\n              ? \"text-blue-600 bg-blue-50/30\"\r\n              : \"text-slate-500 hover:text-slate-700\"\r\n          }`}\r\n        >\r\n          <span className=\"flex items-center gap-2\">\r\n            <svg\r\n              className=\"w-4 h-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\r\n              />\r\n            </svg>\r\n            Account\r\n          </span>\r\n          {activeTab === \"account\" && (\r\n            <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full\"></div>\r\n          )}\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab(\"business\")}\r\n          className={`px-4 py-2 rounded-t-xl font-medium transition-all duration-200 relative ${\r\n            activeTab === \"business\"\r\n              ? \"text-blue-600 bg-blue-50/30\"\r\n              : \"text-slate-500 hover:text-slate-700\"\r\n          }`}\r\n        >\r\n          <span className=\"flex items-center gap-2\">\r\n            <svg\r\n              className=\"w-4 h-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"\r\n              />\r\n            </svg>\r\n            Business\r\n          </span>\r\n          {activeTab === \"business\" && (\r\n            <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full\"></div>\r\n          )}\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab(\"security\")}\r\n          className={`px-4 py-2 rounded-t-xl font-medium transition-all duration-200 relative ${\r\n            activeTab === \"security\"\r\n              ? \"text-blue-600 bg-blue-50/30\"\r\n              : \"text-slate-500 hover:text-slate-700\"\r\n          }`}\r\n        >\r\n          <span className=\"flex items-center gap-2\">\r\n            <svg\r\n              className=\"w-4 h-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\r\n              />\r\n            </svg>\r\n            Security\r\n          </span>\r\n          {activeTab === \"security\" && (\r\n            <div className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full\"></div>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Form Content */}\r\n      <form onSubmit={handleSubmit}>\r\n        {/* Account Tab */}\r\n        {activeTab === \"account\" && (\r\n          <div className=\"space-y-4 animate-in fade-in duration-300\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <h3 className=\"text-sm font-bold text-slate-900\">\r\n                Personal Information\r\n              </h3>\r\n              <div className=\"flex-1 h-px bg-gradient-to-r from-slate-200 to-transparent\"></div>\r\n            </div>\r\n\r\n            {/* First Name Field */}\r\n            <FormField\r\n              label=\"First Name\"\r\n              name=\"first_name\"\r\n              value={profileData.first_name}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter first name\"\r\n              error={\r\n                touched.first_name && errors.first_name\r\n                  ? errors.first_name\r\n                  : null\r\n              }\r\n              required\r\n            />\r\n\r\n            {/* Last Name Field */}\r\n            <FormField\r\n              label=\"Last Name\"\r\n              name=\"last_name\"\r\n              value={profileData.last_name}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter last name\"\r\n              error={\r\n                touched.last_name && errors.last_name ? errors.last_name : null\r\n              }\r\n              required\r\n            />\r\n\r\n            {/* Email Field */}\r\n            <FormField\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              value={profileData.email}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter email address\"\r\n              error={touched.email && errors.email ? errors.email : null}\r\n              required\r\n            />\r\n\r\n            {/* Contact Number Field */}\r\n            <FormField\r\n              label=\"Contact Number\"\r\n              name=\"contact_number\"\r\n              type=\"tel\"\r\n              value={profileData.contact_number}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter phone number\"\r\n              error={\r\n                touched.contact_number && errors.contact_number\r\n                  ? errors.contact_number\r\n                  : null\r\n              }\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Business Tab */}\r\n        {activeTab === \"business\" && (\r\n          <div className=\"space-y-4 animate-in fade-in duration-300\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <h3 className=\"text-sm font-bold text-slate-900\">\r\n                Business Information\r\n              </h3>\r\n              <div className=\"flex-1 h-px bg-gradient-to-r from-slate-200 to-transparent\"></div>\r\n            </div>\r\n\r\n            {/* Country Field */}\r\n            <FormField\r\n              label=\"Country\"\r\n              name=\"country\"\r\n              value={profileData.country}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter country\"\r\n              error={touched.country && errors.country ? errors.country : null}\r\n            />\r\n\r\n            {/* Business Email Field */}\r\n            <FormField\r\n              label=\"Business Email\"\r\n              name=\"business_email\"\r\n              type=\"email\"\r\n              value={profileData.business_email}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter business email\"\r\n              error={\r\n                touched.business_email && errors.business_email\r\n                  ? errors.business_email\r\n                  : null\r\n              }\r\n            />\r\n\r\n            {/* Business Address Field */}\r\n            <FormField\r\n              label=\"Business Address\"\r\n              name=\"business_address\"\r\n              value={profileData.business_address}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter business address\"\r\n              error={\r\n                touched.business_address && errors.business_address\r\n                  ? errors.business_address\r\n                  : null\r\n              }\r\n            />\r\n\r\n            {/* House Number Field */}\r\n            <FormField\r\n              label=\"House Number\"\r\n              name=\"house_number\"\r\n              value={profileData.house_number}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter house number\"\r\n              error={\r\n                touched.house_number && errors.house_number\r\n                  ? errors.house_number\r\n                  : null\r\n              }\r\n            />\r\n\r\n            {/* Mobile Field */}\r\n            <FormField\r\n              label=\"Mobile Number\"\r\n              name=\"mobile\"\r\n              type=\"tel\"\r\n              value={profileData.mobile}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter mobile number\"\r\n              error={touched.mobile && errors.mobile ? errors.mobile : null}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Security Tab */}\r\n        {activeTab === \"security\" && (\r\n          <div className=\"space-y-4 animate-in fade-in duration-300\">\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <h3 className=\"text-sm font-bold text-slate-900\">\r\n                Change Password\r\n              </h3>\r\n              <div className=\"flex-1 h-px bg-gradient-to-r from-slate-200 to-transparent\"></div>\r\n            </div>\r\n            <p className=\"text-xs text-slate-500 bg-amber-50 border border-amber-100/50 rounded-xl px-3 py-2\">\r\n              Leave blank to keep your current password\r\n            </p>\r\n\r\n            {/* Current Password Field */}\r\n            <FormField\r\n              label=\"Current Password\"\r\n              name=\"currentPassword\"\r\n              type=\"password\"\r\n              value={profileData.currentPassword}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Enter current password\"\r\n              error={\r\n                touched.currentPassword && errors.currentPassword\r\n                  ? errors.currentPassword\r\n                  : null\r\n              }\r\n            />\r\n\r\n            {/* Password Strength Indicator */}\r\n            {profileData.newPassword && (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-xs font-semibold text-slate-700\">\r\n                  Password Strength\r\n                </div>\r\n                <div className=\"w-full h-1.5 bg-slate-200 rounded-full overflow-hidden\">\r\n                  <div\r\n                    className={`h-full rounded-full transition-all duration-300 ${\r\n                      profileData.newPassword.length >= 12\r\n                        ? \"w-full bg-gradient-to-r from-green-500 to-emerald-500\"\r\n                        : profileData.newPassword.length >= 8\r\n                        ? \"w-2/3 bg-gradient-to-r from-yellow-500 to-amber-500\"\r\n                        : \"w-1/3 bg-gradient-to-r from-red-500 to-orange-500\"\r\n                    }`}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* New Password Field */}\r\n            <FormField\r\n              label=\"New Password\"\r\n              name=\"newPassword\"\r\n              type=\"password\"\r\n              value={profileData.newPassword}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Min. 6 characters\"\r\n              error={\r\n                touched.newPassword && errors.newPassword\r\n                  ? errors.newPassword\r\n                  : null\r\n              }\r\n            />\r\n\r\n            {/* Confirm Password Field */}\r\n            <FormField\r\n              label=\"Confirm Password\"\r\n              name=\"confirmPassword\"\r\n              type=\"password\"\r\n              value={profileData.confirmPassword}\r\n              onChange={handleInputChange}\r\n              onBlur={handleBlur}\r\n              placeholder=\"Re-enter new password\"\r\n              error={\r\n                touched.confirmPassword && errors.confirmPassword\r\n                  ? errors.confirmPassword\r\n                  : null\r\n              }\r\n            />\r\n          </div>\r\n        )}\r\n      </form>\r\n    </BaseModal>\r\n  );\r\n};\r\n\r\nexport default ProfileModal;\r\n"],"names":["ProfileModal","isOpen","onClose","userData","businessData","profileData","setProfileData","useState","first_name","last_name","email","contact_number","currentPassword","newPassword","confirmPassword","country","business_email","business_address","house_number","mobile","loading","setLoading","message","setMessage","error","setError","errors","setErrors","touched","setTouched","activeTab","setActiveTab","useEffect","validateField","name","value","newErrors","trim","length","test","handleInputChange","e","target","prev","handleBlur","handleSubmit","async","preventDefault","Object","keys","forEach","key","token","sessionStorage","getItem","updateData","api","method","headers","Authorization","body","JSON","stringify","businessUpdateData","setTimeout","handleClose","window","location","reload","err","footerContent","jsxs","Fragment","children","jsx","Button","label","variant","onClick","type","disabled","className","BaseModal","title","subtitle","icon","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","footer","contentClassName","onSubmit","FormField","onChange","onBlur","placeholder","required"],"mappings":"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"}