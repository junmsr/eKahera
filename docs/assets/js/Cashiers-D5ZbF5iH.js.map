{"version":3,"file":"Cashiers-D5ZbF5iH.js","sources":["../../../frontend/src/pages/Cashiers.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PageLayout from \"../components/layout/PageLayout\";\r\nimport NavAdmin from \"../components/layout/Nav-Admin\";\r\nimport Button from \"../components/common/Button\";\r\nimport CashierFormModal from \"../components/modals/CashierFormModal\";\r\nimport Modal from \"../components/modals/Modal\";\r\nimport { api, authHeaders } from \"../lib/api\";\r\n\r\n// (Assuming initialCashiers is defined elsewhere or is intended to be empty)\r\nconst initialCashiers = [];\r\n\r\nexport default function Cashiers() {\r\n  const [cashiers, setCashiers] = useState(initialCashiers);\r\n  const [loading, setLoading] = useState(false);\r\n  const [apiError, setApiError] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState(\"ALL\");\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editingCashier, setEditingCashier] = useState(null);\r\n  const [modalLoading, setModalLoading] = useState(false);\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    fullName: \"\",\r\n    password: \"\",\r\n    number: \"\",\r\n    email: \"\",\r\n    status: \"ACTIVE\",\r\n  });\r\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [cashierToDelete, setCashierToDelete] = useState(null);\r\n\r\n  // Load cashiers from API\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setApiError(\"\");\r\n        const token = sessionStorage.getItem(\"auth_token\");\r\n        const list = await api(\"/api/business/cashiers\", {\r\n          headers: authHeaders(token),\r\n        });\r\n        const mapped = (list || []).map((r) => {\r\n          const fullName = [r.first_name, r.last_name].filter(Boolean).join(\" \").trim();\r\n          return {\r\n            name: fullName || r.username || \"-\",\r\n            username: r.username || \"\",\r\n            first_name: r.first_name || \"\",\r\n            last_name: r.last_name || \"\",\r\n            id: r.user_id || \"-\",\r\n            number: r.contact_number || \"-\",\r\n            email: r.email || \"-\",\r\n            status: r.status || \"ACTIVE\",\r\n          };\r\n        });\r\n        setCashiers(mapped);\r\n      } catch (err) {\r\n        setApiError(err.message || \"Failed to load cashiers\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n  }, []);\r\n\r\n  const filteredCashiers = React.useMemo(() => {\r\n    const q = (search || \"\").toLowerCase();\r\n    return cashiers.filter((c) => {\r\n      const matchesQuery =\r\n        c.name.toLowerCase().includes(q) ||\r\n        String(c.id).toLowerCase().includes(q) ||\r\n        (c.email || \"\").toLowerCase().includes(q) ||\r\n        (c.number || \"\").toLowerCase().includes(q);\r\n      const matchesStatus =\r\n        statusFilter === \"ALL\" ? true : c.status === statusFilter;\r\n      return matchesQuery && matchesStatus;\r\n    });\r\n  }, [cashiers, search, statusFilter]);\r\n\r\n  // Handle Add Cashier\r\n  const handleAddCashier = () => {\r\n    setForm({\r\n      name: \"\",\r\n      password: \"\",\r\n      number: \"\",\r\n      email: \"\",\r\n      status: \"ACTIVE\",\r\n    });\r\n    setEditingCashier(null);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleSaveAdd = async (formData) => {\r\n    try {\r\n      setModalLoading(true);\r\n      setApiError(\"\");\r\n      \r\n      // Ensure first_name and last_name are present and not empty\r\n      const firstName = (formData.first_name || \"\").trim();\r\n      const lastName = (formData.last_name || \"\").trim();\r\n      \r\n      if (!firstName) {\r\n        setApiError(\"First name is required\");\r\n        setModalLoading(false);\r\n        return;\r\n      }\r\n      if (!lastName) {\r\n        setApiError(\"Last name is required\");\r\n        setModalLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n      const requestBody = {\r\n        username: (formData.name || \"\").trim(),\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        password: (formData.password || \"\").trim(),\r\n        contact_number: (formData.number || \"\").trim() || null,\r\n        email: (formData.email || \"\").trim() || null,\r\n      };\r\n      \r\n      console.log(\"Sending cashier data:\", requestBody);\r\n      \r\n      await api(\"/api/business/cashiers\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\", ...authHeaders(token) },\r\n        body: JSON.stringify(requestBody),\r\n      });\r\n      // refresh list\r\n      const list = await api(\"/api/business/cashiers\", {\r\n        headers: authHeaders(token),\r\n      });\r\n      const mapped = (list || []).map((r) => {\r\n        const fullName = [r.first_name, r.last_name].filter(Boolean).join(\" \").trim();\r\n        return {\r\n          name: fullName || r.username || \"-\",\r\n          username: r.username || \"\",\r\n          first_name: r.first_name || \"\",\r\n          last_name: r.last_name || \"\",\r\n          id: r.user_id || \"-\",\r\n          number: r.contact_number || \"-\",\r\n          email: r.email || \"-\",\r\n          status: r.status || \"ACTIVE\",\r\n        };\r\n      });\r\n      setCashiers(mapped);\r\n      setShowAddModal(false);\r\n    } catch (err) {\r\n      setApiError(err.message || \"Failed to create cashier\");\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle Edit Cashier\r\n  const handleEditCashier = (cashier) => {\r\n    const cashierToEdit = cashiers.find((c) => c.id === cashier.id);\r\n    // Map the cashier data to include username as name for the modal\r\n    if (cashierToEdit) {\r\n      setEditingCashier({\r\n        ...cashierToEdit,\r\n        name: cashierToEdit.username || cashierToEdit.name,\r\n      });\r\n    }\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  const handleSaveEdit = async (formData) => {\r\n    try {\r\n      setModalLoading(true);\r\n      setApiError(\"\");\r\n      \r\n      // Ensure first_name and last_name are present and not empty\r\n      const firstName = (formData.first_name || \"\").trim();\r\n      const lastName = (formData.last_name || \"\").trim();\r\n      \r\n      if (!firstName) {\r\n        setApiError(\"First name is required\");\r\n        setModalLoading(false);\r\n        return;\r\n      }\r\n      if (!lastName) {\r\n        setApiError(\"Last name is required\");\r\n        setModalLoading(false);\r\n        return;\r\n      }\r\n      \r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n      const requestBody = {\r\n        username: (formData.name || \"\").trim(),\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        contact_number: (formData.number || \"\").trim() || null,\r\n        email: (formData.email || \"\").trim() || null,\r\n      };\r\n      \r\n      console.log(\"Updating cashier with ID:\", editingCashier.id);\r\n      console.log(\"Sending cashier update data:\", requestBody);\r\n      \r\n      await api(`/api/business/cashiers/${editingCashier.id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\", ...authHeaders(token) },\r\n        body: JSON.stringify(requestBody),\r\n      });\r\n      \r\n      // Refresh list after successful update\r\n      const list = await api(\"/api/business/cashiers\", {\r\n        headers: authHeaders(token),\r\n      });\r\n      const mapped = (list || []).map((r) => {\r\n        const fullName = [r.first_name, r.last_name].filter(Boolean).join(\" \").trim();\r\n        return {\r\n          name: fullName || r.username || \"-\",\r\n          username: r.username || \"\",\r\n          first_name: r.first_name || \"\",\r\n          last_name: r.last_name || \"\",\r\n          id: r.user_id || \"-\",\r\n          number: r.contact_number || \"-\",\r\n          email: r.email || \"-\",\r\n          status: r.status || \"ACTIVE\",\r\n        };\r\n      });\r\n      setCashiers(mapped);\r\n      setShowEditModal(false);\r\n      setEditingCashier(null);\r\n    } catch (err) {\r\n      setApiError(err.message || \"Failed to update cashier\");\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle Delete Cashier\r\n  const handleDeleteCashier = (cashier) => {\r\n    setCashierToDelete(cashier);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!cashierToDelete) return;\r\n    try {\r\n      setModalLoading(true);\r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n      console.log(\"Deleting cashier with ID:\", cashierToDelete.id);\r\n      // The api function automatically adds /api prefix, so we don't need it here\r\n      await api(`/business/cashiers/${cashierToDelete.id}`, {\r\n        method: \"DELETE\",\r\n        headers: authHeaders(token),\r\n      });\r\n      setCashiers(cashiers.filter((c) => c.id !== cashierToDelete.id));\r\n      setShowDeleteModal(false);\r\n      setApiError(\"\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting cashier:\", err);\r\n      setApiError(err.message || \"Failed to delete cashier. Please try again.\");\r\n    } finally {\r\n      setModalLoading(false);\r\n    }\r\n  };\r\n\r\n  // Export to CSV\r\n  const exportToCSV = () => {\r\n    const headers = [\"Name\", \"Cashier ID\", \"Number\", \"Email\", \"Status\"];\r\n    const rows = filteredCashiers.map((c) => [\r\n      c.name,\r\n      c.id,\r\n      c.number,\r\n      c.email,\r\n      c.status,\r\n    ]);\r\n    const csvContent = [headers, ...rows]\r\n      .map((row) => row.join(\",\"))\r\n      .join(\"\\n\");\r\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = \"cashiers.csv\";\r\n    link.click();\r\n  };\r\n\r\n  const headerActions = (\r\n    <div className=\"flex gap-2 pr-10 sm:pr-2 w-full sm:w-auto  justify-end\">\r\n      <Button\r\n        className=\"bg-blue-600 text-white font-semibold !p-1.5 sm:!px-4 sm:!py-1.5 rounded-lg shadow hover:bg-blue-700 transition\"\r\n        onClick={handleAddCashier}\r\n      >\r\n        <div className=\"flex items-center sm:gap-2\">\r\n          <svg\r\n            className=\"w-4 h-4\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M12 4v16m8-8H4\"\r\n            />\r\n          </svg>\r\n          <span className=\"hidden sm:inline\">Add Cashier</span>\r\n        </div>\r\n      </Button>\r\n      <Button\r\n        onClick={exportToCSV}\r\n        size=\"sm\"\r\n        variant=\"secondary\"\r\n        className=\"w-auto shrink-0 !p-1 sm:!px-4 sm:!py-1.5\"\r\n      >\r\n        <div className=\"flex items-center sm:gap-2\">\r\n          <svg\r\n            className=\"w-4 h-4 sm:w-5 sm:h-5\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n            />\r\n          </svg>\r\n          <span className=\"hidden sm:inline\">Export</span>\r\n        </div>\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <PageLayout\r\n      title=\"CASHIERS\"\r\n      sidebar={<NavAdmin />}\r\n      isSidebarOpen={isSidebarOpen}\r\n      headerActions={headerActions}\r\n      setSidebarOpen={setSidebarOpen}\r\n      className=\"min-h-screen bg-white\"\r\n    >\r\n      <div className=\"flex-1 bg-transparent overflow-hidden p-3 sm:p-4\">\r\n        <div className=\"flex flex-col items-center\">\r\n          {/* Top Controls */}\r\n          <div className=\"w-full max-w-5xl mb-3 flex flex-col sm:flex-row gap-2.5 sm:items-center\">\r\n            <div className=\"flex items-center gap-2 w-full sm:w-auto\">\r\n              <div className=\"relative flex-1\">\r\n                <div className=\"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center\">\r\n                  <svg\r\n                    className=\"w-4 h-4 text-gray-400\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                <input\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                  className=\"w-full sm:w-72 pl-9 pr-3 py-1.5 rounded-xl border border-gray-200 bg-white/80 backdrop-blur-sm text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  placeholder=\"Search cashier by name, ID, email or number\"\r\n                />\r\n              </div>\r\n              <select\r\n                value={statusFilter}\r\n                onChange={(e) => setStatusFilter(e.target.value)}\r\n                className=\"rounded-xl border border-gray-200 bg-white/80 backdrop-blur-sm px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"ALL\">All</option>\r\n                <option value=\"ACTIVE\">Active</option>\r\n                <option value=\"INACTIVE\">Inactive</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {apiError && (\r\n            <div className=\"w-full max-w-5xl mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-xl px-4 py-3\">\r\n              {apiError}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"w-full max-w-5xl bg-white rounded-2xl shadow-lg border border-blue-100 p-0\">\r\n            {/* Desktop / wide screens: table */}\r\n            <div className=\"w-full overflow-x-auto hidden [@media (orientation: landscape)]:block md:block\">\r\n              <table className=\"w-full min-w-0 md:min-w-[720px] text-left rounded-xl overflow-hidden\">\r\n                <thead>\r\n                  <tr className=\"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 text-gray-700 font-semibold text-xs uppercase tracking-wider border-b border-blue-100\">\r\n                    <th className=\"py-2 px-3 sm:px-5\">Name</th>\r\n                    <th className=\"py-2 px-3 sm:px-5\">Cashier ID</th>\r\n                    <th className=\"py-2 px-3 sm:px-5\">Number</th>\r\n                    <th className=\"py-2 px-3 sm:px-5\">Email</th>\r\n                    <th className=\"py-2 px-3 sm:px-5\">Status</th>\r\n                    <th className=\"py-2 px-3 sm:px-5 text-center\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-100\">\r\n                  {loading &&\r\n                    Array.from({ length: 5 }).map((_, i) => (\r\n                      <tr key={`skeleton-${i}`} className=\"animate-pulse\">\r\n                        <td className=\"py-3 px-3 sm:px-5\">\r\n                          <div className=\"h-3 w-28 bg-gray-200 rounded\" />\r\n                        </td>\r\n                        <td className=\"py-3 px-3 sm:px-5\">\r\n                          <div className=\"h-3 w-16 bg-gray-200 rounded\" />\r\n                        </td>\r\n                        <td className=\"py-3 px-3 sm:px-5\">\r\n                          <div className=\"h-3 w-24 bg-gray-200 rounded\" />\r\n                        </td>\r\n                        <td className=\"py-3 px-3 sm:px-5\">\r\n                          <div className=\"h-3 w-40 bg-gray-200 rounded\" />\r\n                        </td>\r\n                        <td className=\"py-3 px-3 sm:px-5\">\r\n                          <div className=\"h-3 w-16 bg-gray-200 rounded\" />\r\n                        </td>\r\n                        <td className=\"py-3 px-3 sm:px-5\">\r\n                          <div className=\"h-8 w-20 bg-gray-200 rounded\" />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n\r\n                  {!loading && filteredCashiers.length === 0 && (\r\n                    <tr>\r\n                      <td colSpan={6} className=\"py-8\">\r\n                        <div className=\"flex flex-col items-center justify-center text-center\">\r\n                          <div className=\"w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mb-3\">\r\n                            <svg\r\n                              className=\"w-7 h-7 text-gray-400\"\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              viewBox=\"0 0 24 24\"\r\n                            >\r\n                              <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M3 7h18M5 7V5a2 2 0 012-2h10a2 2 0 012 2v2M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7\"\r\n                              />\r\n                            </svg>\r\n                          </div>\r\n                          <p className=\"text-gray-600 font-semibold\">\r\n                            No cashiers found\r\n                          </p>\r\n                          <p className=\"text-gray-400 text-sm\">\r\n                            Try changing filters or add a new cashier\r\n                          </p>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {!loading &&\r\n                    filteredCashiers.map((c, idx) => (\r\n                      <tr\r\n                        key={idx}\r\n                        className=\"hover:bg-blue-50/40 transition-colors\"\r\n                      >\r\n                        <td className=\"py-2.5 px-3 sm:px-5 font-medium text-gray-900\">\r\n                          {c.name}\r\n                        </td>\r\n                        <td className=\"py-2.5 px-3 sm:px-5 text-gray-700\">\r\n                          {c.id}\r\n                        </td>\r\n                        <td className=\"py-2.5 px-3 sm:px-5 text-gray-700\">\r\n                          {c.number}\r\n                        </td>\r\n                        <td className=\"py-2.5 px-3 sm:px-5 text-gray-700\">\r\n                          {c.email}\r\n                        </td>\r\n                        <td className=\"py-2.5 px-3 sm:px-5\">\r\n                          <span\r\n                            className={\r\n                              c.status === \"ACTIVE\"\r\n                                ? \"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200\"\r\n                                : \"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700 border border-red-200\"\r\n                            }\r\n                          >\r\n                            {c.status}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"py-2.5 px-3 sm:px-5\">\r\n                          <div className=\"flex items-center justify-center gap-2\">\r\n                            <Button\r\n                              variant=\"icon\"\r\n                              className=\"bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-full p-1.5 border border-blue-200\"\r\n                              onClick={() => handleEditCashier(c)}\r\n                              title=\"Edit\"\r\n                            >\r\n                              <svg\r\n                                className=\"w-4 h-4\"\r\n                                fill=\"none\"\r\n                                stroke=\"currentColor\"\r\n                                viewBox=\"0 0 24 24\"\r\n                              >\r\n                                <path\r\n                                  strokeLinecap=\"round\"\r\n                                  strokeLinejoin=\"round\"\r\n                                  strokeWidth={2}\r\n                                  d=\"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a4 4 0 01-1.414.828l-4.243 1.414 1.414-4.243a4 4 0 01.828-1.414z\"\r\n                                />\r\n                              </svg>\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"icon\"\r\n                              className=\"bg-red-50 hover:bg-red-100 text-red-700 rounded-full p-1.5 border border-red-200\"\r\n                              onClick={() => handleDeleteCashier(c)}\r\n                              title=\"Delete\"\r\n                            >\r\n                              <svg\r\n                                className=\"w-4 h-4\"\r\n                                fill=\"none\"\r\n                                stroke=\"currentColor\"\r\n                                viewBox=\"0 0 24 24\"\r\n                              >\r\n                                <path\r\n                                  strokeLinecap=\"round\"\r\n                                  strokeLinejoin=\"round\"\r\n                                  strokeWidth={2}\r\n                                  d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n                                />\r\n                              </svg>\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Mobile / narrow screens: stacked card layout */}\r\n            <div className=\"w-full sm:hidden px-3 py-3 space-y-3\">\r\n              {loading &&\r\n                Array.from({ length: 4 }).map((_, i) => (\r\n                  <div\r\n                    key={`card-skel-${i}`}\r\n                    className=\"animate-pulse bg-white rounded-lg p-3 shadow-sm\"\r\n                  >\r\n                    <div className=\"h-4 w-32 bg-gray-200 rounded mb-2\" />\r\n                    <div className=\"h-3 w-24 bg-gray-200 rounded mb-1\" />\r\n                    <div className=\"h-3 w-40 bg-gray-200 rounded\" />\r\n                  </div>\r\n                ))}\r\n\r\n              {!loading && filteredCashiers.length === 0 && (\r\n                <div className=\"bg-white rounded-lg p-4 text-center\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-3\">\r\n                    <svg\r\n                      className=\"w-6 h-6 text-gray-400\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M3 7h18M5 7V5a2 2 0 012-2h10a2 2 0 012 2v2M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <p className=\"text-gray-600 font-semibold\">\r\n                    No cashiers found\r\n                  </p>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    Try changing filters or add a new cashier\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              {!loading &&\r\n                filteredCashiers.map((c, idx) => (\r\n                  <div\r\n                    key={`card-${idx}`}\r\n                    className=\"bg-white rounded-lg p-3 shadow-sm\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div>\r\n                        <div className=\"text-sm font-semibold text-gray-900\">\r\n                          {c.name}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-500\">ID: {c.id}</div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <div className=\"mb-1\">\r\n                          <span\r\n                            className={\r\n                              c.status === \"ACTIVE\"\r\n                                ? \"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200\"\r\n                                : \"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700 border border-red-200\"\r\n                            }\r\n                          >\r\n                            {c.status}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Button\r\n                            variant=\"icon\"\r\n                            className=\"bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-full p-1.5 border border-blue-200\" // Changed from handleEditCashier(idx)\r\n                            onClick={() => handleEditCashier(c)}\r\n                            title=\"Edit\"\r\n                          >\r\n                            <svg\r\n                              className=\"w-4 h-4\"\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              viewBox=\"0 0 24 24\"\r\n                            >\r\n                              <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a4 4 0 01-1.414.828l-4.243 1.414 1.414-4.243a4 4 0 01.828-1.414z\"\r\n                              />\r\n                            </svg>\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"icon\"\r\n                            className=\"bg-red-50 hover:bg-red-100 text-red-700 rounded-full p-1.5 border border-red-200\"\r\n                            onClick={() => handleDeleteCashier(c)}\r\n                            title=\"Delete\"\r\n                          >\r\n                            <svg\r\n                              className=\"w-4 h-4\"\r\n                              fill=\"none\"\r\n                              stroke=\"currentColor\"\r\n                              viewBox=\"0 0 24 24\"\r\n                            >\r\n                              <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n                              />\r\n                            </svg>\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mt-3 text-sm text-gray-700\">\r\n                      <div className=\"truncate\">\r\n                        <strong>Number:</strong> {c.number}\r\n                      </div>\r\n                      <div className=\"truncate\">\r\n                        <strong>Email:</strong> {c.email}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n          {/* Spacing */}\r\n          <div className=\"h-4\" />\r\n        </div>\r\n      </div>\r\n      {/* Add Cashier Modal */}\r\n      <CashierFormModal\r\n        isOpen={showAddModal}\r\n        onClose={() => setShowAddModal(false)}\r\n        onSubmit={handleSaveAdd}\r\n        title=\"Add New Cashier\"\r\n        submitButtonText=\"Create Cashier\"\r\n        isLoading={modalLoading}\r\n      />\r\n\r\n      {/* Edit Cashier Modal */}\r\n      <CashierFormModal\r\n        isOpen={showEditModal}\r\n        onClose={() => setShowEditModal(false)}\r\n        onSubmit={handleSaveEdit}\r\n        title=\"Edit Cashier\"\r\n        submitButtonText=\"Update Cashier\"\r\n        initialData={editingCashier}\r\n        isLoading={modalLoading}\r\n      />\r\n      {/* Delete Confirmation Modal */}\r\n      <Modal\r\n        isOpen={showDeleteModal}\r\n        onClose={() => setShowDeleteModal(false)}\r\n        title=\"\"\r\n        size=\"sm\"\r\n      >\r\n        <div className=\"p-0\">\r\n          <div className=\"bg-gradient-to-r from-red-50 via-red-50/80 to-orange-50/50 border-b border-red-100 px-6 py-5 rounded-t-2xl\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg\">\r\n                <svg\r\n                  className=\"w-6 h-6 text-white\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h2 className=\"text-xl font-bold text-gray-900 mb-1\">\r\n                  Confirm Deletion\r\n                </h2>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Are you sure you want to delete this cashier?\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            <p className=\"text-sm text-gray-700 mb-6\">\r\n              This action cannot be undone.\r\n            </p>\r\n            <div className=\"flex justify-end gap-3\">\r\n              <Button\r\n                onClick={() => setShowDeleteModal(false)}\r\n                variant=\"secondary\"\r\n                disabled={modalLoading}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={confirmDelete}\r\n                variant=\"danger\"\r\n                loading={modalLoading}\r\n              >\r\n                Delete\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </PageLayout>\r\n  );\r\n}\r\n"],"names":["initialCashiers","Cashiers","cashiers","setCashiers","useState","loading","setLoading","apiError","setApiError","search","setSearch","statusFilter","setStatusFilter","showAddModal","setShowAddModal","showEditModal","setShowEditModal","editingCashier","setEditingCashier","modalLoading","setModalLoading","form","setForm","name","fullName","password","number","email","status","isSidebarOpen","setSidebarOpen","showDeleteModal","setShowDeleteModal","cashierToDelete","setCashierToDelete","useEffect","async","token","sessionStorage","getItem","mapped","api","headers","authHeaders","map","r","first_name","last_name","filter","Boolean","join","trim","username","id","user_id","contact_number","err","message","load","filteredCashiers","React","useMemo","q","toLowerCase","c","matchesQuery","includes","String","matchesStatus","handleEditCashier","cashier","cashierToEdit","find","handleDeleteCashier","headerActions","jsxs","className","children","jsx","Button","onClick","handleAddCashier","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","exportToCSV","csvContent","row","blob","Blob","type","link","document","createElement","href","URL","createObjectURL","download","click","size","variant","PageLayout","title","sidebar","NavAdmin","value","onChange","e","target","placeholder","Array","from","length","_","i","colSpan","idx","CashierFormModal","isOpen","onClose","onSubmit","formData","firstName","lastName","requestBody","log","method","body","JSON","stringify","list","submitButtonText","isLoading","initialData","Modal","disabled","error"],"mappings":"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"}