import{j as e}from"./utils-CzS7jPpm.js";import{a as s}from"./vendor-DpjJfaBO.js";import{B as r,b as t}from"./index-DXkpZ5oM.js";import{N as n}from"./Navbar-NowDHxqz.js";import{C as a}from"./Card-BlR7hDww.js";import"./Logo-CG6DFU3b.js";/* empty css              */function o(){const o=s.useMemo(()=>{try{return JSON.parse(sessionStorage.getItem("user")||"{}")}catch{return{}}},[]),i=o?.businessId||o?.business_id,[l,c]=s.useState(()=>String(Date.now())),d=s.useRef(null),m=s.useMemo(()=>{const e=new URL(window.location.origin+"/enter-store");return i&&e.searchParams.set("business_id",String(i)),e.toString()},[i]),x=s.useMemo(()=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(m)}&qzone=2&format=png&_=${l}`,[m,l]);return e.jsx(r,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"pt-20 px-4",children:e.jsx(n,{})}),e.jsxs("div",{className:"px-4 mt-6 grid gap-4",children:[e.jsxs(a,{className:"p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"Store QR"}),e.jsx("div",{className:"text-blue-700 mt-1",children:"Customers scan this once when they enter your store."})]}),e.jsx(a,{className:"p-6 flex flex-col items-center gap-4",children:i?e.jsxs(e.Fragment,{children:[e.jsx("img",{ref:d,src:x,alt:"Store QR",className:"w-[300px] h-[300px] border rounded-xl bg-white"}),e.jsx("div",{className:"text-blue-800 break-all text-sm",children:m}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t,{label:"Download PNG",variant:"primary",onClick:()=>{if(!d.current)return;const e=document.createElement("a");e.href=x,e.download=`store-${i||"qr"}.png`,e.target="_blank",e.rel="noopener",e.click()}}),e.jsx(t,{label:"Regenerate",variant:"secondary",onClick:()=>c(String(Date.now()))})]})]}):e.jsx("div",{className:"text-red-700",children:"Business ID not found. Please ensure you're logged in as an admin."})})]})]})})}export{o as default};
//# sourceMappingURL=StoreQR-Dh1X1VUg.js.map
