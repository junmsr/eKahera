import{j as e}from"./utils-BnCj7yKo.js";import{a as t}from"./vendor-BZrj58oz.js";import"./dayjs.min-DVXthx_5.js";import{C as s}from"./Card-fMjg4IWJ.js";import{S as a}from"./SectionHeader-DKrtjj68.js";import{R as r,P as l,d as i,e as o,T as n,b as d,B as c,C as x,X as m,Y as h,c as b}from"./charts-DpvQ0yPn.js";import{n as g}from"./index-Bn6GZOQ4.js";import{G as u,b as p,c as f,d as j}from"./BaseModal-C-8Qp-dk.js";function y({title:t,children:r,className:l="",...i}){return e.jsxs(s,{className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl group ${l}`,...i,children:[t&&e.jsx(a,{size:"md",align:"left",className:"text-gray-900 mb-6 font-bold group-hover:text-blue-600 transition-colors duration-300",children:t}),e.jsxs("div",{className:"relative",children:[r,e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-blue-50/20 rounded-lg pointer-events-none"})]})]})}function N({stats:t,className:a="",formatCurrency:r,rangeType:l,currentTime:i,...o}){const n=i?i.format("ddd, MMM D, YYYY"):"",d=i?i.format("h:mm A"):"";return e.jsxs(s,{className:`bg-white backdrop-blur-sm border border-gray-100 shadow-sm rounded-2xl ${a}`,...o,children:[i&&e.jsx("div",{className:"px-6 md:px-8 pt-6 md:pt-8 pb-4 border-b border-gray-200/60",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs md:text-sm text-blue-100 font-medium uppercase tracking-wider mb-2",children:n}),e.jsx("div",{className:"text-3xl md:text-4xl font-mono font-bold text-white drop-shadow-[0_0_8px_rgba(59,130,246,0.6)]",children:d})]})})}),e.jsxs("div",{className:"grid grid-cols-1 divide-y divide-gray-200/60 p-6 md:p-8 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"₱"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Today's Sales"}),e.jsxs("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:["₱",Number(t.sales||0).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"↻"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Transactions"}),e.jsx("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:Number(t.transactions||0).toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"★"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Top Product"}),e.jsx("span",{className:"text-xl md:text-lg font-bold text-gray-900 mt-0.5 leading-tight line-clamp-2",children:t.topProduct||"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"#"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Total Items Sold"}),e.jsx("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:Number(t.totalItemsSold||0).toLocaleString()})]})]})]})]})}function v({data:t,className:s="",rangeType:a="Custom"}){return e.jsx(y,{title:e.jsx("span",{className:"text-blue-700",children:"Top 10 Products by Sales Volume"}),className:`chart-export-container bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${s}`,children:e.jsx("div",{className:"h-72 w-full",children:e.jsx(r,{width:"100%",height:"100%",children:e.jsxs(c,{layout:"vertical",data:t,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(x,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(m,{type:"number",tick:{fill:"#374151",fontSize:10},tickFormatter:e=>e.toLocaleString()}),e.jsx(h,{dataKey:"name",type:"category",tick:{fill:"#374151",fontSize:10},width:100}),e.jsx(n,{contentStyle:{background:"#fff",borderColor:"#e5e7eb",borderRadius:8},formatter:e=>[`${Number(e).toLocaleString()} sold`,"Volume"]}),e.jsx(b,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0]})]})})})})}function w({dateRange:t,topProducts:s,paymentMethods:a}){const c=Array.isArray(a)?a:[];return e.jsx("section",{className:"w-full px-5 md:px-8 py-6 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]",children:[e.jsx(v,{data:(x=s,x&&Array.isArray(x)?x.slice(0,10).map(e=>({name:e.product_name||e.name,value:Number(e.total_sold||0)})):[]),rangeType:t?.rangeType}),e.jsxs("div",{className:"chart-export-container bg-white/80 backdrop-blur-md border border-white/60 shadow-xl rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Payment Methods"}),e.jsx(r,{width:"100%",height:280,children:e.jsxs(l,{margin:{top:20,right:20,left:20,bottom:20},children:[e.jsx(i,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:!1,outerRadius:90,dataKey:"value",children:c.map((t,s)=>e.jsx(o,{fill:t.fill||"#f59e0b"},`cell-${s}`))}),e.jsx(n,{formatter:(e,t,s)=>[`${Number(e).toFixed(0)}%`,s?.payload?.name],contentStyle:{background:"#eff6ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e40af"}}),e.jsx(d,{verticalAlign:"bottom",height:36,iconType:"circle",formatter:(t,s)=>e.jsx("span",{style:{color:"#374151",fontSize:"12px",fontWeight:"500"},children:t})})]})})]})]})});var x}function k(e){return u({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(e)}function S({notifications:s=[],unreadCount:a=0,onMarkAsRead:r,onMarkAsUnread:l,onDelete:i,onSelectAll:o,onDeselectAll:n,isOpen:d,onToggle:c,containerRef:x}){const[m,h]=t.useState(new Set),[b,u]=t.useState("all"),y=t.useMemo(()=>"unread"===b?s.filter(e=>!e.isRead):"read"===b?s.filter(e=>e.isRead):s,[s,b]),N=m.size===y.length&&y.length>0,v=m.size>0;return e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("button",{onClick:c,className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative group",title:"Notifications",children:[e.jsx(g,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900"}),a>0&&e.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:a>99?"99+":a})]}),d&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(g,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Notifications"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a," unread"]})]})]}),e.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-200 rounded-lg transition-colors",children:e.jsx(p,{className:"w-5 h-5 text-gray-500"})})]})}),s.length>0&&e.jsx("div",{className:"flex gap-1 px-4 pt-3 border-b border-gray-100 bg-gray-50",children:["all","unread","read"].map(t=>e.jsx("button",{onClick:()=>{u(t),h(new Set)},className:"px-3 py-2 text-sm font-medium rounded-t-lg transition-colors "+(b===t?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),v&&e.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b border-blue-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[m.size," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{m.forEach(e=>{const t=s.find(t=>t.id===e);t&&!t.isRead&&r(e)}),h(new Set)},className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900 text-xs",title:"Mark as read",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{m.forEach(e=>{const t=s.find(t=>t.id===e);t&&t.isRead&&l(e)}),h(new Set)},className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900 text-xs",title:"Mark as unread",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{window.confirm(`Delete ${m.size} notification(s)?`)&&(m.forEach(e=>i(e)),h(new Set))},className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-red-600 hover:text-red-700 text-xs",title:"Delete selected",children:e.jsx(k,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:y.length>0?e.jsxs(e.Fragment,{children:[y.length>1&&e.jsx("div",{className:"px-4 py-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-100 p-2 -m-2 rounded transition-colors",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:()=>{m.size===y.length?h(new Set):h(new Set(y.map(e=>e.id)))},className:"w-4 h-4 rounded border-gray-300 text-blue-600 cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:N?"Deselect All":"Select All"})]})}),y.map(t=>e.jsx("div",{className:"border-b border-gray-100 transition-all duration-200 hover:bg-gray-50 group "+(t.isRead?"":"bg-blue-50/50"),children:e.jsxs("div",{className:"px-4 py-3 flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:e.jsx("input",{type:"checkbox",checked:m.has(t.id),onChange:()=>{return e=t.id,void h(t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s});var e},className:"w-4 h-4 rounded border-gray-300 text-blue-600 cursor-pointer"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.title}),!t.isRead&&e.jsx("span",{className:"inline-flex w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:t.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1.5",children:t.time})]}),e.jsxs("div",{className:"flex-shrink-0 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.isRead?e.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 hover:bg-gray-200 rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:"Mark as unread",children:e.jsx(j,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>r(t.id),className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-blue-600",title:"Mark as read",children:e.jsx(f,{className:"w-4 h-4"})}),e.jsx("button",{onClick:e=>((e,t)=>{t.stopPropagation(),window.confirm("Delete this notification?")&&i(e)})(t.id,e),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-gray-600 hover:text-red-600",title:"Delete",children:e.jsx(k,{className:"w-4 h-4"})})]})]})})]})},t.id))]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(g,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"unread"===b?"No unread notifications":"read"===b?"No read notifications":"No notifications yet"})]})}),s.length>0&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 flex gap-2",children:[e.jsx("button",{onClick:()=>{s.filter(e=>!e.isRead).map(e=>e.id).forEach(e=>r(e)),h(new Set)},className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Mark All as Read"}),e.jsx("button",{onClick:()=>{window.confirm("Delete all notifications?")&&(s.forEach(e=>i(e.id)),h(new Set))},className:"flex-1 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Clear All"})]})]})]})}export{y as C,N as D,S as N,w as a};
//# sourceMappingURL=NotificationDropdown-D9ragzlt.js.map
