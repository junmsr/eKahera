{"version":3,"file":"CustomerEnter-C8BvTmzK.js","sources":["../../../frontend/src/pages/CustomerEnter.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Background from \"../components/layout/Background\";\r\nimport ScannerCard from \"../components/ui/POS/ScannerCard\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport Button from \"../components/common/Button\";\r\n\r\n\r\n\r\nexport default function CustomerEnter() {\r\n  const [paused, setPaused] = useState(false);\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const handleScan = async (result) => {\r\n    const code = result?.[0]?.rawValue;\r\n    if (!code) return;\r\n\r\n    setPaused(true);\r\n    setIsScanning(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const url = new URL(code);\r\n      const bid = url.searchParams.get(\"business_id\");\r\n\r\n      if (url.pathname.endsWith(\"/enter-store\") && bid) {\r\n        // Set business ID and generate a transaction number for this session\r\n        localStorage.setItem(\"business_id\", String(bid));\r\n        // Clear old transaction data\r\n        localStorage.removeItem('provisionalTransactionNumber');\r\n        localStorage.removeItem('customerCart');\r\n        // Generate and save new transaction number\r\n        const timePart = new Date().toISOString().replace(/[-:T.Z]/g, '').slice(0, 14);\r\n        const randPart = Math.floor(1000 + Math.random() * 9000);\r\n        const transactionNumber = `T-${String(bid).padStart(2, '0')}-${timePart}-${randPart}`;\r\n        localStorage.setItem('provisionalTransactionNumber', transactionNumber);\r\n\r\n        // New: Call backend /public/enter-store to create user\r\n        try {\r\n          const response = await fetch(\"/api/sales/public/enter-store\", {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ business_id: bid }),\r\n          });\r\n\r\n          if (!response.ok) {\r\n            const errorData = await response.json().catch(() => ({ error: 'Failed to create customer' }));\r\n            console.error('Failed to create customer user:', errorData);\r\n            // Don't block navigation, but log the error\r\n          } else {\r\n            const data = await response.json();\r\n            // Store user_id and username in localStorage for use later\r\n            if (data.user_id) {\r\n              localStorage.setItem(\"customer_user_id\", String(data.user_id));\r\n              console.log('Customer user created:', data.user_id);\r\n            }\r\n            if (data.username) {\r\n              localStorage.setItem(\"customer_username\", data.username);\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.error('Error creating customer user:', err);\r\n          // Don't block navigation, but log the error\r\n        }\r\n\r\n        // Small delay for better UX feedback\r\n        setTimeout(() => {\r\n          navigate(\"/customer\");\r\n        }, 300);\r\n      } else {\r\n        // Handle invalid QR code format\r\n        setError(\"Invalid QR Code. Please scan a valid store QR code.\");\r\n        setIsScanning(false);\r\n        setPaused(false);\r\n      }\r\n    } catch (error) {\r\n      // Handle cases where the scanned code is not a valid URL\r\n      setError(\"Invalid QR Code. Please scan a valid store QR code.\");\r\n      alert(\"Invalid QR Code. Please scan a valid store QR code.\");\r\n      setIsScanning(false);\r\n      setPaused(false);\r\n    }\r\n  };\r\n\r\n  const containerVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren: 0.2,\r\n        delayChildren: 0.1,\r\n      },\r\n    },\r\n  };\r\n\r\n  const itemVariants = {\r\n    hidden: { opacity: 0, y: 20 },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n      transition: {\r\n        duration: 0.5,\r\n        ease: \"easeOut\",\r\n      },\r\n    },\r\n  };\r\n\r\n  const cardVariants = {\r\n    hidden: { opacity: 0, scale: 0.95 },\r\n    visible: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      transition: {\r\n        duration: 0.4,\r\n        ease: \"easeOut\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Background variant=\"gradientBlue\" pattern=\"dots\" floatingElements overlay>\r\n      {/* Animated background orbs */}\r\n      <motion.div\r\n        className=\"absolute -top-24 -left-24 w-[28rem] h-[28rem] rounded-full bg-gradient-to-br from-blue-400/15 to-cyan-400/10 blur-3xl\"\r\n        animate={{ scale: [1, 1.08, 1], opacity: [0.35, 0.5, 0.35] }}\r\n        transition={{ duration: 10, repeat: Infinity, ease: \"easeInOut\" }}\r\n      />\r\n      <motion.div\r\n        className=\"absolute bottom-0 -right-24 w-[30rem] h-[30rem] rounded-full bg-gradient-to-bl from-indigo-400/15 to-purple-400/10 blur-3xl\"\r\n        animate={{ scale: [1, 1.12, 1], opacity: [0.3, 0.45, 0.3] }}\r\n        transition={{ duration: 12, repeat: Infinity, ease: \"easeInOut\" }}\r\n      />\r\n\r\n      <motion.div\r\n        className=\"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 pt-6 sm:pt-8 relative z-10\"\r\n        variants={containerVariants}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n      >\r\n        {/* Header with back button */}\r\n        <motion.div\r\n          className=\"absolute top-4 sm:top-6 left-4 sm:left-6 z-20\"\r\n          variants={itemVariants}\r\n        >\r\n          <Link\r\n            to=\"/\"\r\n            className=\"inline-flex items-center gap-2 px-4 py-2.5 rounded-full bg-white/80 backdrop-blur-md border border-white/40 hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl group\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5 text-gray-700\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M15 19l-7-7 7-7\"\r\n              />\r\n            </svg>\r\n            <span className=\"font-semibold text-gray-700 hidden sm:inline\">\r\n              Back Home\r\n            </span>\r\n          </Link>\r\n        </motion.div>\r\n\r\n        {/* Main Content Container */}\r\n        <div className=\"w-full max-w-4xl flex flex-col gap-6 sm:gap-8\">\r\n          {/* Top Section - Logo & Title */}\r\n          <motion.div className=\"text-center\" variants={itemVariants}>\r\n            <motion.div\r\n              className=\"inline-flex items-center justify-center gap-3 mb-6\"\r\n              initial={{ scale: 0, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              transition={{ delay: 0.2, type: \"spring\", stiffness: 180 }}\r\n            >\r\n              <motion.div\r\n                className=\"p-4 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 rounded-2xl shadow-2xl relative group\"\r\n                animate={{\r\n                  boxShadow: [\r\n                    \"0 10px 30px rgba(59, 130, 246, 0.3)\",\r\n                    \"0 20px 40px rgba(59, 130, 246, 0.4)\",\r\n                    \"0 10px 30px rgba(59, 130, 246, 0.3)\",\r\n                  ],\r\n                }}\r\n                transition={{ duration: 2.5, repeat: Infinity }}\r\n              >\r\n                <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                <svg\r\n                  className=\"w-8 h-8 sm:w-9 sm:h-9 text-white relative z-10\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z\"\r\n                  />\r\n                </svg>\r\n              </motion.div>\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.4 }}\r\n              className=\"space-y-3\"\r\n            >\r\n              <p className=\"text-xl sm:text-2xl font-bold text-gray-900\">\r\n                Welcome to the Store !!!\r\n              </p>\r\n              <p className=\"text-base sm:text-lg text-gray-600 max-w-xl mx-auto leading-relaxed\">\r\n                Scan the store's QR code to access the self-checkout experience\r\n              </p>\r\n            </motion.div>\r\n          </motion.div>\r\n\r\n          {/* Main Content Grid */}\r\n          <div className=\"grid gap-6 lg:grid-cols-2 items-center\">\r\n\r\n            {/* Right: Scanner Card */}\r\n            <motion.div\r\n              className=\"flex items-center justify-center relative w-full\"\r\n              variants={cardVariants}\r\n            >\r\n              <div className=\"w-full aspect-square relative max-w-sm lg:max-w-md\">\r\n                {/* Glow effect behind scanner */}\r\n                <motion.div\r\n                  className=\"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-indigo-600/20 rounded-2xl sm:rounded-lg blur-2xl -z-10\"\r\n                  animate={{\r\n                    scale: [1, 1.1, 1],\r\n                    opacity: [0.4, 0.6, 0.4],\r\n                  }}\r\n                  transition={{ duration: 4, repeat: Infinity }}\r\n                />\r\n\r\n                {/* Scanner Container */}\r\n                <div className=\"relative h-full rounded-2xl sm:rounded-3xl overflow-hidden border-3 sm:border-4 border-white/60 shadow-lg sm:shadow-2xl bg-white/10 backdrop-blur-sm\">\r\n                  {isScanning && !error && (\r\n                    <motion.div\r\n                      className=\"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-md\"\r\n                      initial={{ opacity: 0 }}\r\n                      animate={{ opacity: 1 }}\r\n                      exit={{ opacity: 0 }}\r\n                    >\r\n                      <motion.div\r\n                        className=\"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-xl sm:shadow-2xl border border-white/20 mx-4\"\r\n                        initial={{ scale: 0.8, opacity: 0 }}\r\n                        animate={{ scale: 1, opacity: 1 }}\r\n                        transition={{ type: \"spring\", stiffness: 200 }}\r\n                      >\r\n                        <div className=\"flex flex-col items-center gap-3 sm:gap-4\">\r\n                          <motion.div\r\n                            className=\"w-12 h-12 sm:w-14 sm:h-14 border-3 sm:border-4 border-blue-500 border-t-indigo-600 rounded-full\"\r\n                            animate={{ rotate: 360 }}\r\n                            transition={{\r\n                              duration: 1,\r\n                              repeat: Infinity,\r\n                              ease: \"linear\",\r\n                            }}\r\n                          />\r\n                          <div className=\"text-center\">\r\n                            <p className=\"text-gray-900 font-semibold text-sm sm:text-base\">\r\n                              Recognizing store...\r\n                            </p>\r\n                            <p className=\"text-xs sm:text-sm text-gray-600 mt-1\">\r\n                              Please wait\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </motion.div>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  {error && (\r\n                    <motion.div\r\n                      className=\"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-md\"\r\n                      initial={{ opacity: 0 }}\r\n                      animate={{ opacity: 1 }}\r\n                      exit={{ opacity: 0 }}\r\n                    >\r\n                      <motion.div\r\n                        className=\"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-xl sm:shadow-2xl border border-white/20 mx-4\"\r\n                        initial={{ scale: 0.8, opacity: 0 }}\r\n                        animate={{ scale: 1, opacity: 1 }}\r\n                        transition={{ type: \"spring\", stiffness: 200 }}\r\n                      >\r\n                        <div className=\"flex flex-col items-center gap-4\">\r\n                          <motion.div\r\n                            className=\"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-red-100 rounded-full\"\r\n                          >\r\n                            <svg className=\"w-8 h-8 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                            </svg>\r\n                          </motion.div>\r\n                          <div className=\"text-center\">\r\n                            <p className=\"text-gray-900 font-semibold text-sm sm:text-base\">\r\n                              Invalid QR Code\r\n                            </p>\r\n                            <p className=\"text-xs sm:text-sm text-gray-600 mt-1\">\r\n                              {error}\r\n                            </p>\r\n                          </div>\r\n                          <Button\r\n                            label=\"Try Again\"\r\n                            variant=\"primary\"\r\n                            onClick={() => {\r\n                              setError(null);\r\n                              setPaused(false);\r\n                              setIsScanning(false);\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </motion.div>\r\n                    </motion.div>\r\n                  )}\r\n\r\n                  <ScannerCard\r\n                    onScan={handleScan}\r\n                    paused={paused}\r\n                    onResume={() => {\r\n                      setPaused(false);\r\n                      setIsScanning(false);\r\n                      setError(null);\r\n                    }}\r\n                    className=\"w-full h-full\"\r\n                  />\r\n                </div>\r\n\r\n                {/* Corner accents */}\r\n                <div className=\"absolute -top-1.5 -left-1.5 sm:-top-2 sm:-left-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-tl-lg sm:rounded-tl-2xl\" />\r\n                <div className=\"absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-tr-lg sm:rounded-tr-2xl\" />\r\n                <div className=\"absolute -bottom-1.5 -left-1.5 sm:-bottom-2 sm:-left-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-bl-lg sm:rounded-bl-2xl\" />\r\n                <div className=\"absolute -bottom-1.5 -right-1.5 sm:-bottom-2 sm:-right-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-br-lg sm:rounded-br-2xl\" />\r\n\r\n                {/* Corner accents */}\r\n                <div className=\"absolute -top-2 -left-2 w-8 h-8 border-2 border-white/40 rounded-tl-2xl\" />\r\n                <div className=\"absolute -top-2 -right-2 w-8 h-8 border-2 border-white/40 rounded-tr-2xl\" />\r\n                <div className=\"absolute -bottom-2 -left-2 w-8 h-8 border-2 border-white/40 rounded-bl-2xl\" />\r\n                <div className=\"absolute -bottom-2 -right-2 w-8 h-8 border-2 border-white/40 rounded-br-2xl\" />\r\n              </div>\r\n            </motion.div>\r\n\r\n            {/* Left: Instructions Card */}\r\n            <motion.div className=\"flex flex-col gap-4\" variants={itemVariants}>\r\n              <motion.div\r\n                className=\"bg-white/80 backdrop-blur-xl border border-white/60 rounded-lg shadow-2xl p-6 sm:p-8 hover:shadow-3xl transition-all duration-300 group overflow-hidden\"\r\n                whileTap={{ scale: 0.98 }}\r\n              >\r\n                {/* Shimmer effect */}\r\n                <div className=\"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/30 to-transparent\" />\r\n\r\n                <div className=\"relative z-10 space-y-5\">\r\n                  {/* Step indicator */}\r\n                  <div className=\"flex items-start gap-4\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <div className=\"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 text-white font-bold shadow-lg\">\r\n                        1\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\r\n                        Point Your Camera\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Position your device to scan the QR code displayed in\r\n                        the store\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent\" />\r\n\r\n                  <div className=\"flex items-start gap-4\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <div className=\"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 text-white font-bold shadow-lg\">\r\n                        2\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\r\n                        Scan the Code\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Allow camera access and keep the QR code in frame\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent\" />\r\n\r\n                  <div className=\"flex items-start gap-4\">\r\n                    <div className=\"flex-shrink-0\">\r\n                      <div className=\"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 to-pink-600 text-white font-bold shadow-lg\">\r\n                        3\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"text-lg font-bold text-gray-900 mb-1\">\r\n                        Start Shopping\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        You'll be connected to the store's self-checkout system\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          </div>\r\n\r\n          {/* Bottom Info Section */}\r\n          <motion.div className=\"mt-4 sm:mt-8\" variants={itemVariants}>\r\n            <div className=\"bg-gradient-to-r from-blue-50/80 via-indigo-50/60 to-purple-50/80 backdrop-blur-md rounded-2xl border border-blue-200/40 p-6 sm:p-8\">\r\n              <div className=\"flex items-start gap-4\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <motion.div\r\n                    className=\"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg\"\r\n                    animate={{ scale: [1, 1.1, 1] }}\r\n                    transition={{ duration: 2, repeat: Infinity }}\r\n                  >\r\n                    <svg\r\n                      className=\"w-6 h-6\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                      />\r\n                    </svg>\r\n                  </motion.div>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-gray-900 mb-1\">\r\n                    Need Help?\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Make sure your device has camera permissions enabled. The QR\r\n                    code is typically displayed at the store entrance.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </motion.div>\r\n    </Background>\r\n  );\r\n}\r\n"],"names":["CustomerEnter","paused","setPaused","useState","isScanning","setIsScanning","error","setError","navigate","useNavigate","itemVariants","hidden","opacity","y","visible","transition","duration","ease","jsxs","Background","variant","pattern","floatingElements","overlay","children","jsx","motion","div","className","animate","scale","repeat","Infinity","variants","staggerChildren","delayChildren","initial","Link","to","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","delay","type","stiffness","boxShadow","exit","rotate","Button","label","onClick","ScannerCard","onScan","async","result","code","rawValue","url","URL","bid","searchParams","get","pathname","endsWith","localStorage","setItem","String","removeItem","timePart","Date","toISOString","replace","slice","randPart","Math","floor","random","transactionNumber","padStart","response","fetch","method","headers","body","JSON","stringify","business_id","ok","data","json","user_id","log","username","errorData","catch","err","setTimeout","alert","onResume","whileTap"],"mappings":"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"}