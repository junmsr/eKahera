import{j as t}from"./utils-L0j39QIW.js";import{u as e,d as s,a}from"./vendor-DPJ7iNYg.js";import{a as r,B as n,L as c}from"./index-XAdJQoEG.js";import{C as o}from"./Card-DXlcOk_J.js";const i=()=>{const i=e(),l=s(),{transactionId:m,tn:d}=l.state||{},[u,p]=a.useState("pending"),[x,h]=a.useState("");return a.useEffect(()=>{if(!m)return void h("No transaction ID found. Please try checking out again.");const t=setInterval(async()=>{try{const e=await r(`/sales/public/transaction/${m}`),s=e.data||e;"completed"===s.status?(p("completed"),clearInterval(t),i(`/receipt?tn=${s.tn||""}&from=customer`)):s.status&&p(s.status)}catch(e){console.error("Error fetching transaction status:",e);const t=e.response?.data?.error||"Could not fetch transaction status. Please check your connection.";h(t)}},3e3);return()=>clearInterval(t)},[m,i,d]),t.jsx(n,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs(o,{className:"p-8 max-w-md mx-auto text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-blue-900 mb-4",children:"Waiting for Cashier"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Please present your QR code to the cashier to complete your payment. This page will automatically update once your transaction is complete."}),t.jsx(c,{}),t.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Status: ",t.jsx("span",{className:"font-semibold",children:u})]}),x&&t.jsx("p",{className:"text-red-500 mt-4",children:x})]})})})};export{i as default};
//# sourceMappingURL=CustomerWaitingPage-D3Q0BHhn.js.map
