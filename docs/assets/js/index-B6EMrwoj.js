const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Home-BPUeUc_t.js","assets/js/utils-BnCj7yKo.js","assets/js/vendor-BZrj58oz.js","assets/js/PageLayout-D_ZMWTMw.js","assets/js/Navbar-UJciBic7.js","assets/js/Logo-CC4Yu1_Q.js","assets/js/PrivacyPolicyModal-C_BSH6tZ.js","assets/js/BaseModal-C-8Qp-dk.js","assets/js/SectionHeader-DKrtjj68.js","assets/js/Services-7F8S_HMX.js","assets/js/GetStarted-CgjToOYY.js","assets/js/Card-fMjg4IWJ.js","assets/js/Input-D3kbgyHK.js","assets/js/PasswordInput-HX0zxmT2.js","assets/js/locationApi-D8IA0i6v.js","assets/js/Contact-BL9yGrGI.js","assets/js/Login-CKw8VdhJ.js","assets/js/ForgotPassword-BuxVdPzr.js","assets/js/Dashboard-dA5OCdC3.js","assets/js/DateRangeFilterModal-LlFYLvIy.js","assets/js/index-4YedFPzh.js","assets/js/html2canvas.esm-CTiZndrd.js","assets/js/jspdf.es.min-CgXDhZqi.js","assets/js/Nav-Admin-BJoTBbbB.js","assets/js/NotificationDropdown-Bnq5Jcs8.js","assets/js/charts-DpvQ0yPn.js","assets/js/POS-CdamvOFj.js","assets/js/ScannerCard-DdUmj5XW.js","assets/js/qr-DN-bNBye.js","assets/js/CashPaymentModal-vjy6jN3n.js","assets/js/useKeyboardShortcuts-C3XQk2oo.js","assets/js/QuantityInputModal-Db3kQoSS.js","assets/js/AdminReceiptsModal-BbYYXYnA.js","assets/js/CashierPOS-BYqs31Ww.js","assets/js/ChangePasswordModal-BCGh_56d.js","assets/js/Inventory-B6eid1eZ.js","assets/js/Inventory-NDwZzHfs.js","assets/js/Modal-Cuwuhe4O.js","assets/js/FormField-1uEQplD4.js","assets/js/useDebounce-CoebmKoV.js","assets/js/MobileScanner-DeDqV80t.js","assets/js/MobileScannerView-DZck2C7y.js","assets/js/SelectRole-CKf8ACTE.js","assets/js/Customer-BgkSGTsD.js","assets/js/CustomerEnter-Oa6cfOZv.js","assets/js/EnterStore-B0I0eFKr.js","assets/js/Cashiers-Cd1ABBYm.js","assets/js/CashierFormModal-C-H33t5c.js","assets/js/Logs-DkZ47vNl.js","assets/js/Profile-CkRvUkQA.js","assets/js/SuperAdmin-CKXRtaqG.js","assets/js/SuperAdminView-DIZ5w0LJ.js","assets/js/InitialSetup-D1zB7O_1.js","assets/js/StoreQR-Cv8qQPX-.js","assets/js/Receipt-C0Vg3kJG.js","assets/js/Documents-BT58tlNj.js","assets/js/DocumentResubmission-13oBAbXp.js","assets/js/DocumentResubmitPage-gURJYLvw.js","assets/js/PublicDocumentResubmit-A7cEKErm.js","assets/js/NotFound-COSe95et.js","assets/js/CustomerWaitingPage-0gUVbO3p.js","assets/js/DemoDashboard-CliCCKrE.js","assets/js/DemoNav-CValYp2-.js","assets/js/DemoPOS-DvzwTGSX.js","assets/js/DemoCashiers-CyW9dwcr.js","assets/js/DemoInventory-BLKA1SnB.js","assets/js/DemoLogs-CE_sx0tv.js","assets/js/DemoProfile-CyXeTaUM.js"])))=>i.map(i=>d[i]);
import{j as e}from"./utils-BnCj7yKo.js";import{c as t,u as s,d as r,a as n,O as a,e as o,f as i,R as l}from"./vendor-BZrj58oz.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const c={},d=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),n=s?.nonce||s?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in c)return;c[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,n&&r.setAttribute("nonce",n),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};var m,u={};var h=function(){if(m)return u;m=1;var e=t();return u.createRoot=e.createRoot,u.hydrateRoot=e.hydrateRoot,u}();async function x(e,t={},s=!1){let r="";r="https://ekahera.onrender.com",r&&r.endsWith("/")&&(r=r.slice(0,-1));const n={...t.headers||{}};t.body instanceof FormData||(n["Content-Type"]="application/json");const a=sessionStorage.getItem("auth_token")||localStorage.getItem("token");a&&(n.Authorization=`Bearer ${a}`);let o=e.startsWith("/api")?e:`/api${e}`;if(t.params){const e=new URLSearchParams;Object.entries(t.params).forEach(([t,s])=>{null!=s&&""!==s&&e.append(t,s)});const s=e.toString();s&&(o+=(o.includes("?")?"&":"?")+s);const{params:r,...n}=t;t=n}const i=(r||"")+o,l=await fetch(i,{...t,credentials:"include",headers:n});if(!l.ok){const e=await l.text();if(400===l.status){try{const t=JSON.parse(e);if(t.error&&t.error.includes("Invalid OTP")){const e=t.attemptsLeft||0;throw new Error(`Invalid verification code. ${e} attempts remaining.`)}if(t.error&&(t.error.toLowerCase().includes("password")||t.error.toLowerCase().includes("current password"))){const e=new Error(t.error);throw e.response={status:400,data:t},e.data=t,e}}catch(c){if(c.response)throw c}throw new Error("Invalid request. Please check your input and try again.")}if(401===l.status){let t=null;try{const s=JSON.parse(e);s.error&&(t=s.error)}catch(c){}throw new Error(t||"Your session has expired. Please log in again.")}if(403===l.status)throw new Error("You do not have permission to perform this action.");if(404===l.status)throw new Error("The requested resource was not found.");if(409===l.status)try{const t=JSON.parse(e),s=new Error(t?.message||t?.error||"A resource with this information already exists.");throw s.response={status:409,data:t},s.data=t,s}catch(c){if(c.response)throw c;throw new Error("A resource with this information already exists.")}else if(500===l.status)throw new Error("Server error occurred. Please try again later.");try{const t=JSON.parse(e),s=t?.error||t?.message||JSON.stringify(t),r=new Error(`${l.status} ${l.statusText}: ${s}`);throw r.response={status:l.status,data:t},r.data=t,r}catch(c){if(c.response)throw c;const t=/<[^>]+>/.test(e)?"Server returned an HTML error page":e;throw new Error(`${l.status} ${l.statusText}: ${t}`)}}if(s)return l;if(204===l.status)return null;return(l.headers.get("content-type")||"").includes("application/json")?l.json():l.text()}function p(e){return e?{Authorization:`Bearer ${e}`}:{}}async function f({amount:e,description:t,referenceNumber:s,cancelUrl:r,successUrl:n}){return await x("/payments/gcash/checkout",{method:"POST",body:JSON.stringify({amount:e,description:t,referenceNumber:s,cancelUrl:r,successUrl:n})})}async function g({amount:e,description:t,referenceNumber:s,cancelUrl:r,successUrl:n}){return await x("/payments/maya/checkout",{method:"POST",body:JSON.stringify({amount:e,description:t,referenceNumber:s,cancelUrl:r,successUrl:n})})}const b=({variant:t="gradientBlue",pattern:s,overlay:r,floatingElements:n,className:a="",children:o})=>{let i={};"gradientBlue"===t&&(i.background="#e6f0ff");const l="dots"===s?{backgroundImage:"url('data:image/svg+xml;utf8,<svg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'><circle cx='1' cy='1' r='1' fill='%23bcd0ee' fill-opacity='0.25'/></svg>')",backgroundRepeat:"repeat",backgroundSize:"40px 40px",pointerEvents:"none",position:"absolute",inset:0,zIndex:1}:null,c=r?{background:"linear-gradient(180deg, rgba(59,130,246,0.07) 0%, rgba(255,255,255,0.7) 100%)",position:"absolute",inset:0,zIndex:2,pointerEvents:"none"}:null;return e.jsxs("div",{className:`relative w-full min-h-screen ${a}`,style:{zIndex:0},children:[e.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none select-none z-0",style:i}),s&&e.jsx("div",{style:l,"aria-hidden":"true"}),r&&e.jsx("div",{style:c,"aria-hidden":"true"}),n&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"/assets/png/vector1-Ds2OLeae.png",alt:"decorative vector 1",className:"absolute top-0 left-0 w-40 md:w-56 opacity-40 blur-sm pointer-events-none select-none z-10",style:{transform:"translate(-30%, -30%)"},"aria-hidden":"true"}),e.jsx("img",{src:"/assets/png/vector2-DT7TUxf2.png",alt:"decorative vector 2",className:"absolute bottom-0 right-0 w-40 md:w-56 opacity-40 blur-sm pointer-events-none select-none z-10",style:{transform:"translate(30%, 30%)"},"aria-hidden":"true"})]}),e.jsx("div",{className:"relative z-20 w-full",children:o})]})},j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA7CAYAAAAjDDn3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS5SURBVHgB5ZoxcBtFFIb/OwuYwWFQGiiRU8PYqaA8Q8MwDhEdpIk9E1ocSqCwVQAlFi0wMg3QxQ4wQ8NYdFBZDNRIlEkTF0mTiXN5vzYXSbe3p909JdGdvhmN5PVKd/++t++93dsARWnGddxFUz6tIcQriOU9QF3+rmNWxBjIbw5wH3/L5y6eQw8HwQAFCOADxd7DZX6SV4SnQ1cGYR+/Bt/DAzfhSvC2fLqKWVq0CPQEDsAvQcvta7ZsxJH07shFGphH1FTYtfWA6cJp5VPsiOCrKAMx9nAHLXSDk7xu+cKbcUNc+xoYuMoErb+E9bwAaBZO0ac4mlvXnsYU8dnCyy46IUe8LlzN6ePSix7Rw20Rn5rzodZNBbIGqsMalkVTikmLvxNvylB0UE3WJdd3kz8mLb6kj0xlYA0SxY+KrpHwjbhqLj4JtZ0Z1SIjV78Q9ystXHEigW6FgU5ZnHO7+qJJXQLdJj8o4eFwpbUYBLio3lRZ2scicRtnQxFdrjp8FryAJl09wqJxirWavK3iKRG9qrd1/83/Tn1ZSrEVvX1wU72sCNCoDaO53wZUYY6+1NuCC+b+jZfkO1/I+8uT7RS8/gnsCbEaUj1KwrXPzKKtrU1i1EOUhK+uiIuf09u39hxFK8ohfOcD2d28qLe3fpSY8A+8mHvhDIC7l/T29nVp/wHe1FAQ3tjquUk3/P+GssS0CD0NBrNOxhZn7z/xgG9QCG/hyU1Fr2X/n+tbzj3OQR93ZNoyRfD3PkdhvFydYo+/NotOSNIP56grHNS06JM7HhHcgLNwimFaoUXS8May4BydNkjjcKCab+jtnhE8E2fhtERaNAPN2ffViwUIbzA9CLZW33wrO5gxgh/8iZnhJJwBLG25/d9VoBkXyrb0POT3bKzeMTyvmaVo4iR88029rWVIKQxogxuTbc3X4U1nGzPFKaqvZlROdE1b0sHKBXobq7ePv8VMcBJeP6O37VyCNS8u2/dlrk6XqKzeDv/yr9bGcXL1+vN4IjCQrX+qTxWSFVx9KFS5MaC1D+379y1SEYNYUoputVUdMA7TKTNEUZcPZD89tu3M/J3Or3nr52nEP+ttTInjGWLvQ2D7Xb0fPaKIy9PVT2w7/5FxobwUxZ0S1vK0kq17pvM/rf84XD6URbm1cObnrBugsDQMTCxrucvS/w649ZM5R+fBgaDLp0lc3hfuwPRsOw/n9HX9BiiO7kjrMlfTPdNzk7Q8l5F06fR1CaO8Syk8Due4FJiwLg/oXsdt95zMSJ1eP2fNcVPMMF2Xtfv5j8zrBBMh7ttbnAxXSIZUY6LopkFy3Vm6fIhncQBHOMorVx6ulnIGgC7KQSq6aTD+eyaXz1rN5aE2ljfiIxR4sMBRpwsmQa7XVwPi6n5PElXAxDiUIYjgidNm/pygStZnsA+HfF4FlPCD4YmgNhaI0SKlhr3h8egFYSScVg+whQVhclmqjkMthMvr6/EadgG3oqaMZD8gfjtuYAlHZXqS6or5yXjFxecfCaiw+Pw9t9+CgRQ351HBgGd/CISHAAN5FlgR67ufftmId6XQuVz2AfA/9qOOePNEZIQSUvy8EwNgbXhIMAKPjqlTVA3MOQ8Aj5ByG4f1BkQAAAAASUVORK5CYII=";function y({children:t}){const a=s(),o=r(),[i,l]=n.useState(!0),[c,d]=n.useState(!1);n.useEffect(()=>{sessionStorage.getItem("setup_checked")?l(!1):(m(),sessionStorage.setItem("setup_checked","true"))},[]);const m=async()=>{try{if("/setup"===o.pathname)return void l(!1);(await x("/api/auth/setup/status")).needsSetup?(d(!0),"/setup"!==o.pathname&&a("/setup",{replace:!0})):d(!1)}catch(e){console.error("Setup status check failed:",e),d(!1)}finally{l(!1)}};return i?e.jsxs(b,{variant:"gradientBlue",pattern:"dots",overlay:!0,children:[e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-6 animate-fadeIn",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-blue-400 border-t-transparent rounded-full animate-spin-slow"}),e.jsx("div",{className:"absolute inset-2 border-3 border-blue-500 border-t-transparent rounded-full animate-spin-reverse"}),e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-400 opacity-40 blur-2xl animate-pulse-slow"}),e.jsx("img",{src:j,alt:"Logo",className:"w-full h-full animate-trending transform transition-transform duration-700 hover:scale-110 drop-shadow-lg"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-900 font-semibold text-lg tracking-wide animate-shimmerText bg-gradient-to-r from-gray-600 via-blue-600 to-gray-600 bg-[length:200%_auto] text-transparent bg-clip-text",children:"Checking system status..."}),e.jsx("p",{className:"text-gray-600 text-sm mt-1 animate-fadeIn delay-200",children:"Preparing your environment, please hold on."})]})]})}),e.jsx("style",{children:"\n            @keyframes fadeIn {\n              from { opacity: 0; transform: translateY(10px); }\n              to { opacity: 1; transform: translateY(0); }\n            }\n            .animate-fadeIn {\n              animation: fadeIn 0.8s ease-out forwards;\n            }\n\n            @keyframes trending {\n              0%, 100% { transform: translateY(0) rotate(0deg); }\n              25% { transform: translateY(-8px) rotate(2deg); }\n              50% { transform: translateY(-15px) rotate(0deg); }\n              75% { transform: translateY(-8px) rotate(-2deg); }\n            }\n            .animate-trending {\n              animation: trending 2s ease-in-out infinite;\n            }\n\n            @keyframes pulseSlow {\n              0%, 100% { opacity: 0.3; transform: scale(0.9); }\n              50% { opacity: 0.6; transform: scale(1.1); }\n            }\n            .animate-pulse-slow {\n              animation: pulseSlow 2.4s ease-in-out infinite;\n            }\n\n            @keyframes shimmerText {\n              0% { background-position: 0% 50%; }\n              100% { background-position: 200% 50%; }\n            }\n            .animate-shimmerText {\n              animation: shimmerText 2.5s linear infinite;\n            }\n\n            @keyframes spinSlow {\n              from { transform: rotate(0deg); }\n              to { transform: rotate(360deg); }\n            }\n            .animate-spin-slow {\n              animation: spinSlow 3s linear infinite;\n            }\n\n            @keyframes spinReverse {\n              from { transform: rotate(360deg); }\n              to { transform: rotate(0deg); }\n            }\n            .animate-spin-reverse {\n              animation: spinReverse 2s linear infinite;\n            }\n          "})]}):c&&"/setup"!==o.pathname?null:t}function v({label:t,children:s,onClick:r,type:n="button",className:a="",variant:o="primary",disabled:i=!1,loading:l=!1,size:c="md",microinteraction:d=!0,icon:m,iconPosition:u="left",isIconButton:h=!1,isCloseButton:x=!1,isPasswordToggle:p=!1,showPassword:f=!1,...g}){const b={sm:h?"p-2 text-sm":"px-4 py-2 text-sm",md:h?"p-2.5 text-base":"px-6 py-2.5 text-base",lg:h?"p-3 text-lg":"px-8 py-3 text-lg"},j=x?"&times;":null,y=p?f?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-5.523 0-10-4.477-10-10 0-1.657.403-3.22 1.125-4.575m2.122-2.122A9.956 9.956 0 0112 3c5.523 0 10 4.477 10 10 0 1.657-.403 3.22-1.125 4.575m-2.122 2.122A9.956 9.956 0 0112 21c-2.21 0-4.267-.72-5.947-1.947m0 0L3 21m0 0l3-3"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):null,v=e.jsxs(e.Fragment,{children:[m&&"left"===u&&m,s||t,m&&"right"===u&&m]});return e.jsxs("button",{className:`inline-flex items-center justify-center font-sans font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 select-none ${b[c]} ${{primary:"bg-blue-600 text-white shadow-md hover:from-blue-600 hover:to-blue-800 hover:shadow-lg",secondary:"bg-white text-blue-700 border border-blue-200 shadow-sm hover:bg-blue-50 hover:text-blue-900",outline:"border-2 border-blue-600 text-blue-600 bg-white hover:bg-blue-50 hover:border-blue-700",ghost:"text-blue-600 hover:bg-blue-50",danger:"bg-gradient-to-r from-red-500 to-red-700 text-white shadow-md hover:from-red-600 hover:to-red-800 hover:shadow-lg",success:"bg-gradient-to-r from-green-500 to-green-700 text-white shadow-md hover:from-green-600 hover:to-green-800 hover:shadow-lg",warning:"bg-gradient-to-r from-yellow-500 to-yellow-700 text-white shadow-md hover:from-yellow-600 hover:to-yellow-800 hover:shadow-lg",close:"absolute top-3 right-3 text-blue-400 hover:text-blue-700 text-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-400 rounded-full transition-colors duration-150",passwordToggle:"p-1 bg-transparent border-none shadow-none hover:bg-blue-100 rounded-full transition-colors focus:ring-0 focus:ring-transparent focus:ring-offset-0",iconAction:"rounded-full p-1 hover:bg-opacity-80 transition flex items-center",stockEntry:"bg-green-100 border border-green-300 rounded-full p-1 hover:bg-green-200 transition flex items-center",edit:"bg-blue-100 border border-blue-300 rounded-full p-1 hover:bg-blue-200 transition flex items-center",delete:"bg-red-100 border border-red-300 rounded-full p-1 hover:bg-red-200 transition flex items-center",pagination:"px-3 py-1 rounded-lg font-semibold border",paginationActive:"px-3 py-1 rounded-lg font-semibold border bg-blue-500 text-white border-blue-500",paginationInactive:"px-3 py-1 rounded-lg font-semibold border bg-white text-blue-700 border-blue-200 hover:bg-blue-100"}[o]} ${i||l?"opacity-50 cursor-not-allowed":""} ${a}`,onClick:r,type:n,disabled:i||l,...l?{"aria-busy":"true"}:{},...Object.fromEntries(Object.entries(g).filter(([e])=>"loading"!==e)),children:[l&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),j||y||v]})}function w({className:t="",size:s="md",variant:r="spinner",color:n="blue"}){const a={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsxs("svg",{className:`${a[s]||a.md} animate-spin text-gray-700 ${t}`,viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",role:"img",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}function _({onComplete:t}){const[s,r]=n.useState(0),[a,o]=n.useState(!0),i=[{title:"Welcome to eKahera!",content:"Let's take a quick tour of your new POS system. This tutorial will help you get started with the key features.",icon:"ðŸ‘‹",action:"Get Started"},{title:"Dashboard Overview",content:"Your dashboard shows sales analytics, recent transactions, and key business metrics. This is your command center for monitoring business performance.",icon:"ðŸ“Š",action:"Next"},{title:"Inventory Management",content:"Add and manage your products here. You can set prices, track stock levels, and organize items by categories. Keep your inventory up-to-date for accurate sales tracking.",icon:"ðŸ“¦",action:"Next"},{title:"Point of Sale (POS)",content:"Process sales transactions quickly and efficiently. Scan barcodes, add items manually, apply discounts, and handle different payment methods.",icon:"ðŸ’³",action:"Next"},{title:"Team Management",content:"Add cashiers and team members to your business. Assign roles and permissions to control access to different features of the system.",icon:"ðŸ‘¥",action:"Next"},{title:"Reports & Analytics",content:"Track your business performance with detailed reports. Monitor sales trends, inventory levels, and generate insights to grow your business.",icon:"ðŸ“ˆ",action:"Next"},{title:"You're All Set!",content:"Congratulations! You're now ready to start using eKahera. Remember, you can always access help and support from the menu. Welcome aboard!",icon:"ðŸš€",action:"Start Using eKahera"}],l=()=>{o(!1),t()};if(!a)return null;const c=i[s];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",s+1," of ",i.length]}),e.jsx("button",{onClick:()=>{o(!1),t()},className:"text-sm text-gray-500 hover:text-gray-700",children:"Skip Tutorial"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:(s+1)/i.length*100+"%"}})})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:c.icon}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:c.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.content})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:()=>r(Math.max(0,s-1)),disabled:0===s,className:"px-4 py-2 text-sm rounded-md "+(0===s?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"),children:"Previous"}),e.jsx("div",{className:"flex space-x-2",children:i.map((t,r)=>e.jsx("div",{className:"w-2 h-2 rounded-full "+(r===s?"bg-blue-600":r<s?"bg-blue-300":"bg-gray-300")},r))}),e.jsx(v,{onClick:()=>{s<i.length-1?r(s+1):l()},children:c.action})]})]})})}function S(){const e=s();return{logout:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user"),e("/")}}}function N({user:t,onProceed:s}){const[r,a]=n.useState(null),[o,i]=n.useState(!0),[l,c]=n.useState(null),[d,m]=n.useState(!1),[u,h]=n.useState(!1),{logout:p}=S();n.useEffect(()=>{const e=sessionStorage.getItem("verification_fetched");t&&!e?(f(),sessionStorage.setItem("verification_fetched","true")):t||i(!1);const s=localStorage.getItem(`tutorial_completed_${t?.user_id}`);h("true"===s)},[t]);const f=async()=>{try{const e=localStorage.getItem("token"),s=await x(`/documents/business/${t.businessId}`,{headers:{Authorization:`Bearer ${e}`}});a(s),console.log("Verification data:",s)}catch(e){"jwt expired"===e.message||'{"error":"Invalid token"}'===e.message?p():c(e.message||"Failed to fetch verification status")}finally{i(!1)}};if(o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(w,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Checking verification status..."})]})});if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"âš ï¸"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),e.jsx(v,{onClick:()=>window.location.reload(),children:"Try Again"})]})});const{verification:g}=r,b=g?.verification_status||"not_submitted";return"approved"===b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((t,s)=>e.jsx("div",{className:"absolute animate-pulse",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",fontSize:20*Math.random()+20+"px",animationDelay:3*Math.random()+"s",animationDuration:3*Math.random()+2+"s"},children:["ðŸŽ‰","ðŸŽŠ","âœ¨","ðŸŒŸ","ðŸ’«","ðŸŽˆ"][Math.floor(6*Math.random())]},s))}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 relative",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8 text-center relative z-10",children:[e.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:"ðŸŽ‰"}),e.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4 animate-pulse",children:"Congratulations!"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Business Has Been Verified!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Welcome to eKahera! Your business documents have been reviewed and approved. You now have full access to all system features."}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"ðŸš€ What's Next?"}),e.jsxs("ul",{className:"text-sm text-green-700 text-left space-y-1",children:[e.jsx("li",{children:"â€¢ ðŸ“¦ Set up your product inventory"}),e.jsx("li",{children:"â€¢ ðŸ’» Configure your POS system"}),e.jsx("li",{children:"â€¢ ðŸ‘¥ Add team members and cashiers"}),e.jsx("li",{children:"â€¢ ðŸ’° Start processing sales"})]})]}),e.jsx(v,{onClick:()=>{u?s():m(!0)},className:"bg-green-600 hover:bg-green-700 transform hover:scale-105 transition-all duration-200",children:"ðŸŽ¯ Get Started with eKahera"}),e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:u?"Welcome back!":"We'll guide you through the system!"})]})})]}):"rejected"===b?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-6",children:"âŒ"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Additional Information Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your business application requires additional information or documentation before it can be approved."}),g?.rejection_reason&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Reason:"}),e.jsx("p",{className:"text-red-700 text-sm",children:g.rejection_reason})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please review the feedback and resubmit your documents with the necessary corrections or additional information."}),e.jsx(v,{onClick:()=>window.location.href="/get-started",children:"Update Application"})]})}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("div",{className:"text-blue-500 text-6xl mb-6",children:"â³"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Verification in Progress"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for submitting your business application! Our verification team is currently reviewing your documents."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"What's Happening:"}),e.jsxs("ul",{className:"text-sm text-blue-700 text-left space-y-1",children:[e.jsx("li",{children:"â€¢ Your documents are being reviewed by our team"}),e.jsx("li",{children:"â€¢ Verification typically takes 1-3 business days"}),e.jsx("li",{children:"â€¢ You'll receive an email notification once complete"}),e.jsx("li",{children:"â€¢ No action is required from you at this time"})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Please check back in 1-3 business days"})," or wait for our email notification."]})}),e.jsxs("div",{className:"flex space-x-4 justify-center",children:[e.jsx(v,{onClick:f,variant:"outline",children:"Refresh Status"}),e.jsx(v,{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},variant:"outline",children:"Logout"})]})]}),d&&e.jsx(_,{onComplete:()=>{m(!1),h(!0),localStorage.setItem(`tutorial_completed_${t.user_id}`,"true"),s()}})]})}function A({children:t}){const s=r(),[a,o]=n.useState(null),[i,l]=n.useState(!1),[c,d]=n.useState(!1);n.useEffect(()=>{if(!sessionStorage.getItem("verification_checked")){const t=localStorage.getItem("user");if(t)try{const e=JSON.parse(t);o(e);const s=localStorage.getItem(`tutorial_completed_${e.user_id}`);d("true"===s)}catch(e){console.error("Failed to parse user data from localStorage:",e),o(null)}sessionStorage.setItem("verification_checked","true")}},[]);const m=["/setup","/login","/get-started","/","/contact","/services"].includes(s.pathname);if(!a||!a.businessId||"superadmin"===a.role||m)return e.jsxs(e.Fragment,{children:[t,i&&e.jsx(_,{onComplete:()=>{l(!1),d(!0),localStorage.setItem(`tutorial_completed_${a?.user_id}`,"true")}})]});return e.jsx(N,{user:a,onProceed:()=>{c||l(!0)}})}function k(){return e.jsx("div",{className:"app",children:e.jsx(y,{children:e.jsx(A,{children:e.jsx(a,{})})})})}const E=e=>{const t=n.lazy(e);return t.preload=e,t},I=E(()=>d(()=>import("./Home-BPUeUc_t.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),P=E(()=>d(()=>import("./Services-7F8S_HMX.js"),__vite__mapDeps([9,1,2]))),O=E(()=>d(()=>import("./GetStarted-CgjToOYY.js"),__vite__mapDeps([10,1,2,11,8,12,13,14,6,7]))),R=E(()=>d(()=>import("./Contact-BL9yGrGI.js"),__vite__mapDeps([15,1,2]))),D=E(()=>d(()=>import("./Login-CKw8VdhJ.js"),__vite__mapDeps([16,1,2,11,8,12,13]))),L=E(()=>d(()=>import("./ForgotPassword-BuxVdPzr.js"),__vite__mapDeps([17,1,2,11,8,12,13]))),T=E(()=>d(()=>import("./Dashboard-dA5OCdC3.js"),__vite__mapDeps([18,1,2,19,20,7,21,22,3,4,5,6,23,24,11,8,25]))),C=E(()=>d(()=>import("./POS-CdamvOFj.js"),__vite__mapDeps([26,1,2,27,28,3,4,5,6,7,29,11,12,30,23,31,20,32]))),V=E(()=>d(()=>import("./CashierPOS-BYqs31Ww.js"),__vite__mapDeps([33,1,2,27,28,29,11,12,7,30,31,34,13,20]))),M=E(()=>d(()=>import("./Inventory-B6eid1eZ.js"),__vite__mapDeps([35,1,2,3,4,5,6,7,23,36,11,37,38,12,27,28,22,39]))),B=E(()=>d(()=>import("./MobileScanner-DeDqV80t.js"),__vite__mapDeps([40,1,2,41,27,28,11,37,38,12,7]))),U=E(()=>d(()=>import("./SelectRole-CKf8ACTE.js"),__vite__mapDeps([42,1,2]))),z=E(()=>d(()=>import("./Customer-BgkSGTsD.js"),__vite__mapDeps([43,1,2,41,27,28,11,37,38,12,7]))),Y=E(()=>d(()=>import("./CustomerEnter-Oa6cfOZv.js"),__vite__mapDeps([44,1,2,27,28]))),F=E(()=>d(()=>import("./EnterStore-B0I0eFKr.js"),__vite__mapDeps([45,1,2,4,5,11,27,28]))),Q=E(()=>d(()=>import("./Cashiers-Cd1ABBYm.js"),__vite__mapDeps([46,1,2,3,4,5,6,7,23,47,38,12,37,27,28]))),q=E(()=>d(()=>import("./Logs-DkZ47vNl.js"),__vite__mapDeps([48,1,2,39,23,5,20,7,3,4,6,19]))),K=E(()=>d(()=>import("./Profile-CkRvUkQA.js"),__vite__mapDeps([49,1,2,3,4,5,6,7,23,11,38,12,20,30,14,34,13]))),X=E(()=>d(()=>import("./SuperAdmin-CKXRtaqG.js"),__vite__mapDeps([50,1,2,11,7,37,38,12,27,28]))),W=E(()=>d(()=>import("./SuperAdminView-DIZ5w0LJ.js"),__vite__mapDeps([51,1,2,7]))),H=E(()=>d(()=>import("./InitialSetup-D1zB7O_1.js"),__vite__mapDeps([52,1,2,11,5,8,12,13]))),Z=E(()=>d(()=>import("./StoreQR-Cv8qQPX-.js"),__vite__mapDeps([53,1,2,4,5,11]))),$=E(()=>d(()=>import("./Receipt-C0Vg3kJG.js"),__vite__mapDeps([54,1,2,21,11,30]))),J=E(()=>d(()=>import("./Documents-BT58tlNj.js"),__vite__mapDeps([55,1,2,3,4,5,6,7,23,11]))),G=E(()=>d(()=>import("./DocumentResubmission-13oBAbXp.js"),__vite__mapDeps([56,1,2,3,4,5,6,7,23]))),ee=E(()=>d(()=>import("./DocumentResubmitPage-gURJYLvw.js"),__vite__mapDeps([57,1,2]))),te=E(()=>d(()=>import("./PublicDocumentResubmit-A7cEKErm.js"),__vite__mapDeps([58,1,2]))),se=E(()=>d(()=>import("./NotFound-COSe95et.js"),__vite__mapDeps([59,1,2]))),re=E(()=>d(()=>import("./CustomerWaitingPage-0gUVbO3p.js"),__vite__mapDeps([60,1,2,11]))),ne=E(()=>d(()=>import("./DemoDashboard-CliCCKrE.js"),__vite__mapDeps([61,1,2,19,20,7,3,4,5,6,62,24,11,8,25,21,22]))),ae=E(()=>d(()=>import("./DemoPOS-DvzwTGSX.js"),__vite__mapDeps([63,1,2,3,4,5,6,7,62,27,28,29,11,12,30,32,20]))),oe=E(()=>d(()=>import("./DemoCashiers-CyW9dwcr.js"),__vite__mapDeps([64,1,2,39,62,5,20,7,3,4,6,47,38,12,37,27,28]))),ie=E(()=>d(()=>import("./DemoInventory-BLKA1SnB.js"),__vite__mapDeps([65,1,2,3,4,5,6,7,62,36,11,37,38,12,27,28]))),le=E(()=>d(()=>import("./DemoLogs-CE_sx0tv.js"),__vite__mapDeps([66,1,2,39,62,5,20,7,3,4,6,19]))),ce=E(()=>d(()=>import("./DemoProfile-CyXeTaUM.js"),__vite__mapDeps([67,1,2,3,4,5,6,7,62,11]))),de=()=>(l.useEffect(()=>{(async()=>{try{await Promise.all([I.preload(),P.preload()])}catch(e){console.error("Failed to preload components:",e)}})()},[]),e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})),me=o([{path:"/",element:e.jsx(k,{}),children:[{index:!0,element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(I,{})})},{path:"services",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(P,{})})},{path:"get-started",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(O,{})})},{path:"contact",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(R,{})})},{path:"login",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(D,{})})},{path:"forgot-password",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(L,{})})},{path:"dashboard",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(T,{})})},{path:"dashboard/store-qr",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(Z,{})})},{path:"pos",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(C,{})})},{path:"cashier-pos",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(V,{})})},{path:"inventory",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(M,{})})},{path:"mobile-scanner",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(B,{})})},{path:"select-role",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(U,{})})},{path:"customer",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(z,{})})},{path:"customer-enter",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(Y,{})})},{path:"receipt",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx($,{})})},{path:"customer-waiting",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(re,{})})},{path:"enter-store",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(F,{})})},{path:"cashiers",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(Q,{})})},{path:"logs",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(q,{})})},{path:"profile",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(K,{})})},{path:"documents",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(J,{})})},{path:"superadmin",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(X,{})})},{path:"superadmin/stores/:id",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(W,{})})},{path:"setup",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(H,{})})},{path:"resubmit-application",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(G,{})})},{path:"resubmit-documents",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(te,{})})},{path:"resubmit-document/:documentId",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(ee,{})})},{path:"demo/dashboard",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(ne,{})})},{path:"demo/pos",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(ae,{})})},{path:"demo/cashiers",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(oe,{})})},{path:"demo/inventory",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(ie,{})})},{path:"demo/logs",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(le,{})})},{path:"demo/profile",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(ce,{})})},{path:"*",element:e.jsx(n.Suspense,{fallback:e.jsx(de,{}),children:e.jsx(se,{})})}]}],{basename:"/"});h.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(i,{router:me})}));export{b as B,w as L,d as _,x as a,v as b,p as c,f as d,g as e,j as f,S as u};
//# sourceMappingURL=index-B6EMrwoj.js.map
