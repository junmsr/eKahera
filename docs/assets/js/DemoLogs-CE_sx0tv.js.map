{"version":3,"file":"DemoLogs-CE_sx0tv.js","sources":["../../../frontend/src/pages/DemoLogs.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState, useRef } from \"react\";\r\nimport { useDebounce } from \"../hooks/useDebounce\";\r\nimport DemoNav from \"../components/layout/DemoNav\";\r\nimport { BiRefresh, BiCalendarAlt } from \"react-icons/bi\";\r\nimport PageLayout from \"../components/layout/PageLayout\";\r\nimport Button from \"../components/common/Button\";\r\nimport dayjs from \"dayjs\";\r\nimport DateRangeFilterModal from \"../components/modals/DateRangeFilterModal\";\r\n\r\nconst DemoLogsPage = () => {\r\n  const dummyLogs = [\r\n    {\r\n      id: 1,\r\n      userId: 101,\r\n      username: \"Admin\",\r\n      action: \"Updated inventory stock for SKU 1001\",\r\n      time: \"November 1, 2024 10:30:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(0, \"day\")\r\n        .hour(10)\r\n        .minute(30)\r\n        .toISOString(),\r\n      role: \"admin\",\r\n    },\r\n    {\r\n      id: 2,\r\n      userId: 102,\r\n      username: \"cashier1\",\r\n      action: \"Processed transaction #T-10023\",\r\n      time: \"November 1, 2024 11:15:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(0, \"day\")\r\n        .hour(11)\r\n        .minute(15)\r\n        .toISOString(),\r\n      role: \"cashier\",\r\n    },\r\n    {\r\n      id: 3,\r\n      userId: 103,\r\n      username: \"customer1\",\r\n      action: \"Placed order for Product A\",\r\n      time: \"November 2, 2024 02:00:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(1, \"day\")\r\n        .hour(14)\r\n        .minute(0)\r\n        .toISOString(),\r\n      role: \"customer\",\r\n    },\r\n    {\r\n      id: 4,\r\n      userId: 104,\r\n      username: \"Admin\",\r\n      action: \"Added new product 'Demo Cake'\",\r\n      time: \"November 3, 2024 09:45:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(2, \"day\")\r\n        .hour(9)\r\n        .minute(45)\r\n        .toISOString(),\r\n      role: \"admin\",\r\n    },\r\n    {\r\n      id: 5,\r\n      userId: 105,\r\n      username: \"cashier2\",\r\n      action: \"Refunded transaction #T-10045\",\r\n      time: \"November 4, 2024 03:20:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(3, \"day\")\r\n        .hour(15)\r\n        .minute(20)\r\n        .toISOString(),\r\n      role: \"cashier\",\r\n    },\r\n    {\r\n      id: 6,\r\n      userId: 106,\r\n      username: \"customer2\",\r\n      action: \"Viewed product catalog\",\r\n      time: \"November 5, 2024 04:10:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(4, \"day\")\r\n        .hour(16)\r\n        .minute(10)\r\n        .toISOString(),\r\n      role: \"customer\",\r\n    },\r\n    {\r\n      id: 7,\r\n      userId: 107,\r\n      username: \"cashier3\",\r\n      action: \"Applied discount code SAVE20 to transaction #T-10067\",\r\n      time: \"November 6, 2024 08:30:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(5, \"day\")\r\n        .hour(8)\r\n        .minute(30)\r\n        .toISOString(),\r\n      role: \"cashier\",\r\n    },\r\n    {\r\n      id: 8,\r\n      userId: 108,\r\n      username: \"Admin\",\r\n      action: \"Generated sales report for November 2024\",\r\n      time: \"November 7, 2024 09:15:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(6, \"day\")\r\n        .hour(9)\r\n        .minute(15)\r\n        .toISOString(),\r\n      role: \"admin\",\r\n    },\r\n    {\r\n      id: 9,\r\n      userId: 109,\r\n      username: \"customer3\",\r\n      action: \"Updated account information\",\r\n      time: \"November 8, 2024 11:45:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(7, \"day\")\r\n        .hour(11)\r\n        .minute(45)\r\n        .toISOString(),\r\n      role: \"customer\",\r\n    },\r\n    {\r\n      id: 10,\r\n      userId: 110,\r\n      username: \"cashier1\",\r\n      action: \"Voided transaction #T-10089 due to customer request\",\r\n      time: \"November 9, 2024 02:20:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(8, \"day\")\r\n        .hour(14)\r\n        .minute(20)\r\n        .toISOString(),\r\n      role: \"cashier\",\r\n    },\r\n    {\r\n      id: 11,\r\n      userId: 111,\r\n      username: \"Admin\",\r\n      action: \"Modified user permissions for cashier2\",\r\n      time: \"November 10, 2024 10:00:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(9, \"day\")\r\n        .hour(10)\r\n        .minute(0)\r\n        .toISOString(),\r\n      role: \"admin\",\r\n    },\r\n    {\r\n      id: 12,\r\n      userId: 112,\r\n      username: \"customer4\",\r\n      action: \"Added item to wishlist\",\r\n      time: \"November 11, 2024 01:30:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(10, \"day\")\r\n        .hour(13)\r\n        .minute(30)\r\n        .toISOString(),\r\n      role: \"customer\",\r\n    },\r\n    {\r\n      id: 13,\r\n      userId: 113,\r\n      username: \"cashier3\",\r\n      action: \"Processed return for transaction #T-10101\",\r\n      time: \"November 12, 2024 03:45:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(11, \"day\")\r\n        .hour(15)\r\n        .minute(45)\r\n        .toISOString(),\r\n      role: \"cashier\",\r\n    },\r\n    {\r\n      id: 14,\r\n      userId: 114,\r\n      username: \"Admin\",\r\n      action: \"Updated system settings\",\r\n      time: \"November 13, 2024 09:30:00 AM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(12, \"day\")\r\n        .hour(9)\r\n        .minute(30)\r\n        .toISOString(),\r\n      role: \"admin\",\r\n    },\r\n    {\r\n      id: 15,\r\n      userId: 115,\r\n      username: \"customer5\",\r\n      action: \"Completed purchase of multiple items\",\r\n      time: \"November 14, 2024 04:15:00 PM\",\r\n      dateTime: dayjs()\r\n        .startOf(\"month\")\r\n        .add(13, \"day\")\r\n        .hour(16)\r\n        .minute(15)\r\n        .toISOString(),\r\n      role: \"customer\",\r\n    },\r\n  ];\r\n\r\n  const [logs, setLogs] = useState(dummyLogs);\r\n  const [error, setError] = useState(\"\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const debouncedSearchQuery = useDebounce(searchQuery, 400);\r\n  const [loading, setLoading] = useState(false);\r\n  const [clearing, setClearing] = useState(false);\r\n  const [dateRange, setDateRange] = useState({\r\n    startDate: dayjs().startOf(\"month\"),\r\n    endDate: dayjs().endOf(\"day\"),\r\n    rangeType: \"Month\",\r\n  });\r\n  const [roleFilter, setRoleFilter] = useState(\"all\");\r\n  const [sortOrder, setSortOrder] = useState(\"desc\");\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const [isSidebarOpen, setSidebarOpen] = useState(false);\r\n  const [showFilterModal, setShowFilterModal] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  const headerDateDisplay = useMemo(() => {\r\n    if (!dateRange.startDate || !dateRange.endDate) return \"Select Range\";\r\n\r\n    const start = dayjs(dateRange.startDate);\r\n    const end = dayjs(dateRange.endDate);\r\n    const diff = end.diff(start, \"day\") + 1;\r\n\r\n    if (dateRange.rangeType === \"Day\") {\r\n      return start.format(\"MMM D, YYYY\");\r\n    } else if (dateRange.rangeType === \"Week\") {\r\n      return `${start.format(\"MMM D\")} - ${end.format(\r\n        \"MMM D, YYYY\"\r\n      )} (${diff} days)`;\r\n    } else if (dateRange.rangeType === \"Month\") {\r\n      return `${start.format(\"MMM YYYY\")} (${diff} days)`;\r\n    } else {\r\n      return `${start.format(\"MMM D, YYYY\")} - ${end.format(\r\n        \"MMM D, YYYY\"\r\n      )} (${diff} days)`;\r\n    }\r\n  }, [dateRange]);\r\n\r\n  // Format timestamp with month names instead of numbers\r\n  const formatTimestamp = (dateString) => {\r\n    if (!dateString) return \"Invalid date\";\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return \"Invalid date\";\r\n\r\n    const monthNames = [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\",\r\n    ];\r\n\r\n    const month = monthNames[date.getMonth()];\r\n    const day = date.getDate();\r\n    const year = date.getFullYear();\r\n    const hours = date.getHours();\r\n    const minutes = date.getMinutes();\r\n    const seconds = date.getSeconds();\r\n    const ampm = hours >= 12 ? \"PM\" : \"AM\";\r\n    const displayHours = hours % 12 || 12;\r\n    const displayMinutes = minutes.toString().padStart(2, \"0\");\r\n    const displaySeconds = seconds.toString().padStart(2, \"0\");\r\n\r\n    return `${month} ${day}, ${year} ${displayHours}:${displayMinutes}:${displaySeconds} ${ampm}`;\r\n  };\r\n\r\n  const fetchLogs = async () => {\r\n    // Dummy fetch - just set loading briefly\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setTimeout(() => {\r\n      setLogs(dummyLogs);\r\n      setLoading(false);\r\n    }, 500);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLogs();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const filteredLogs = useMemo(() => {\r\n    let filtered = logs;\r\n\r\n    if (roleFilter !== \"all\") {\r\n      filtered = filtered.filter((l) => {\r\n        if (roleFilter === \"customer\") {\r\n          return l.role === \"user\" || l.role === \"customer\";\r\n        }\r\n        return l.role === roleFilter;\r\n      });\r\n    }\r\n\r\n    if (debouncedSearchQuery) {\r\n      const query = debouncedSearchQuery.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (l) =>\r\n          (l.action || \"\").toLowerCase().includes(query) ||\r\n          (l.username || \"\").toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Apply date range filter\r\n    if (dateRange.startDate) {\r\n      const startDate = dayjs(dateRange.startDate).startOf(\"day\");\r\n      const endDate = dateRange.endDate\r\n        ? dayjs(dateRange.endDate).endOf(\"day\")\r\n        : dayjs().endOf(\"day\");\r\n\r\n      filtered = filtered.filter((log) => {\r\n        const logDate = dayjs(log.dateTime);\r\n        return logDate.isBetween(startDate, endDate, null, \"[]\");\r\n      });\r\n    }\r\n\r\n    // Sort based on sortOrder: \"desc\" = newest first, \"asc\" = oldest first\r\n    filtered.sort((a, b) => {\r\n      const dateA = new Date(a.dateTime);\r\n      const dateB = new Date(b.dateTime);\r\n      return sortOrder === \"asc\" ? dateA - dateB : dateB - dateA;\r\n    });\r\n\r\n    return filtered;\r\n  }, [logs, roleFilter, debouncedSearchQuery, sortOrder, dateRange]);\r\n\r\n  const exportToCSV = () => {\r\n    try {\r\n      // Export only the filtered logs (which already respect date range, role filter, and search query)\r\n      const logsToExport = filteredLogs;\r\n\r\n      if (logsToExport.length === 0) {\r\n        setError(\"No logs to export for the selected date range\");\r\n        return;\r\n      }\r\n\r\n      const headers = [\r\n        \"Customer ID\",\r\n        \"Customer Name\",\r\n        \"Role\",\r\n        \"Action\",\r\n        \"Time\",\r\n      ];\r\n\r\n      const csvRows = [\r\n        headers.join(\",\"),\r\n        ...logsToExport.map((log) => {\r\n          const row = [\r\n            log.userId || log.id || \"\",\r\n            `\"${(log.username || \"\").replace(/\"/g, '\"\"')}\"`,\r\n            log.role || \"\",\r\n            `\"${(log.action || \"\").replace(/\"/g, '\"\"')}\"`,\r\n            `\"${(log.time || \"\").replace(/\"/g, '\"\"')}\"`,\r\n          ];\r\n          return row.join(\",\");\r\n        }),\r\n      ];\r\n\r\n      const csvContent = csvRows.join(\"\\n\");\r\n\r\n      // Generate filename with date range if available\r\n      let filename = `logs_export_${new Date().toISOString().split(\"T\")[0]}`;\r\n      if (dateRange.startDate && dateRange.endDate) {\r\n        const startStr = dayjs(dateRange.startDate).format(\"YYYY-MM-DD\");\r\n        const endStr = dayjs(dateRange.endDate).format(\"YYYY-MM-DD\");\r\n        filename = `logs_export_${startStr}_to_${endStr}`;\r\n      }\r\n\r\n      const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n      const link = document.createElement(\"a\");\r\n      const url = URL.createObjectURL(blob);\r\n      link.setAttribute(\"href\", url);\r\n      link.setAttribute(\"download\", `${filename}.csv`);\r\n      link.style.visibility = \"hidden\";\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    } catch (err) {\r\n      setError(\"Failed to export logs as CSV\");\r\n      console.error(\"CSV export error:\", err);\r\n    }\r\n  };\r\n\r\n  const clearLogs = async () => {\r\n    if (\r\n      !window.confirm(\r\n        \"Are you sure you want to clear all logs? This action cannot be undone.\"\r\n      )\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    // Dummy clear - just show message\r\n    setClearing(true);\r\n    setError(\"\");\r\n    setTimeout(() => {\r\n      setError(\"Clear logs feature is disabled in demo mode.\");\r\n      setClearing(false);\r\n    }, 500);\r\n  };\r\n\r\n  const roleOptions = [\r\n    { value: \"all\", label: \"All Roles\" },\r\n    { value: \"cashier\", label: \"Cashier\" },\r\n    { value: \"admin\", label: \"Admin\" },\r\n    { value: \"customer\", label: \"Customer\" },\r\n  ];\r\n\r\n  const selectedRole = roleOptions.find(\r\n    (option) => option.value === roleFilter\r\n  );\r\n\r\n  const headerActions = (\r\n    <div className=\"flex items-center gap-3\">\r\n      <button\r\n        onClick={fetchLogs}\r\n        disabled={loading}\r\n        title=\"Refresh Logs\"\r\n        className=\"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 p-2 rounded-lg border border-gray-200/80 text-sm font-medium transition-all duration-200 hover:shadow-md\"\r\n      >\r\n        <BiRefresh className={`w-5 h-5 ${loading ? \"animate-spin\" : \"\"}`} />\r\n      </button>\r\n\r\n      <button\r\n        onClick={() => setShowFilterModal(true)}\r\n        disabled={loading}\r\n        title=\"Select Date Range\"\r\n        className={`flex items-center gap-1 sm:gap-2 ${\r\n          dateRange.rangeType !== \"Custom\"\r\n            ? \"bg-blue-50 border-blue-200\"\r\n            : \"bg-white/80 border-gray-200/80\"\r\n        } backdrop-blur-sm hover:bg-white text-gray-700 px-2 sm:px-3 py-1.5 rounded-lg border text-xs sm:text-sm font-medium transition-all duration-200 hover:shadow-md`}\r\n      >\r\n        <BiCalendarAlt className=\"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0\" />\r\n        <span className=\"hidden sm:inline text-left truncate max-w-[180px]\">\r\n          {headerDateDisplay}\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <PageLayout\r\n      title=\"LOGS (DEMO)\"\r\n      sidebar={<DemoNav />}\r\n      isSidebarOpen={isSidebarOpen}\r\n      setSidebarOpen={setSidebarOpen}\r\n      className=\"overflow-hidden\"\r\n      headerActions={headerActions}\r\n    >\r\n      <div className=\"h-[calc(100vh-80px)] bg-transparent p-4 flex flex-col overflow-hidden\">\r\n        <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between mb-4\">\r\n          <div className=\"relative flex-1 max-w-xl w-full flex-shrink-0\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n              <svg\r\n                className=\"h-5 w-5 text-gray-400\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search logs...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"w-full pl-12 pr-4 py-3 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap gap-3 w-full sm:w-auto\">\r\n            <div className=\"relative\" ref={dropdownRef}>\r\n              <button\r\n                onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n                className=\"w-full sm:w-auto pl-4 pr-10 py-3 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 flex items-center justify-between\"\r\n              >\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span>{selectedRole?.icon}</span>\r\n                  <span>{selectedRole?.label}</span>\r\n                </div>\r\n                <svg\r\n                  className={`w-4 h-4 transition-transform duration-200 ${\r\n                    isDropdownOpen ? \"rotate-180\" : \"\"\r\n                  }`}\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M19 9l-7 7-7-7\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n              {isDropdownOpen && (\r\n                <div className=\"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-60 overflow-auto\">\r\n                  {roleOptions.map((option) => (\r\n                    <button\r\n                      key={option.value}\r\n                      onClick={() => {\r\n                        setRoleFilter(option.value);\r\n                        setIsDropdownOpen(false);\r\n                      }}\r\n                      className={`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 flex items-center gap-2 transition-colors duration-150 ${\r\n                        roleFilter === option.value\r\n                          ? \"bg-blue-50 text-blue-600\"\r\n                          : \"text-gray-700\"\r\n                      }`}\r\n                    >\r\n                      <span>{option?.icon}</span>\r\n                      <span>{option.label}</span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <Button\r\n              onClick={() => setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\")}\r\n              variant=\"secondary\"\r\n              size=\"md\"\r\n              className=\"flex items-center gap-2\"\r\n            >\r\n              <svg\r\n                className=\"w-5 h-5\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12\"\r\n                />\r\n              </svg>\r\n              Sort ({sortOrder === \"asc\" ? \"Oldest\" : \"Newest\"})\r\n            </Button>\r\n            <Button\r\n              onClick={exportToCSV}\r\n              variant=\"secondary\"\r\n              size=\"md\"\r\n              className=\"flex items-center gap-2\"\r\n              disabled={filteredLogs.length === 0 || loading}\r\n            >\r\n              <svg\r\n                className=\"w-5 h-5\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n                />\r\n              </svg>\r\n              Export as CSV\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Desktop Table View */}\r\n        <div className=\"hidden sm:block overflow-hidden rounded-xl border border-gray-200/50 h-[calc(100%-150px)] flex-1 min-h-0\">\r\n          <div className=\"h-full overflow-y-auto\">\r\n            <table className=\"w-full bg-white/80 backdrop-blur-md\">\r\n              <thead className=\"bg-gray-100/90 backdrop-blur-md sticky top-0 z-10\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Customer\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Role\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Action\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Timestamp\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200/50\">\r\n                {loading ? (\r\n                  <tr>\r\n                    <td colSpan=\"4\" className=\"text-center py-8 text-gray-500\">\r\n                      Loading logs...\r\n                    </td>\r\n                  </tr>\r\n                ) : filteredLogs.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan=\"4\" className=\"text-center py-8 text-gray-500\">\r\n                      No logs found.\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  filteredLogs.map((log) => (\r\n                    <tr\r\n                      key={log.id}\r\n                      className=\"hover:bg-gray-50/50 transition-colors\"\r\n                    >\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">\r\n                          {log.username}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          ID: {log.userId}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span\r\n                          className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                            log.role === \"admin\" ||\r\n                            log.role === \"business_owner\"\r\n                              ? \"bg-purple-100 text-purple-800\"\r\n                              : log.role === \"cashier\"\r\n                              ? \"bg-blue-100 text-blue-800\"\r\n                              : \"bg-green-100 text-green-800\"\r\n                          }`}\r\n                        >\r\n                          {log.role}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\r\n                        {log.action}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {log.time}\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Card View */}\r\n        <div className=\"sm:hidden overflow-y-auto space-y-3 h-[calc(100%-150px)]\">\r\n          {loading ? (\r\n            Array.from({ length: 5 }).map((_, i) => (\r\n              <div\r\n                key={i}\r\n                className=\"bg-white/80 backdrop-blur-md rounded-xl p-4 border border-gray-200/50 animate-pulse\"\r\n              >\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-1/3\"></div>\r\n                  <div className=\"h-3 bg-gray-200 rounded w-1/4\"></div>\r\n                </div>\r\n                <div className=\"h-3 bg-gray-200 rounded w-full mb-3\"></div>\r\n                <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\r\n              </div>\r\n            ))\r\n          ) : filteredLogs.length === 0 ? (\r\n            <div className=\"text-center py-8 text-gray-500 bg-white/80 backdrop-blur-md rounded-xl\">\r\n              No logs found.\r\n            </div>\r\n          ) : (\r\n            filteredLogs.map((log) => (\r\n              <div\r\n                key={log.id}\r\n                className=\"bg-white/80 backdrop-blur-md rounded-xl p-4 border border-gray-200/50 shadow-sm\"\r\n              >\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <div>\r\n                    <div className=\"text-sm font-semibold text-gray-900\">\r\n                      {log.username}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      ID: {log.userId}\r\n                    </div>\r\n                  </div>\r\n                  <span\r\n                    className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full capitalize ${\r\n                      log.role === \"admin\" || log.role === \"business_owner\"\r\n                        ? \"bg-purple-100 text-purple-800\"\r\n                        : log.role === \"cashier\"\r\n                        ? \"bg-blue-100 text-blue-800\"\r\n                        : \"bg-green-100 text-green-800\"\r\n                    }`}\r\n                  >\r\n                    {log.role}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-800 mb-2\">{log.action}</p>\r\n                <div className=\"text-xs text-gray-500 text-right border-t border-gray-200/50 pt-2 mt-2\">\r\n                  {log.time}\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-4\">\r\n            <svg\r\n              className=\"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\r\n              />\r\n            </svg>\r\n            <p className=\"text-sm font-medium text-red-700\">\r\n              {(() => {\r\n                try {\r\n                  const parsed = JSON.parse(error);\r\n                  return parsed.error || parsed.message || error;\r\n                } catch {\r\n                  return error;\r\n                }\r\n              })()}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Date Range Filter Modal */}\r\n        <DateRangeFilterModal\r\n          isOpen={showFilterModal}\r\n          onClose={() => setShowFilterModal(false)}\r\n          onDateRangeApply={(newDateRange) => {\r\n            setDateRange({\r\n              startDate: newDateRange.startDate,\r\n              endDate: newDateRange.endDate,\r\n              rangeType: newDateRange.rangeType,\r\n            });\r\n            // Trigger a refetch of logs with the new date range\r\n            fetchLogs();\r\n          }}\r\n        />\r\n      </div>\r\n    </PageLayout>\r\n  );\r\n};\r\n\r\nexport default DemoLogsPage;\r\n"],"names":["DemoLogsPage","dummyLogs","id","userId","username","action","time","dateTime","dayjs","startOf","add","hour","minute","toISOString","role","logs","setLogs","useState","error","setError","searchQuery","setSearchQuery","debouncedSearchQuery","useDebounce","loading","setLoading","clearing","setClearing","dateRange","setDateRange","startDate","endDate","endOf","rangeType","roleFilter","setRoleFilter","sortOrder","setSortOrder","isDropdownOpen","setIsDropdownOpen","isSidebarOpen","setSidebarOpen","showFilterModal","setShowFilterModal","dropdownRef","useRef","headerDateDisplay","useMemo","start","end","diff","format","fetchLogs","async","setTimeout","useEffect","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","filteredLogs","filtered","filter","l","query","toLowerCase","includes","log","isBetween","sort","a","b","dateA","Date","dateB","roleOptions","value","label","selectedRole","find","option","headerActions","jsxs","className","children","jsx","onClick","disabled","title","BiRefresh","BiCalendarAlt","PageLayout","sidebar","DemoNav","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","onChange","e","ref","icon","map","Button","variant","size","exportToCSV","logsToExport","length","csvContent","join","replace","filename","split","startStr","blob","Blob","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","err","colSpan","Array","from","_","i","parsed","JSON","parse","message","DateRangeFilterModal","isOpen","onClose","onDateRangeApply","newDateRange"],"mappings":"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"}