import{j as e}from"./utils-L0j39QIW.js";import{u as s,a,L as t}from"./vendor-DPJ7iNYg.js";import{B as r,b as l,L as n,a as i}from"./index-C3oyeyrQ.js";import{C as o}from"./Card-Cru2VKQZ.js";import{S as d}from"./SectionHeader-jpTrkMUD.js";import{I as m}from"./Input-DoNyYXSI.js";import{P as c}from"./PasswordInput-B67VXabr.js";function x(){const x=s(),[h,u]=a.useState({email:"",password:""}),[p,g]=a.useState({}),[f,j]=a.useState(!1),[w,v]=a.useState(""),b=e=>{u({...h,[e.target.name]:e.target.value}),p[e.target.name]&&g({...p,[e.target.name]:""})};return e.jsxs(r,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20 pointer-events-none"}),e.jsx("main",{className:"flex h-screen items-center justify-center px-2 relative z-10 overflow-hidden",children:e.jsxs(o,{variant:"glass",className:"w-full max-w-4xl flex flex-col md:flex-row overflow-hidden p-0 animate-fadeIn rounded-2xl shadow-xl",children:[e.jsx("section",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-6 md:p-12 rounded-l-2xl bg-white/90 backdrop-blur-xl",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(t,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]})}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx(d,{variant:"primary",size:"lg",className:"text-center",children:"Log In"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your account"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return h.email||(e.email="Email or username is required"),h.password||(e.password="Password is required"),g(e),0===Object.keys(e).length})()){j(!0),v("");try{const{token:e,user:s}=await i("/api/auth/login",{method:"POST",body:JSON.stringify({email:h.email,password:h.password})});sessionStorage.setItem("auth_token",e),sessionStorage.setItem("user",JSON.stringify(s));const a=(s?.role||"").toLowerCase();x("cashier"===a?"/cashier-pos":"superadmin"===a?"/superadmin":"admin"===a?"/dashboard":"/")}catch(s){v("Login Failed")}finally{j(!1)}}},className:"w-full flex flex-col gap-4",noValidate:!0,children:[e.jsx(m,{name:"email",value:h.email,onChange:b,placeholder:"Email or username",type:"text",error:p.email,autoComplete:"username",required:!0}),e.jsx("div",{className:"relative",children:e.jsx(c,{name:"password",value:h.password,onChange:b,placeholder:"Password",error:p.password,autoComplete:"current-password",required:!0,className:"pr-12"})}),e.jsxs("div",{className:"flex items-center justify-between mt-1 text-sm text-gray-500",children:[e.jsx(t,{to:"/forgot-password",className:"text-blue-600 hover:underline",children:"Forgot password?"}),e.jsxs("div",{children:["Need an account?"," ",e.jsx("a",{href:"/get-started",className:"text-blue-600 hover:underline",children:"Get started"})]})]}),w&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("p",{className:"text-sm font-medium text-red-700",children:(()=>{try{const e=JSON.parse(w);return e.error||e.message||w}catch{return w}})()})]}),e.jsxs(l,{type:"submit",variant:"primary",disabled:f,className:"w-full flex items-center justify-center h-12 mt-2 text-lg font-medium transition-all duration-300 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]",children:[f&&e.jsx(n,{size:"sm",className:"mr-2"}),f?"Logging in...":"Login"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"mt-6 text-gray-400 text-xs",children:"Secure login powered by eKahera"})})]})}),e.jsxs("aside",{className:"hidden md:flex items-center rounded-r-2xl bg-gradient-to-br from-indigo-500 via-blue-400 to-sky-400 w-1/2 p-10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-7 -z-10 pointer-events-none",children:e.jsx("div",{className:"w-full h-full bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.25)_1px,transparent_0)] bg-[length:24px_24px]"})}),e.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-start max-w-sm pl-6",children:[e.jsx("h2",{className:"text-white font-extrabold text-3xl leading-tight mb-3",children:"Welcome back!"}),e.jsx("p",{className:"text-white/90 text-base max-w-xs mb-6",children:"Sign in to continue managing transactions, inventory and sales from anywhere."}),e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 text-white/90 px-3 py-1 text-xs backdrop-blur-sm ring-1 ring-white/20",children:[e.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-300 animate-pulse"}),"Secure area â€¢ eKahera"]})]})]})]})}),e.jsx("style",{children:"\n    html, body, #root {\n      height: 100%;\n      margin: 0;\n      padding: 0;\n      overflow: hidden; /* No scroll */\n    }\n  "})]})}export{x as default};
//# sourceMappingURL=Login-CxvGWvmE.js.map
