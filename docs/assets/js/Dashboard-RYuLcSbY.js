import{j as e}from"./utils-B2FtDWBX.js";import{a as s,R as t}from"./vendor-mHQTfcnf.js";import{a,u as r,b as l,c as d}from"./index-C9q1jg2T.js";import{P as o}from"./PageLayout-BtLpjQ7R.js";import{N as n}from"./Nav-Admin-DAvPkiTQ.js";import{C as i}from"./Card-BnHxHSFu.js";import{S as c}from"./SectionHeader-Chu9b-Wy.js";import{R as m,B as x,C as h,X as g,Y as u,T as b,a as f,L as p,b as j,c as N,P as y,d as v,e as w}from"./charts-rw11DMOZ.js";import{B as S}from"./index-DrH1VSyj.js";import{P as k}from"./ProfileModal-BP2vGh1v.js";import{N as _}from"./NotificationDropdown-CrXtv_k3.js";import"./Navbar-BRrsrSrO.js";import"./Logo-DJ17xljn.js";/* empty css              */import"./PrivacyPolicyModal-Nf9ZWTPr.js";import"./BaseModal-DLQpfPIu.js";import"./FormField-BokbHxN5.js";import"./Input-Cu9uKTuc.js";function P({title:s,children:t,className:a="",...r}){return e.jsxs(i,{className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl group ${a}`,...r,children:[s&&e.jsx(c,{size:"md",align:"left",className:"text-gray-900 mb-6 font-bold group-hover:text-blue-600 transition-colors duration-300",children:s}),e.jsxs("div",{className:"relative",children:[t,e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-blue-50/20 rounded-lg pointer-events-none"})]})]})}function L({stats:s,className:t="",...a}){return e.jsx(i,{className:`bg-white backdrop-blur-sm border border-gray-100 shadow-sm rounded-2xl ${t}`,...a,children:e.jsxs("div",{className:"grid grid-cols-1 divide-y divide-gray-200/60 p-6 md:p-8 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"₱"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Today's Sales"}),e.jsxs("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:["₱",Number(s.sales||0).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"↻"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Transactions"}),e.jsx("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:Number(s.transactions||0).toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"★"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Top Product"}),e.jsx("span",{className:"text-xl md:text-lg font-bold text-gray-900 mt-0.5 leading-tight line-clamp-2",children:s.topProduct||"-"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"#"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Total Items Sold"}),e.jsx("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:Number(s.totalItemsSold||0).toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-start gap-4 py-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:"~"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Avg TX Value"}),e.jsxs("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:["₱",Number(s.averageTransactionValue||0).toLocaleString()]})]})]})]})})}const R=({trend:s})=>"up"===s?e.jsx("span",{className:"text-blue-600 font-semibold text-xl",children:"↗"}):"down"===s?e.jsx("span",{className:"text-blue-400 font-semibold text-xl",children:"↘"}):e.jsx("span",{className:"text-gray-400 font-semibold text-xl",children:"→"});function M(){const[t,r]=s.useState([]),[l,d]=s.useState([]),[o,n]=s.useState([]),[i,c]=s.useState([]),[S,k]=s.useState([]),[_,P]=s.useState({}),[L,M]=s.useState({cashFlow:0,operatingCosts:0,profitGrowth:0}),T=["#3b82f6","#1d4ed8","#1e40af","#2563eb","#60a5fa","#93c5fd","#bfdbfe"];return s.useEffect(()=>{(async()=>{try{const[e,s,t,l,o,i,m]=await Promise.all([a("/api/stats/key-metrics"),a("/api/stats/sales-by-location"),a("/api/stats/revenue-vs-expenses"),a("/api/stats/profit-trend"),a("/api/stats/payment-methods"),a("/api/stats/product-performance"),a("/api/stats/business-stats")]);P(e||{}),r(s||[]),d(t||[]),n(l||[]),c(o||[]),k(i||[]),M(m||{})}catch(e){console.error("Error fetching business report data:",e)}})()},[]),e.jsxs("section",{className:"w-full px-5 md:px-8 py-6 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Sales by Location"}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(x,{data:t,margin:{top:10,right:10,left:0,bottom:10},children:[e.jsx(h,{strokeDasharray:"3 3",stroke:"#cbd5e1"}),e.jsx(g,{dataKey:"location",tick:{fontSize:13,fill:"#1e40af"},padding:{left:10,right:10}}),e.jsx(u,{tick:{fontSize:13,fill:"#1e40af"}}),e.jsx(b,{contentStyle:{background:"#f0f9ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e3a8a"}}),e.jsx(f,{dataKey:"sales",fill:"#3b82f6",radius:[10,10,0,0],barSize:40,background:{fill:"#c7d2fe"}})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Revenue vs Expenses"}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(x,{data:l,margin:{top:10,right:10,left:0,bottom:10},children:[e.jsx(h,{strokeDasharray:"3 3",stroke:"#cbd5e1"}),e.jsx(g,{dataKey:"month",tick:{fontSize:13,fill:"#1e40af"},padding:{left:10,right:10}}),e.jsx(u,{tick:{fontSize:13,fill:"#1e40af"}}),e.jsx(b,{contentStyle:{background:"#f0f9ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e3a8a"}}),e.jsx(p,{verticalAlign:"top",wrapperStyle:{paddingBottom:10}}),e.jsx(f,{dataKey:"revenue",fill:"#2563eb",radius:[10,10,0,0],barSize:32,background:{fill:"#bfdbfe"}}),e.jsx(f,{dataKey:"expenses",fill:"#93c5fd",radius:[10,10,0,0],barSize:32,background:{fill:"#dbeafe"}})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Profit Trends"}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(j,{data:o,margin:{top:10,right:10,left:0,bottom:10},children:[e.jsx(h,{strokeDasharray:"3 3",stroke:"#cbd5e1"}),e.jsx(g,{dataKey:"month",tick:{fontSize:13,fill:"#1e40af"},padding:{left:10,right:10}}),e.jsx(u,{tick:{fontSize:13,fill:"#1e40af"}}),e.jsx(b,{contentStyle:{background:"#f0f9ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e3a8a"}}),e.jsx(N,{type:"monotone",dataKey:"profit",stroke:"#2563eb",strokeWidth:3,dot:{fill:"#2563eb",r:6}})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg",children:[e.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Payment Methods"}),e.jsx(m,{width:"100%",height:280,children:e.jsxs(y,{margin:{top:20,right:20,left:20,bottom:20},children:[e.jsx(v,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,value:s})=>`${e} ${s}%`,outerRadius:90,dataKey:"value",children:i.map((s,t)=>e.jsx(w,{fill:T[t%T.length]},`cell-${t}`))}),e.jsx(b,{formatter:(e,s,t)=>[`${Number(e).toFixed(0)}%`,t?.payload?.name],contentStyle:{background:"#eff6ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e40af"}}),e.jsx(p,{verticalAlign:"bottom",height:36})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-md mb-8 w-full",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6 select-none",children:"Product Performance"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{const s=Math.max(...S.map(e=>e.sales||0));return S.map(t=>{const a=s?Math.round(t.sales/s*100):0;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-150",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:t.name}),e.jsx(R,{trend:t.trend})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Sales progress for ${t.name}`,style:{width:`${a}%`}})}),e.jsxs("p",{className:"text-sm text-gray-600 font-semibold",children:["₱",t.sales.toLocaleString()]})]},t.name)})})()})]})]})}const T="#93c5fd",C="#3e209bff";function I({data:s,className:t="",range:a="month"}){return e.jsx(P,{title:e.jsxs("span",{className:"text-blue-700",children:["Visitors for the ",{week:"last 7 days",month:"last 30 days",year:"last 365 days"}[a]||"last 6 months"]}),className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${t}`,children:e.jsx("div",{className:"h-72",children:e.jsx(m,{width:"100%",height:"100%",children:e.jsxs(j,{data:s,margin:{top:20,right:20,left:0,bottom:5},children:[e.jsx(h,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(g,{dataKey:"name",tick:{fill:"#374151",fontSize:14}}),e.jsx(u,{tick:{fill:"#374151",fontSize:14}}),e.jsx(b,{contentStyle:{background:"#fff",borderColor:"#e5e7eb",borderRadius:8}}),e.jsx(N,{type:"monotone",dataKey:"value",stroke:T,strokeWidth:3,dot:{r:5,fill:T}})]})})})})}function $({data:s,className:t=""}){return e.jsx(P,{title:e.jsx("span",{className:"text-blue-700",children:"Sales by Product Category"}),className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl ${t}`,children:e.jsx("div",{className:"h-72",children:e.jsx(m,{width:"100%",height:"100%",children:e.jsxs(y,{children:[e.jsx(v,{data:s,dataKey:"percent",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:e=>`${e.name} (${Number(e.percent||0).toFixed(1)}%)`,fill:C,children:s.map((s,t)=>{const a=[T,"#1e2cecff",C];return e.jsx(w,{fill:a[t%a.length]},`cell-${t}`)})}),e.jsx(p,{}),e.jsx(b,{formatter:(e,s,t)=>[`${Number(e).toFixed(1)}%`,t?.payload?.name],contentStyle:{background:"#fafafa",borderColor:C,borderRadius:8}})]})})})})}function O(){const[i,c]=s.useState({revenue:{value:0,change:0},expenses:{value:0,change:0},netProfit:{value:0,change:0},grossMargin:{value:0,change:0}}),[m,x]=s.useState([]),[h,g]=s.useState("month"),[u,b]=s.useState(!1),[f,p]=s.useState([]),[j,N]=s.useState([]),[y,v]=s.useState({sales:0,transactions:0,topProduct:"-"}),[w,P]=s.useState([]),[R,T]=s.useState(!1),[C,O]=s.useState([]),[E,A]=s.useState(0),[K,D]=s.useState(!1),W=t.useRef(null);r();const[F,J]=s.useState(!1),V=s.useMemo(()=>{try{return JSON.parse(sessionStorage.getItem("user")||"{}")}catch(e){return{}}},[]);s.useEffect(()=>{const e=e=>{W.current&&!W.current.contains(e.target)&&D(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const B=async()=>{try{b(!0);const e=sessionStorage.getItem("auth_token"),[s,t,r,l,o]=await Promise.all([a("/api/dashboard/overview",{headers:d(e)}),a("/api/stats/customers-timeseries?days="+("week"===h?7:"month"===h?30:"year"===h?365:180),{headers:d(e)}),a("/api/stats/sales-by-category",{headers:d(e)}),a("/api/dashboard/inventory-movement",{headers:d(e)}),a("/api/products/low-stock",{headers:d(e)})]),n=(t||[]).map(e=>({...e,value:Number(e.customers||e.total||e.value||0)})),i=(r||[]).reduce((e,s)=>e+Number(s.value||0),0)||1,m=(r||[]).map(e=>({...e,percent:Number(e.value||0)/i*100}));if(s&&void 0!==s.totalSales){x([{label:"Total Revenue",value:s.totalSales,change:0},{label:"Total Transactions",value:s.totalTransactions,change:0},{label:"Total Items Sold",value:s.totalItemsSold,change:0},{label:"Avg TX Value",value:s.averageTransactionValue,change:0}]),v({sales:Number(s.totalSales||0),transactions:Number(s.totalTransactions||0),totalItemsSold:Number(s.totalItemsSold||0),averageTransactionValue:Number(s.averageTransactionValue||0),topProduct:s.topProducts&&s.topProducts[0]?.product_name||m[0]?.name||"-"});const e=Number(s.totalSales||0),t=Number(s.totalExpenses??0),a=e-t,r=e?Math.round(a/e*1e4)/100:0,l=void 0!==s.prevTotalSales?Math.round((e-Number(s.prevTotalSales||0))/Number(s.prevTotalSales||1)*1e4)/100:0;c({revenue:{value:e,change:l},expenses:{value:t,change:0},netProfit:{value:a,change:0},grossMargin:{value:r,change:0}})}p(n),N(m);const g=(l||[]).filter(e=>Number(e.quantity_in_stock||0)<=10);P(g.length?g:o||[])}catch(e){console.error("Failed to fetch dashboard data",e)}finally{b(!1)}};s.useEffect(()=>{B(),(async()=>{try{const e=sessionStorage.getItem("auth_token"),s=await a("/api/logs",{headers:d(e)}),t=new Set(JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]")),r=new Set(JSON.parse(sessionStorage.getItem("deleted_notif_ids")||"[]")),l=(s||[]).filter(e=>!r.has(e.log_id)).map(e=>({id:e.log_id,title:e.action,message:`${e.username} (${e.role}) did an action: ${e.action}`,time:new Date(e.date_time).toLocaleString(),isRead:t.has(e.log_id)}));O(l),A(l.filter(e=>!e.isRead).length)}catch(e){console.error("Failed to fetch notifications",e)}})()},[h]);const q=e.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2",children:[e.jsx("button",{onClick:B,disabled:u,title:"Refresh Data",className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 p-1.5 sm:p-2 rounded-lg border border-gray-200/80 text-sm font-medium transition-all duration-200 hover:shadow-md hover:scale-[1.02]",children:e.jsx(S,{className:"w-4 h-4 sm:w-5 sm:h-5 "+(u?"animate-spin":"")})}),e.jsxs("select",{className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-lg border border-gray-200/80 text-xs sm:text-sm font-medium transition-all duration-200 outline-none cursor-pointer hover:shadow-md",value:h,onChange:e=>g(e.target.value),disabled:u,children:[e.jsx("option",{value:"week",children:"Week"}),e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"year",children:"Year"})]}),e.jsx("div",{className:"-mt-2 -mb-3 py-8 px-8 pr-12 flex justify-end",children:e.jsxs(l,{onClick:()=>{const e=m.map(e=>[e.label,e.value,e.change]);w.length>0&&(e.push(["","",""]),e.push(["Low Stock Products","",""]),e.push(["Product Name","Quantity Left",""]),w.forEach(s=>e.push([s.product_name,s.quantity_in_stock,""])));const s=[["Label","Value","Change"],...e].map(e=>e.join(",")).join("\n"),t=new Blob([s],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download="dashboard-data.csv",a.click()},size:"sm",variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto shrink-0",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]})}),e.jsx("div",{className:"relative",ref:W,children:e.jsx(_,{notifications:C,unreadCount:E,onMarkAsRead:e=>{const s=JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]");s.includes(e)||sessionStorage.setItem("read_notif_ids",JSON.stringify([...s,e])),O(s=>s.map(s=>s.id===e?{...s,isRead:!0}:s)),A(e=>Math.max(0,e-1))},onMarkAsUnread:e=>{const s=JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]").filter(s=>s!==e);sessionStorage.setItem("read_notif_ids",JSON.stringify(s)),O(s=>s.map(s=>s.id===e?{...s,isRead:!1}:s)),A(e=>e+1)},onDelete:e=>{const s=JSON.parse(sessionStorage.getItem("deleted_notif_ids")||"[]");sessionStorage.setItem("deleted_notif_ids",JSON.stringify([...s,e])),O(s=>s.filter(s=>s.id!==e));const t=C.find(s=>s.id===e);t&&!t.isRead&&A(e=>Math.max(0,e-1))},isOpen:K,onToggle:()=>D(!K),containerRef:W})}),e.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-1 sm:gap-2 bg-white/80 backdrop-blur-sm p-1 sm:p-1.5 sm:px-2 sm:py-2 rounded-lg border border-gray-200/80 hover:bg-white transition-all duration-200 hover:shadow-md hover:scale-[1.02] shrink-0",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full flex items-center justify-center text-sm font-medium shadow-lg",children:V.username?.[0]?.toUpperCase()||"A"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:inline",children:V.username||"Admin"})]})]});return e.jsxs(o,{title:"DASHBOARD",subtitle:"",sidebar:e.jsx(n,{}),headerActions:q,isSidebarOpen:F,setSidebarOpen:J,className:"bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"p-4 lg:hidden",children:u?e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]}):e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Low Stock Products"})}),e.jsx(z,{lowStockProducts:w})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full p-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",i.revenue.value.toLocaleString()]}),e.jsxs("p",{className:"text-xs mt-2 "+(i.revenue.change>=0?"text-green-600":"text-red-600"),children:[i.revenue.change>=0?"↗":"↘"," ",i.revenue.change,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Operating Expenses"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",i.expenses.value.toLocaleString()]}),e.jsxs("p",{className:"text-xs mt-2 "+(i.expenses.change>=0?"text-green-600":"text-red-600"),children:[i.expenses.change>=0?"↗":"↘"," ",i.expenses.change,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Net Profit"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₱",i.netProfit.value.toLocaleString()]}),e.jsxs("p",{className:"text-xs mt-2 "+(i.netProfit.change>=0?"text-green-600":"text-red-600"),children:[i.netProfit.change>=0?"↗":"↘"," ",i.netProfit.change,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Gross Margin"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[i.grossMargin.value,"%"]}),e.jsxs("p",{className:"text-xs mt-2 "+(i.grossMargin.change>=0?"text-green-600":"text-red-600"),children:[i.grossMargin.change>=0?"↗":"↘"," ",i.grossMargin.change,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 p-6 pb-10 lg:pb-6 pt-0",children:[e.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-[336px] animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-lg"})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-[336px] animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-64 h-64 bg-gray-200 rounded-full"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{data:f,range:h}),e.jsx($,{data:j})]})}),e.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6",children:[u?e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2 mb-6"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2 mb-6"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"})]}):e.jsx("div",{className:"hidden lg:block",children:e.jsx(L,{stats:y})}),u?e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse hidden lg:block",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]}):e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hidden lg:block",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Low Stock Products"})}),w.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:w.map(s=>e.jsxs("li",{className:"py-3 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:s.product_name}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:[s.quantity_in_stock," left"]})]},s.product_id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No products with low stock."})]})]})]}),e.jsx("div",{className:"max-w-10lx mx-auto w-full",children:e.jsx(M,{})}),e.jsx(k,{isOpen:R,onClose:()=>T(!1),userData:V})]})}function z({lowStockProducts:s}){return 0===s.length?e.jsx("p",{className:"text-sm text-gray-500",children:"No products with low stock."}):e.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(s=>e.jsxs("li",{className:"py-3 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800",children:s.product_name}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:[s.quantity_in_stock," left"]})]},s.product_id))})}export{O as default};
//# sourceMappingURL=Dashboard-RYuLcSbY.js.map
