import{j as e}from"./utils-BnCj7yKo.js";import{a as t}from"./vendor-BZrj58oz.js";import{P as s}from"./PageLayout-EdUvf13k.js";import{D as r}from"./DemoNav-31GQ2Q_Q.js";import{I as i}from"./Inventory-CZ7w4k5X.js";import{M as o}from"./Modal-Nb_-OJjZ.js";import{b as a}from"./index-DLptuXQb.js";import"./Navbar-C7s4jb7w.js";import"./Logo-DtUJIMK7.js";import"./PrivacyPolicyModal-B1qn0bgk.js";import"./BaseModal-C-8Qp-dk.js";import"./Card-fMjg4IWJ.js";import"./FormField-1uEQplD4.js";import"./Input-D3kbgyHK.js";import"./ScannerCard-DG4quyJ-.js";import"./qr-DN-bNBye.js";const l=[{id:"1",name:"Premium Coffee Beans",sku:"PCB-001",category:"Beverages",description:"High-quality arabica coffee beans",quantity:150,cost_price:250,selling_price:350,low_stock_level:20},{id:"2",name:"Organic Milk",sku:"OM-002",category:"Dairy",description:"Fresh organic whole milk",quantity:75,cost_price:45,selling_price:65,low_stock_level:15},{id:"3",name:"Chocolate Croissant",sku:"CC-003",category:"Bakery",description:"Buttery pastry with chocolate filling",quantity:25,cost_price:35,selling_price:55,low_stock_level:10},{id:"4",name:"Green Tea Bags",sku:"GTB-004",category:"Beverages",description:"Premium green tea in convenient bags",quantity:200,cost_price:15,selling_price:25,low_stock_level:30},{id:"5",name:"Vanilla Syrup",sku:"VS-005",category:"Condiments",description:"Pure vanilla flavor syrup",quantity:8,cost_price:120,selling_price:180,low_stock_level:10}],n=[{id:1,name:"Beverages"},{id:2,name:"Dairy"},{id:3,name:"Bakery"},{id:4,name:"Condiments"},{id:5,name:"Snacks"}],c=10;function m(){const[m,u]=t.useState(l),[d]=t.useState(n),[g,p]=t.useState(!1),[h,x]=t.useState(null),[v,b]=t.useState({sku:"",name:"",category:"",customCategory:"",description:"",quantity:"",cost_price:"",selling_price:"",low_stock_level:c}),[y,k]=t.useState(!1),[j,w]=t.useState(""),[_,f]=t.useState(10),[N,C]=t.useState(1),[S,L]=t.useState(!1),[M,q]=t.useState(null),[P,B]=t.useState(!1),[O,T]=t.useState(null),E=m.reduce((e,t)=>e+Number(t.selling_price||0)*Number(t.quantity||0),0),A=m.filter(e=>{const t=Number(e.low_stock_level??c);return Number(e.quantity||0)<t}).length,D=[{label:"TOTAL ITEMS",value:m.length,icon:e.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),color:"text-blue-800",sub:"Total products in inventory"},{label:"INVENTORY VALUE",value:E,icon:e.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-green-700",formatValue:e=>`â‚±${e.toLocaleString(void 0,{minimumFractionDigits:2})}`,sub:"Total value of all stock"},{label:"AVAILABLE CATEGORIES",value:d.length,icon:e.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 7h16M4 12h16M4 17h16"})}),color:"text-blue-500",sub:"Product categories"},{label:"LOW STOCK ALERTS",value:A,icon:e.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),color:"text-orange-600",sub:"Items needing restock"}],[V,F]=t.useState("name"),[I,R]=t.useState("asc"),[W,$]=t.useState(null),[U,z]=t.useState(null),H=t.useMemo(()=>{let e=m.filter(e=>e.name.toLowerCase().includes(j.toLowerCase())||e.category.toLowerCase().includes(j.toLowerCase())||e.description.toLowerCase().includes(j.toLowerCase()));return W&&(e=e.filter(e=>e.category===W)),U&&("out_of_stock"===U?e=e.filter(e=>0===Number(e.quantity||0)):"low_stock"===U?e=e.filter(e=>{const t=Number(e.quantity||0),s=Number(e.low_stock_level??c);return t>0&&t<s}):"in_stock"===U&&(e=e.filter(e=>{const t=Number(e.low_stock_level??c);return Number(e.quantity||0)>=t}))),e.sort((e,t)=>{let s,r;if("name"===V)s=(e.name||"").toLowerCase(),r=(t.name||"").toLowerCase();else if("category"===V)s=(e.category||"").toLowerCase(),r=(t.category||"").toLowerCase();else if("quantity"===V)s=Number(e.quantity||0),r=Number(t.quantity||0);else{if("selling_price"!==V)return 0;s=Number(e.selling_price||0),r=Number(t.selling_price||0)}return s<r?"asc"===I?-1:1:s>r?"asc"===I?1:-1:0}),e},[m,j,W,U,V,I]),G=Math.ceil(H.length/_)||1,K=H.slice((N-1)*_,N*_),Y=t.useCallback(()=>{x(null),b({sku:"",name:"",category:"",customCategory:"",description:"",quantity:"",cost_price:"",selling_price:"",low_stock_level:c}),p(!0)},[]),J=t.useCallback(e=>{x(e),b({...e,low_stock_level:"number"==typeof e.low_stock_level?e.low_stock_level:c}),p(!0)},[]),Q=t.useCallback(e=>{const{name:t,value:s}=e.target;b(e=>({...e,[t]:s}))},[]),X=t.useCallback(async e=>{if(e.preventDefault(),k(!0),await new Promise(e=>setTimeout(e,500)),h)u(e=>e.map(e=>e.id===h.id?{...e,...v,quantity:Number(v.quantity)||0,cost_price:Number(v.cost_price)||0,selling_price:Number(v.selling_price)||0,low_stock_level:Number(v.low_stock_level)||c}:e));else{const e={id:String(Date.now()),...v,quantity:Number(v.quantity)||0,cost_price:Number(v.cost_price)||0,selling_price:Number(v.selling_price)||0,low_stock_level:Number(v.low_stock_level)||c};u(t=>[...t,e])}p(!1),k(!1)},[h,v]),Z=t.useCallback(e=>{const t=m.find(t=>String(t.id)===String(e));t&&(T(t),B(!0))},[m]),ee=t.useCallback(async()=>{O&&(k(!0),await new Promise(e=>setTimeout(e,300)),u(e=>e.filter(e=>e.id!==O.id)),B(!1),T(null),k(!1))},[O]),te=t.useCallback(e=>{e<1||e>G||C(e)},[G]),se=t.useCallback(e=>{f(Number(e.target.value)),C(1)},[]),re=t.useCallback(e=>{w(e.target.value),C(1)},[]),ie=t.useCallback(()=>{const e="Name,SKU,Category,Quantity,Selling Price\n"+H.map(e=>`${e.name},${e.sku},${e.category},${e.quantity},${e.selling_price}`).join("\n"),t=new Blob([e],{type:"text/csv"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="demo_inventory.csv",r.click(),URL.revokeObjectURL(s)},[H]),oe=e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-end gap-3 sm:gap-4 mb-4 sm:mb-0 w-full",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-3 w-auto",children:[e.jsxs(a,{onClick:Y,variant:"primary",microinteraction:!0,className:"bg-blue-600 text-md text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition gap-1 sm:gap-2 flex items-center justify-center sm:justify-start !py-2 !px-2 sm:!px-2 shrink-0 min-w-[40px] sm:min-w-[40px] lg:min-w-0",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{className:"hidden sm:block",children:"Add Product"}),e.jsx("span",{className:"sm:inline"})]}),e.jsxs(a,{onClick:ie,variant:"secondary",className:"text-sm flex items-center justify-center sm:justify-start gap-1 sm:gap-2 shrink-0 !py-2 !px-2 sm:!px-2 min-w-[40px] sm:min-w-[40px] lg:min-w-0",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})});return e.jsxs(s,{title:"INVENTORY (DEMO)",sidebar:e.jsx(r,{}),isSidebarOpen:S,headerActions:oe,setSidebarOpen:L,showHeader:!0,showNavbar:!1,showFooter:!1,children:[e.jsx(i,{products:K,allProducts:H,stats:D,page:N,entriesPerPage:_,totalPages:G,onPageChange:te,onEntriesChange:se,search:j,onSearchChange:re,onEdit:J,onDelete:Z,onAddProduct:Y,categories:d,selectedCategory:W,onCategoryFilter:e=>{$(e),C(1)},stockFilter:U,onStockFilter:e=>{z(e),C(1)},sortBy:V,sortOrder:I,onSort:(e,t)=>{F(e),R(t),C(1)}}),e.jsx(o,{isOpen:g,onClose:()=>p(!1),variant:"product",title:h?"Edit Product":"Add New Product",editingProduct:h,productForm:v,onChange:Q,categories:d,onSubmit:X,loading:y}),e.jsx(o,{isOpen:P,onClose:()=>B(!1),title:"",size:"sm",children:e.jsxs("div",{className:"p-0",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-50 via-red-50/80 to-orange-50/50 border-b border-red-100 px-6 py-5 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Confirm Deletion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this product?"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["You are about to delete:"," ",e.jsx("strong",{className:"text-red-700",children:O?.name})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-6",children:"This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(a,{onClick:()=>B(!1),variant:"secondary",disabled:y,children:"Cancel"}),e.jsx(a,{onClick:ee,variant:"danger",loading:y,children:"Delete"})]})]})]})})]})}export{m as default};
//# sourceMappingURL=DemoInventory-DZ3nFTpj.js.map
