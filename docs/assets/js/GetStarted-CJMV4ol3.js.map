{"version":3,"file":"GetStarted-CJMV4ol3.js","sources":["../../../frontend/src/components/ui/getstarted/useGetStarted.js","../../../frontend/src/components/ui/getstarted/ProgressBar.jsx","../../../frontend/src/components/ui/getstarted/Stepper.jsx","../../../frontend/src/components/ui/getstarted/GetStartedLayout.jsx","../../../frontend/src/lib/locationApi.js","../../../frontend/src/components/ui/getstarted/LocationSelector.jsx","../../../frontend/src/components/ui/getstarted/DocumentUploadSection.jsx","../../../frontend/src/components/ui/getstarted/GetStartedForm.jsx","../../../frontend/src/components/ui/getstarted/GetStartedSingle.jsx","../../../frontend/src/pages/GetStarted.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { api } from \"../../../lib/api\";\r\n\r\nexport default function useGetStarted() {\r\n  const steps = [\r\n    { label: \"Account Info\", icon: \"ðŸ‘¤\" },\r\n    { label: \"OTP Verification\", icon: \"ðŸ”’\" },\r\n    { label: \"Business Details\", icon: \"ðŸ¢\" },\r\n    { label: \"Document Upload\", icon: \"ðŸ“„\" },\r\n  ];\r\n\r\n  const [step, setStep] = useState(0);\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    firstName: \"\",\r\n    fullName: \"\",\r\n    businessName: \"\",\r\n    businessEmail: \"\",\r\n    useAdminEmail: false,\r\n    businessType: \"\",\r\n    customBusinessType: \"\",\r\n    region: \"\",\r\n    province: \"\",\r\n    city: \"\",\r\n    barangay: \"\",\r\n    regionName: \"\",\r\n    provinceName: \"\",\r\n    cityName: \"\",\r\n    barangayName: \"\",\r\n    houseNumber: \"\",\r\n    mobile: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    otp: \"\",\r\n    documents: [],\r\n    documentTypes: [],\r\n    acceptTerms: false,\r\n    acceptPrivacy: false,\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [isOtpVerified, setIsOtpVerified] = useState(false);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) inputRef.current.focus();\r\n  }, [step]);\r\n\r\n  useEffect(() => {\r\n    if (step === 1 && isOtpVerified) {\r\n      handleNext();\r\n    }\r\n  }, [step, isOtpVerified]);\r\n\r\n  // Auto-verify OTP when 4 characters are entered\r\n  useEffect(() => {\r\n    if (step === 1 && form.otp.length === 4 && !isOtpVerified && !loading) {\r\n      handleNext();\r\n    }\r\n  }, [form.otp, step, isOtpVerified, loading]);\r\n\r\n  const handleLocationChange = (name, code, locationName) => {\r\n    const reset = {};\r\n    if (name === \"region\") {\r\n      reset.province = \"\";\r\n      reset.city = \"\";\r\n      reset.barangay = \"\";\r\n      reset.provinceName = \"\";\r\n      reset.cityName = \"\";\r\n      reset.barangayName = \"\";\r\n    } else if (name === \"province\") {\r\n      reset.city = \"\";\r\n      reset.barangay = \"\";\r\n      reset.cityName = \"\";\r\n      reset.barangayName = \"\";\r\n    } else if (name === \"city\") {\r\n      reset.barangay = \"\";\r\n      reset.barangayName = \"\";\r\n    }\r\n    setForm((f) => ({\r\n      ...f,\r\n      [name]: code,\r\n      [`${name}Name`]: locationName,\r\n      ...reset,\r\n    }));\r\n  };\r\n\r\n  const validateEmail = (email) => {\r\n    if (!email) return 'Required';\r\n    if (!/^\\S+@\\S+\\.\\S+$/.test(email)) return 'Invalid email address';\r\n    return null;\r\n  };\r\n\r\n  const validateUsername = (username) => {\r\n    if (!username) return 'Required';\r\n    if (!/^[a-zA-Z0-9_]{3,20}$/.test(username)) {\r\n      return 'Username must be 3-20 characters (letters, numbers, underscores)';\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n\r\n    if (name === \"useAdminEmail\") {\r\n      setForm((f) => ({\r\n        ...f,\r\n        [name]: checked,\r\n        businessEmail: checked ? f.email : \"\",\r\n      }));\r\n    } else {\r\n      setForm((f) => ({ ...f, [name]: type === \"checkbox\" ? checked : value }));\r\n    }\r\n  };\r\n\r\n  const validateStep = () => {\r\n    const err = {};\r\n    if (step === 0) {\r\n      if (!form.email) err.email = \"Required\";\r\n      else if (!/^\\S+@\\S+\\.\\S+$/.test(form.email))\r\n        err.email = \"Invalid email address\";\r\n      if (!form.firstName) err.firstName = \"Required\";\r\n      else if (!/^[a-zA-Z\\s]{1,50}$/.test(form.firstName))\r\n        err.firstName =\r\n          \"First name must be 1-50 characters and contain only letters\";\r\n      if (!form.fullName) err.fullName = \"Required\";\r\n      else if (!/^[a-zA-Z\\s]{1,100}$/.test(form.fullName))\r\n        err.fullName =\r\n          \"Full name must be 1-100 characters and contain only letters\";\r\n      if (!form.mobile) err.mobile = \"Required\";\r\n      else if (!/^\\d{10,15}$/.test(form.mobile))\r\n        err.mobile = \"Invalid mobile number\";\r\n      if (!form.password) err.password = \"Required\";\r\n      else if (form.password.length < 12)\r\n        err.password = \"Password must be at least 12 characters long\";\r\n      else if (!/[A-Z]/.test(form.password))\r\n        err.password = \"Password must contain at least one uppercase letter\";\r\n      else if (!/[a-z]/.test(form.password))\r\n        err.password = \"Password must contain at least one lowercase letter\";\r\n      else if (!/\\d/.test(form.password))\r\n        err.password = \"Password must contain at least one number\";\r\n      else if (!/[!@#$%^&*(),.?\":{}|<>]/.test(form.password))\r\n        err.password = \"Password must contain at least one special character\";\r\n      if (form.password !== form.confirmPassword)\r\n        err.confirmPassword = \"Passwords do not match\";\r\n    }\r\n    if (step === 1) {\r\n      if (!form.otp) err.otp = \"Required\";\r\n      else if (!/^[A-Za-z0-9]{4}$/.test(form.otp))\r\n        err.otp = \"Please enter a 4-character OTP\";\r\n    }\r\n    if (step === 2) {\r\n      if (!form.businessName) err.businessName = \"Required\";\r\n      if (!form.useAdminEmail && !form.businessEmail)\r\n        err.businessEmail = \"Required\";\r\n      else if (\r\n        !form.useAdminEmail &&\r\n        form.businessEmail &&\r\n        !/^\\S+@\\S+\\.\\S+$/.test(form.businessEmail)\r\n      )\r\n        err.businessEmail = \"Invalid email address\";\r\n      if (!form.businessType) err.businessType = \"Required\";\r\n      if (form.businessType === \"Others\" && !form.customBusinessType)\r\n        err.customBusinessType = \"Please specify business type\";\r\n      if (!form.region) err.region = \"Required\";\r\n      if (!form.province) err.province = \"Required\";\r\n      if (!form.city) err.city = \"Required\";\r\n      if (!form.barangay) err.barangay = \"Required\";\r\n    }\r\n    if (step === 3) {\r\n      const requiredDocuments = [\r\n        \"Business Registration Certificate (DTI/SEC/CDA)\",\r\n        \"Mayor's Permit / Business Permit\",\r\n        \"BIR Certificate of Registration (Form 2303)\",\r\n      ];\r\n\r\n      if (!form.documents || form.documents.length === 0) {\r\n        err.documents = \"Please upload at least one business document\";\r\n      }\r\n\r\n      if (form.documents.length !== form.documentTypes.length) {\r\n        err.documentTypes =\r\n          \"Please specify document type for each uploaded file\";\r\n      }\r\n\r\n      // Check if all required documents are uploaded\r\n      const uploadedTypes = form.documentTypes.filter((type) => type);\r\n      const missingRequired = requiredDocuments.filter(\r\n        (req) => !uploadedTypes.includes(req)\r\n      );\r\n      if (missingRequired.length > 0) {\r\n        err.documents = `Missing required documents: ${missingRequired.join(\r\n          \", \"\r\n        )}`;\r\n      }\r\n\r\n      // Ensure no duplicate document types\r\n      const typeCounts = {};\r\n      form.documentTypes.forEach((type) => {\r\n        if (type) typeCounts[type] = (typeCounts[type] || 0) + 1;\r\n      });\r\n      const duplicates = Object.keys(typeCounts).filter(\r\n        (type) => typeCounts[type] > 1\r\n      );\r\n      if (duplicates.length > 0) {\r\n        err.documentTypes = `Duplicate document types not allowed: ${duplicates.join(\r\n          \", \"\r\n        )}`;\r\n      }\r\n\r\n      if (!form.acceptTerms) {\r\n        err.accept = \"You must accept the Terms and Conditions.\";\r\n      } else if (!form.acceptPrivacy) {\r\n        err.accept = \"You must acknowledge the Privacy Policy.\";\r\n      }\r\n    }\r\n    setErrors(err);\r\n    return Object.keys(err).length === 0;\r\n  };\r\n\r\n  const checkExistingUser = async (email, username) => {\r\n    try {\r\n      const response = await api(\"/auth/check-existing\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ email, username }),\r\n      });\r\n      return response; // Returns { exists: boolean, field: 'email'|'username'|null, message: string }\r\n    } catch (error) {\r\n      console.error('Error checking existing user:', error);\r\n      // If there's a structured error response, throw it as is\r\n      if (error.data) {\r\n        throw error;\r\n      }\r\n      // Otherwise create a generic error\r\n      throw new Error('Failed to check user availability. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleNext = async () => {\r\n    if (!validateStep()) return;\r\n\r\n    if (step === 0) {\r\n      setLoading(true);\r\n      try {\r\n        // First check if username or email already exists\r\n        const existingUser = await checkExistingUser(form.email, form.username);\r\n        \r\n        if (existingUser.exists) {\r\n          // If user exists, show appropriate error message\r\n          const errorObj = {};\r\n          if (existingUser.field === 'email') {\r\n            errorObj.email = existingUser.message || 'This email is already registered. Please use a different email or log in.';\r\n          } else if (existingUser.field === 'username') {\r\n            errorObj.username = existingUser.message || 'This username is already taken. Please choose another one.';\r\n          } else {\r\n            errorObj.email = existingUser.message || 'This email or username is already registered.';\r\n          }\r\n          setErrors(errorObj);\r\n          return;\r\n        }\r\n\r\n        // If no existing user, proceed with OTP\r\n        await api(\"/otp/send\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ email: form.email }),\r\n        });\r\n        setStep((s) => s + 1);\r\n      } catch (err) {\r\n        console.error('Error in handleNext:', err);\r\n        // Handle different types of errors\r\n        if (err.status === 409) { // Conflict - user exists\r\n          const errorData = err.data || {};\r\n          const errorObj = {};\r\n          \r\n          if (errorData.field === 'email') {\r\n            errorObj.email = errorData.message || 'This email is already registered.';\r\n          } else if (errorData.field === 'username') {\r\n            errorObj.username = errorData.message || 'This username is already taken.';\r\n          } else {\r\n            errorObj.email = errorData.message || 'This email or username is already registered.';\r\n          }\r\n          setErrors(errorObj);\r\n        } else {\r\n          // For other errors, show a generic message\r\n          setErrors({ \r\n            email: err.message || 'Failed to verify account. Please try again.' \r\n          });\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else if (step === 1) {\r\n      // If already verified, just proceed to next step\r\n      if (isOtpVerified) {\r\n        setStep((s) => s + 1);\r\n        return;\r\n      }\r\n\r\n      setLoading(true);\r\n      try {\r\n        const response = await api(\"/otp/verify\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ email: form.email, otp: form.otp }),\r\n        });\r\n        setIsOtpVerified(true);\r\n        setStep((s) => s + 1);\r\n      } catch (err) {\r\n        console.error(\"OTP verification error:\", err);\r\n        setErrors({ otp: err.message || \"Failed to verify OTP\" });\r\n        setForm((f) => ({ ...f, otp: \"\" }));\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      setStep((s) => s + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => setStep((s) => Math.max(0, s - 1));\r\n\r\n  const handleFinish = async () => {\r\n    if (!validateStep()) return;\r\n    setLoading(true);\r\n    try {\r\n      // Register business with documents in one transaction\r\n      const formData = new FormData();\r\n\r\n      // Add business registration fields\r\n      formData.append(\"email\", form.email);\r\n      formData.append(\"firstName\", form.firstName);\r\n      formData.append(\"fullName\", form.fullName);\r\n      formData.append(\"businessName\", form.businessName);\r\n      formData.append(\r\n        \"businessType\",\r\n        form.businessType === \"Others\"\r\n          ? form.customBusinessType\r\n          : form.businessType\r\n      );\r\n      formData.append(\"country\", \"Philippines\");\r\n      formData.append(\"countryName\", \"Philippines\");\r\n      formData.append(\"province\", form.province);\r\n      formData.append(\"city\", form.city);\r\n      formData.append(\"barangay\", form.barangay);\r\n      formData.append(\"regionName\", form.regionName);\r\n      formData.append(\"provinceName\", form.provinceName);\r\n      formData.append(\"cityName\", form.cityName);\r\n      formData.append(\"barangayName\", form.barangayName);\r\n      formData.append(\"houseNumber\", form.houseNumber);\r\n      formData.append(\"mobile\", form.mobile);\r\n      formData.append(\"password\", form.password);\r\n\r\n      // Add document types\r\n      formData.append(\"document_types\", JSON.stringify(form.documentTypes));\r\n\r\n      // Add documents\r\n      form.documents.forEach((file) => {\r\n        formData.append(\"documents\", file);\r\n      });\r\n\r\n      const result = await api(\"/business/register-with-documents\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      localStorage.setItem(\"token\", result.token);\r\n      localStorage.setItem(\"user\", JSON.stringify(result.user));\r\n      setSuccess(true);\r\n    } catch (err) {\r\n      setErrors({ general: err.message || \"An error occurred.\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const progress = ((step + 1) / steps.length) * 100;\r\n\r\n  return {\r\n    steps,\r\n    step,\r\n    setStep,\r\n    form,\r\n    setForm,\r\n    errors,\r\n    setErrors,\r\n    loading,\r\n    setLoading,\r\n    success,\r\n    isOtpVerified,\r\n    setIsOtpVerified,\r\n    inputRef,\r\n    handleChange,\r\n    handleLocationChange,\r\n    validateStep,\r\n    handleNext,\r\n    handleBack,\r\n    handleFinish,\r\n    progress,\r\n  };\r\n}\r\n","import React from \"react\";\r\n\r\nfunction ProgressBar({ percent }) {\r\n  return (\r\n    <div\r\n      className=\"w-full h-2.5 bg-blue-100/70 rounded-full overflow-hidden shadow-inner\"\r\n      aria-label=\"Progress bar\"\r\n      aria-valuenow={percent}\r\n      aria-valuemin={0}\r\n      aria-valuemax={100}\r\n      role=\"progressbar\"\r\n    >\r\n      <div\r\n        className=\"h-full bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 transition-all duration-500 rounded-full shadow-md\"\r\n        style={{ width: `${percent}%` }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProgressBar;\r\n","import React from \"react\";\r\n\r\nfunction Stepper({ steps, currentStep }) {\r\n  const renderOutlinedIcon = (idx) => {\r\n    switch (idx) {\r\n      case 0: // user\r\n        return (\r\n          <svg\r\n            width=\"18\"\r\n            height=\"18\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          >\r\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" />\r\n            <circle cx=\"12\" cy=\"7\" r=\"4\" />\r\n          </svg>\r\n        );\r\n      case 1: // lock\r\n        return (\r\n          <svg\r\n            width=\"18\"\r\n            height=\"18\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          >\r\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" />\r\n            <path d=\"M7 11V7a5 5 0 0 1 10 0v4\" />\r\n          </svg>\r\n        );\r\n      case 2: // building\r\n        return (\r\n          <svg\r\n            width=\"18\"\r\n            height=\"18\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          >\r\n            <rect x=\"3\" y=\"3\" width=\"7\" height=\"18\" />\r\n            <rect x=\"14\" y=\"8\" width=\"7\" height=\"13\" />\r\n            <path d=\"M7 6h2M7 10h2M7 14h2M18 11h2M18 15h2\" />\r\n          </svg>\r\n        );\r\n      case 3: // document\r\n      default:\r\n        return (\r\n          <svg\r\n            width=\"18\"\r\n            height=\"18\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          >\r\n            <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" />\r\n            <path d=\"M14 2v6h6\" />\r\n            <path d=\"M16 13H8M16 17H8M10 9H8\" />\r\n          </svg>\r\n        );\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"mb-6\">\r\n      <div className=\"relative flex items-center justify-between\">\r\n        {steps.map((stepObj, idx) => (\r\n          <div key={idx} className=\"flex flex-col items-center flex-1\">\r\n            <div\r\n              className={`w-10 h-10 flex items-center justify-center rounded-full border-2 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white z-10\r\n                ${\r\n                  idx < currentStep\r\n                    ? \"border-green-600 text-green-600\"\r\n                    : idx === currentStep\r\n                    ? \"border-blue-600 text-blue-600 ring-2 ring-blue-200\"\r\n                    : \"border-gray-300 text-gray-400\"\r\n                }\r\n              `}\r\n              aria-current={idx === currentStep ? \"step\" : undefined}\r\n              tabIndex={0}\r\n              title={stepObj.label}\r\n            >\r\n              {renderOutlinedIcon(idx)}\r\n            </div>\r\n            <span\r\n              className={`mt-2 text-xs font-medium text-center max-w-[90px] ${\r\n                idx <= currentStep ? \"text-blue-700\" : \"text-gray-500\"\r\n              }`}\r\n            >\r\n              {stepObj.label}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        {/* Track */}\r\n        <div\r\n          className=\"absolute left-0 right-0 top-5 h-1 bg-gray-200 rounded\"\r\n          aria-hidden\r\n        ></div>\r\n        {/* Active bar */}\r\n        <div\r\n          className=\"absolute left-0 top-5 h-1 bg-gradient-to-r from-blue-600 to-blue-400 rounded transition-all duration-500\"\r\n          style={{ width: `${(currentStep / (steps.length - 1)) * 100}%` }}\r\n          aria-hidden\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stepper;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Background from \"../../../components/layout/Background\";\r\nimport Card from \"../../../components/common/Card\";\r\nimport ProgressBar from \"./ProgressBar\";\r\nimport Stepper from \"./Stepper\";\r\nimport Button from \"../../../components/common/Button\";\r\nimport Loader from \"../../../components/common/Loader\";\r\n\r\n/**\r\n * GetStartedLayout\r\n * - Encapsulates two-column card, aside hero and right content area\r\n * - Controls (back/next/finish) and progress/stepper are inside\r\n */\r\nfunction GetStartedLayout({\r\n  step,\r\n  steps,\r\n  progress,\r\n  loading,\r\n  errors,\r\n  onBack,\r\n  onNext,\r\n  onFinish,\r\n  children,\r\n}) {\r\n  const showBack = step > 0;\r\n  const isOtpStep = step === 1;\r\n  const showNext = step < steps.length - 1 && !isOtpStep;\r\n  const showFinish = step === steps.length - 1;\r\n\r\n  return (\r\n    <Background variant=\"gradientBlue\" pattern=\"dots\" overlay floatingElements>\r\n      <div className=\"flex justify-center px-4 py-10\">\r\n        <Card className=\"w-full max-w-5xl overflow-hidden rounded-3xl p-0\">\r\n          <div className=\"md:flex\">\r\n            <aside className=\"hidden md:flex md:w-5/12 items-center justify-center bg-gradient-to-br from-blue-600 via-blue-400 to-blue-500 p-10 relative\">\r\n              <div className=\"text-center max-w-sm\">\r\n                <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/15 text-white text-xs font-semibold mb-5 border border-white/30\">\r\n                  <span>Quick setup</span>\r\n                  <span className=\"opacity-80\">â€¢</span>\r\n                  <span>Secure</span>\r\n                </div>\r\n                <h3 className=\"text-white text-2xl font-bold mb-3\">\r\n                  Welcome to your business journey\r\n                </h3>\r\n                <p className=\"text-white/90 text-sm mb-6\">\r\n                  Create your account, verify your email, add business details\r\n                  and upload documents. You're minutes away from a modern POS.\r\n                </p>\r\n                <ul className=\"text-left text-white/95 text-sm space-y-2\">\r\n                  <li className=\"flex items-center gap-2\">\r\n                    <span className=\"inline-block w-2 h-2 rounded-full bg-white\"></span>{\" \"}\r\n                    Guided, step-by-step flow\r\n                  </li>\r\n                  <li className=\"flex items-center gap-2\">\r\n                    <span className=\"inline-block w-2 h-2 rounded-full bg-white\"></span>{\" \"}\r\n                    Save & resume automatically\r\n                  </li>\r\n                  <li className=\"flex items-center gap-2\">\r\n                    <span className=\"inline-block w-2 h-2 rounded-full bg-white\"></span>{\" \"}\r\n                    Bankâ€‘grade security\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </aside>\r\n\r\n            <main className=\"w-full md:w-7/12 p-6 md:p-10 flex flex-col\">\r\n              {/* Back to home button */}\r\n              <div className=\"mb-4\">\r\n                <Link\r\n                  to=\"/\"\r\n                  className=\"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800\"\r\n                >\r\n                  <svg\r\n                    className=\"w-4 h-4\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M15 19l-7-7 7-7\"\r\n                    />\r\n                  </svg>\r\n                  Back to home\r\n                </Link>\r\n              </div>\r\n              <div className=\"mb-6\">\r\n                <div className=\"flex items-center justify-center\">\r\n                  <div className=\"w-full max-w-md\">\r\n                    <ProgressBar percent={progress} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-4\">\r\n                  <Stepper steps={steps} currentStep={step} />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex-1\">\r\n                {errors?.general && (\r\n                  <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded\">\r\n                    {errors.general}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"max-w-lg\">{children}</div>\r\n              </div>\r\n\r\n              {showNext && (\r\n                <div className=\"mt-8 md:mt-6 flex items-center justify-center\">\r\n                  <Button\r\n                    onClick={onNext}\r\n                    disabled={loading}\r\n                    variant=\"primary\"\r\n                    className=\"w-48\"\r\n                  >\r\n                    {loading ? <Loader size=\"sm\" /> : \"Continue\"}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mt-4 text-[11px] text-gray-500 text-center\">\r\n                Your data is encrypted in transit and at rest.\r\n              </div>\r\n            </main>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </Background>\r\n  );\r\n}\r\n\r\nexport default GetStartedLayout;\r\n","\nconst BASE_URL = 'https://psgc.cloud/api';\n\nexport async function getRegions() {\n  const res = await fetch(`${BASE_URL}/regions`);\n  if (!res.ok) throw new Error('Failed to fetch regions');\n  return res.json();\n}\n\nexport async function getProvinces(regionCode) {\n  const res = await fetch(`${BASE_URL}/regions/${regionCode}/provinces`);\n  if (!res.ok) throw new Error('Failed to fetch provinces');\n  return res.json();\n}\n\nexport async function getCities(provinceCode) {\n  const res = await fetch(`${BASE_URL}/provinces/${provinceCode}/cities-municipalities`);\n  if (!res.ok) throw new Error('Failed to fetch cities');\n  return res.json();\n}\n\nexport async function getBarangays(cityCode) {\n  const res = await fetch(`${BASE_URL}/cities-municipalities/${cityCode}/barangays`);\n  if (!res.ok) throw new Error('Failed to fetch barangays');\n  return res.json();\n}\n","import React, { useState, useEffect } from \"react\";\r\nimport { getRegions, getProvinces, getCities, getBarangays } from \"../../../lib/locationApi\";\r\n\r\nexport default function LocationSelector({ form, errors, handleLocationChange }) {\r\n  const [regions, setRegions] = useState([]);\r\n  const [provinces, setProvinces] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [barangays, setBarangays] = useState([]);\r\n  const [loading, setLoading] = useState({\r\n    regions: false,\r\n    provinces: false,\r\n    cities: false,\r\n    barangays: false,\r\n  });\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchRegions = async () => {\r\n      setLoading((l) => ({ ...l, regions: true }));\r\n      setError(null);\r\n      try {\r\n        const data = await getRegions();\r\n        setRegions(data);\r\n      } catch (error) {\r\n        console.error(error);\r\n        setError(\"Failed to load regions. Please check your connection and try again.\");\r\n      } finally {\r\n        setLoading((l) => ({ ...l, regions: false }));\r\n      }\r\n    };\r\n    fetchRegions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (form.region) {\r\n      const fetchProvinces = async () => {\r\n        setLoading((l) => ({ ...l, provinces: true }));\r\n        try {\r\n          const data = await getProvinces(form.region);\r\n          setProvinces(data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setLoading((l) => ({ ...l, provinces: false }));\r\n        }\r\n      };\r\n      fetchProvinces();\r\n    }\r\n  }, [form.region]);\r\n\r\n  useEffect(() => {\r\n    if (form.province) {\r\n      const fetchCities = async () => {\r\n        setLoading((l) => ({ ...l, cities: true }));\r\n        try {\r\n          const data = await getCities(form.province);\r\n          setCities(data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setLoading((l) => ({ ...l, cities: false }));\r\n        }\r\n      };\r\n      fetchCities();\r\n    }\r\n  }, [form.province]);\r\n\r\n  useEffect(() => {\r\n    if (form.city) {\r\n      const fetchBarangays = async () => {\r\n        setLoading((l) => ({ ...l, barangays: true }));\r\n        try {\r\n          const data = await getBarangays(form.city);\r\n          setBarangays(data);\r\n        } catch (error) {\r\n          console.error(error);\r\n        } finally {\r\n          setLoading((l) => ({ ...l, barangays: false }));\r\n        }\r\n      };\r\n      fetchBarangays();\r\n    }\r\n  }, [form.city]);\r\n\r\n  const handleSelectChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const selectedOption = e.target.options[e.target.selectedIndex];\r\n    const locationName = selectedOption ? selectedOption.text : '';\r\n    handleLocationChange(name, value, locationName);\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid gap-4\">\r\n      <div>\r\n        <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n          Region <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          name=\"region\"\r\n          value={form.region}\r\n          onChange={handleSelectChange}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          style={{ borderColor: errors.region ? '#ef4444' : '' }}\r\n          disabled={loading.regions}\r\n        >\r\n          <option value=\"\">{loading.regions ? 'Loading...' : 'Select Region'}</option>\r\n          {regions.map((region) => (\r\n            <option key={region.code} value={region.code}>\r\n              {region.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {errors.region && (\r\n          <p className=\"text-red-500 text-sm mt-1\">{errors.region}</p>\r\n        )}\r\n        {error && (\r\n          <p className=\"text-red-500 text-sm mt-1\">{error}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n          Province <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          name=\"province\"\r\n          value={form.province}\r\n          onChange={handleSelectChange}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          style={{ borderColor: errors.province ? '#ef4444' : '' }}\r\n          disabled={!form.region || loading.provinces}\r\n        >\r\n          <option value=\"\">{loading.provinces ? 'Loading...' : 'Select Province'}</option>\r\n          {provinces.map((province) => (\r\n            <option key={province.code} value={province.code}>\r\n              {province.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {errors.province && (\r\n          <p className=\"text-red-500 text-sm mt-1\">{errors.province}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n          City/Municipality <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          name=\"city\"\r\n          value={form.city}\r\n          onChange={handleSelectChange}\r\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          style={{ borderColor: errors.city ? '#ef4444' : '' }}\r\n          disabled={!form.province || loading.cities}\r\n        >\r\n          <option value=\"\">{loading.cities ? 'Loading...' : 'Select City/Municipality'}</option>\r\n          {cities.map((city) => (\r\n            <option key={city.code} value={city.code}>\r\n              {city.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {errors.city && (\r\n          <p className=\"text-red-500 text-sm mt-1\">{errors.city}</p>\r\n        )}\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n          Barangay <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <select\r\n          name=\"barangay\"\r\n          value={form.barangay}\r\n          onChange={handleSelectChange}\r\n          className=\"w-full px-3 py-2 border border--gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          style={{ borderColor: errors.barangay ? '#ef4444' : '' }}\r\n          disabled={!form.city || loading.barangays}\r\n        >\r\n          <option value=\"\">{loading.barangays ? 'Loading...' : 'Select Barangay'}</option>\r\n          {barangays.map((barangay) => (\r\n            <option key={barangay.code} value={barangay.code}>\r\n              {barangay.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        {errors.barangay && (\r\n          <p className=\"text-red-500 text-sm mt-1\">{errors.barangay}</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nexport default function DocumentUploadSection({ documents, documentTypes, onDocumentsChange, error }) {\r\n  const [uploadErrors, setUploadErrors] = useState([]);\r\n\r\n  const requiredDocuments = [\r\n    'Business Registration Certificate (DTI/SEC/CDA)',\r\n    \"Mayor's Permit / Business Permit\",\r\n    'BIR Certificate of Registration (Form 2303)'\r\n  ];\r\n\r\n  const optionalDocuments = [\r\n    'Barangay Business Clearance',\r\n    'Fire Safety Inspection Certificate (if applicable)',\r\n    'Sanitary Permit (for food businesses)'\r\n  ];\r\n\r\n  const handleFileChange = (e) => {\r\n    const files = Array.from(e.target.files || []);\r\n    if (files.length === 0) return;\r\n\r\n    const allowedTypes = [\r\n      'application/pdf',\r\n      'image/jpeg',\r\n      'image/jpg',\r\n      'image/png',\r\n      'image/gif'\r\n    ];\r\n\r\n    const maxSizeBytes = 10 * 1024 * 1024; // 10MB\r\n\r\n    // Prevent duplicates by name+size+lastModified\r\n    const existingKey = (f) => `${f.name}|${f.size}|${f.lastModified || ''}`;\r\n    const existingKeys = new Set(documents.map(existingKey));\r\n\r\n    const accepted = [];\r\n    const rejected = [];\r\n\r\n    files.forEach((file) => {\r\n      const key = existingKey(file);\r\n      if (existingKeys.has(key)) {\r\n        rejected.push({ file, reason: 'Duplicate file' });\r\n        return;\r\n      }\r\n      if (!allowedTypes.includes(file.type)) {\r\n        rejected.push({ file, reason: 'Unsupported file type. Only PDF, JPG, PNG, GIF allowed.' });\r\n        return;\r\n      }\r\n      if (file.size > maxSizeBytes) {\r\n        rejected.push({ file, reason: 'File too large. Maximum 10MB per file.' });\r\n        return;\r\n      }\r\n      // Basic security check: ensure file is not empty and has valid extension\r\n      const ext = file.name.split('.').pop()?.toLowerCase();\r\n      const validExts = ['pdf', 'jpg', 'jpeg', 'png', 'gif'];\r\n      if (!validExts.includes(ext)) {\r\n        rejected.push({ file, reason: 'Invalid file extension.' });\r\n        return;\r\n      }\r\n      accepted.push(file);\r\n      existingKeys.add(key);\r\n    });\r\n\r\n    if (accepted.length > 0) {\r\n      const newDocuments = [...documents, ...accepted];\r\n      const newTypes = [...documentTypes, ...accepted.map(() => '')];\r\n      onDocumentsChange(newDocuments, newTypes);\r\n      setUploadErrors([]); // Clear previous errors on success\r\n    }\r\n\r\n    if (rejected.length > 0) {\r\n      setUploadErrors(rejected.map(({ file, reason }) => `${file.name}: ${reason}`));\r\n    }\r\n\r\n    // Reset the input\r\n    e.target.value = '';\r\n  };\r\n\r\n  const handleTypeChange = (index, type) => {\r\n    const newTypes = [...documentTypes];\r\n    newTypes[index] = type;\r\n    onDocumentsChange(documents, newTypes);\r\n  };\r\n\r\n  const removeDocument = (index) => {\r\n    const newDocuments = documents.filter((_, i) => i !== index);\r\n    const newTypes = documentTypes.filter((_, i) => i !== index);\r\n    onDocumentsChange(newDocuments, newTypes);\r\n  };\r\n\r\n  const documentTypeOptions = [\r\n    ...requiredDocuments,\r\n    ...optionalDocuments,\r\n    'Other Business Document'\r\n  ];\r\n\r\n  // Check if required documents are uploaded\r\n  const uploadedTypes = documentTypes.filter(type => type);\r\n  const missingRequired = requiredDocuments.filter(req => !uploadedTypes.includes(req));\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <label className=\"block mb-2 text-sm text-gray-700 font-medium\">\r\n          Upload Business Documents <span className=\"text-red-500\">*</span>\r\n        </label>\r\n        <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors\">\r\n          <svg className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" stroke=\"currentColor\" fill=\"none\" viewBox=\"0 0 48 48\">\r\n            <path d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\" strokeWidth={2} strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n          </svg>\r\n          <p className=\"text-gray-600 mb-2\">Drag and drop files here, or click to browse</p>\r\n          <label className=\"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\">\r\n            <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fillRule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            Browse Files\r\n            <input\r\n              type=\"file\"\r\n              multiple\r\n              accept=\".pdf,.jpg,.jpeg,.png,.gif\"\r\n              onChange={handleFileChange}\r\n              className=\"hidden\"\r\n            />\r\n          </label>\r\n        </div>\r\n        <p className=\"text-xs text-gray-500 mt-2\">\r\n          Accepted formats: PDF, JPG, PNG, GIF. Maximum file size: 10MB per file. Secure uploads only.\r\n        </p>\r\n      </div>\r\n\r\n      {uploadErrors.length > 0 && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n          <h4 className=\"font-semibold text-red-800 mb-2\">Upload Errors:</h4>\r\n          <ul className=\"text-sm text-red-700 space-y-1\">\r\n            {uploadErrors.map((err, idx) => (\r\n              <li key={idx}>â€¢ {err}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {documents.length > 0 && (\r\n        <div className=\"space-y-3\">\r\n          <h4 className=\"font-medium text-gray-900\">Uploaded Documents:</h4>\r\n          {documents.map((file, index) => {\r\n            const isRequired = requiredDocuments.includes(documentTypes[index]);\r\n            const isOptional = optionalDocuments.includes(documentTypes[index]);\r\n            return (\r\n              <div key={index} className={`flex items-center space-x-3 p-3 rounded-lg border ${isRequired ? 'bg-green-50 border-green-200' : isOptional ? 'bg-blue-50 border-blue-200' : 'bg-gray-50 border-gray-200'}`}>\r\n                <div className=\"flex-shrink-0\">\r\n                  {file.type === 'application/pdf' ? (\r\n                    <svg className=\"w-8 h-8 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg className=\"w-8 h-8 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                      <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"text-sm font-medium text-gray-900 truncate\">{file.name}</p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {(file.size / 1024 / 1024).toFixed(2)} MB â€¢ {file.type || 'unknown'}\r\n                  </p>\r\n                  {isRequired && <span className=\"inline-block mt-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full\">Required</span>}\r\n                  {isOptional && <span className=\"inline-block mt-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full\">Optional</span>}\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <select\r\n                    value={documentTypes[index] || ''}\r\n                    onChange={(e) => handleTypeChange(index, e.target.value)}\r\n                    className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">Select document type</option>\r\n                    {documentTypeOptions.map((type) => (\r\n                      <option key={type} value={type}>{type}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => removeDocument(index)}\r\n                  className=\"text-red-600 hover:text-red-800 text-sm p-1\"\r\n                  title=\"Remove document\"\r\n                >\r\n                  <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                    <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {missingRequired.length > 0 && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n          <h4 className=\"font-semibold text-yellow-800 mb-2\">Missing Required Documents:</h4>\r\n          <ul className=\"text-sm text-yellow-700 space-y-1\">\r\n            {missingRequired.map((doc, idx) => (\r\n              <li key={idx}>â€¢ {doc}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <p className=\"text-red-500 text-sm mt-1\">{error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { api } from \"../../../lib/api\";\r\nimport SectionHeader from \"../../../components/layout/SectionHeader\";\r\nimport Input from \"../../../components/common/Input\";\r\nimport Loader from \"../../../components/common/Loader\";\r\nimport PasswordInput from \"../../../components/common/PasswordInput\";\r\nimport LocationSelector from \"./LocationSelector\";\r\nimport DocumentUploadSection from \"./DocumentUploadSection\";\r\n\r\nexport default function GetStartedForm({\r\n  hook,\r\n  isOtpVerified,\r\n  onOpenTerms,\r\n  onOpenPrivacy,\r\n}) {\r\n  const { step, form, errors, loading, inputRef, handleChange } = hook;\r\n\r\n  // Renders existing uploaded docs if user has a business and token\r\n  function ExistingDocumentsNotice() {\r\n    const [existing, setExisting] = React.useState([]);\r\n    const [verification, setVerification] = React.useState(null);\r\n    React.useEffect(() => {\r\n      const token = sessionStorage.getItem(\"auth_token\");\r\n      let businessId = null;\r\n      try {\r\n        const storedUser = JSON.parse(sessionStorage.getItem(\"user\") || \"null\");\r\n        businessId = storedUser?.businessId || storedUser?.business_id || null;\r\n      } catch {}\r\n      if (!token || !businessId) return;\r\n      (async () => {\r\n        try {\r\n          const data = await api(`/documents/business/${businessId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          });\r\n          setExisting(Array.isArray(data.documents) ? data.documents : []);\r\n          setVerification(data.verification || null);\r\n        } catch {}\r\n      })();\r\n    }, []);\r\n\r\n    if (!existing || existing.length === 0) return null;\r\n    return (\r\n      <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n        <h4 className=\"font-semibold text-gray-800 mb-2\">\r\n          Previously Uploaded\r\n        </h4>\r\n        <ul className=\"space-y-2 text-sm\">\r\n          {existing.map((d) => (\r\n            <li key={d.document_id} className=\"flex justify-between\">\r\n              <span className=\"text-gray-700\">\r\n                {d.document_type} â€” {d.document_name}\r\n              </span>\r\n              <span className=\"text-gray-500\">\r\n                {(d.mime_type || \"\").split(\"/\").pop()}\r\n              </span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {verification?.verification_status && (\r\n          <p className=\"text-xs text-gray-600 mt-2\">\r\n            Verification status: {verification.verification_status}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  switch (step) {\r\n    case 0:\r\n      return (\r\n        <div className=\"space-y-4\">\r\n          <SectionHeader className=\"text-2xl md:text-3xl text-gray-900\">\r\n            Account Info\r\n          </SectionHeader>\r\n          <div className=\"grid gap-4\">\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Email\r\n              </label>\r\n              <Input\r\n                ref={inputRef}\r\n                name=\"email\"\r\n                value={form.email}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your email address\"\r\n                type=\"email\"\r\n                error={errors.email}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                First Name\r\n              </label>\r\n              <Input\r\n                name=\"firstName\"\r\n                value={form.firstName}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your first name\"\r\n                type=\"text\"\r\n                error={errors.firstName}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Last Name\r\n              </label>\r\n              <Input\r\n                name=\"fullName\"\r\n                value={form.fullName}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter your last name\"\r\n                type=\"text\"\r\n                error={errors.fullName}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Mobile Number\r\n              </label>\r\n              <Input\r\n                name=\"mobile\"\r\n                value={form.mobile}\r\n                onChange={handleChange}\r\n                placeholder=\"09xxxxxxxxx\"\r\n                type=\"tel\"\r\n                maxLength={15}\r\n                error={errors.mobile}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Password\r\n              </label>\r\n              <PasswordInput\r\n                name=\"password\"\r\n                value={form.password}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter password\"\r\n                error={errors.password}\r\n              />\r\n\r\n              {/* Password Requirements Checklist */}\r\n              <div className=\"mt-2 space-y-1\">\r\n                <div className=\"text-xs text-gray-600 mb-2\">\r\n                  Password must contain:\r\n                </div>\r\n                <div className=\"grid grid-cols-1 gap-1 text-xs\">\r\n                  <div\r\n                    className={`flex items-center ${\r\n                      form.password.length >= 12\r\n                        ? \"text-green-600\"\r\n                        : \"text-gray-500\"\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`mr-2 ${\r\n                        form.password.length >= 12 ? \"âœ“\" : \"â—‹\"\r\n                      }`}\r\n                    ></span>\r\n                    At least 12 characters\r\n                  </div>\r\n                  <div\r\n                    className={`flex items-center ${\r\n                      /[A-Z]/.test(form.password)\r\n                        ? \"text-green-600\"\r\n                        : \"text-gray-500\"\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`mr-2 ${\r\n                        /[A-Z]/.test(form.password) ? \"âœ“\" : \"â—‹\"\r\n                      }`}\r\n                    ></span>\r\n                    One uppercase letter (A-Z)\r\n                  </div>\r\n                  <div\r\n                    className={`flex items-center ${\r\n                      /[a-z]/.test(form.password)\r\n                        ? \"text-green-600\"\r\n                        : \"text-gray-500\"\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`mr-2 ${\r\n                        /[a-z]/.test(form.password) ? \"âœ“\" : \"â—‹\"\r\n                      }`}\r\n                    ></span>\r\n                    One lowercase letter (a-z)\r\n                  </div>\r\n                  <div\r\n                    className={`flex items-center ${\r\n                      /\\d/.test(form.password)\r\n                        ? \"text-green-600\"\r\n                        : \"text-gray-500\"\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`mr-2 ${/\\d/.test(form.password) ? \"âœ“\" : \"â—‹\"}`}\r\n                    ></span>\r\n                    One number (0-9)\r\n                  </div>\r\n                  <div\r\n                    className={`flex items-center ${\r\n                      /[!@#$%^&*(),.?\":{}|<>]/.test(form.password)\r\n                        ? \"text-green-600\"\r\n                        : \"text-gray-500\"\r\n                    }`}\r\n                  >\r\n                    <span\r\n                      className={`mr-2 ${\r\n                        /[!@#$%^&*(),.?\":{}|<>]/.test(form.password) ? \"âœ“\" : \"â—‹\"\r\n                      }`}\r\n                    ></span>\r\n                    One special character (!@#$%^&*(),.?\":{}|{\"<\"}\r\n                    {\">\"})\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Password Confirmation\r\n              </label>\r\n              <PasswordInput\r\n                name=\"confirmPassword\"\r\n                value={form.confirmPassword}\r\n                onChange={handleChange}\r\n                placeholder=\"Re-enter password\"\r\n                error={errors.confirmPassword}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"text-xs text-gray-600 text-center\">\r\n            By continuing, you agree to our{\" \"}\r\n            <button\r\n              type=\"button\"\r\n              onClick={onOpenTerms}\r\n              className=\"text-blue-700 underline hover:text-blue-800\"\r\n            >\r\n              Terms & Conditions\r\n            </button>{\" \"}\r\n            and{\" \"}\r\n            <button\r\n              type=\"button\"\r\n              onClick={onOpenPrivacy}\r\n              className=\"text-blue-700 underline hover:text-blue-800\"\r\n            >\r\n              Privacy Policy\r\n            </button>\r\n            .\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 1:\r\n      return (\r\n        <div className=\"space-y-4\">\r\n          <SectionHeader className=\"text-2xl md:text-3xl text-gray-900\">\r\n            OTP Verification\r\n          </SectionHeader>\r\n          <p className=\"text-gray-700 mb-2 text-sm\">\r\n            We've sent a 4-character verification code to{\" \"}\r\n            <strong>{form.email}</strong>.\r\n          </p>\r\n\r\n          <div>\r\n            <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n              Enter OTP\r\n            </label>\r\n            <Input\r\n              ref={inputRef}\r\n              name=\"otp\"\r\n              value={form.otp}\r\n              onChange={(e) => {\r\n                const value = e.target.value.slice(0, 4);\r\n                handleChange({ target: { name: \"otp\", value } });\r\n                if (errors.otp) hook.setErrors({ ...errors, otp: null });\r\n              }}\r\n              placeholder=\"Enter 4-character code\"\r\n              type=\"text\"\r\n              maxLength={4}\r\n              error={errors.otp}\r\n              disabled={isOtpVerified}\r\n            />\r\n            {form.otp.length === 4 && !isOtpVerified && !loading && (\r\n              <div className=\"mt-2 text-blue-600 text-sm font-medium flex items-center\">\r\n                <Loader size=\"sm\" className=\"mr-2\" />\r\n                Auto-verifying OTP...\r\n              </div>\r\n            )}\r\n            {loading && (\r\n              <div className=\"mt-2 text-gray-700 text-sm font-medium flex items-center\">\r\n                <Loader size=\"sm\" className=\"mr-2\" />\r\n                Verifying OTP...\r\n              </div>\r\n            )}\r\n            {isOtpVerified && (\r\n              <div className=\"mt-2 text-green-600 text-sm font-medium flex items-center\">\r\n                <svg\r\n                  className=\"w-4 h-4 mr-2\"\r\n                  fill=\"currentColor\"\r\n                  viewBox=\"0 20 20\"\r\n                  aria-hidden\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n                OTP verified successfully!\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"text-center\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={async () => {\r\n                hook.setLoading(true);\r\n                try {\r\n                  await api(\"/otp/resend\", {\r\n                    method: \"POST\",\r\n                    body: JSON.stringify({ email: form.email }),\r\n                  });\r\n                  alert(\"New OTP sent successfully!\");\r\n                } catch (err) {\r\n                  alert(\"Failed to resend OTP\");\r\n                } finally {\r\n                  hook.setLoading(false);\r\n                }\r\n              }}\r\n              className=\"text-gray-700 hover:text-gray-900 text-sm underline\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Sending...\" : \"Resend OTP\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 2:\r\n      return (\r\n        <div className=\"space-y-4\">\r\n          <SectionHeader className=\"text-2xl md:text-3xl text-gray-900\">\r\n            Business Details\r\n          </SectionHeader>\r\n\r\n          <div className=\"grid gap-4\">\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Business Name <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <Input\r\n                name=\"businessName\"\r\n                value={form.businessName}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter business name\"\r\n                error={errors.businessName}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Business Email <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"useAdminEmail\"\r\n                    name=\"useAdminEmail\"\r\n                    checked={form.useAdminEmail}\r\n                    onChange={handleChange}\r\n                    className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500\"\r\n                  />\r\n                  <label\r\n                    htmlFor=\"useAdminEmail\"\r\n                    className=\"text-sm text-gray-700\"\r\n                  >\r\n                    Use admin email ({form.email})\r\n                  </label>\r\n                </div>\r\n                {!form.useAdminEmail && (\r\n                  <Input\r\n                    name=\"businessEmail\"\r\n                    value={form.businessEmail}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Enter business email\"\r\n                    type=\"email\"\r\n                    error={errors.businessEmail}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                Business Type <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <select\r\n                name=\"businessType\"\r\n                value={form.businessType}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                style={{ borderColor: errors.businessType ? \"#ef4444\" : \"\" }}\r\n              >\r\n                <option value=\"\">Select business type</option>\r\n                <option value=\"Grocery Store\">Grocery Store</option>\r\n                <option value=\"Pharmacy\">Pharmacy</option>\r\n                <option value=\"Clothing Store\">Clothing Store</option>\r\n                <option value=\"Electronics Store\">Electronics Store</option>\r\n                <option value=\"Hardware Store\">Hardware Store</option>\r\n                <option value=\"Bookstore\">Bookstore</option>\r\n                <option value=\"Convenience Store\">Convenience Store</option>\r\n                <option value=\"Others\">Others</option>\r\n              </select>\r\n              {errors.businessType && (\r\n                <p className=\"text-red-500 text-sm mt-1\">\r\n                  {errors.businessType}\r\n                </p>\r\n              )}\r\n              {form.businessType === \"Others\" && (\r\n                <div className=\"mt-2\">\r\n                  <Input\r\n                    name=\"customBusinessType\"\r\n                    value={form.customBusinessType}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Please specify your business type\"\r\n                    error={errors.customBusinessType}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"mb-2 mt-4 font-semibold text-gray-900\">\r\n                Business Location\r\n              </div>\r\n              <LocationSelector\r\n                form={form}\r\n                errors={errors}\r\n                handleLocationChange={hook.handleLocationChange}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block mb-1 text-sm text-gray-700 font-medium\">\r\n                House no./ Street Name / Landmark (optional)\r\n              </label>\r\n              <Input\r\n                name=\"houseNumber\"\r\n                value={form.houseNumber}\r\n                onChange={handleChange}\r\n                placeholder=\"Enter house no., street, or landmark (optional)\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n    case 3:\r\n      return (\r\n        <div className=\"space-y-4\">\r\n          <SectionHeader className=\"text-2xl md:text-3xl text-gray-900\">\r\n            Business Documents\r\n          </SectionHeader>\r\n          <p className=\"text-gray-700 mb-4 text-sm\">\r\n            Please upload your business documents for verification. These\r\n            documents help us verify that your business is legitimate and\r\n            complies with Philippine regulations.\r\n          </p>\r\n\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n            <h4 className=\"font-semibold text-red-800 mb-2\">\r\n              âš ï¸ REQUIRED Documents (Must Upload All 3):\r\n            </h4>\r\n            <ul className=\"text-sm text-red-700 space-y-1 font-medium\">\r\n              <li>â–º Business Registration Certificate (DTI/SEC/CDA)</li>\r\n              <li>â–º Mayor's Permit / Business Permit</li>\r\n              <li>â–º BIR Certificate of Registration (Form 2303)</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\r\n            <h4 className=\"font-semibold text-blue-800 mb-2\">\r\n              Additional Documents (Optional):\r\n            </h4>\r\n            <ul className=\"text-sm text-blue-700 space-y-1\">\r\n              <li>â€¢ Barangay Business Clearance</li>\r\n              <li>â€¢ Fire Safety Inspection Certificate (if applicable)</li>\r\n              <li>â€¢ Sanitary Permit (for food businesses)</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <DocumentUploadSection\r\n              documents={form.documents}\r\n              documentTypes={form.documentTypes}\r\n              onDocumentsChange={(documents, types) => {\r\n                handleChange({\r\n                  target: { name: \"documents\", value: documents },\r\n                });\r\n                handleChange({\r\n                  target: { name: \"documentTypes\", value: types },\r\n                });\r\n              }}\r\n              error={errors.documents || errors.documentTypes}\r\n            />\r\n\r\n            {/* Existing uploaded files (if resuming) */}\r\n            <ExistingDocumentsNotice />\r\n          </div>\r\n\r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4\">\r\n            <p className=\"text-sm text-yellow-800\">\r\n              <strong>Important:</strong> After submitting your documents,\r\n              please allow 1-3 business days for verification. You will receive\r\n              an email notification once the review is complete.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"mt-6 space-y-4\">\r\n            {/* Terms and Conditions Checkbox */}\r\n            <div className=\"flex items-start\">\r\n              <div className=\"flex items-center h-5\">\r\n                <input\r\n                  id=\"acceptTerms\"\r\n                  name=\"acceptTerms\"\r\n                  type=\"checkbox\"\r\n                  checked={form.acceptTerms}\r\n                  onChange={handleChange}\r\n                  className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n              <div className=\"ml-3 text-sm\">\r\n                <label htmlFor=\"acceptTerms\" className=\"text-gray-700\">\r\n                  I agree to the{' '}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={onOpenTerms}\r\n                    className=\"text-blue-600 hover:text-blue-800 underline\"\r\n                  >\r\n                    Terms and Conditions\r\n                  </button>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Privacy Policy Checkbox */}\r\n            <div className=\"flex items-start\">\r\n              <div className=\"flex items-center h-5\">\r\n                <input\r\n                  id=\"acceptPrivacy\"\r\n                  name=\"acceptPrivacy\"\r\n                  type=\"checkbox\"\r\n                  checked={form.acceptPrivacy}\r\n                  onChange={handleChange}\r\n                  className=\"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n              <div className=\"ml-3 text-sm\">\r\n                <label htmlFor=\"acceptPrivacy\" className=\"text-gray-700\">\r\n                  I have read the{' '}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={onOpenPrivacy}\r\n                    className=\"text-blue-600 hover:text-blue-800 underline\"\r\n                  >\r\n                    Privacy Policy\r\n                  </button>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {errors.accept && (\r\n              <p className=\"mt-2 text-sm text-red-600\">{errors.accept}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"mt-8 flex justify-between items-center pt-4 border-t border-gray-200\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={hook.handlePrevious}\r\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n            >\r\n              <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n              </svg>\r\n              Back\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={hook.handleFinish}\r\n              disabled={loading || !form.documents || form.documents.length === 0 || !form.acceptTerms || !form.acceptPrivacy}\r\n              className=\"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Submitting...\r\n                </>\r\n              ) : (\r\n                'Submit Application'\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n      );\r\n\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport useGetStarted from \"./useGetStarted\";\r\nimport GetStartedLayout from \"./GetStartedLayout\";\r\nimport GetStartedForm from \"./GetStartedForm\";\r\nimport Card from \"../../common/Card\";\r\nimport SectionHeader from \"../../layout/SectionHeader\";\r\nimport Button from \"../../common/Button\";\r\n\r\nexport default function GetStartedSingle({ onOpenTerms, onOpenPrivacy }) {\r\n  const hook = useGetStarted();\r\n  const {\r\n    step,\r\n    steps,\r\n    progress,\r\n    loading,\r\n    errors,\r\n    handleBack,\r\n    handleNext,\r\n    handleFinish,\r\n    success,\r\n    isOtpVerified,\r\n  } = hook;\r\n\r\n  if (success) {\r\n    return (\r\n      <GetStartedLayout\r\n        step={step}\r\n        steps={steps}\r\n        progress={100}\r\n        loading={false}\r\n        errors={{}}\r\n      >\r\n        <div className=\"flex flex-col items-center justify-center px-4 py-12\">\r\n          <Card className=\"rounded-3xl p-10 flex flex-col items-center max-w-2xl\">\r\n            <SectionHeader className=\"text-3xl md:text-4xl text-gray-900 mb-4\">\r\n              Application Submitted!\r\n            </SectionHeader>\r\n            <p className=\"text-gray-800 mb-6 text-base text-center max-w-md\">\r\n              Your business application has been submitted successfully! Our\r\n              verification team will review your documents.\r\n            </p>\r\n\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full max-w-md\">\r\n              <h4 className=\"font-semibold text-blue-800 mb-2\">\r\n                What happens next?\r\n              </h4>\r\n              <ul className=\"text-sm text-blue-700 space-y-1\">\r\n                <li>â€¢ Document verification (1-3 business days)</li>\r\n                <li>â€¢ Email notification once complete</li>\r\n                <li>â€¢ Full access upon approval</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 w-full max-w-md\">\r\n              <p className=\"text-sm text-yellow-800 text-center\">\r\n                <strong>Please wait 1-3 business days</strong> for verification.\r\n                You will receive an email notification once the review is\r\n                complete.\r\n              </p>\r\n            </div>\r\n\r\n            <Button\r\n              label=\"Return to Home\"\r\n              onClick={() => (window.location.href = \"/\")}\r\n              className=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-full font-semibold shadow hover:from-blue-700 hover:to-blue-800 transition-colors\"\r\n            />\r\n          </Card>\r\n        </div>\r\n      </GetStartedLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <GetStartedLayout\r\n      step={step}\r\n      steps={steps}\r\n      progress={progress}\r\n      loading={loading}\r\n      errors={errors}\r\n      onBack={handleBack}\r\n      onNext={handleNext}\r\n      onFinish={handleFinish}\r\n    >\r\n      <GetStartedForm\r\n        hook={hook}\r\n        isOtpVerified={isOtpVerified}\r\n        onOpenTerms={onOpenTerms}\r\n        onOpenPrivacy={onOpenPrivacy}\r\n      />\r\n    </GetStartedLayout>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport GetStartedSingle from \"../components/ui/getstarted/GetStartedSingle\";\r\nimport TermsModal from \"../components/modals/TermsModal\";\r\nimport PrivacyPolicyModal from \"../components/modals/PrivacyPolicyModal\";\r\n\r\nexport default function GetStarted() {\r\n  const [openTerms, setOpenTerms] = useState(false);\r\n  const [openPrivacy, setOpenPrivacy] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <GetStartedSingle onOpenTerms={() => setOpenTerms(true)} onOpenPrivacy={() => setOpenPrivacy(true)} />\r\n      <TermsModal open={openTerms} onClose={() => setOpenTerms(false)} />\r\n      <PrivacyPolicyModal open={openPrivacy} onClose={() => setOpenPrivacy(false)} />\r\n    </>\r\n  );\r\n}\r\n"],"names":["useGetStarted","steps","label","icon","step","setStep","useState","form","setForm","email","firstName","fullName","businessName","businessEmail","useAdminEmail","businessType","customBusinessType","region","province","city","barangay","regionName","provinceName","cityName","barangayName","houseNumber","mobile","password","confirmPassword","otp","documents","documentTypes","acceptTerms","acceptPrivacy","errors","setErrors","loading","setLoading","success","setSuccess","isOtpVerified","setIsOtpVerified","inputRef","useRef","useEffect","current","focus","handleNext","length","validateStep","err","test","requiredDocuments","uploadedTypes","filter","type","missingRequired","req","includes","join","typeCounts","forEach","duplicates","Object","keys","accept","async","existingUser","username","api","method","body","JSON","stringify","error","console","data","Error","checkExistingUser","exists","errorObj","field","message","s","status","errorData","f","handleChange","e","name","value","checked","target","handleLocationChange","code","locationName","reset","handleBack","Math","max","handleFinish","formData","FormData","append","file","result","localStorage","setItem","token","user","general","progress","ProgressBar","percent","className","role","children","style","width","Stepper","currentStep","renderOutlinedIcon","idx","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","jsx","d","cx","cy","r","x","y","rx","jsxs","map","stepObj","undefined","tabIndex","title","GetStartedLayout","onBack","onNext","onFinish","isOtpStep","showNext","Background","variant","pattern","overlay","floatingElements","Card","Link","to","Button","onClick","disabled","Loader","size","BASE_URL","LocationSelector","regions","setRegions","provinces","setProvinces","cities","setCities","barangays","setBarangays","setError","l","res","fetch","ok","json","getRegions","fetchRegions","regionCode","getProvinces","fetchProvinces","provinceCode","getCities","fetchCities","cityCode","getBarangays","fetchBarangays","handleSelectChange","selectedOption","options","selectedIndex","text","onChange","borderColor","DocumentUploadSection","onDocumentsChange","uploadErrors","setUploadErrors","optionalDocuments","documentTypeOptions","fillRule","clipRule","multiple","files","Array","from","allowedTypes","existingKey","lastModified","existingKeys","Set","accepted","rejected","key","has","push","reason","ext","split","pop","toLowerCase","add","newDocuments","newTypes","index","isRequired","isOptional","toFixed","handleTypeChange","_","i","removeDocument","doc","GetStartedForm","hook","onOpenTerms","onOpenPrivacy","ExistingDocumentsNotice","existing","setExisting","React","verification","setVerification","sessionStorage","getItem","businessId","storedUser","parse","business_id","headers","Authorization","isArray","document_type","document_name","mime_type","document_id","verification_status","SectionHeader","Input","ref","placeholder","maxLength","PasswordInput","slice","alert","id","htmlFor","types","handlePrevious","xmlns","Fragment","GetStartedSingle","window","location","href","GetStarted","openTerms","setOpenTerms","openPrivacy","setOpenPrivacy","TermsModal","open","onClose","PrivacyPolicyModal"],"mappings":"uaAGe,SAASA,IACtB,MAAMC,EAAQ,CACZ,CAAEC,MAAO,eAAgBC,KAAM,MAC/B,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CAAED,MAAO,mBAAoBC,KAAM,MACnC,CAAED,MAAO,kBAAmBC,KAAM,QAG7BC,EAAMC,GAAWC,EAAAA,SAAS,IAC1BC,EAAMC,GAAWF,WAAS,CAC/BG,MAAO,GACPC,UAAW,GACXC,SAAU,GACVC,aAAc,GACdC,cAAe,GACfC,eAAe,EACfC,aAAc,GACdC,mBAAoB,GACpBC,OAAQ,GACRC,SAAU,GACVC,KAAM,GACNC,SAAU,GACVC,WAAY,GACZC,aAAc,GACdC,SAAU,GACVC,aAAc,GACdC,YAAa,GACbC,OAAQ,GACRC,SAAU,GACVC,gBAAiB,GACjBC,IAAK,GACLC,UAAW,GACXC,cAAe,GACfC,aAAa,EACbC,eAAe,KAEVC,EAAQC,GAAa7B,EAAAA,SAAS,CAAA,IAC9B8B,EAASC,GAAc/B,EAAAA,UAAS,IAChCgC,EAASC,GAAcjC,EAAAA,UAAS,IAChCkC,EAAeC,GAAoBnC,EAAAA,UAAS,GAC7CoC,EAAWC,EAAMA,OAAC,MAExBC,EAAAA,UAAU,KACJF,EAASG,SAASH,EAASG,QAAQC,SACtC,CAAC1C,IAEJwC,EAAAA,UAAU,KACK,IAATxC,GAAcoC,GAChBO,KAED,CAAC3C,EAAMoC,IAGVI,EAAAA,UAAU,KACK,IAATxC,GAAkC,IAApBG,EAAKsB,IAAImB,QAAiBR,GAAkBJ,GAC5DW,KAED,CAACxC,EAAKsB,IAAKzB,EAAMoC,EAAeJ,IAEnC,MAsDMa,EAAeA,KACnB,MAAMC,EAAM,CAAE,EAqDd,GApDa,IAAT9C,IACGG,EAAKE,MACA,iBAAiB0C,KAAK5C,EAAKE,SACnCyC,EAAIzC,MAAQ,yBAFGyC,EAAIzC,MAAQ,WAGxBF,EAAKG,UACA,qBAAqByC,KAAK5C,EAAKG,aACvCwC,EAAIxC,UACF,+DAHiBwC,EAAIxC,UAAY,WAIhCH,EAAKI,SACA,sBAAsBwC,KAAK5C,EAAKI,YACxCuC,EAAIvC,SACF,+DAHgBuC,EAAIvC,SAAW,WAI9BJ,EAAKmB,OACA,cAAcyB,KAAK5C,EAAKmB,UAChCwB,EAAIxB,OAAS,yBAFGwB,EAAIxB,OAAS,WAG1BnB,EAAKoB,SACDpB,EAAKoB,SAASqB,OAAS,GAC9BE,EAAIvB,SAAW,+CACP,QAAQwB,KAAK5C,EAAKoB,UAElB,QAAQwB,KAAK5C,EAAKoB,UAElB,KAAKwB,KAAK5C,EAAKoB,UAEf,yBAAyBwB,KAAK5C,EAAKoB,YAC3CuB,EAAIvB,SAAW,wDAFfuB,EAAIvB,SAAW,4CAFfuB,EAAIvB,SAAW,sDAFfuB,EAAIvB,SAAW,sDAJGuB,EAAIvB,SAAW,WAW/BpB,EAAKoB,WAAapB,EAAKqB,kBACzBsB,EAAItB,gBAAkB,2BAEb,IAATxB,IACGG,EAAKsB,IACA,mBAAmBsB,KAAK5C,EAAKsB,OACrCqB,EAAIrB,IAAM,kCAFGqB,EAAIrB,IAAM,YAId,IAATzB,IACGG,EAAKK,eAAcsC,EAAItC,aAAe,YACtCL,EAAKO,eAAkBP,EAAKM,cAG9BN,EAAKO,gBACNP,EAAKM,eACJ,iBAAiBsC,KAAK5C,EAAKM,iBAE5BqC,EAAIrC,cAAgB,yBANpBqC,EAAIrC,cAAgB,WAOjBN,EAAKQ,eAAcmC,EAAInC,aAAe,YACjB,WAAtBR,EAAKQ,cAA8BR,EAAKS,qBAC1CkC,EAAIlC,mBAAqB,gCACtBT,EAAKU,SAAQiC,EAAIjC,OAAS,YAC1BV,EAAKW,WAAUgC,EAAIhC,SAAW,YAC9BX,EAAKY,OAAM+B,EAAI/B,KAAO,YACtBZ,EAAKa,WAAU8B,EAAI9B,SAAW,aAExB,IAAThB,EAAY,CACd,MAAMgD,EAAoB,CACxB,kDACA,mCACA,+CAGG7C,EAAKuB,WAAuC,IAA1BvB,EAAKuB,UAAUkB,SACpCE,EAAIpB,UAAY,gDAGdvB,EAAKuB,UAAUkB,SAAWzC,EAAKwB,cAAciB,SAC/CE,EAAInB,cACF,uDAIJ,MAAMsB,EAAgB9C,EAAKwB,cAAcuB,OAAQC,GAASA,GACpDC,EAAkBJ,EAAkBE,OACvCG,IAASJ,EAAcK,SAASD,IAE/BD,EAAgBR,OAAS,IAC3BE,EAAIpB,UAAY,+BAA+B0B,EAAgBG,KAC7D,SAKJ,MAAMC,EAAa,CAAE,EACrBrD,EAAKwB,cAAc8B,QAASN,IACtBA,IAAMK,EAAWL,IAASK,EAAWL,IAAS,GAAK,KAEzD,MAAMO,EAAaC,OAAOC,KAAKJ,GAAYN,OACxCC,GAASK,EAAWL,GAAQ,GAE3BO,EAAWd,OAAS,IACtBE,EAAInB,cAAgB,yCAAyC+B,EAAWH,KACtE,SAICpD,EAAKyB,YAEEzB,EAAK0B,gBACfiB,EAAIe,OAAS,4CAFbf,EAAIe,OAAS,2CAIjB,CAEA,OADA9B,EAAUe,GACyB,IAA5Ba,OAAOC,KAAKd,GAAKF,QAqBpBD,EAAamB,UACjB,GAAKjB,IAEL,GAAa,IAAT7C,EAAY,CACdiC,GAAW,GACX,IAEE,MAAM8B,OAzBcD,OAAOzD,EAAO2D,KACtC,IAKE,aAJuBC,EAAI,uBAAwB,CACjDC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEhE,QAAO2D,cAGjC,CAAC,MAAOM,GAGP,GAFAC,QAAQD,MAAM,gCAAiCA,GAE3CA,EAAME,KACR,MAAMF,EAGR,MAAM,IAAIG,MAAM,uDAClB,GAU+BC,CAAkBvE,EAAKE,MAAOF,EAAK6D,UAE9D,GAAID,EAAaY,OAAQ,CAEvB,MAAMC,EAAW,CAAE,EASnB,MAR2B,UAAvBb,EAAac,MACfD,EAASvE,MAAQ0D,EAAae,SAAW,4EACT,aAAvBf,EAAac,MACtBD,EAASZ,SAAWD,EAAae,SAAW,6DAE5CF,EAASvE,MAAQ0D,EAAae,SAAW,qDAE3C/C,EAAU6C,EAEZ,OAGMX,EAAI,YAAa,CACrBC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEhE,MAAOF,EAAKE,UAErCJ,EAAS8E,GAAMA,EAAI,EACpB,CAAC,MAAOjC,GAGP,GAFAyB,QAAQD,MAAM,uBAAwBxB,GAEnB,MAAfA,EAAIkC,OAAgB,CACtB,MAAMC,EAAYnC,EAAI0B,MAAQ,CAAE,EAC1BI,EAAW,CAAE,EAEK,UAApBK,EAAUJ,MACZD,EAASvE,MAAQ4E,EAAUH,SAAW,oCACT,aAApBG,EAAUJ,MACnBD,EAASZ,SAAWiB,EAAUH,SAAW,kCAEzCF,EAASvE,MAAQ4E,EAAUH,SAAW,gDAExC/C,EAAU6C,EACZ,MAEE7C,EAAU,CACR1B,MAAOyC,EAAIgC,SAAW,+CAG5B,CAAU,QACR7C,GAAW,EACb,CACF,MAAO,GAAa,IAATjC,EAAY,CAErB,GAAIoC,EAEF,YADAnC,EAAS8E,GAAMA,EAAI,GAIrB9C,GAAW,GACX,UACyBgC,EAAI,cAAe,CACxCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEhE,MAAOF,EAAKE,MAAOoB,IAAKtB,EAAKsB,QAEtDY,GAAiB,GACjBpC,EAAS8E,GAAMA,EAAI,EACpB,CAAC,MAAOjC,GACPyB,QAAQD,MAAM,0BAA2BxB,GACzCf,EAAU,CAAEN,IAAKqB,EAAIgC,SAAW,yBAChC1E,EAAS8E,IAAO,IAAKA,EAAGzD,IAAK,KAC/B,CAAU,QACRQ,GAAW,EACb,CACF,MACEhC,EAAS8E,GAAMA,EAAI,IA8DvB,MAAO,CACLlF,QACAG,OACAC,UACAE,OACAC,UACA0B,SACAC,YACAC,UACAC,aACAC,UACAE,gBACAC,mBACAC,WACA6C,aAjSoBC,IACpB,MAAMC,KAAEA,EAAIC,MAAEA,EAAKnC,KAAEA,EAAIoC,QAAEA,GAAYH,EAAEI,OAGvCpF,EADW,kBAATiF,EACOH,IAAO,IACXA,EACHG,CAACA,GAAOE,EACR9E,cAAe8E,EAAUL,EAAE7E,MAAQ,KAG5B6E,IAAO,IAAKA,EAAGG,CAACA,GAAgB,aAATlC,EAAsBoC,EAAUD,MAwRlEG,qBA1U2BA,CAACJ,EAAMK,EAAMC,KACxC,MAAMC,EAAQ,CAAE,EACH,WAATP,GACFO,EAAM9E,SAAW,GACjB8E,EAAM7E,KAAO,GACb6E,EAAM5E,SAAW,GACjB4E,EAAM1E,aAAe,GACrB0E,EAAMzE,SAAW,GACjByE,EAAMxE,aAAe,IACH,aAATiE,GACTO,EAAM7E,KAAO,GACb6E,EAAM5E,SAAW,GACjB4E,EAAMzE,SAAW,GACjByE,EAAMxE,aAAe,IACH,SAATiE,IACTO,EAAM5E,SAAW,GACjB4E,EAAMxE,aAAe,IAEvBhB,EAAS8E,IAAO,IACXA,EACHG,CAACA,GAAOK,EACR,CAAC,GAAGL,SAAaM,KACdC,MAqTL/C,eACAF,aACAkD,WA5EiBA,IAAM5F,EAAS8E,GAAMe,KAAKC,IAAI,EAAGhB,EAAI,IA6EtDiB,aA3EmBlC,UACnB,GAAKjB,IAAL,CACAZ,GAAW,GACX,IAEE,MAAMgE,EAAW,IAAIC,SAGrBD,EAASE,OAAO,QAAShG,EAAKE,OAC9B4F,EAASE,OAAO,YAAahG,EAAKG,WAClC2F,EAASE,OAAO,WAAYhG,EAAKI,UACjC0F,EAASE,OAAO,eAAgBhG,EAAKK,cACrCyF,EAASE,OACP,eACsB,WAAtBhG,EAAKQ,aACDR,EAAKS,mBACLT,EAAKQ,cAEXsF,EAASE,OAAO,UAAW,eAC3BF,EAASE,OAAO,cAAe,eAC/BF,EAASE,OAAO,WAAYhG,EAAKW,UACjCmF,EAASE,OAAO,OAAQhG,EAAKY,MAC7BkF,EAASE,OAAO,WAAYhG,EAAKa,UACjCiF,EAASE,OAAO,aAAchG,EAAKc,YACnCgF,EAASE,OAAO,eAAgBhG,EAAKe,cACrC+E,EAASE,OAAO,WAAYhG,EAAKgB,UACjC8E,EAASE,OAAO,eAAgBhG,EAAKiB,cACrC6E,EAASE,OAAO,cAAehG,EAAKkB,aACpC4E,EAASE,OAAO,SAAUhG,EAAKmB,QAC/B2E,EAASE,OAAO,WAAYhG,EAAKoB,UAGjC0E,EAASE,OAAO,iBAAkB/B,KAAKC,UAAUlE,EAAKwB,gBAGtDxB,EAAKuB,UAAU+B,QAAS2C,IACtBH,EAASE,OAAO,YAAaC,KAG/B,MAAMC,QAAepC,EAAI,oCAAqC,CAC5DC,OAAQ,OACRC,KAAM8B,IAGRK,aAAaC,QAAQ,QAASF,EAAOG,OACrCF,aAAaC,QAAQ,OAAQnC,KAAKC,UAAUgC,EAAOI,OACnDtE,GAAW,EACZ,CAAC,MAAOW,GACPf,EAAU,CAAE2E,QAAS5D,EAAIgC,SAAW,sBACtC,CAAU,QACR7C,GAAW,EACb,CAlDqB,GA2ErB0E,UAtBiB3G,EAAO,GAAKH,EAAM+C,OAAU,IAwBjD,CC7YA,SAASgE,GAAYC,QAAEA,IACrB,aACG,MACC,CAAAC,UAAU,wEACV,aAAW,eACX,gBAAeD,EACf,gBAAe,EACf,gBAAe,IACfE,KAAK,cAELC,eAAC,MACC,CAAAF,UAAU,oHACVG,MAAO,CAAEC,MAAO,GAAGL,SAI3B,CChBA,SAASM,GAAQtH,MAAEA,EAAAA,YAAOuH,IACxB,MAAMC,EAA8BC,IAClC,OAAQA,GACN,KAAK,EACH,cACG,MACC,CAAAJ,MAAM,KACNK,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QAEfb,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKC,EAAE,oDACP,SAAO,CAAAC,GAAG,KAAKC,GAAG,IAAIC,EAAE,SAG/B,KAAK,EACH,cACG,MACC,CAAAhB,MAAM,KACNK,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QAEfb,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKK,EAAE,IAAIC,EAAE,KAAKlB,MAAM,KAAKK,OAAO,KAAKc,GAAG,MAC7CP,EAAAA,IAAC,OAAK,CAAAC,EAAE,gCAGd,KAAK,EACH,cACG,MACC,CAAAb,MAAM,KACNK,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QAEfb,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKK,EAAE,IAAIC,EAAE,IAAIlB,MAAM,IAAIK,OAAO,OACnCO,EAAAA,IAAC,QAAKK,EAAE,KAAKC,EAAE,IAAIlB,MAAM,IAAIK,OAAO,OACpCO,EAAAA,IAAC,OAAK,CAAAC,EAAE,4CAId,QACE,cACG,MACC,CAAAb,MAAM,KACNK,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QAEfb,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKC,EAAE,+DACRD,EAAAA,IAAC,OAAK,CAAAC,EAAE,cACRD,EAAAA,IAAC,OAAK,CAAAC,EAAE,iCAKlB,aACG,MAAI,CAAAjB,UAAU,OACbE,SAACsB,EAAAA,KAAA,MAAA,CAAIxB,UAAU,6CACZjH,SAAAA,CAAAA,EAAM0I,IAAI,CAACC,EAASlB,IAClBgB,OAAA,MAAA,CAAcxB,UAAU,oCACvBE,SAAA,CAAAc,MAAC,OACChB,UAAW,mLAEPQ,EAAMF,EACF,kCACAE,IAAQF,EACR,qDACA,kDAGR,eAAcE,IAAQF,EAAc,YAASqB,EAC7CC,SAAU,EACVC,MAAOH,EAAQ1I,MAEduH,SAAmBC,EAAAA,KAEtBQ,EAAAA,IAAC,OACC,CAAAhB,UAAW,sDACTQ,GAAOF,EAAc,gBAAkB,iBAGxCoB,SAAAA,EAAQ1I,UAtBHwH,IA2BXQ,EAAAA,IAAA,MAAA,CACChB,UAAU,wDACV,eAAW,IAGZgB,EAAAA,IAAA,MAAA,CACChB,UAAU,2GACVG,MAAO,CAAEC,MAAWE,GAAevH,EAAM+C,OAAS,GAAM,IAAxC,KAChB,eAAW,QAKrB,CCxGA,SAASgG,GAAiB5I,KACxBA,EAAAA,MACAH,EAAAA,SACA8G,EAAAA,QACA3E,EAAAA,OACAF,EAAAA,OACA+G,EAAAA,OACAC,EAAAA,SACAC,EAAAA,SACA/B,IAGA,MAAMgC,EAAqB,IAAThJ,EACZiJ,EAAWjJ,EAAOH,EAAM+C,OAAS,IAAMoG,EAI3C,OAH0BnJ,EAAM+C,OAGhCkF,EAAAA,IAACoB,GAAWC,QAAQ,eAAeC,QAAQ,OAAOC,SAAO,EAACC,kBAAgB,EACxEtC,eAAC,MAAI,CAAAF,UAAU,iCACbE,SAACc,EAAAA,IAAAyB,EAAA,CAAKzC,UAAU,mDACdE,SAAAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,UACbE,SAAA,CAAAc,EAAAA,IAAC,SAAMhB,UAAU,8HACfE,SAACsB,EAAAA,KAAA,MAAA,CAAIxB,UAAU,uBACbE,SAAA,CAACsB,EAAAA,KAAA,MAAA,CAAIxB,UAAU,iIACbE,SAAA,CAAAc,EAAAA,IAAC,QAAKd,SAAW,gBAChBc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,aAAaE,SAAC,MAC9Bc,EAAAA,IAAC,QAAKd,SAAM,cAEbc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,qCAAqCE,SAEnD,qCACCc,EAAAA,IAAA,IAAA,CAAEhB,UAAU,6BAA6BE,SAG1C,8HACAsB,EAAAA,KAAC,KAAG,CAAAxB,UAAU,4CACZE,SAAA,CAACsB,EAAAA,KAAA,KAAA,CAAGxB,UAAU,0BACZE,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,+CAAqD,IAAI,+BAG3EwB,EAAAA,KAAC,KAAG,CAAAxB,UAAU,0BACZE,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,+CAAqD,IAAI,iCAG3EwB,EAAAA,KAAC,KAAG,CAAAxB,UAAU,0BACZE,SAAA,CAACc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,+CAAqD,IAAI,iCAOjFwB,EAAAA,KAAC,OAAK,CAAAxB,UAAU,6CAEdE,SAAA,CAACc,EAAAA,IAAA,MAAA,CAAIhB,UAAU,OACbE,SAAAsB,EAAAA,KAACkB,GACCC,GAAG,IACH3C,UAAU,2EAEVE,SAAA,CAAAc,EAAAA,IAAC,OACChB,UAAU,UACVW,KAAK,OACLC,OAAO,eACPF,QAAQ,YAERR,eAAC,OACC,CAAAY,cAAc,QACdC,eAAe,QACfF,YAAa,EACbI,EAAE,sBAEA,oBAIVO,EAAAA,KAAC,MAAI,CAAAxB,UAAU,OACbE,SAAA,CAAAc,EAAAA,IAAC,MAAI,CAAAhB,UAAU,mCACbE,SAAAc,EAAAA,IAAC,MAAI,CAAAhB,UAAU,kBACbE,SAAAc,EAAAA,IAAClB,EAAY,CAAAC,QAASF,QAG1BmB,EAAAA,IAAC,OAAIhB,UAAU,OACbE,eAACG,EAAQ,CAAAtH,QAAcuH,YAAapH,SAIxCsI,EAAAA,KAAC,MAAI,CAAAxB,UAAU,SACZhF,SAAAA,CAAAA,GAAQ4E,SACNoB,EAAAA,IAAA,MAAA,CAAIhB,UAAU,iEACZhF,WAAO4E,UAIXoB,EAAAA,IAAA,MAAA,CAAIhB,UAAU,WAAYE,gBAG5BiC,SACE,MAAI,CAAAnC,UAAU,gDACbE,SAACc,EAAAA,IAAA4B,EAAA,CACCC,QAASb,EACTc,SAAU5H,EACVmH,QAAQ,UACRrC,UAAU,OAET9E,SAAUA,EAAA8F,EAAAA,IAAC+B,GAAOC,KAAK,OAAU,eAKvChC,EAAAA,IAAA,MAAA,CAAIhB,UAAU,6CAA6CE,SAE5D,8DAOd,CCnIA,MAAM+C,EAAW,yBCEjB,SAAwBC,GAAiB7J,KAAEA,EAAAA,OAAM2B,EAAAA,qBAAQ2D,IACvD,MAAOwE,EAASC,GAAchK,EAAAA,SAAS,KAChCiK,EAAWC,GAAgBlK,EAAAA,SAAS,KACpCmK,EAAQC,GAAapK,EAAAA,SAAS,KAC9BqK,EAAWC,GAAgBtK,EAAAA,SAAS,KACpC8B,EAASC,GAAc/B,WAAS,CACrC+J,SAAS,EACTE,WAAW,EACXE,QAAQ,EACRE,WAAW,KAENjG,EAAOmG,GAAYvK,EAAAA,SAAS,MAEnCsC,EAAAA,UAAU,KACasB,WACnB7B,EAAmByI,IAAA,IAAKA,EAAGT,SAAS,KACpCQ,EAAS,MACL,IACIjG,MAAAA,QDlBPV,iBACL,MAAM6G,QAAYC,MAAM,GAAGb,aAC3B,IAAKY,EAAIE,GAAI,MAAM,IAAIpG,MAAM,2BAC7B,OAAOkG,EAAIG,MACb,CCc2BC,GACnBb,EAAW1F,SACJF,GACPC,QAAQD,MAAMA,GACdmG,EAAS,sEAAqE,CACtE,QACRxI,EAAmByI,IAAA,IAAKA,EAAGT,SAAS,IAAQ,GAGnCe,IACZ,IAEHxI,EAAAA,UAAU,KACR,GAAIrC,EAAKU,OAAQ,CACQiD,WACrB7B,EAAmByI,IAAA,IAAKA,EAAGP,WAAW,KAClC,IACF,MAAM3F,QD7BTV,eAA4BmH,GACjC,MAAMN,QAAYC,MAAM,GAAGb,aAAoBkB,eAC/C,IAAKN,EAAIE,GAAI,MAAM,IAAIpG,MAAM,6BAC7B,OAAOkG,EAAIG,MACb,CCyB6BI,CAAa/K,EAAKU,QACrCuJ,EAAa5F,SACNF,GACPC,QAAQD,MAAMA,EAAK,CACX,QACRrC,EAAmByI,IAAA,IAAKA,EAAGP,WAAW,IAAQ,GAGnCgB,EAAA,GAEhB,CAAChL,EAAKU,SAET2B,EAAAA,UAAU,KACR,GAAIrC,EAAKW,SAAU,CACGgD,WAClB7B,EAAmByI,IAAA,IAAKA,EAAGL,QAAQ,KAC/B,IACF,MAAM7F,QDxCTV,eAAyBsH,GAC9B,MAAMT,QAAYC,MAAM,GAAGb,eAAsBqB,2BACjD,IAAKT,EAAIE,GAAI,MAAM,IAAIpG,MAAM,0BAC7B,OAAOkG,EAAIG,MACb,CCoC6BO,CAAUlL,EAAKW,UAClCwJ,EAAU9F,SACHF,GACPC,QAAQD,MAAMA,EAAK,CACX,QACRrC,EAAmByI,IAAA,IAAKA,EAAGL,QAAQ,IAAQ,GAGnCiB,EAAA,GAEb,CAACnL,EAAKW,WAET0B,EAAAA,UAAU,KACR,GAAIrC,EAAKY,KAAM,CACU+C,WACrB7B,EAAmByI,IAAA,IAAKA,EAAGH,WAAW,KAClC,IACF,MAAM/F,QDnDTV,eAA4ByH,GACjC,MAAMZ,QAAYC,MAAM,GAAGb,2BAAkCwB,eAC7D,IAAKZ,EAAIE,GAAI,MAAM,IAAIpG,MAAM,6BAC7B,OAAOkG,EAAIG,MACb,CC+C6BU,CAAarL,EAAKY,MACrCyJ,EAAahG,SACNF,GACPC,QAAQD,MAAMA,EAAK,CACX,QACRrC,EAAmByI,IAAA,IAAKA,EAAGH,WAAW,IAAQ,GAGnCkB,EAAA,GAEhB,CAACtL,EAAKY,OAET,MAAM2K,EAA4BtG,IAC1B,MAAAC,KAAEA,EAAAA,MAAMC,GAAUF,EAAEI,OACpBmG,EAAiBvG,EAAEI,OAAOoG,QAAQxG,EAAEI,OAAOqG,eAC3ClG,EAAegG,EAAiBA,EAAeG,KAAO,GACvCzG,EAAAA,EAAMC,EAAOK,IAIlC,OAAA2C,EAAAA,KAAC,MAAI,CAAAxB,UAAU,aACbE,SAAA,CAAAsB,OAAC,MACC,CAAAtB,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,UACtDc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAEzCsB,EAAAA,KAAC,SACC,CAAAjD,KAAK,SACLC,MAAOnF,EAAKU,OACZkL,SAAUL,EACV5E,UAAU,yIACVG,MAAO,CAAE+E,YAAalK,EAAOjB,OAAS,UAAY,IAClD+I,SAAU5H,EAAQiI,QAElBjD,SAAA,CAAAc,MAAC,UAAOxC,MAAM,GAAItD,SAAQiI,EAAAA,QAAU,aAAe,kBAClDA,EAAQ1B,IACP1H,GAAAiH,EAAAA,IAAC,SAAyB,CAAAxC,MAAOzE,EAAO6E,KACrC7E,SAAOwE,EAAAA,MADGxE,EAAO6E,UAKvB5D,EAAOjB,QACNiH,EAAAA,IAAC,KAAEhB,UAAU,4BAA6BhF,WAAOjB,SAElDyD,GACCwD,EAAAA,IAAC,IAAE,CAAAhB,UAAU,4BAA6BxC,SAAMA,cAInD,MACC,CAAA0C,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,YACpDc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAE3CsB,EAAAA,KAAC,SACC,CAAAjD,KAAK,WACLC,MAAOnF,EAAKW,SACZiL,SAAUL,EACV5E,UAAU,yIACVG,MAAO,CAAE+E,YAAalK,EAAOhB,SAAW,UAAY,IACpD8I,UAAWzJ,EAAKU,QAAUmB,EAAQmI,UAElCnD,SAAA,CAAAc,MAAC,UAAOxC,MAAM,GAAItD,SAAQmI,EAAAA,UAAY,aAAe,oBACpDA,EAAU5B,IACTzH,GAAAgH,EAAAA,IAAC,SAA2B,CAAAxC,MAAOxE,EAAS4E,KACzC5E,SAASuE,EAAAA,MADCvE,EAAS4E,UAKzB5D,EAAOhB,UACNgH,EAAAA,IAAC,KAAEhB,UAAU,4BAA6BhF,WAAOhB,qBAIpD,MACC,CAAAkG,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,qBAC3Cc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAEpDsB,EAAAA,KAAC,SACC,CAAAjD,KAAK,OACLC,MAAOnF,EAAKY,KACZgL,SAAUL,EACV5E,UAAU,yIACVG,MAAO,CAAE+E,YAAalK,EAAOf,KAAO,UAAY,IAChD6I,UAAWzJ,EAAKW,UAAYkB,EAAQqI,OAEpCrD,SAAA,CAAAc,MAAC,UAAOxC,MAAM,GAAItD,SAAQqI,EAAAA,OAAS,aAAe,6BACjDA,EAAO9B,IACNxH,GAAA+G,EAAAA,IAAC,SAAuB,CAAAxC,MAAOvE,EAAK2E,KACjC3E,SAAKsE,EAAAA,MADKtE,EAAK2E,UAKrB5D,EAAOf,MACN+G,EAAAA,IAAC,KAAEhB,UAAU,4BAA6BhF,WAAOf,iBAIpD,MACC,CAAAiG,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,YACpDc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAE3CsB,EAAAA,KAAC,SACC,CAAAjD,KAAK,WACLC,MAAOnF,EAAKa,SACZ+K,SAAUL,EACV5E,UAAU,0IACVG,MAAO,CAAE+E,YAAalK,EAAOd,SAAW,UAAY,IACpD4I,UAAWzJ,EAAKY,MAAQiB,EAAQuI,UAEhCvD,SAAA,CAAAc,MAAC,UAAOxC,MAAM,GAAItD,SAAQuI,EAAAA,UAAY,aAAe,oBACpDA,EAAUhC,IACTvH,GAAA8G,EAAAA,IAAC,SAA2B,CAAAxC,MAAOtE,EAAS0E,KACzC1E,SAASqE,EAAAA,MADCrE,EAAS0E,UAKzB5D,EAAOd,UACN8G,EAAAA,IAAC,KAAEhB,UAAU,4BAA6BhF,WAAOd,gBAK3D,CC/LA,SAAwBiL,GAAsBvK,UAAEA,EAAAA,cAAWC,EAAAA,kBAAeuK,EAAAA,MAAmB5H,IAC3F,MAAO6H,EAAcC,GAAmBlM,EAAAA,SAAS,IAE3C8C,EAAoB,CACxB,kDACA,mCACA,+CAGIqJ,EAAoB,CACxB,8BACA,qDACA,yCA4EIC,EAAsB,IACvBtJ,KACAqJ,EACH,2BAIIpJ,EAAgBtB,EAAcuB,OAAOC,GAAQA,GAC7CC,EAAkBJ,EAAkBE,OAAOG,IAAQJ,EAAcK,SAASD,IAG9E,OAAAiF,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAAAsB,OAAC,MACC,CAAAtB,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,6BACnCc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAE5DsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,4GACbE,SAAA,CAAAc,EAAAA,IAAC,OAAIhB,UAAU,uCAAuCY,OAAO,eAAeD,KAAK,OAAOD,QAAQ,YAC9FR,eAAC,OAAK,CAAAe,EAAE,yLAAyLJ,YAAa,EAAGC,cAAc,QAAQC,eAAe,YAEvPC,EAAAA,IAAA,IAAA,CAAEhB,UAAU,qBAAqBE,SAA4C,iDAC9EsB,EAAAA,KAAC,QAAM,CAAAxB,UAAU,0HACfE,SAAA,CAAAc,MAAC,MAAI,CAAAhB,UAAU,eAAeW,KAAK,eAAeD,QAAQ,YACxDR,SAACc,EAAAA,IAAA,OAAA,CAAKyE,SAAS,UAAUxE,EAAE,wLAAwLyE,SAAS,cACxN,eAEN1E,EAAAA,IAAC,QACC,CAAA3E,KAAK,OACLsJ,UAAQ,EACR5I,OAAO,4BACPkI,SAvGoB3G,IAC9B,MAAMsH,EAAQC,MAAMC,KAAKxH,EAAEI,OAAOkH,OAAS,IACvCA,GAAiB,IAAjBA,EAAM9J,OAAc,OAExB,MAAMiK,EAAe,CACnB,kBACA,aACA,YACA,YACA,aAMIC,EAAqB5H,GAAA,GAAGA,EAAEG,QAAQH,EAAE4E,QAAQ5E,EAAE6H,cAAgB,KAC9DC,EAAe,IAAIC,IAAIvL,EAAU6G,IAAIuE,IAErCI,EAAW,GACXC,EAAW,GA2BbD,GAzBJR,EAAMjJ,QAAkB2C,IAChBgH,MAAAA,EAAMN,EAAY1G,GACpB4G,GAAAA,EAAaK,IAAID,GAEnB,YADAD,EAASG,KAAK,CAAElH,OAAMmH,OAAQ,mBAGhC,IAAKV,EAAavJ,SAAS8C,EAAKjD,MAE9B,YADAgK,EAASG,KAAK,CAAElH,OAAMmH,OAAQ,4DAG5BnH,GAAAA,EAAK0D,KAnBU,SAqBjB,YADAqD,EAASG,KAAK,CAAElH,OAAMmH,OAAQ,2CAI1BC,MAAAA,EAAMpH,EAAKf,KAAKoI,MAAM,KAAKC,OAAOC,cACtB,CAAC,MAAO,MAAO,OAAQ,MAAO,OACjCrK,SAASkK,IAIxBN,EAASI,KAAKlH,GACd4G,EAAaY,IAAIR,IAJfD,EAASG,KAAK,CAAElH,OAAMmH,OAAQ,8BAO9BL,EAAStK,OAAS,EAAG,CACvB,MAAMiL,EAAe,IAAInM,KAAcwL,GACjCY,EAAW,IAAInM,KAAkBuL,EAAS3E,IAAI,IAAM,KAC1D2D,EAAkB2B,EAAcC,GAChC1B,EAAgB,GAAE,CAGhBe,EAASvK,OAAS,GACJuK,EAAAA,EAAS5E,IAAI,EAAGnC,OAAMmH,YAAa,GAAGnH,EAAKf,SAASkI,MAItEnI,EAAEI,OAAOF,MAAQ,IA8CPwB,UAAU,iBAIfgB,EAAAA,IAAA,IAAA,CAAEhB,UAAU,6BAA6BE,SAE1C,oGAGDmF,EAAavJ,OAAS,GACpB0F,EAAAA,KAAA,MAAA,CAAIxB,UAAU,iDACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,kCAAkCE,SAAc,mBAC9Dc,EAAAA,IAAC,KAAG,CAAAhB,UAAU,iCACXqF,SAAAA,EAAa5D,IAAI,CAACzF,EAAKwE,IACtBgB,EAAAA,KAAC,KAAa,CAAAtB,SAAA,CAAA,KAAGlE,IAARwE,SAMhB5F,EAAUkB,OAAS,GACjB0F,EAAAA,KAAA,MAAA,CAAIxB,UAAU,YACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,4BAA4BE,SAAmB,wBAC5DtF,EAAU6G,IAAI,CAACnC,EAAM2H,KACpB,MAAMC,EAAahL,EAAkBM,SAAS3B,EAAcoM,IACtDE,EAAa5B,EAAkB/I,SAAS3B,EAAcoM,IAE1D,OAAAzF,EAAAA,KAAC,OAAgBxB,UAAW,sDAAqDkH,EAAa,+BAAiCC,EAAa,6BAA+B,8BACzKjH,SAAA,CAAAc,EAAAA,IAAC,OAAIhB,UAAU,gBACZV,SAAc,sBAATjD,WACH,MAAI,CAAA2D,UAAU,uBAAuBW,KAAK,eAAeD,QAAQ,YAChER,eAAC,OAAK,CAAAuF,SAAS,UAAUxE,EAAE,qLAAqLyE,SAAS,cAG3N1E,MAAC,OAAIhB,UAAU,wBAAwBW,KAAK,eAAeD,QAAQ,YACjER,SAACc,MAAA,OAAA,CAAKyE,SAAS,UAAUxE,EAAE,6FAA6FyE,SAAS,gBAIvIlE,EAAAA,KAAC,MAAI,CAAAxB,UAAU,iBACbE,SAAA,CAAAc,EAAAA,IAAC,IAAE,CAAAhB,UAAU,6CAA8CV,SAAAA,EAAKf,OAChEiD,EAAAA,KAAC,IAAE,CAAAxB,UAAU,wBACTV,SAAAA,EAAAA,EAAK0D,KAAO,KAAO,MAAMoE,QAAQ,GAAG,SAAO9H,EAAKjD,MAAQ,aAE3D6K,GAAclG,EAAAA,IAAC,OAAK,CAAAhB,UAAU,+EAA+EE,SAAQ,aACrHiH,GAAcnG,EAAAA,IAAC,OAAK,CAAAhB,UAAU,6EAA6EE,SAAQ,gBAEtHc,EAAAA,IAAC,OAAIhB,UAAU,SACbE,gBAAC,SACC,CAAA1B,MAAO3D,EAAcoM,IAAU,GAC/BhC,SAAW3G,GA7FJ+I,EAACJ,EAAO5K,KACzB2K,MAAAA,EAAW,IAAInM,GACrBmM,EAASC,GAAS5K,EAClB+I,EAAkBxK,EAAWoM,IA0FIK,CAAiBJ,EAAO3I,EAAEI,OAAOF,OAClDwB,UAAU,8GAEVE,SAAA,CAACc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,GAAG0B,SAAoB,yBACpCsF,EAAoB/D,IACnBpF,GAAA2E,EAAAA,IAAC,UAAkBxC,MAAOnC,EAAOA,SAApBA,GAAAA,SAIlB2E,EAAAA,IAAA,SAAA,CACC3E,KAAK,SACLwG,QAAS,IAlGDoE,CAAUA,IAChC,MAAMF,EAAenM,EAAUwB,OAAO,CAACkL,EAAGC,IAAMA,IAAMN,GAChDD,EAAWnM,EAAcuB,OAAO,CAACkL,EAAGC,IAAMA,IAAMN,GACtD7B,EAAkB2B,EAAcC,IA+FHQ,CAAeP,GAC9BjH,UAAU,8CACV6B,MAAM,kBAEN3B,SAACc,EAAAA,IAAA,MAAA,CAAIhB,UAAU,UAAUW,KAAK,eAAeD,QAAQ,YACnDR,SAACc,EAAAA,IAAA,OAAA,CAAKyE,SAAS,UAAUxE,EAAE,8MAA8MyE,SAAS,kBAvC9OuB,QAgDjB3K,EAAgBR,OAAS,GACvB0F,EAAAA,KAAA,MAAA,CAAIxB,UAAU,uDACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,qCAAqCE,SAA2B,gCAC9Ec,EAAAA,IAAC,KAAG,CAAAhB,UAAU,oCACX1D,SAAAA,EAAgBmF,IAAI,CAACgG,EAAKjH,IACzBgB,EAAAA,KAAC,KAAa,CAAAtB,SAAA,CAAA,KAAGuH,IAARjH,SAMhBhD,GACCwD,EAAAA,IAAC,IAAE,CAAAhB,UAAU,4BAA6BxC,SAAMA,MAIxD,CC3MA,SAAwBkK,GAAeC,KACrCA,EAAAA,cACArM,EAAAA,YACAsM,EAAAA,cACAC,IAEM,MAAA3O,KAAEA,EAAAA,KAAMG,EAAAA,OAAM2B,EAAAA,QAAQE,EAAAA,SAASM,EAAAA,aAAU6C,GAAiBsJ,EAGhE,SAASG,IACP,MAAOC,EAAUC,GAAeC,EAAM7O,SAAS,KACxC8O,EAAcC,GAAmBF,EAAM7O,SAAS,MAoBvD,OAnBA6O,EAAMvM,UAAU,KACRgE,MAAAA,EAAQ0I,eAAeC,QAAQ,cACrC,IAAIC,EAAa,KACb,IACF,MAAMC,EAAajL,KAAKkL,MAAMJ,eAAeC,QAAQ,SAAW,QACnDE,EAAAA,GAAYD,YAAcC,GAAYE,aAAe,IAAA,CAC5D,MAAA,CACH/I,GAAU4I,GACf,WACM,IACF,MAAM5K,QAAaP,EAAI,uBAAuBmL,IAAc,CAC1DI,QAAS,CAAEC,cAAe,UAAUjJ,OAE1BmG,EAAAA,MAAM+C,QAAQlL,EAAK9C,WAAa8C,EAAK9C,UAAY,IAC7C8C,EAAAA,EAAKwK,cAAgB,KAAI,CACnC,MAAA,CACP,EARH,IASC,IAEEH,GAAgC,IAApBA,EAASjM,OAExB0F,EAAAA,KAAC,MAAI,CAAAxB,UAAU,mDACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,mCAAmCE,SAEjD,wBACAc,EAAAA,IAAC,KAAG,CAAAhB,UAAU,oBACX+H,SAAAA,EAAStG,IACRR,GAAAO,EAAAA,KAAC,KAAuB,CAAAxB,UAAU,uBAChCE,SAAA,CAACsB,EAAAA,KAAA,OAAA,CAAKxB,UAAU,gBACbiB,SAAAA,CAAE4H,EAAAA,cAAc,MAAI5H,EAAE6H,iBAEzB9H,EAAAA,IAAC,OAAK,CAAAhB,UAAU,gBACZiB,UAAAA,EAAE8H,WAAa,IAAIpC,MAAM,KAAKC,UAL3B3F,EAAE+H,gBAUdd,GAAce,qBACZzH,OAAA,IAAA,CAAExB,UAAU,6BAA6BE,SAAA,CAAA,wBAClBgI,EAAae,0BApBI,IAuB7C,CAIJ,OAAQ/P,GACN,KAAK,EAED,OAAAsI,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAACc,EAAAA,IAAAkI,EAAA,CAAclJ,UAAU,qCAAqCE,SAE9D,iBACAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,aACbE,SAAA,CAAAsB,OAAC,MACC,CAAAtB,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,gBACCiJ,EACC,CAAAC,IAAK5N,EACL+C,KAAK,QACLC,MAAOnF,EAAKE,MACZ0L,SAAU5G,EACVgL,YAAY,2BACZhN,KAAK,QACLmB,MAAOxC,EAAOzB,kBAIjB,MACC,CAAA2G,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,eACCc,EAAAA,IAAAmI,EAAA,CACC5K,KAAK,YACLC,MAAOnF,EAAKG,UACZyL,SAAU5G,EACVgL,YAAY,wBACZhN,KAAK,OACLmB,MAAOxC,EAAOxB,sBAIjB,MACC,CAAA0G,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,cACCc,EAAAA,IAAAmI,EAAA,CACC5K,KAAK,WACLC,MAAOnF,EAAKI,SACZwL,SAAU5G,EACVgL,YAAY,uBACZhN,KAAK,OACLmB,MAAOxC,EAAOvB,qBAIjB,MACC,CAAAyG,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,wBACCiJ,EACC,CAAA5K,KAAK,SACLC,MAAOnF,EAAKmB,OACZyK,SAAU5G,EACVgL,YAAY,cACZhN,KAAK,MACLiN,UAAW,GACX9L,MAAOxC,EAAOR,mBAIjB,MACC,CAAA0F,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,aACCc,EAAAA,IAAAuI,EAAA,CACChL,KAAK,WACLC,MAAOnF,EAAKoB,SACZwK,SAAU5G,EACVgL,YAAY,iBACZ7L,MAAOxC,EAAOP,WAIhB+G,EAAAA,KAAC,MAAI,CAAAxB,UAAU,iBACbE,SAAA,CAACc,EAAAA,IAAA,MAAA,CAAIhB,UAAU,6BAA6BE,SAE5C,2BACAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,iCACbE,SAAA,CAACsB,EAAAA,KAAA,MAAA,CACCxB,UAAW,sBACT3G,EAAKoB,SAASqB,QAAU,GACpB,iBACA,iBAGNoE,SAAA,CAACc,EAAAA,IAAA,OAAA,CACChB,UAAW,SACT3G,EAAKoB,SAASqB,QAAU,GAAK,IAAM,OAE/B,4BAGV0F,EAAAA,KAAC,MACC,CAAAxB,UAAW,sBACT,QAAQ/D,KAAK5C,EAAKoB,UACd,iBACA,iBAGNyF,SAAA,CAACc,EAAAA,IAAA,OAAA,CACChB,UAAW,SACT,QAAQ/D,KAAK5C,EAAKoB,UAAY,IAAM,OAEhC,gCAGV+G,EAAAA,KAAC,MACC,CAAAxB,UAAW,sBACT,QAAQ/D,KAAK5C,EAAKoB,UACd,iBACA,iBAGNyF,SAAA,CAACc,EAAAA,IAAA,OAAA,CACChB,UAAW,SACT,QAAQ/D,KAAK5C,EAAKoB,UAAY,IAAM,OAEhC,gCAGV+G,EAAAA,KAAC,MACC,CAAAxB,UAAW,sBACT,KAAK/D,KAAK5C,EAAKoB,UACX,iBACA,iBAGNyF,SAAA,CAACc,EAAAA,IAAA,OAAA,CACChB,UAAW,SAAQ,KAAK/D,KAAK5C,EAAKoB,UAAY,IAAM,OAC9C,sBAGV+G,EAAAA,KAAC,MACC,CAAAxB,UAAW,sBACT,yBAAyB/D,KAAK5C,EAAKoB,UAC/B,iBACA,iBAGNyF,SAAA,CAACc,EAAAA,IAAA,OAAA,CACChB,UAAW,SACT,yBAAyB/D,KAAK5C,EAAKoB,UAAY,IAAM,OAEjD,yCACgC,IAAE,IACzC,IAAI,uBAMZ,MACC,CAAAyF,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,0BACCc,EAAAA,IAAAuI,EAAA,CACChL,KAAK,kBACLC,MAAOnF,EAAKqB,gBACZuK,SAAU5G,EACVgL,YAAY,oBACZ7L,MAAOxC,EAAON,wBAIpB8G,EAAAA,KAAC,MAAI,CAAAxB,UAAU,oCAAoCE,SAAA,CAAA,kCACjB,IAChCc,EAAAA,IAAC,UACC3E,KAAK,SACLwG,QAAS+E,EACT5H,UAAU,8CACXE,SAED,uBAAU,IAAI,MACV,IACJc,EAAAA,IAAC,UACC3E,KAAK,SACLwG,QAASgF,EACT7H,UAAU,8CACXE,SAED,mBAAS,UAMjB,KAAK,EAED,OAAAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAACc,EAAAA,IAAAkI,EAAA,CAAclJ,UAAU,qCAAqCE,SAE9D,qBACAsB,EAAAA,KAAC,IAAE,CAAAxB,UAAU,6BAA6BE,SAAA,CAAA,gDACM,IAC9Cc,EAAAA,IAAC,SAAQ3H,CAAAA,SAAAA,EAAKE,QAAe,cAG9B,MACC,CAAA2G,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,cACAc,EAAAA,IAACmI,EACC,CAAAC,IAAK5N,EACL+C,KAAK,MACLC,MAAOnF,EAAKsB,IACZsK,SAAiB3G,IACf,MAAME,EAAQF,EAAEI,OAAOF,MAAMgL,MAAM,EAAG,GACzBnL,EAAA,CAAEK,OAAQ,CAAEH,KAAM,MAAOC,WAClCxD,EAAOL,KAAKgN,EAAK1M,UAAU,IAAKD,EAAQL,IAAK,QAEnD0O,YAAY,yBACZhN,KAAK,OACLiN,UAAW,EACX9L,MAAOxC,EAAOL,IACdmI,SAAUxH,IAES,IAApBjC,EAAKsB,IAAImB,SAAiBR,IAAkBJ,GAC3CsG,EAAAA,KAAC,MAAI,CAAAxB,UAAU,2DACbE,SAAA,CAAAc,EAAAA,IAAC+B,EAAO,CAAAC,KAAK,KAAKhD,UAAU,SAAS,2BAIxC9E,GACCsG,EAAAA,KAAC,MAAI,CAAAxB,UAAU,2DACbE,SAAA,CAAAc,EAAAA,IAAC+B,EAAO,CAAAC,KAAK,KAAKhD,UAAU,SAAS,sBAIxC1E,GACCkG,EAAAA,KAAC,MAAI,CAAAxB,UAAU,4DACbE,SAAA,CAAAc,MAAC,OACChB,UAAU,eACVW,KAAK,eACLD,QAAQ,UACR,eAAW,EAEXR,SAAAc,MAAC,QACCyE,SAAS,UACTxE,EAAE,qHACFyE,SAAS,cAEP,mCAMZ1E,EAAAA,IAAC,OAAIhB,UAAU,cACbE,eAAC,SACC,CAAA7D,KAAK,SACLwG,QAAS7F,UACP2K,EAAKxM,YAAW,GACZ,UACIgC,EAAI,cAAe,CACvBC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEhE,MAAOF,EAAKE,UAErCkQ,MAAM,oCACCzN,GACPyN,MAAM,uBAAsB,CACpB,QACR9B,EAAKxM,YAAW,EAAK,GAGzB6E,UAAU,sDACV8C,SAAU5H,EAETA,SAAUA,EAAA,aAAe,oBAMpC,KAAK,EAED,OAAAsG,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAACc,EAAAA,IAAAkI,EAAA,CAAclJ,UAAU,qCAAqCE,SAE9D,qBAEAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,aACbE,SAAA,CAAAsB,OAAC,MACC,CAAAtB,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,iBAC/Cc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAE/Cc,EAAAA,IAAAmI,EAAA,CACC5K,KAAK,eACLC,MAAOnF,EAAKK,aACZuL,SAAU5G,EACVgL,YAAY,sBACZ7L,MAAOxC,EAAOtB,yBAIjB,MACC,CAAAwG,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,kBAC9Cc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAEjDsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAACsB,EAAAA,KAAA,MAAA,CAAIxB,UAAU,8BACbE,SAAA,CAAAc,EAAAA,IAAC,QACC,CAAA3E,KAAK,WACLqN,GAAG,gBACHnL,KAAK,gBACLE,QAASpF,EAAKO,cACdqL,SAAU5G,EACV2B,UAAU,kFAEXwB,EAAAA,KAAA,QAAA,CACCmI,QAAQ,gBACR3J,UAAU,wBACXE,SAAA,CAAA,oBACmB7G,EAAKE,MAAM,WAG/BF,EAAKO,qBACJuP,EACC,CAAA5K,KAAK,gBACLC,MAAOnF,EAAKM,cACZsL,SAAU5G,EACVgL,YAAY,uBACZhN,KAAK,QACLmB,MAAOxC,EAAOrB,6BAMrB,MACC,CAAAuG,SAAA,CAACsB,EAAAA,KAAA,QAAA,CAAMxB,UAAU,+CAA+CE,SAAA,CAAA,iBAC/Cc,EAAAA,IAAA,OAAA,CAAKhB,UAAU,eAAeE,SAAC,SAEhDsB,EAAAA,KAAC,SACC,CAAAjD,KAAK,eACLC,MAAOnF,EAAKQ,aACZoL,SAAU5G,EACV2B,UAAU,yIACVG,MAAO,CAAE+E,YAAalK,EAAOnB,aAAe,UAAY,IAExDqG,SAAA,CAACc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,GAAG0B,SAAoB,yBACpCc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,gBAAgB0B,SAAa,kBAC1Cc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,WAAW0B,SAAQ,aAChCc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,iBAAiB0B,SAAc,mBAC5Cc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,oBAAoB0B,SAAiB,sBAClDc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,iBAAiB0B,SAAc,mBAC5Cc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,YAAY0B,SAAS,cAClCc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,oBAAoB0B,SAAiB,sBAClDc,EAAAA,IAAA,SAAA,CAAOxC,MAAM,SAAS0B,SAAM,cAE9BlF,EAAOnB,cACNmH,EAAAA,IAAC,KAAEhB,UAAU,4BACVhF,WAAOnB,eAGW,WAAtBR,EAAKQ,cACJmH,EAAAA,IAAC,OAAIhB,UAAU,OACbE,eAACiJ,EACC,CAAA5K,KAAK,qBACLC,MAAOnF,EAAKS,mBACZmL,SAAU5G,EACVgL,YAAY,oCACZ7L,MAAOxC,EAAOlB,iCAMrB,MACC,CAAAoG,SAAA,CAACc,EAAAA,IAAA,MAAA,CAAIhB,UAAU,wCAAwCE,SAEvD,4BACCgD,EACC,CAAA7J,OACA2B,SACA2D,qBAAsBgJ,EAAKhJ,iCAI9B,MACC,CAAAuB,SAAA,CAACc,EAAAA,IAAA,QAAA,CAAMhB,UAAU,+CAA+CE,SAEhE,iDACAc,EAAAA,IAACmI,EACC,CAAA5K,KAAK,cACLC,MAAOnF,EAAKkB,YACZ0K,SAAU5G,EACVgL,YAAY,6DAOxB,KAAK,EAED,OAAA7H,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAACc,EAAAA,IAAAkI,EAAA,CAAclJ,UAAU,qCAAqCE,SAE9D,uBACCc,EAAAA,IAAA,IAAA,CAAEhB,UAAU,6BAA6BE,SAI1C,sKAEAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,sDACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,kCAAkCE,SAEhD,+CACAsB,EAAAA,KAAC,KAAG,CAAAxB,UAAU,6CACZE,SAAA,CAAAc,EAAAA,IAAC,MAAGd,SAAiD,sDACrDc,EAAAA,IAAC,MAAGd,SAAkC,uCACtCc,EAAAA,IAAC,MAAGd,SAA6C,wDAIrDsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,wDACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,mCAAmCE,SAEjD,qCACAsB,EAAAA,KAAC,KAAG,CAAAxB,UAAU,kCACZE,SAAA,CAAAc,EAAAA,IAAC,MAAGd,SAA6B,kCACjCc,EAAAA,IAAC,MAAGd,SAAoD,yDACxDc,EAAAA,IAAC,MAAGd,SAAuC,kDAI/CsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,YACbE,SAAA,CAACc,EAAAA,IAAAmE,EAAA,CACCvK,UAAWvB,EAAKuB,UAChBC,cAAexB,EAAKwB,cACpBuK,kBAAmB,CAACxK,EAAWgP,KAChBvL,EAAA,CACXK,OAAQ,CAAEH,KAAM,YAAaC,MAAO5D,KAEzByD,EAAA,CACXK,OAAQ,CAAEH,KAAM,gBAAiBC,MAAOoL,MAG5CpM,MAAOxC,EAAOJ,WAAaI,EAAOH,sBAInCiN,EAA0B,CAAA,YAG5B,MAAI,CAAA9H,UAAU,4DACbE,SAACsB,EAAAA,KAAA,IAAA,CAAExB,UAAU,0BACXE,SAAA,CAAAc,EAAAA,IAAC,UAAOd,SAAU,eAAS,8JAM/BsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,iBAEbE,SAAA,CAACsB,EAAAA,KAAA,MAAA,CAAIxB,UAAU,mBACbE,SAAA,CAAAc,EAAAA,IAAC,OAAIhB,UAAU,wBACbE,eAAC,QACC,CAAAwJ,GAAG,cACHnL,KAAK,cACLlC,KAAK,WACLoC,QAASpF,EAAKyB,YACdmK,SAAU5G,EACV2B,UAAU,wEAGdgB,EAAAA,IAAC,OAAIhB,UAAU,eACbE,gBAAC,QAAM,CAAAyJ,QAAQ,cAAc3J,UAAU,gBAAgBE,SAAA,CAAA,iBACtC,IACfc,EAAAA,IAAC,UACC3E,KAAK,SACLwG,QAAS+E,EACT5H,UAAU,8CACXE,SAED,iCAMNsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,mBACbE,SAAA,CAAAc,EAAAA,IAAC,OAAIhB,UAAU,wBACbE,eAAC,QACC,CAAAwJ,GAAG,gBACHnL,KAAK,gBACLlC,KAAK,WACLoC,QAASpF,EAAK0B,cACdkK,SAAU5G,EACV2B,UAAU,wEAGdgB,EAAAA,IAAC,OAAIhB,UAAU,eACbE,gBAAC,QAAM,CAAAyJ,QAAQ,gBAAgB3J,UAAU,gBAAgBE,SAAA,CAAA,kBACvC,IAChBc,EAAAA,IAAC,UACC3E,KAAK,SACLwG,QAASgF,EACT7H,UAAU,8CACXE,SAED,2BAKLlF,EAAO+B,QACNiE,EAAAA,IAAC,KAAEhB,UAAU,4BAA6BhF,WAAO+B,YAKrDyE,EAAAA,KAAC,MAAI,CAAAxB,UAAU,uEACbE,SAAA,CAAAsB,EAAAA,KAAC,UACCnF,KAAK,SACLwG,QAAS8E,EAAKkC,eACd7J,UAAU,qNAEVE,SAAA,CAACc,EAAAA,IAAA,MAAA,CAAIhB,UAAU,eAAeW,KAAK,OAAOC,OAAO,eAAeF,QAAQ,YAAYoJ,MAAM,6BACxF5J,SAACc,EAAAA,IAAA,OAAA,CAAKF,cAAc,QAAQC,eAAe,QAAQF,YAAa,EAAGI,EAAE,sBACjE,UAGRD,EAAAA,IAAC,SACC,CAAA3E,KAAK,SACLwG,QAAS8E,EAAKzI,aACd4D,SAAU5H,IAAY7B,EAAKuB,WAAuC,IAA1BvB,EAAKuB,UAAUkB,SAAiBzC,EAAKyB,cAAgBzB,EAAK0B,cAClGiF,UAAU,yQAET9E,SAAAA,EAEGsG,EAAAA,KAAAuI,EAAAA,SAAA,CAAA7J,SAAA,CAACsB,EAAAA,KAAA,MAAA,CAAIxB,UAAU,6CAA6C8J,MAAM,6BAA6BnJ,KAAK,OAAOD,QAAQ,YACjHR,SAAA,CAAAc,EAAAA,IAAC,SAAO,CAAAhB,UAAU,aAAakB,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKR,OAAO,eAAeC,YAAY,YACvF,OAAK,CAAAb,UAAU,aAAaW,KAAK,eAAeM,EAAE,uHAC/C,mBAIR,6BAQZ,QACS,OAAA,KAEb,CCvmBA,SAAwB+I,GAAiBpC,YAAEA,EAAAA,cAAaC,IACtD,MAAMF,EAAO7O,KACPI,KACJA,EAAAA,MACAH,EAAAA,SACA8G,EAAAA,QACA3E,EAAAA,OACAF,EAAAA,WACA+D,EAAAA,WACAlD,EAAAA,aACAqD,EAAAA,QACA9D,EAAAA,cACAE,GACEqM,EAEJ,OAAIvM,QAEC0G,EACC,CAAA5I,OACAH,QACA8G,SAAU,IACV3E,SAAS,EACTF,OAAQ,CAAC,EAETkF,eAAC,MAAI,CAAAF,UAAU,uDACbE,SAACsB,EAAAA,KAAAiB,EAAA,CAAKzC,UAAU,wDACdE,SAAA,CAACc,EAAAA,IAAAkI,EAAA,CAAclJ,UAAU,0CAA0CE,SAEnE,2BACCc,EAAAA,IAAA,IAAA,CAAEhB,UAAU,oDAAoDE,SAGjE,iHAEAsB,EAAAA,KAAC,MAAI,CAAAxB,UAAU,wEACbE,SAAA,CAACc,EAAAA,IAAA,KAAA,CAAGhB,UAAU,mCAAmCE,SAEjD,uBACAsB,EAAAA,KAAC,KAAG,CAAAxB,UAAU,kCACZE,SAAA,CAAAc,EAAAA,IAAC,MAAGd,SAA2C,gDAC/Cc,EAAAA,IAAC,MAAGd,SAAkC,uCACtCc,EAAAA,IAAC,MAAGd,SAA2B,4CAIlC,MAAI,CAAAF,UAAU,4EACbE,SAACsB,EAAAA,KAAA,IAAA,CAAExB,UAAU,sCACXE,SAAA,CAAAc,EAAAA,IAAC,UAAOd,SAA6B,kCAAS,8FAMlDc,EAAAA,IAAC4B,EACC,CAAA5J,MAAM,iBACN6J,QAAS,IAAOoH,OAAOC,SAASC,KAAO,IACvCnK,UAAU,2KASnB8B,EACC,CAAA5I,OACAH,QACA8G,WACA3E,UACAF,SACA+G,OAAQhD,EACRiD,OAAQnG,EACRoG,SAAU/C,EAEVgB,SAACc,EAAAA,IAAA0G,EAAA,CACCC,OACArM,gBACAsM,cACAC,mBAIR,CCtFA,SAAwBuC,IACtB,MAAOC,EAAWC,GAAgBlR,EAAAA,UAAS,IACpCmR,EAAaC,GAAkBpR,EAAAA,UAAS,GAE/C,OAEIoI,EAAAA,KAAAuI,WAAA,CAAA7J,SAAA,CAACc,EAAAA,IAAAgJ,EAAA,CAAiBpC,YAAa,IAAM0C,GAAa,GAAOzC,cAAe,IAAM2C,GAAe,KAC7FxJ,MAACyJ,GAAWC,KAAML,EAAWM,QAAS,IAAML,GAAa,KACzDtJ,MAAC4J,GAAmBF,KAAMH,EAAaI,QAAS,IAAMH,GAAe,OAG3E"}