var H6=Object.defineProperty;var Y6=(e,t,r)=>t in e?H6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Uv=(e,t,r)=>Y6(e,typeof t!="symbol"?t+"":t,r);function Q6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function us(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function J6(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var qv={exports:{}},Df={},Wv={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function X6(){if(TS)return Xt;TS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=m&&Y[m]||Y["@@iterator"],typeof Y=="function"?Y:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function A(Y,re,Se){this.props=Y,this.context=re,this.refs=C,this.updater=Se||v}A.prototype.isReactComponent={},A.prototype.setState=function(Y,re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,re,"setState")},A.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function N(){}N.prototype=A.prototype;function T(Y,re,Se){this.props=Y,this.context=re,this.refs=C,this.updater=Se||v}var O=T.prototype=new N;O.constructor=T,x(O,A.prototype),O.isPureReactComponent=!0;var M=Array.isArray,D=Object.prototype.hasOwnProperty,I={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(Y,re,Se){var Te,Ie={},tt=null,qe=null;if(re!=null)for(Te in re.ref!==void 0&&(qe=re.ref),re.key!==void 0&&(tt=""+re.key),re)D.call(re,Te)&&!$.hasOwnProperty(Te)&&(Ie[Te]=re[Te]);var Fe=arguments.length-2;if(Fe===1)Ie.children=Se;else if(1<Fe){for(var Re=Array(Fe),Ke=0;Ke<Fe;Ke++)Re[Ke]=arguments[Ke+2];Ie.children=Re}if(Y&&Y.defaultProps)for(Te in Fe=Y.defaultProps,Fe)Ie[Te]===void 0&&(Ie[Te]=Fe[Te]);return{$$typeof:e,type:Y,key:tt,ref:qe,props:Ie,_owner:I.current}}function K(Y,re){return{$$typeof:e,type:Y.type,key:re,ref:Y.ref,props:Y.props,_owner:Y._owner}}function J(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function Z(Y){var re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Se){return re[Se]})}var de=/\/+/g;function ce(Y,re){return typeof Y=="object"&&Y!==null&&Y.key!=null?Z(""+Y.key):re.toString(36)}function ee(Y,re,Se,Te,Ie){var tt=typeof Y;(tt==="undefined"||tt==="boolean")&&(Y=null);var qe=!1;if(Y===null)qe=!0;else switch(tt){case"string":case"number":qe=!0;break;case"object":switch(Y.$$typeof){case e:case t:qe=!0}}if(qe)return qe=Y,Ie=Ie(qe),Y=Te===""?"."+ce(qe,0):Te,M(Ie)?(Se="",Y!=null&&(Se=Y.replace(de,"$&/")+"/"),ee(Ie,re,Se,"",function(Ke){return Ke})):Ie!=null&&(J(Ie)&&(Ie=K(Ie,Se+(!Ie.key||qe&&qe.key===Ie.key?"":(""+Ie.key).replace(de,"$&/")+"/")+Y)),re.push(Ie)),1;if(qe=0,Te=Te===""?".":Te+":",M(Y))for(var Fe=0;Fe<Y.length;Fe++){tt=Y[Fe];var Re=Te+ce(tt,Fe);qe+=ee(tt,re,Se,Re,Ie)}else if(Re=p(Y),typeof Re=="function")for(Y=Re.call(Y),Fe=0;!(tt=Y.next()).done;)tt=tt.value,Re=Te+ce(tt,Fe++),qe+=ee(tt,re,Se,Re,Ie);else if(tt==="object")throw re=String(Y),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return qe}function ue(Y,re,Se){if(Y==null)return Y;var Te=[],Ie=0;return ee(Y,Te,"","",function(tt){return re.call(Se,tt,Ie++)}),Te}function je(Y){if(Y._status===-1){var re=Y._result;re=re(),re.then(function(Se){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Se)},function(Se){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Se)}),Y._status===-1&&(Y._status=0,Y._result=re)}if(Y._status===1)return Y._result.default;throw Y._result}var pe={current:null},ie={transition:null},be={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:I};function me(){throw Error("act(...) is not supported in production builds of React.")}return Xt.Children={map:ue,forEach:function(Y,re,Se){ue(Y,function(){re.apply(this,arguments)},Se)},count:function(Y){var re=0;return ue(Y,function(){re++}),re},toArray:function(Y){return ue(Y,function(re){return re})||[]},only:function(Y){if(!J(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Xt.Component=A,Xt.Fragment=r,Xt.Profiler=i,Xt.PureComponent=T,Xt.StrictMode=n,Xt.Suspense=u,Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,Xt.act=me,Xt.cloneElement=function(Y,re,Se){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Te=x({},Y.props),Ie=Y.key,tt=Y.ref,qe=Y._owner;if(re!=null){if(re.ref!==void 0&&(tt=re.ref,qe=I.current),re.key!==void 0&&(Ie=""+re.key),Y.type&&Y.type.defaultProps)var Fe=Y.type.defaultProps;for(Re in re)D.call(re,Re)&&!$.hasOwnProperty(Re)&&(Te[Re]=re[Re]===void 0&&Fe!==void 0?Fe[Re]:re[Re])}var Re=arguments.length-2;if(Re===1)Te.children=Se;else if(1<Re){Fe=Array(Re);for(var Ke=0;Ke<Re;Ke++)Fe[Ke]=arguments[Ke+2];Te.children=Fe}return{$$typeof:e,type:Y.type,key:Ie,ref:tt,props:Te,_owner:qe}},Xt.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},Xt.createElement=W,Xt.createFactory=function(Y){var re=W.bind(null,Y);return re.type=Y,re},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(Y){return{$$typeof:l,render:Y}},Xt.isValidElement=J,Xt.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:je}},Xt.memo=function(Y,re){return{$$typeof:d,type:Y,compare:re===void 0?null:re}},Xt.startTransition=function(Y){var re=ie.transition;ie.transition={};try{Y()}finally{ie.transition=re}},Xt.unstable_act=me,Xt.useCallback=function(Y,re){return pe.current.useCallback(Y,re)},Xt.useContext=function(Y){return pe.current.useContext(Y)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(Y){return pe.current.useDeferredValue(Y)},Xt.useEffect=function(Y,re){return pe.current.useEffect(Y,re)},Xt.useId=function(){return pe.current.useId()},Xt.useImperativeHandle=function(Y,re,Se){return pe.current.useImperativeHandle(Y,re,Se)},Xt.useInsertionEffect=function(Y,re){return pe.current.useInsertionEffect(Y,re)},Xt.useLayoutEffect=function(Y,re){return pe.current.useLayoutEffect(Y,re)},Xt.useMemo=function(Y,re){return pe.current.useMemo(Y,re)},Xt.useReducer=function(Y,re,Se){return pe.current.useReducer(Y,re,Se)},Xt.useRef=function(Y){return pe.current.useRef(Y)},Xt.useState=function(Y){return pe.current.useState(Y)},Xt.useSyncExternalStore=function(Y,re,Se){return pe.current.useSyncExternalStore(Y,re,Se)},Xt.useTransition=function(){return pe.current.useTransition()},Xt.version="18.3.1",Xt}var OS;function Vd(){return OS||(OS=1,Wv.exports=X6()),Wv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function Z6(){if(MS)return Df;MS=1;var e=Vd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var h,m={},p=null,v=null;d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(v=u.ref);for(h in u)n.call(u,h)&&!s.hasOwnProperty(h)&&(m[h]=u[h]);if(l&&l.defaultProps)for(h in u=l.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:t,type:l,key:p,ref:v,props:m,_owner:i.current}}return Df.Fragment=r,Df.jsx=a,Df.jsxs=a,Df}var RS;function eL(){return RS||(RS=1,qv.exports=Z6()),qv.exports}var o=eL(),j=Vd();const St=us(j);var Xm={},Gv={exports:{}},Ei={},Kv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IS;function tL(){return IS||(IS=1,function(e){function t(ie,be){var me=ie.length;ie.push(be);e:for(;0<me;){var Y=me-1>>>1,re=ie[Y];if(0<i(re,be))ie[Y]=be,ie[me]=re,me=Y;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var be=ie[0],me=ie.pop();if(me!==be){ie[0]=me;e:for(var Y=0,re=ie.length,Se=re>>>1;Y<Se;){var Te=2*(Y+1)-1,Ie=ie[Te],tt=Te+1,qe=ie[tt];if(0>i(Ie,me))tt<re&&0>i(qe,Ie)?(ie[Y]=qe,ie[tt]=me,Y=tt):(ie[Y]=Ie,ie[Te]=me,Y=Te);else if(tt<re&&0>i(qe,me))ie[Y]=qe,ie[tt]=me,Y=tt;else break e}}return be}function i(ie,be){var me=ie.sortIndex-be.sortIndex;return me!==0?me:ie.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,m=null,p=3,v=!1,x=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ie){for(var be=r(d);be!==null;){if(be.callback===null)n(d);else if(be.startTime<=ie)n(d),be.sortIndex=be.expirationTime,t(u,be);else break;be=r(d)}}function M(ie){if(C=!1,O(ie),!x)if(r(u)!==null)x=!0,je(D);else{var be=r(d);be!==null&&pe(M,be.startTime-ie)}}function D(ie,be){x=!1,C&&(C=!1,N(W),W=-1),v=!0;var me=p;try{for(O(be),m=r(u);m!==null&&(!(m.expirationTime>be)||ie&&!Z());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,p=m.priorityLevel;var re=Y(m.expirationTime<=be);be=e.unstable_now(),typeof re=="function"?m.callback=re:m===r(u)&&n(u),O(be)}else n(u);m=r(u)}if(m!==null)var Se=!0;else{var Te=r(d);Te!==null&&pe(M,Te.startTime-be),Se=!1}return Se}finally{m=null,p=me,v=!1}}var I=!1,$=null,W=-1,K=5,J=-1;function Z(){return!(e.unstable_now()-J<K)}function de(){if($!==null){var ie=e.unstable_now();J=ie;var be=!0;try{be=$(!0,ie)}finally{be?ce():(I=!1,$=null)}}else I=!1}var ce;if(typeof T=="function")ce=function(){T(de)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=de,ce=function(){ue.postMessage(null)}}else ce=function(){A(de,0)};function je(ie){$=ie,I||(I=!0,ce())}function pe(ie,be){W=A(function(){ie(e.unstable_now())},be)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,je(D))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var be=3;break;default:be=p}var me=p;p=be;try{return ie()}finally{p=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,be){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var me=p;p=ie;try{return be()}finally{p=me}},e.unstable_scheduleCallback=function(ie,be,me){var Y=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Y+me:Y):me=Y,ie){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=me+re,ie={id:h++,callback:be,priorityLevel:ie,startTime:me,expirationTime:re,sortIndex:-1},me>Y?(ie.sortIndex=me,t(d,ie),r(u)===null&&ie===r(d)&&(C?(N(W),W=-1):C=!0,pe(M,me-Y))):(ie.sortIndex=re,t(u,ie),x||v||(x=!0,je(D))),ie},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(ie){var be=p;return function(){var me=p;p=be;try{return ie.apply(this,arguments)}finally{p=me}}}}(Hv)),Hv}var DS;function rL(){return DS||(DS=1,Kv.exports=tL()),Kv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function nL(){if(LS)return Ei;LS=1;var e=Vd(),t=rL();function r(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(c,f){a(c,f),a(c+"Capture",f)}function a(c,f){for(i[c]=f,c=0;c<f.length;c++)n.add(f[c])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(c){return u.call(m,c)?!0:u.call(h,c)?!1:d.test(c)?m[c]=!0:(h[c]=!0,!1)}function v(c,f,g,w){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function x(c,f,g,w){if(f===null||typeof f>"u"||v(c,f,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function C(c,f,g,w,P,R,q){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=w,this.attributeNamespace=P,this.mustUseProperty=g,this.propertyName=c,this.type=f,this.sanitizeURL=R,this.removeEmptyString=q}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){A[c]=new C(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var f=c[0];A[f]=new C(f,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){A[c]=new C(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){A[c]=new C(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){A[c]=new C(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){A[c]=new C(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){A[c]=new C(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){A[c]=new C(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){A[c]=new C(c,5,!1,c.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function T(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var f=c.replace(N,T);A[f]=new C(f,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var f=c.replace(N,T);A[f]=new C(f,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var f=c.replace(N,T);A[f]=new C(f,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){A[c]=new C(c,1,!1,c.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){A[c]=new C(c,1,!1,c.toLowerCase(),null,!0,!0)});function O(c,f,g,w){var P=A.hasOwnProperty(f)?A[f]:null;(P!==null?P.type!==0:w||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(x(f,g,P,w)&&(g=null),w||P===null?p(f)&&(g===null?c.removeAttribute(f):c.setAttribute(f,""+g)):P.mustUseProperty?c[P.propertyName]=g===null?P.type===3?!1:"":g:(f=P.attributeName,w=P.attributeNamespace,g===null?c.removeAttribute(f):(P=P.type,g=P===3||P===4&&g===!0?"":""+g,w?c.setAttributeNS(w,f,g):c.setAttribute(f,g))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),I=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function be(c){return c===null||typeof c!="object"?null:(c=ie&&c[ie]||c["@@iterator"],typeof c=="function"?c:null)}var me=Object.assign,Y;function re(c){if(Y===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Y=f&&f[1]||""}return`
`+Y+c}var Se=!1;function Te(c,f){if(!c||Se)return"";Se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var w=Ee}Reflect.construct(c,[],f)}else{try{f.call()}catch(Ee){w=Ee}c.call(f.prototype)}else{try{throw Error()}catch(Ee){w=Ee}c()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var P=Ee.stack.split(`
`),R=w.stack.split(`
`),q=P.length-1,X=R.length-1;1<=q&&0<=X&&P[q]!==R[X];)X--;for(;1<=q&&0<=X;q--,X--)if(P[q]!==R[X]){if(q!==1||X!==1)do if(q--,X--,0>X||P[q]!==R[X]){var oe=`
`+P[q].replace(" at new "," at ");return c.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",c.displayName)),oe}while(1<=q&&0<=X);break}}}finally{Se=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?re(c):""}function Ie(c){switch(c.tag){case 5:return re(c.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return c=Te(c.type,!1),c;case 11:return c=Te(c.type.render,!1),c;case 1:return c=Te(c.type,!0),c;default:return""}}function tt(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case $:return"Fragment";case I:return"Portal";case K:return"Profiler";case W:return"StrictMode";case ce:return"Suspense";case ee:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Z:return(c.displayName||"Context")+".Consumer";case J:return(c._context.displayName||"Context")+".Provider";case de:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ue:return f=c.displayName||null,f!==null?f:tt(c.type)||"Memo";case je:f=c._payload,c=c._init;try{return tt(c(f))}catch{}}return null}function qe(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tt(f);case 8:return f===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Fe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Re(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ke(c){var f=Re(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,f),w=""+c[f];if(!c.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var P=g.get,R=g.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return P.call(this)},set:function(q){w=""+q,R.call(this,q)}}),Object.defineProperty(c,f,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(q){w=""+q},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function Pe(c){c._valueTracker||(c._valueTracker=Ke(c))}function ae(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),w="";return c&&(w=Re(c)?c.checked?"true":"false":c.value),c=w,c!==g?(f.setValue(c),!0):!1}function _e(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function fe(c,f){var g=f.checked;return me({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function Ve(c,f){var g=f.defaultValue==null?"":f.defaultValue,w=f.checked!=null?f.checked:f.defaultChecked;g=Fe(f.value!=null?f.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function lt(c,f){f=f.checked,f!=null&&O(c,"checked",f,!1)}function yt(c,f){lt(c,f);var g=Fe(f.value),w=f.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}f.hasOwnProperty("value")?nn(c,f.type,g):f.hasOwnProperty("defaultValue")&&nn(c,f.type,Fe(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(c.defaultChecked=!!f.defaultChecked)}function et(c,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var w=f.type;if(!(w!=="submit"&&w!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+c._wrapperState.initialValue,g||f===c.value||(c.value=f),c.defaultValue=f}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function nn(c,f,g){(f!=="number"||_e(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var _t=Array.isArray;function Ct(c,f,g,w){if(c=c.options,f){f={};for(var P=0;P<g.length;P++)f["$"+g[P]]=!0;for(g=0;g<c.length;g++)P=f.hasOwnProperty("$"+c[g].value),c[g].selected!==P&&(c[g].selected=P),P&&w&&(c[g].defaultSelected=!0)}else{for(g=""+Fe(g),f=null,P=0;P<c.length;P++){if(c[P].value===g){c[P].selected=!0,w&&(c[P].defaultSelected=!0);return}f!==null||c[P].disabled||(f=c[P])}f!==null&&(f.selected=!0)}}function dt(c,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},f,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function it(c,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(r(92));if(_t(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),g=f}c._wrapperState={initialValue:Fe(g)}}function Rt(c,f){var g=Fe(f.value),w=Fe(f.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),f.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Jt(c){var f=c.textContent;f===c._wrapperState.initialValue&&f!==""&&f!==null&&(c.value=f)}function ze(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(c,f){return c==null||c==="http://www.w3.org/1999/xhtml"?ze(f):c==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var st,rt=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,w,P){MSApp.execUnsafeLocalFunction(function(){return c(f,g,w,P)})}:c}(function(c,f){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=f;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=st.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;f.firstChild;)c.appendChild(f.firstChild)}});function It(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(sr).forEach(function(c){Ht.forEach(function(f){f=f+c.charAt(0).toUpperCase()+c.substring(1),sr[f]=sr[c]})});function er(c,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||sr.hasOwnProperty(c)&&sr[c]?(""+f).trim():f+"px"}function Nn(c,f){c=c.style;for(var g in f)if(f.hasOwnProperty(g)){var w=g.indexOf("--")===0,P=er(g,f[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,P):c[g]=P}}var Di=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Li(c,f){if(f){if(Di[c]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function fs(c,f){if(c.indexOf("-")===-1)return typeof f.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Vn(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ka=null,Fi=null,hs=null;function ba(c){if(c=Qn(c)){if(typeof Ka!="function")throw Error(r(280));var f=c.stateNode;f&&(f=Lu(f),Ka(c.stateNode,c.type,f))}}function _r(c){Fi?hs?hs.push(c):hs=[c]:Fi=c}function ii(){if(Fi){var c=Fi,f=hs;if(hs=Fi=null,ba(c),f)for(c=0;c<f.length;c++)ba(f[c])}}function tr(c,f){return c(f)}function Ro(){}var ne=!1;function ve(c,f,g){if(ne)return c(f,g);ne=!0;try{return tr(c,f,g)}finally{ne=!1,(Fi!==null||hs!==null)&&(Ro(),ii())}}function Ne(c,f){var g=c.stateNode;if(g===null)return null;var w=Lu(g);if(w===null)return null;g=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var We=!1;if(l)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){We=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{We=!1}function xt(c,f,g,w,P,R,q,X,oe){var Ee=Array.prototype.slice.call(arguments,3);try{f.apply(g,Ee)}catch(Ge){this.onError(Ge)}}var Et=!1,ot=null,bt=!1,pt=null,Dt={onError:function(c){Et=!0,ot=c}};function jt(c,f,g,w,P,R,q,X,oe){Et=!1,ot=null,xt.apply(Dt,arguments)}function Lt(c,f,g,w,P,R,q,X,oe){if(jt.apply(this,arguments),Et){if(Et){var Ee=ot;Et=!1,ot=null}else throw Error(r(198));bt||(bt=!0,pt=Ee)}}function Kt(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function Ar(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function Tr(c){if(Kt(c)!==c)throw Error(r(188))}function vn(c){var f=c.alternate;if(!f){if(f=Kt(c),f===null)throw Error(r(188));return f!==c?null:c}for(var g=c,w=f;;){var P=g.return;if(P===null)break;var R=P.alternate;if(R===null){if(w=P.return,w!==null){g=w;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===g)return Tr(P),c;if(R===w)return Tr(P),f;R=R.sibling}throw Error(r(188))}if(g.return!==w.return)g=P,w=R;else{for(var q=!1,X=P.child;X;){if(X===g){q=!0,g=P,w=R;break}if(X===w){q=!0,w=P,g=R;break}X=X.sibling}if(!q){for(X=R.child;X;){if(X===g){q=!0,g=R,w=P;break}if(X===w){q=!0,w=R,g=P;break}X=X.sibling}if(!q)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:f}function Yt(c){return c=vn(c),c!==null?ms(c):null}function ms(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=ms(c);if(f!==null)return f;c=c.sibling}return null}var yi=t.unstable_scheduleCallback,si=t.unstable_cancelCallback,yn=t.unstable_shouldYield,ps=t.unstable_requestPaint,mr=t.unstable_now,wa=t.unstable_getCurrentPriorityLevel,ai=t.unstable_ImmediatePriority,Hs=t.unstable_UserBlockingPriority,rr=t.unstable_NormalPriority,Xr=t.unstable_LowPriority,oi=t.unstable_IdlePriority,xi=null,Wr=null;function br(c){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(xi,c,void 0,(c.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:$l,Ha=Math.log,Ut=Math.LN2;function $l(c){return c>>>=0,c===0?32:31-(Ha(c)/Ut|0)|0}var Io=64,En=4194304;function Ya(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Qa(c,f){var g=c.pendingLanes;if(g===0)return 0;var w=0,P=c.suspendedLanes,R=c.pingedLanes,q=g&268435455;if(q!==0){var X=q&~P;X!==0?w=Ya(X):(R&=q,R!==0&&(w=Ya(R)))}else q=g&~P,q!==0?w=Ya(q):R!==0&&(w=Ya(R));if(w===0)return 0;if(f!==0&&f!==w&&(f&P)===0&&(P=w&-w,R=f&-f,P>=R||P===16&&(R&4194240)!==0))return f;if((w&4)!==0&&(w|=g&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)g=31-Fr(f),P=1<<g,w|=c[g],f&=~P;return w}function Do(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(c,f){for(var g=c.suspendedLanes,w=c.pingedLanes,P=c.expirationTimes,R=c.pendingLanes;0<R;){var q=31-Fr(R),X=1<<q,oe=P[q];oe===-1?((X&g)===0||(X&w)!==0)&&(P[q]=Do(X,f)):oe<=f&&(c.expiredLanes|=X),R&=~X}}function Ja(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function uu(){var c=Io;return Io<<=1,(Io&4194240)===0&&(Io=64),c}function Xa(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function Za(c,f,g){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Fr(f),c[f]=g}function du(c,f){var g=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var P=31-Fr(g),R=1<<P;f[P]=0,w[P]=-1,c[P]=-1,g&=~R}}function zl(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var w=31-Fr(g),P=1<<w;P&f|c[w]&f&&(c[w]|=f),g&=~P}}var ar=0;function bi(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Lo,Vl,fu,wi,Ul,ql=!1,Bo=[],gs=null,vs=null,ys=null,eo=new Map,ji=new Map,xs=[],Wl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(c,f){switch(c){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":eo.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(f.pointerId)}}function Ai(c,f,g,w,P,R){return c===null||c.nativeEvent!==R?(c={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:R,targetContainers:[P]},f!==null&&(f=Qn(f),f!==null&&Vl(f)),c):(c.eventSystemFlags|=w,f=c.targetContainers,P!==null&&f.indexOf(P)===-1&&f.push(P),c)}function Fo(c,f,g,w,P){switch(f){case"focusin":return gs=Ai(gs,c,f,g,w,P),!0;case"dragenter":return vs=Ai(vs,c,f,g,w,P),!0;case"mouseover":return ys=Ai(ys,c,f,g,w,P),!0;case"pointerover":var R=P.pointerId;return eo.set(R,Ai(eo.get(R)||null,c,f,g,w,P)),!0;case"gotpointercapture":return R=P.pointerId,ji.set(R,Ai(ji.get(R)||null,c,f,g,w,P)),!0}return!1}function Gl(c){var f=Cs(c.target);if(f!==null){var g=Kt(f);if(g!==null){if(f=g.tag,f===13){if(f=Ar(g),f!==null){c.blockedOn=f,Ul(c.priority,function(){fu(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function to(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=Yl(c.domEventName,c.eventSystemFlags,f[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);Bi=w,g.target.dispatchEvent(w),Bi=null}else return f=Qn(g),f!==null&&Vl(f),c.blockedOn=g,!1;f.shift()}return!0}function mu(c,f,g){to(c)&&g.delete(f)}function af(){ql=!1,gs!==null&&to(gs)&&(gs=null),vs!==null&&to(vs)&&(vs=null),ys!==null&&to(ys)&&(ys=null),eo.forEach(mu),ji.forEach(mu)}function $i(c,f){c.blockedOn===f&&(c.blockedOn=null,ql||(ql=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,af)))}function ja(c){function f(P){return $i(P,c)}if(0<Bo.length){$i(Bo[0],c);for(var g=1;g<Bo.length;g++){var w=Bo[g];w.blockedOn===c&&(w.blockedOn=null)}}for(gs!==null&&$i(gs,c),vs!==null&&$i(vs,c),ys!==null&&$i(ys,c),eo.forEach(f),ji.forEach(f),g=0;g<xs.length;g++)w=xs[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<xs.length&&(g=xs[0],g.blockedOn===null);)Gl(g),g.blockedOn===null&&xs.shift()}var Aa=M.ReactCurrentBatchConfig,$o=!0;function Kl(c,f,g,w){var P=ar,R=Aa.transition;Aa.transition=null;try{ar=1,Hl(c,f,g,w)}finally{ar=P,Aa.transition=R}}function li(c,f,g,w){var P=ar,R=Aa.transition;Aa.transition=null;try{ar=4,Hl(c,f,g,w)}finally{ar=P,Aa.transition=R}}function Hl(c,f,g,w){if($o){var P=Yl(c,f,g,w);if(P===null)Yn(c,f,w,Kn,g),hu(c,w);else if(Fo(P,c,f,g,w))w.stopPropagation();else if(hu(c,w),f&4&&-1<Wl.indexOf(c)){for(;P!==null;){var R=Qn(P);if(R!==null&&Lo(R),R=Yl(c,f,g,w),R===null&&Yn(c,f,w,Kn,g),R===P)break;P=R}P!==null&&w.stopPropagation()}else Yn(c,f,w,null,g)}}var Kn=null;function Yl(c,f,g,w){if(Kn=null,c=Vn(w),c=Cs(c),c!==null)if(f=Kt(c),f===null)c=null;else if(g=f.tag,g===13){if(c=Ar(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null);return Kn=c,null}function $r(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wa()){case ai:return 1;case Hs:return 4;case rr:case Xr:return 16;case oi:return 536870912;default:return 16}default:return 16}}var Si=null,ro=null,zr=null;function pu(){if(zr)return zr;var c,f=ro,g=f.length,w,P="value"in Si?Si.value:Si.textContent,R=P.length;for(c=0;c<g&&f[c]===P[c];c++);var q=g-c;for(w=1;w<=q&&f[g-w]===P[R-w];w++);return zr=P.slice(c,1<w?1-w:void 0)}function qt(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function no(){return!0}function sn(){return!1}function Pn(c){function f(g,w,P,R,q){this._reactName=g,this._targetInst=P,this.type=w,this.nativeEvent=R,this.target=q,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(g=c[X],this[X]=g?g(R):R[X]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?no:sn,this.isPropagationStopped=sn,this}return me(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),f}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Pn(_n),Sa=me({},_n,{view:0,detail:0}),of=Pn(Sa),zo,Jl,Ca,Vo=me({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ca&&(Ca&&c.type==="mousemove"?(zo=c.screenX-Ca.screenX,Jl=c.screenY-Ca.screenY):Jl=zo=0,Ca=c),zo)},movementY:function(c){return"movementY"in c?c.movementY:Jl}}),Uo=Pn(Vo),Xl=me({},Vo,{dataTransfer:0}),gu=Pn(Xl),vu=me({},Sa,{relatedTarget:0}),Zl=Pn(vu),qo=me({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),lf=Pn(qo),bs=me({},_n,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),cf=Pn(bs),yu=me({},_n,{data:0}),xu=Pn(yu),uf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function df(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=Wo[c])?!!f[c]:!1}function ec(){return df}var wu=me({},Sa,{key:function(c){if(c.key){var f=uf[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=qt(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?bu[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(c){return c.type==="keypress"?qt(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?qt(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),wr=Pn(wu),ff=me({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=Pn(ff),tc=me({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),hf=Pn(tc),Vt=me({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Pn(Vt),Au=me({},Vo,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Su=Pn(Au),rc=[9,13,27,32],nc=l&&"CompositionEvent"in window,io=null;l&&"documentMode"in document&&(io=document.documentMode);var Cu=l&&"TextEvent"in window&&!io,ku=l&&(!nc||io&&8<io&&11>=io),ic=" ",sc=!1;function zi(c,f){switch(c){case"keyup":return rc.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ys=!1;function mf(c,f){switch(c){case"compositionend":return Nu(f);case"keypress":return f.which!==32?null:(sc=!0,ic);case"textInput":return c=f.data,c===ic&&sc?null:c;default:return null}}function pf(c,f){if(Ys)return c==="compositionend"||!nc&&zi(c,f)?(c=pu(),zr=ro=Si=null,Ys=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return ku&&f.locale!=="ko"?null:f.data;default:return null}}var Eu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Eu[c.type]:f==="textarea"}function ac(c,f,g,w){_r(w),f=di(f,"onChange"),0<f.length&&(g=new Ql("onChange","change",null,g,w),c.push({event:g,listeners:f}))}var so=null,ka=null;function _u(c){fc(c,0)}function Go(c){var f=Jo(c);if(ae(f))return c}function Tu(c,f){if(c==="change")return f}var oc=!1;if(l){var lc;if(l){var Ko="oninput"in document;if(!Ko){var ao=document.createElement("div");ao.setAttribute("oninput","return;"),Ko=typeof ao.oninput=="function"}lc=Ko}else lc=!1;oc=lc&&(!document.documentMode||9<document.documentMode)}function oo(){so&&(so.detachEvent("onpropertychange",cc),ka=so=null)}function cc(c){if(c.propertyName==="value"&&Go(ka)){var f=[];ac(f,ka,c,Vn(c)),ve(_u,f)}}function gf(c,f,g){c==="focusin"?(oo(),so=f,ka=g,so.attachEvent("onpropertychange",cc)):c==="focusout"&&oo()}function Ou(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Go(ka)}function lo(c,f){if(c==="click")return Go(f)}function uc(c,f){if(c==="input"||c==="change")return Go(f)}function Qs(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var ci=typeof Object.is=="function"?Object.is:Qs;function co(c,f){if(ci(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var P=g[w];if(!u.call(f,P)||!ci(c[P],f[P]))return!1}return!0}function Mu(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ru(c,f){var g=Mu(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=f&&w>=f)return{node:g,offset:f-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Mu(g)}}function Js(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Js(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Ho(){for(var c=window,f=_e();f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=_e(c.document)}return f}function Yo(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}function vf(c){var f=Ho(),g=c.focusedElem,w=c.selectionRange;if(f!==g&&g&&g.ownerDocument&&Js(g.ownerDocument.documentElement,g)){if(w!==null&&Yo(g)){if(f=w.start,c=w.end,c===void 0&&(c=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(c,g.value.length);else if(c=(f=g.ownerDocument||document)&&f.defaultView||window,c.getSelection){c=c.getSelection();var P=g.textContent.length,R=Math.min(w.start,P);w=w.end===void 0?R:Math.min(w.end,P),!c.extend&&R>w&&(P=w,w=R,R=P),P=Ru(g,R);var q=Ru(g,w);P&&q&&(c.rangeCount!==1||c.anchorNode!==P.node||c.anchorOffset!==P.offset||c.focusNode!==q.node||c.focusOffset!==q.offset)&&(f=f.createRange(),f.setStart(P.node,P.offset),c.removeAllRanges(),R>w?(c.addRange(f),c.extend(q.node,q.offset)):(f.setEnd(q.node,q.offset),c.addRange(f)))}}for(f=[],c=g;c=c.parentNode;)c.nodeType===1&&f.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)c=f[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var yf=l&&"documentMode"in document&&11>=document.documentMode,js=null,dc=null,F=null,B=!1;function G(c,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;B||js==null||js!==_e(w)||(w=js,"selectionStart"in w&&Yo(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),F&&co(F,w)||(F=w,w=di(dc,"onSelect"),0<w.length&&(f=new Ql("onSelect","select",null,f,g),c.push({event:f,listeners:w}),f.target=js)))}function Q(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var se={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionend:Q("Transition","TransitionEnd")},le={},Ae={};l&&(Ae=document.createElement("div").style,"AnimationEvent"in window||(delete se.animationend.animation,delete se.animationiteration.animation,delete se.animationstart.animation),"TransitionEvent"in window||delete se.transitionend.transition);function xe(c){if(le[c])return le[c];if(!se[c])return c;var f=se[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in Ae)return le[c]=f[g];return c}var $e=xe("animationend"),Ze=xe("animationiteration"),nt=xe("animationstart"),Pt=xe("transitionend"),Wt=new Map,nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(c,f){Wt.set(c,f),s(f,[c])}for(var Or=0;Or<nr.length;Or++){var Nr=nr[Or],Gr=Nr.toLowerCase(),Vi=Nr[0].toUpperCase()+Nr.slice(1);or(Gr,"on"+Vi)}or($e,"onAnimationEnd"),or(Ze,"onAnimationIteration"),or(nt,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(Pt,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function uo(c,f,g){var w=c.type||"unknown-event";c.currentTarget=g,Lt(w,f,void 0,c),c.currentTarget=null}function fc(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],P=w.event;w=w.listeners;e:{var R=void 0;if(f)for(var q=w.length-1;0<=q;q--){var X=w[q],oe=X.instance,Ee=X.currentTarget;if(X=X.listener,oe!==R&&P.isPropagationStopped())break e;uo(P,X,Ee),R=oe}else for(q=0;q<w.length;q++){if(X=w[q],oe=X.instance,Ee=X.currentTarget,X=X.listener,oe!==R&&P.isPropagationStopped())break e;uo(P,X,Ee),R=oe}}}if(bt)throw c=pt,bt=!1,pt=null,c}function gr(c,f){var g=f[Du];g===void 0&&(g=f[Du]=new Set);var w=c+"__bubble";g.has(w)||(ui(f,c,2,!1),g.add(w))}function Xs(c,f,g){var w=0;f&&(w|=4),ui(g,c,w,f)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function As(c){if(!c[Kr]){c[Kr]=!0,n.forEach(function(g){g!=="selectionchange"&&(Hn.has(g)||Xs(g,!1,c),Xs(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[Kr]||(f[Kr]=!0,Xs("selectionchange",!1,f))}}function ui(c,f,g,w){switch($r(f)){case 1:var P=Kl;break;case 4:P=li;break;default:P=Hl}g=P.bind(null,f,g,c),P=void 0,!We||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(P=!0),w?P!==void 0?c.addEventListener(f,g,{capture:!0,passive:P}):c.addEventListener(f,g,!0):P!==void 0?c.addEventListener(f,g,{passive:P}):c.addEventListener(f,g,!1)}function Yn(c,f,g,w,P){var R=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var q=w.tag;if(q===3||q===4){var X=w.stateNode.containerInfo;if(X===P||X.nodeType===8&&X.parentNode===P)break;if(q===4)for(q=w.return;q!==null;){var oe=q.tag;if((oe===3||oe===4)&&(oe=q.stateNode.containerInfo,oe===P||oe.nodeType===8&&oe.parentNode===P))return;q=q.return}for(;X!==null;){if(q=Cs(X),q===null)return;if(oe=q.tag,oe===5||oe===6){w=R=q;continue e}X=X.parentNode}}w=w.return}ve(function(){var Ee=R,Ge=Vn(g),Qe=[];e:{var Ue=Wt.get(c);if(Ue!==void 0){var ct=Ql,vt=c;switch(c){case"keypress":if(qt(g)===0)break e;case"keydown":case"keyup":ct=wr;break;case"focusin":vt="focus",ct=Zl;break;case"focusout":vt="blur",ct=Zl;break;case"beforeblur":case"afterblur":ct=Zl;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=hf;break;case $e:case Ze:case nt:ct=lf;break;case Pt:ct=ju;break;case"scroll":ct=of;break;case"wheel":ct=Su;break;case"copy":case"cut":case"paste":ct=cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=ws}var At=(f&4)!==0,Zr=!At&&c==="scroll",we=At?Ue!==null?Ue+"Capture":null:Ue;At=[];for(var he=Ee,ke;he!==null;){ke=he;var Xe=ke.stateNode;if(ke.tag===5&&Xe!==null&&(ke=Xe,we!==null&&(Xe=Ne(he,we),Xe!=null&&At.push(fo(he,Xe,ke)))),Zr)break;he=he.return}0<At.length&&(Ue=new ct(Ue,vt,null,g,Ge),Qe.push({event:Ue,listeners:At}))}}if((f&7)===0){e:{if(Ue=c==="mouseover"||c==="pointerover",ct=c==="mouseout"||c==="pointerout",Ue&&g!==Bi&&(vt=g.relatedTarget||g.fromElement)&&(Cs(vt)||vt[Ss]))break e;if((ct||Ue)&&(Ue=Ge.window===Ge?Ge:(Ue=Ge.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,ct?(vt=g.relatedTarget||g.toElement,ct=Ee,vt=vt?Cs(vt):null,vt!==null&&(Zr=Kt(vt),vt!==Zr||vt.tag!==5&&vt.tag!==6)&&(vt=null)):(ct=null,vt=Ee),ct!==vt)){if(At=Uo,Xe="onMouseLeave",we="onMouseEnter",he="mouse",(c==="pointerout"||c==="pointerover")&&(At=ws,Xe="onPointerLeave",we="onPointerEnter",he="pointer"),Zr=ct==null?Ue:Jo(ct),ke=vt==null?Ue:Jo(vt),Ue=new At(Xe,he+"leave",ct,g,Ge),Ue.target=Zr,Ue.relatedTarget=ke,Xe=null,Cs(Ge)===Ee&&(At=new At(we,he+"enter",vt,g,Ge),At.target=ke,At.relatedTarget=Zr,Xe=At),Zr=Xe,ct&&vt)t:{for(At=ct,we=vt,he=0,ke=At;ke;ke=Zs(ke))he++;for(ke=0,Xe=we;Xe;Xe=Zs(Xe))ke++;for(;0<he-ke;)At=Zs(At),he--;for(;0<ke-he;)we=Zs(we),ke--;for(;he--;){if(At===we||we!==null&&At===we.alternate)break t;At=Zs(At),we=Zs(we)}At=null}else At=null;ct!==null&&ho(Qe,Ue,ct,At,!1),vt!==null&&Zr!==null&&ho(Qe,Zr,vt,At,!0)}}e:{if(Ue=Ee?Jo(Ee):window,ct=Ue.nodeName&&Ue.nodeName.toLowerCase(),ct==="select"||ct==="input"&&Ue.type==="file")var Nt=Tu;else if(Pu(Ue))if(oc)Nt=uc;else{Nt=Ou;var Tt=gf}else(ct=Ue.nodeName)&&ct.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(Nt=lo);if(Nt&&(Nt=Nt(c,Ee))){ac(Qe,Nt,g,Ge);break e}Tt&&Tt(c,Ue,Ee),c==="focusout"&&(Tt=Ue._wrapperState)&&Tt.controlled&&Ue.type==="number"&&nn(Ue,"number",Ue.value)}switch(Tt=Ee?Jo(Ee):window,c){case"focusin":(Pu(Tt)||Tt.contentEditable==="true")&&(js=Tt,dc=Ee,F=null);break;case"focusout":F=dc=js=null;break;case"mousedown":B=!0;break;case"contextmenu":case"mouseup":case"dragend":B=!1,G(Qe,g,Ge);break;case"selectionchange":if(yf)break;case"keydown":case"keyup":G(Qe,g,Ge)}var Ot;if(nc)e:{switch(c){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Ys?zi(c,g)&&($t="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&($t="onCompositionStart");$t&&(ku&&g.locale!=="ko"&&(Ys||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Ys&&(Ot=pu()):(Si=Ge,ro="value"in Si?Si.value:Si.textContent,Ys=!0)),Tt=di(Ee,$t),0<Tt.length&&($t=new xu($t,c,null,g,Ge),Qe.push({event:$t,listeners:Tt}),Ot?$t.data=Ot:(Ot=Nu(g),Ot!==null&&($t.data=Ot)))),(Ot=Cu?mf(c,g):pf(c,g))&&(Ee=di(Ee,"onBeforeInput"),0<Ee.length&&(Ge=new xu("onBeforeInput","beforeinput",null,g,Ge),Qe.push({event:Ge,listeners:Ee}),Ge.data=Ot))}fc(Qe,f)})}function fo(c,f,g){return{instance:c,listener:f,currentTarget:g}}function di(c,f){for(var g=f+"Capture",w=[];c!==null;){var P=c,R=P.stateNode;P.tag===5&&R!==null&&(P=R,R=Ne(c,g),R!=null&&w.unshift(fo(c,R,P)),R=Ne(c,f),R!=null&&w.push(fo(c,R,P))),c=c.return}return w}function Zs(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function ho(c,f,g,w,P){for(var R=f._reactName,q=[];g!==null&&g!==w;){var X=g,oe=X.alternate,Ee=X.stateNode;if(oe!==null&&oe===w)break;X.tag===5&&Ee!==null&&(X=Ee,P?(oe=Ne(g,R),oe!=null&&q.unshift(fo(g,oe,X))):P||(oe=Ne(g,R),oe!=null&&q.push(fo(g,oe,X)))),g=g.return}q.length!==0&&c.push({event:f,listeners:q})}var an=/\r\n?/g,Na=/\u0000|\uFFFD/g;function Ui(c){return(typeof c=="string"?c:""+c).replace(an,`
`).replace(Na,"")}function xn(c,f,g){if(f=Ui(f),Ui(c)!==f&&g)throw Error(r(425))}function Ea(){}var Iu=null,xf=null;function Pa(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var ea=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(c){return gm.resolve(null).then(c).catch(Vg)}:ea;function Vg(c){setTimeout(function(){throw c})}function bf(c,f){var g=f,w=0;do{var P=g.nextSibling;if(c.removeChild(g),P&&P.nodeType===8)if(g=P.data,g==="/$"){if(w===0){c.removeChild(P),ja(f);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=P}while(g);ja(f)}function _a(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return c}function vm(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return c;f--}else g==="/$"&&f++}c=c.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),qi="__reactFiber$"+Qo,hc="__reactProps$"+Qo,Ss="__reactContainer$"+Qo,Du="__reactEvents$"+Qo,Ug="__reactListeners$"+Qo,ym="__reactHandles$"+Qo;function Cs(c){var f=c[qi];if(f)return f;for(var g=c.parentNode;g;){if(f=g[Ss]||g[qi]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=vm(c);c!==null;){if(g=c[qi])return g;c=vm(c)}return f}c=g,g=c.parentNode}return null}function Qn(c){return c=c[qi]||c[Ss],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Jo(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Lu(c){return c[hc]||null}var wf=[],mo=-1;function ta(c){return{current:c}}function jr(c){0>mo||(c.current=wf[mo],wf[mo]=null,mo--)}function cr(c,f){mo++,wf[mo]=c.current,c.current=f}var ks={},bn=ta(ks),b=ta(!1),k=ks;function y(c,f){var g=c.type.contextTypes;if(!g)return ks;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var P={},R;for(R in g)P[R]=f[R];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=P),P}function S(c){return c=c.childContextTypes,c!=null}function E(){jr(b),jr(bn)}function _(c,f,g){if(bn.current!==ks)throw Error(r(168));cr(bn,f),cr(b,g)}function L(c,f,g){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var P in w)if(!(P in f))throw Error(r(108,qe(c)||"Unknown",P));return me({},g,w)}function z(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ks,k=bn.current,cr(bn,c),cr(b,b.current),!0}function U(c,f,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=L(c,f,k),w.__reactInternalMemoizedMergedChildContext=c,jr(b),jr(bn),cr(bn,c)):jr(b),cr(b,g)}var V=null,H=!1,te=!1;function Ce(c){V===null?V=[c]:V.push(c)}function ye(c){H=!0,Ce(c)}function De(){if(!te&&V!==null){te=!0;var c=0,f=ar;try{var g=V;for(ar=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}V=null,H=!1}catch(P){throw V!==null&&(V=V.slice(c+1)),yi(ai,De),P}finally{ar=f,te=!1}}return null}var ge=[],Oe=0,Le=null,Be=0,ut=[],gt=0,Gt=null,Qt=1,Ft="";function Sr(c,f){ge[Oe++]=Be,ge[Oe++]=Le,Le=c,Be=f}function Bu(c,f,g){ut[gt++]=Qt,ut[gt++]=Ft,ut[gt++]=Gt,Gt=c;var w=Qt;c=Ft;var P=32-Fr(w)-1;w&=~(1<<P),g+=1;var R=32-Fr(f)+P;if(30<R){var q=P-P%5;R=(w&(1<<q)-1).toString(32),w>>=q,P-=q,Qt=1<<32-Fr(f)+P|g<<P|w,Ft=R+c}else Qt=1<<R|g<<P|w,Ft=c}function Fu(c){c.return!==null&&(Sr(c,1),Bu(c,1,0))}function $u(c){for(;c===Le;)Le=ge[--Oe],ge[Oe]=null,Be=ge[--Oe],ge[Oe]=null;for(;c===Gt;)Gt=ut[--gt],ut[gt]=null,Ft=ut[--gt],ut[gt]=null,Qt=ut[--gt],ut[gt]=null}var Wi=null,Gi=null,Ir=!1,ra=null;function iA(c,f){var g=_s(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=c,f=c.deletions,f===null?(c.deletions=[g],c.flags|=16):f.push(g)}function sA(c,f){switch(c.tag){case 5:var g=c.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(c.stateNode=f,Wi=c,Gi=_a(f.firstChild),!0):!1;case 6:return f=c.pendingProps===""||f.nodeType!==3?null:f,f!==null?(c.stateNode=f,Wi=c,Gi=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=Gt!==null?{id:Qt,overflow:Ft}:null,c.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=_s(18,null,null,0),g.stateNode=f,g.return=c,c.child=g,Wi=c,Gi=null,!0):!1;default:return!1}}function qg(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Wg(c){if(Ir){var f=Gi;if(f){var g=f;if(!sA(c,f)){if(qg(c))throw Error(r(418));f=_a(g.nextSibling);var w=Wi;f&&sA(c,f)?iA(w,g):(c.flags=c.flags&-4097|2,Ir=!1,Wi=c)}}else{if(qg(c))throw Error(r(418));c.flags=c.flags&-4097|2,Ir=!1,Wi=c}}}function aA(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Wi=c}function xm(c){if(c!==Wi)return!1;if(!Ir)return aA(c),Ir=!0,!1;var f;if((f=c.tag!==3)&&!(f=c.tag!==5)&&(f=c.type,f=f!=="head"&&f!=="body"&&!Pa(c.type,c.memoizedProps)),f&&(f=Gi)){if(qg(c))throw oA(),Error(r(418));for(;f;)iA(c,f),f=_a(f.nextSibling)}if(aA(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(f===0){Gi=_a(c.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}c=c.nextSibling}Gi=null}}else Gi=Wi?_a(c.stateNode.nextSibling):null;return!0}function oA(){for(var c=Gi;c;)c=_a(c.nextSibling)}function zu(){Gi=Wi=null,Ir=!1}function Gg(c){ra===null?ra=[c]:ra.push(c)}var m6=M.ReactCurrentBatchConfig;function jf(c,f,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var P=w,R=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===R?f.ref:(f=function(q){var X=P.refs;q===null?delete X[R]:X[R]=q},f._stringRef=R,f)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function bm(c,f){throw c=Object.prototype.toString.call(f),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function lA(c){var f=c._init;return f(c._payload)}function cA(c){function f(we,he){if(c){var ke=we.deletions;ke===null?(we.deletions=[he],we.flags|=16):ke.push(he)}}function g(we,he){if(!c)return null;for(;he!==null;)f(we,he),he=he.sibling;return null}function w(we,he){for(we=new Map;he!==null;)he.key!==null?we.set(he.key,he):we.set(he.index,he),he=he.sibling;return we}function P(we,he){return we=sl(we,he),we.index=0,we.sibling=null,we}function R(we,he,ke){return we.index=ke,c?(ke=we.alternate,ke!==null?(ke=ke.index,ke<he?(we.flags|=2,he):ke):(we.flags|=2,he)):(we.flags|=1048576,he)}function q(we){return c&&we.alternate===null&&(we.flags|=2),we}function X(we,he,ke,Xe){return he===null||he.tag!==6?(he=Lv(ke,we.mode,Xe),he.return=we,he):(he=P(he,ke),he.return=we,he)}function oe(we,he,ke,Xe){var Nt=ke.type;return Nt===$?Ge(we,he,ke.props.children,Xe,ke.key):he!==null&&(he.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===je&&lA(Nt)===he.type)?(Xe=P(he,ke.props),Xe.ref=jf(we,he,ke),Xe.return=we,Xe):(Xe=qm(ke.type,ke.key,ke.props,null,we.mode,Xe),Xe.ref=jf(we,he,ke),Xe.return=we,Xe)}function Ee(we,he,ke,Xe){return he===null||he.tag!==4||he.stateNode.containerInfo!==ke.containerInfo||he.stateNode.implementation!==ke.implementation?(he=Bv(ke,we.mode,Xe),he.return=we,he):(he=P(he,ke.children||[]),he.return=we,he)}function Ge(we,he,ke,Xe,Nt){return he===null||he.tag!==7?(he=wc(ke,we.mode,Xe,Nt),he.return=we,he):(he=P(he,ke),he.return=we,he)}function Qe(we,he,ke){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Lv(""+he,we.mode,ke),he.return=we,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return ke=qm(he.type,he.key,he.props,null,we.mode,ke),ke.ref=jf(we,null,he),ke.return=we,ke;case I:return he=Bv(he,we.mode,ke),he.return=we,he;case je:var Xe=he._init;return Qe(we,Xe(he._payload),ke)}if(_t(he)||be(he))return he=wc(he,we.mode,ke,null),he.return=we,he;bm(we,he)}return null}function Ue(we,he,ke,Xe){var Nt=he!==null?he.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return Nt!==null?null:X(we,he,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case D:return ke.key===Nt?oe(we,he,ke,Xe):null;case I:return ke.key===Nt?Ee(we,he,ke,Xe):null;case je:return Nt=ke._init,Ue(we,he,Nt(ke._payload),Xe)}if(_t(ke)||be(ke))return Nt!==null?null:Ge(we,he,ke,Xe,null);bm(we,ke)}return null}function ct(we,he,ke,Xe,Nt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return we=we.get(ke)||null,X(he,we,""+Xe,Nt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case D:return we=we.get(Xe.key===null?ke:Xe.key)||null,oe(he,we,Xe,Nt);case I:return we=we.get(Xe.key===null?ke:Xe.key)||null,Ee(he,we,Xe,Nt);case je:var Tt=Xe._init;return ct(we,he,ke,Tt(Xe._payload),Nt)}if(_t(Xe)||be(Xe))return we=we.get(ke)||null,Ge(he,we,Xe,Nt,null);bm(he,Xe)}return null}function vt(we,he,ke,Xe){for(var Nt=null,Tt=null,Ot=he,$t=he=0,Mn=null;Ot!==null&&$t<ke.length;$t++){Ot.index>$t?(Mn=Ot,Ot=null):Mn=Ot.sibling;var dr=Ue(we,Ot,ke[$t],Xe);if(dr===null){Ot===null&&(Ot=Mn);break}c&&Ot&&dr.alternate===null&&f(we,Ot),he=R(dr,he,$t),Tt===null?Nt=dr:Tt.sibling=dr,Tt=dr,Ot=Mn}if($t===ke.length)return g(we,Ot),Ir&&Sr(we,$t),Nt;if(Ot===null){for(;$t<ke.length;$t++)Ot=Qe(we,ke[$t],Xe),Ot!==null&&(he=R(Ot,he,$t),Tt===null?Nt=Ot:Tt.sibling=Ot,Tt=Ot);return Ir&&Sr(we,$t),Nt}for(Ot=w(we,Ot);$t<ke.length;$t++)Mn=ct(Ot,we,$t,ke[$t],Xe),Mn!==null&&(c&&Mn.alternate!==null&&Ot.delete(Mn.key===null?$t:Mn.key),he=R(Mn,he,$t),Tt===null?Nt=Mn:Tt.sibling=Mn,Tt=Mn);return c&&Ot.forEach(function(al){return f(we,al)}),Ir&&Sr(we,$t),Nt}function At(we,he,ke,Xe){var Nt=be(ke);if(typeof Nt!="function")throw Error(r(150));if(ke=Nt.call(ke),ke==null)throw Error(r(151));for(var Tt=Nt=null,Ot=he,$t=he=0,Mn=null,dr=ke.next();Ot!==null&&!dr.done;$t++,dr=ke.next()){Ot.index>$t?(Mn=Ot,Ot=null):Mn=Ot.sibling;var al=Ue(we,Ot,dr.value,Xe);if(al===null){Ot===null&&(Ot=Mn);break}c&&Ot&&al.alternate===null&&f(we,Ot),he=R(al,he,$t),Tt===null?Nt=al:Tt.sibling=al,Tt=al,Ot=Mn}if(dr.done)return g(we,Ot),Ir&&Sr(we,$t),Nt;if(Ot===null){for(;!dr.done;$t++,dr=ke.next())dr=Qe(we,dr.value,Xe),dr!==null&&(he=R(dr,he,$t),Tt===null?Nt=dr:Tt.sibling=dr,Tt=dr);return Ir&&Sr(we,$t),Nt}for(Ot=w(we,Ot);!dr.done;$t++,dr=ke.next())dr=ct(Ot,we,$t,dr.value,Xe),dr!==null&&(c&&dr.alternate!==null&&Ot.delete(dr.key===null?$t:dr.key),he=R(dr,he,$t),Tt===null?Nt=dr:Tt.sibling=dr,Tt=dr);return c&&Ot.forEach(function(K6){return f(we,K6)}),Ir&&Sr(we,$t),Nt}function Zr(we,he,ke,Xe){if(typeof ke=="object"&&ke!==null&&ke.type===$&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case D:e:{for(var Nt=ke.key,Tt=he;Tt!==null;){if(Tt.key===Nt){if(Nt=ke.type,Nt===$){if(Tt.tag===7){g(we,Tt.sibling),he=P(Tt,ke.props.children),he.return=we,we=he;break e}}else if(Tt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===je&&lA(Nt)===Tt.type){g(we,Tt.sibling),he=P(Tt,ke.props),he.ref=jf(we,Tt,ke),he.return=we,we=he;break e}g(we,Tt);break}else f(we,Tt);Tt=Tt.sibling}ke.type===$?(he=wc(ke.props.children,we.mode,Xe,ke.key),he.return=we,we=he):(Xe=qm(ke.type,ke.key,ke.props,null,we.mode,Xe),Xe.ref=jf(we,he,ke),Xe.return=we,we=Xe)}return q(we);case I:e:{for(Tt=ke.key;he!==null;){if(he.key===Tt)if(he.tag===4&&he.stateNode.containerInfo===ke.containerInfo&&he.stateNode.implementation===ke.implementation){g(we,he.sibling),he=P(he,ke.children||[]),he.return=we,we=he;break e}else{g(we,he);break}else f(we,he);he=he.sibling}he=Bv(ke,we.mode,Xe),he.return=we,we=he}return q(we);case je:return Tt=ke._init,Zr(we,he,Tt(ke._payload),Xe)}if(_t(ke))return vt(we,he,ke,Xe);if(be(ke))return At(we,he,ke,Xe);bm(we,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,he!==null&&he.tag===6?(g(we,he.sibling),he=P(he,ke),he.return=we,we=he):(g(we,he),he=Lv(ke,we.mode,Xe),he.return=we,we=he),q(we)):g(we,he)}return Zr}var Vu=cA(!0),uA=cA(!1),wm=ta(null),jm=null,Uu=null,Kg=null;function Hg(){Kg=Uu=jm=null}function Yg(c){var f=wm.current;jr(wm),c._currentValue=f}function Qg(c,f,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===g)break;c=c.return}}function qu(c,f){jm=c,Kg=Uu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(Ci=!0),c.firstContext=null)}function Ns(c){var f=c._currentValue;if(Kg!==c)if(c={context:c,memoizedValue:f,next:null},Uu===null){if(jm===null)throw Error(r(308));Uu=c,jm.dependencies={lanes:0,firstContext:c}}else Uu=Uu.next=c;return f}var mc=null;function Jg(c){mc===null?mc=[c]:mc.push(c)}function dA(c,f,g,w){var P=f.interleaved;return P===null?(g.next=g,Jg(f)):(g.next=P.next,P.next=g),f.interleaved=g,po(c,w)}function po(c,f){c.lanes|=f;var g=c.alternate;for(g!==null&&(g.lanes|=f),g=c,c=c.return;c!==null;)c.childLanes|=f,g=c.alternate,g!==null&&(g.childLanes|=f),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Xo=!1;function Xg(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fA(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function go(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Zo(c,f,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(ur&2)!==0){var P=w.pending;return P===null?f.next=f:(f.next=P.next,P.next=f),w.pending=f,po(c,g)}return P=w.interleaved,P===null?(f.next=f,Jg(w)):(f.next=P.next,P.next=f),w.interleaved=f,po(c,g)}function Am(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,zl(c,g)}}function hA(c,f){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var P=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var q={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};R===null?P=R=q:R=R.next=q,g=g.next}while(g!==null);R===null?P=R=f:R=R.next=f}else P=R=f;g={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function Sm(c,f,g,w){var P=c.updateQueue;Xo=!1;var R=P.firstBaseUpdate,q=P.lastBaseUpdate,X=P.shared.pending;if(X!==null){P.shared.pending=null;var oe=X,Ee=oe.next;oe.next=null,q===null?R=Ee:q.next=Ee,q=oe;var Ge=c.alternate;Ge!==null&&(Ge=Ge.updateQueue,X=Ge.lastBaseUpdate,X!==q&&(X===null?Ge.firstBaseUpdate=Ee:X.next=Ee,Ge.lastBaseUpdate=oe))}if(R!==null){var Qe=P.baseState;q=0,Ge=Ee=oe=null,X=R;do{var Ue=X.lane,ct=X.eventTime;if((w&Ue)===Ue){Ge!==null&&(Ge=Ge.next={eventTime:ct,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var vt=c,At=X;switch(Ue=f,ct=g,At.tag){case 1:if(vt=At.payload,typeof vt=="function"){Qe=vt.call(ct,Qe,Ue);break e}Qe=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=At.payload,Ue=typeof vt=="function"?vt.call(ct,Qe,Ue):vt,Ue==null)break e;Qe=me({},Qe,Ue);break e;case 2:Xo=!0}}X.callback!==null&&X.lane!==0&&(c.flags|=64,Ue=P.effects,Ue===null?P.effects=[X]:Ue.push(X))}else ct={eventTime:ct,lane:Ue,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ge===null?(Ee=Ge=ct,oe=Qe):Ge=Ge.next=ct,q|=Ue;if(X=X.next,X===null){if(X=P.shared.pending,X===null)break;Ue=X,X=Ue.next,Ue.next=null,P.lastBaseUpdate=Ue,P.shared.pending=null}}while(!0);if(Ge===null&&(oe=Qe),P.baseState=oe,P.firstBaseUpdate=Ee,P.lastBaseUpdate=Ge,f=P.shared.interleaved,f!==null){P=f;do q|=P.lane,P=P.next;while(P!==f)}else R===null&&(P.shared.lanes=0);vc|=q,c.lanes=q,c.memoizedState=Qe}}function mA(c,f,g){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],P=w.callback;if(P!==null){if(w.callback=null,w=g,typeof P!="function")throw Error(r(191,P));P.call(w)}}}var Af={},Ta=ta(Af),Sf=ta(Af),Cf=ta(Af);function pc(c){if(c===Af)throw Error(r(174));return c}function Zg(c,f){switch(cr(Cf,f),cr(Sf,c),cr(Ta,Af),c=f.nodeType,c){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Ye(null,"");break;default:c=c===8?f.parentNode:f,f=c.namespaceURI||null,c=c.tagName,f=Ye(f,c)}jr(Ta),cr(Ta,f)}function Wu(){jr(Ta),jr(Sf),jr(Cf)}function pA(c){pc(Cf.current);var f=pc(Ta.current),g=Ye(f,c.type);f!==g&&(cr(Sf,c),cr(Ta,g))}function ev(c){Sf.current===c&&(jr(Ta),jr(Sf))}var Ur=ta(0);function Cm(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var tv=[];function rv(){for(var c=0;c<tv.length;c++)tv[c]._workInProgressVersionPrimary=null;tv.length=0}var km=M.ReactCurrentDispatcher,nv=M.ReactCurrentBatchConfig,gc=0,qr=null,wn=null,Tn=null,Nm=!1,kf=!1,Nf=0,p6=0;function Jn(){throw Error(r(321))}function iv(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!ci(c[g],f[g]))return!1;return!0}function sv(c,f,g,w,P,R){if(gc=R,qr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,km.current=c===null||c.memoizedState===null?x6:b6,c=g(w,P),kf){R=0;do{if(kf=!1,Nf=0,25<=R)throw Error(r(301));R+=1,Tn=wn=null,f.updateQueue=null,km.current=w6,c=g(w,P)}while(kf)}if(km.current=_m,f=wn!==null&&wn.next!==null,gc=0,Tn=wn=qr=null,Nm=!1,f)throw Error(r(300));return c}function av(){var c=Nf!==0;return Nf=0,c}function Oa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?qr.memoizedState=Tn=c:Tn=Tn.next=c,Tn}function Es(){if(wn===null){var c=qr.alternate;c=c!==null?c.memoizedState:null}else c=wn.next;var f=Tn===null?qr.memoizedState:Tn.next;if(f!==null)Tn=f,wn=c;else{if(c===null)throw Error(r(310));wn=c,c={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Tn===null?qr.memoizedState=Tn=c:Tn=Tn.next=c}return Tn}function Ef(c,f){return typeof f=="function"?f(c):f}function ov(c){var f=Es(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=wn,P=w.baseQueue,R=g.pending;if(R!==null){if(P!==null){var q=P.next;P.next=R.next,R.next=q}w.baseQueue=P=R,g.pending=null}if(P!==null){R=P.next,w=w.baseState;var X=q=null,oe=null,Ee=R;do{var Ge=Ee.lane;if((gc&Ge)===Ge)oe!==null&&(oe=oe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:c(w,Ee.action);else{var Qe={lane:Ge,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};oe===null?(X=oe=Qe,q=w):oe=oe.next=Qe,qr.lanes|=Ge,vc|=Ge}Ee=Ee.next}while(Ee!==null&&Ee!==R);oe===null?q=w:oe.next=X,ci(w,f.memoizedState)||(Ci=!0),f.memoizedState=w,f.baseState=q,f.baseQueue=oe,g.lastRenderedState=w}if(c=g.interleaved,c!==null){P=c;do R=P.lane,qr.lanes|=R,vc|=R,P=P.next;while(P!==c)}else P===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function lv(c){var f=Es(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,P=g.pending,R=f.memoizedState;if(P!==null){g.pending=null;var q=P=P.next;do R=c(R,q.action),q=q.next;while(q!==P);ci(R,f.memoizedState)||(Ci=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),g.lastRenderedState=R}return[R,w]}function gA(){}function vA(c,f){var g=qr,w=Es(),P=f(),R=!ci(w.memoizedState,P);if(R&&(w.memoizedState=P,Ci=!0),w=w.queue,cv(bA.bind(null,g,w,c),[c]),w.getSnapshot!==f||R||Tn!==null&&Tn.memoizedState.tag&1){if(g.flags|=2048,Pf(9,xA.bind(null,g,w,P,f),void 0,null),On===null)throw Error(r(349));(gc&30)!==0||yA(g,f,P)}return P}function yA(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=qr.updateQueue,f===null?(f={lastEffect:null,stores:null},qr.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function xA(c,f,g,w){f.value=g,f.getSnapshot=w,wA(f)&&jA(c)}function bA(c,f,g){return g(function(){wA(f)&&jA(c)})}function wA(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!ci(c,g)}catch{return!0}}function jA(c){var f=po(c,1);f!==null&&aa(f,c,1,-1)}function AA(c){var f=Oa();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:c},f.queue=c,c=c.dispatch=y6.bind(null,qr,c),[f.memoizedState,c]}function Pf(c,f,g,w){return c={tag:c,create:f,destroy:g,deps:w,next:null},f=qr.updateQueue,f===null?(f={lastEffect:null,stores:null},qr.updateQueue=f,f.lastEffect=c.next=c):(g=f.lastEffect,g===null?f.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,f.lastEffect=c)),c}function SA(){return Es().memoizedState}function Em(c,f,g,w){var P=Oa();qr.flags|=c,P.memoizedState=Pf(1|f,g,void 0,w===void 0?null:w)}function Pm(c,f,g,w){var P=Es();w=w===void 0?null:w;var R=void 0;if(wn!==null){var q=wn.memoizedState;if(R=q.destroy,w!==null&&iv(w,q.deps)){P.memoizedState=Pf(f,g,R,w);return}}qr.flags|=c,P.memoizedState=Pf(1|f,g,R,w)}function CA(c,f){return Em(8390656,8,c,f)}function cv(c,f){return Pm(2048,8,c,f)}function kA(c,f){return Pm(4,2,c,f)}function NA(c,f){return Pm(4,4,c,f)}function EA(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function PA(c,f,g){return g=g!=null?g.concat([c]):null,Pm(4,4,EA.bind(null,f,c),g)}function uv(){}function _A(c,f){var g=Es();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&iv(f,w[1])?w[0]:(g.memoizedState=[c,f],c)}function TA(c,f){var g=Es();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&iv(f,w[1])?w[0]:(c=c(),g.memoizedState=[c,f],c)}function OA(c,f,g){return(gc&21)===0?(c.baseState&&(c.baseState=!1,Ci=!0),c.memoizedState=g):(ci(g,f)||(g=uu(),qr.lanes|=g,vc|=g,c.baseState=!0),f)}function g6(c,f){var g=ar;ar=g!==0&&4>g?g:4,c(!0);var w=nv.transition;nv.transition={};try{c(!1),f()}finally{ar=g,nv.transition=w}}function MA(){return Es().memoizedState}function v6(c,f,g){var w=nl(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},RA(c))IA(f,g);else if(g=dA(c,f,g,w),g!==null){var P=hi();aa(g,c,w,P),DA(g,f,w)}}function y6(c,f,g){var w=nl(c),P={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(RA(c))IA(f,P);else{var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var q=f.lastRenderedState,X=R(q,g);if(P.hasEagerState=!0,P.eagerState=X,ci(X,q)){var oe=f.interleaved;oe===null?(P.next=P,Jg(f)):(P.next=oe.next,oe.next=P),f.interleaved=P;return}}catch{}finally{}g=dA(c,f,P,w),g!==null&&(P=hi(),aa(g,c,w,P),DA(g,f,w))}}function RA(c){var f=c.alternate;return c===qr||f!==null&&f===qr}function IA(c,f){kf=Nm=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function DA(c,f,g){if((g&4194240)!==0){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,zl(c,g)}}var _m={readContext:Ns,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},x6={readContext:Ns,useCallback:function(c,f){return Oa().memoizedState=[c,f===void 0?null:f],c},useContext:Ns,useEffect:CA,useImperativeHandle:function(c,f,g){return g=g!=null?g.concat([c]):null,Em(4194308,4,EA.bind(null,f,c),g)},useLayoutEffect:function(c,f){return Em(4194308,4,c,f)},useInsertionEffect:function(c,f){return Em(4,2,c,f)},useMemo:function(c,f){var g=Oa();return f=f===void 0?null:f,c=c(),g.memoizedState=[c,f],c},useReducer:function(c,f,g){var w=Oa();return f=g!==void 0?g(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=v6.bind(null,qr,c),[w.memoizedState,c]},useRef:function(c){var f=Oa();return c={current:c},f.memoizedState=c},useState:AA,useDebugValue:uv,useDeferredValue:function(c){return Oa().memoizedState=c},useTransition:function(){var c=AA(!1),f=c[0];return c=g6.bind(null,c[1]),Oa().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,g){var w=qr,P=Oa();if(Ir){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),On===null)throw Error(r(349));(gc&30)!==0||yA(w,f,g)}P.memoizedState=g;var R={value:g,getSnapshot:f};return P.queue=R,CA(bA.bind(null,w,R,c),[c]),w.flags|=2048,Pf(9,xA.bind(null,w,R,g,f),void 0,null),g},useId:function(){var c=Oa(),f=On.identifierPrefix;if(Ir){var g=Ft,w=Qt;g=(w&~(1<<32-Fr(w)-1)).toString(32)+g,f=":"+f+"R"+g,g=Nf++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=p6++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},b6={readContext:Ns,useCallback:_A,useContext:Ns,useEffect:cv,useImperativeHandle:PA,useInsertionEffect:kA,useLayoutEffect:NA,useMemo:TA,useReducer:ov,useRef:SA,useState:function(){return ov(Ef)},useDebugValue:uv,useDeferredValue:function(c){var f=Es();return OA(f,wn.memoizedState,c)},useTransition:function(){var c=ov(Ef)[0],f=Es().memoizedState;return[c,f]},useMutableSource:gA,useSyncExternalStore:vA,useId:MA,unstable_isNewReconciler:!1},w6={readContext:Ns,useCallback:_A,useContext:Ns,useEffect:cv,useImperativeHandle:PA,useInsertionEffect:kA,useLayoutEffect:NA,useMemo:TA,useReducer:lv,useRef:SA,useState:function(){return lv(Ef)},useDebugValue:uv,useDeferredValue:function(c){var f=Es();return wn===null?f.memoizedState=c:OA(f,wn.memoizedState,c)},useTransition:function(){var c=lv(Ef)[0],f=Es().memoizedState;return[c,f]},useMutableSource:gA,useSyncExternalStore:vA,useId:MA,unstable_isNewReconciler:!1};function na(c,f){if(c&&c.defaultProps){f=me({},f),c=c.defaultProps;for(var g in c)f[g]===void 0&&(f[g]=c[g]);return f}return f}function dv(c,f,g,w){f=c.memoizedState,g=g(w,f),g=g==null?f:me({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Tm={isMounted:function(c){return(c=c._reactInternals)?Kt(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var w=hi(),P=nl(c),R=go(w,P);R.payload=f,g!=null&&(R.callback=g),f=Zo(c,R,P),f!==null&&(aa(f,c,P,w),Am(f,c,P))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var w=hi(),P=nl(c),R=go(w,P);R.tag=1,R.payload=f,g!=null&&(R.callback=g),f=Zo(c,R,P),f!==null&&(aa(f,c,P,w),Am(f,c,P))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=hi(),w=nl(c),P=go(g,w);P.tag=2,f!=null&&(P.callback=f),f=Zo(c,P,w),f!==null&&(aa(f,c,w,g),Am(f,c,w))}};function LA(c,f,g,w,P,R,q){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,R,q):f.prototype&&f.prototype.isPureReactComponent?!co(g,w)||!co(P,R):!0}function BA(c,f,g){var w=!1,P=ks,R=f.contextType;return typeof R=="object"&&R!==null?R=Ns(R):(P=S(f)?k:bn.current,w=f.contextTypes,R=(w=w!=null)?y(c,P):ks),f=new f(g,R),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tm,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=P,c.__reactInternalMemoizedMaskedChildContext=R),f}function FA(c,f,g,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==c&&Tm.enqueueReplaceState(f,f.state,null)}function fv(c,f,g,w){var P=c.stateNode;P.props=g,P.state=c.memoizedState,P.refs={},Xg(c);var R=f.contextType;typeof R=="object"&&R!==null?P.context=Ns(R):(R=S(f)?k:bn.current,P.context=y(c,R)),P.state=c.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(dv(c,f,R,g),P.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(f=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),f!==P.state&&Tm.enqueueReplaceState(P,P.state,null),Sm(c,g,P,w),P.state=c.memoizedState),typeof P.componentDidMount=="function"&&(c.flags|=4194308)}function Gu(c,f){try{var g="",w=f;do g+=Ie(w),w=w.return;while(w);var P=g}catch(R){P=`
Error generating stack: `+R.message+`
`+R.stack}return{value:c,source:f,stack:P,digest:null}}function hv(c,f,g){return{value:c,source:null,stack:g??null,digest:f??null}}function mv(c,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var j6=typeof WeakMap=="function"?WeakMap:Map;function $A(c,f,g){g=go(-1,g),g.tag=3,g.payload={element:null};var w=f.value;return g.callback=function(){Bm||(Bm=!0,Pv=w),mv(c,f)},g}function zA(c,f,g){g=go(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var P=f.value;g.payload=function(){return w(P)},g.callback=function(){mv(c,f)}}var R=c.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(g.callback=function(){mv(c,f),typeof w!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})}),g}function VA(c,f,g){var w=c.pingCache;if(w===null){w=c.pingCache=new j6;var P=new Set;w.set(f,P)}else P=w.get(f),P===void 0&&(P=new Set,w.set(f,P));P.has(g)||(P.add(g),c=D6.bind(null,c,f,g),f.then(c,c))}function UA(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function qA(c,f,g,w,P){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=go(-1,1),f.tag=2,Zo(g,f,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=P,c)}var A6=M.ReactCurrentOwner,Ci=!1;function fi(c,f,g,w){f.child=c===null?uA(f,null,g,w):Vu(f,c.child,g,w)}function WA(c,f,g,w,P){g=g.render;var R=f.ref;return qu(f,P),w=sv(c,f,g,w,R,P),g=av(),c!==null&&!Ci?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~P,vo(c,f,P)):(Ir&&g&&Fu(f),f.flags|=1,fi(c,f,w,P),f.child)}function GA(c,f,g,w,P){if(c===null){var R=g.type;return typeof R=="function"&&!Dv(R)&&R.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=R,KA(c,f,R,w,P)):(c=qm(g.type,null,w,f,f.mode,P),c.ref=f.ref,c.return=f,f.child=c)}if(R=c.child,(c.lanes&P)===0){var q=R.memoizedProps;if(g=g.compare,g=g!==null?g:co,g(q,w)&&c.ref===f.ref)return vo(c,f,P)}return f.flags|=1,c=sl(R,w),c.ref=f.ref,c.return=f,f.child=c}function KA(c,f,g,w,P){if(c!==null){var R=c.memoizedProps;if(co(R,w)&&c.ref===f.ref)if(Ci=!1,f.pendingProps=w=R,(c.lanes&P)!==0)(c.flags&131072)!==0&&(Ci=!0);else return f.lanes=c.lanes,vo(c,f,P)}return pv(c,f,g,w,P)}function HA(c,f,g){var w=f.pendingProps,P=w.children,R=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(Hu,Ki),Ki|=g;else{if((g&1073741824)===0)return c=R!==null?R.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null,transitions:null},f.updateQueue=null,cr(Hu,Ki),Ki|=c,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=R!==null?R.baseLanes:g,cr(Hu,Ki),Ki|=w}else R!==null?(w=R.baseLanes|g,f.memoizedState=null):w=g,cr(Hu,Ki),Ki|=w;return fi(c,f,P,g),f.child}function YA(c,f){var g=f.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function pv(c,f,g,w,P){var R=S(g)?k:bn.current;return R=y(f,R),qu(f,P),g=sv(c,f,g,w,R,P),w=av(),c!==null&&!Ci?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~P,vo(c,f,P)):(Ir&&w&&Fu(f),f.flags|=1,fi(c,f,g,P),f.child)}function QA(c,f,g,w,P){if(S(g)){var R=!0;z(f)}else R=!1;if(qu(f,P),f.stateNode===null)Mm(c,f),BA(f,g,w),fv(f,g,w,P),w=!0;else if(c===null){var q=f.stateNode,X=f.memoizedProps;q.props=X;var oe=q.context,Ee=g.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ns(Ee):(Ee=S(g)?k:bn.current,Ee=y(f,Ee));var Ge=g.getDerivedStateFromProps,Qe=typeof Ge=="function"||typeof q.getSnapshotBeforeUpdate=="function";Qe||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(X!==w||oe!==Ee)&&FA(f,q,w,Ee),Xo=!1;var Ue=f.memoizedState;q.state=Ue,Sm(f,w,q,P),oe=f.memoizedState,X!==w||Ue!==oe||b.current||Xo?(typeof Ge=="function"&&(dv(f,g,Ge,w),oe=f.memoizedState),(X=Xo||LA(f,g,X,w,Ue,oe,Ee))?(Qe||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(f.flags|=4194308)):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=oe),q.props=w,q.state=oe,q.context=Ee,w=X):(typeof q.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{q=f.stateNode,fA(c,f),X=f.memoizedProps,Ee=f.type===f.elementType?X:na(f.type,X),q.props=Ee,Qe=f.pendingProps,Ue=q.context,oe=g.contextType,typeof oe=="object"&&oe!==null?oe=Ns(oe):(oe=S(g)?k:bn.current,oe=y(f,oe));var ct=g.getDerivedStateFromProps;(Ge=typeof ct=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(X!==Qe||Ue!==oe)&&FA(f,q,w,oe),Xo=!1,Ue=f.memoizedState,q.state=Ue,Sm(f,w,q,P);var vt=f.memoizedState;X!==Qe||Ue!==vt||b.current||Xo?(typeof ct=="function"&&(dv(f,g,ct,w),vt=f.memoizedState),(Ee=Xo||LA(f,g,Ee,w,Ue,vt,oe)||!1)?(Ge||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(w,vt,oe),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(w,vt,oe)),typeof q.componentDidUpdate=="function"&&(f.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof q.componentDidUpdate!="function"||X===c.memoizedProps&&Ue===c.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Ue===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=vt),q.props=w,q.state=vt,q.context=oe,w=Ee):(typeof q.componentDidUpdate!="function"||X===c.memoizedProps&&Ue===c.memoizedState||(f.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Ue===c.memoizedState||(f.flags|=1024),w=!1)}return gv(c,f,g,w,R,P)}function gv(c,f,g,w,P,R){YA(c,f);var q=(f.flags&128)!==0;if(!w&&!q)return P&&U(f,g,!1),vo(c,f,R);w=f.stateNode,A6.current=f;var X=q&&typeof g.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&q?(f.child=Vu(f,c.child,null,R),f.child=Vu(f,null,X,R)):fi(c,f,X,R),f.memoizedState=w.state,P&&U(f,g,!0),f.child}function JA(c){var f=c.stateNode;f.pendingContext?_(c,f.pendingContext,f.pendingContext!==f.context):f.context&&_(c,f.context,!1),Zg(c,f.containerInfo)}function XA(c,f,g,w,P){return zu(),Gg(P),f.flags|=256,fi(c,f,g,w),f.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function yv(c){return{baseLanes:c,cachePool:null,transitions:null}}function ZA(c,f,g){var w=f.pendingProps,P=Ur.current,R=!1,q=(f.flags&128)!==0,X;if((X=q)||(X=c!==null&&c.memoizedState===null?!1:(P&2)!==0),X?(R=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(P|=1),cr(Ur,P&1),c===null)return Wg(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:c.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(q=w.children,c=w.fallback,R?(w=f.mode,R=f.child,q={mode:"hidden",children:q},(w&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=q):R=Wm(q,w,0,null),c=wc(c,w,g,null),R.return=f,c.return=f,R.sibling=c,f.child=R,f.child.memoizedState=yv(g),f.memoizedState=vv,c):xv(f,q));if(P=c.memoizedState,P!==null&&(X=P.dehydrated,X!==null))return S6(c,f,q,w,X,P,g);if(R){R=w.fallback,q=f.mode,P=c.child,X=P.sibling;var oe={mode:"hidden",children:w.children};return(q&1)===0&&f.child!==P?(w=f.child,w.childLanes=0,w.pendingProps=oe,f.deletions=null):(w=sl(P,oe),w.subtreeFlags=P.subtreeFlags&14680064),X!==null?R=sl(X,R):(R=wc(R,q,g,null),R.flags|=2),R.return=f,w.return=f,w.sibling=R,f.child=w,w=R,R=f.child,q=c.child.memoizedState,q=q===null?yv(g):{baseLanes:q.baseLanes|g,cachePool:null,transitions:q.transitions},R.memoizedState=q,R.childLanes=c.childLanes&~g,f.memoizedState=vv,w}return R=c.child,c=R.sibling,w=sl(R,{mode:"visible",children:w.children}),(f.mode&1)===0&&(w.lanes=g),w.return=f,w.sibling=null,c!==null&&(g=f.deletions,g===null?(f.deletions=[c],f.flags|=16):g.push(c)),f.child=w,f.memoizedState=null,w}function xv(c,f){return f=Wm({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function Om(c,f,g,w){return w!==null&&Gg(w),Vu(f,c.child,null,g),c=xv(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function S6(c,f,g,w,P,R,q){if(g)return f.flags&256?(f.flags&=-257,w=hv(Error(r(422))),Om(c,f,q,w)):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(R=w.fallback,P=f.mode,w=Wm({mode:"visible",children:w.children},P,0,null),R=wc(R,P,q,null),R.flags|=2,w.return=f,R.return=f,w.sibling=R,f.child=w,(f.mode&1)!==0&&Vu(f,c.child,null,q),f.child.memoizedState=yv(q),f.memoizedState=vv,R);if((f.mode&1)===0)return Om(c,f,q,null);if(P.data==="$!"){if(w=P.nextSibling&&P.nextSibling.dataset,w)var X=w.dgst;return w=X,R=Error(r(419)),w=hv(R,w,void 0),Om(c,f,q,w)}if(X=(q&c.childLanes)!==0,Ci||X){if(w=On,w!==null){switch(q&-q){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(w.suspendedLanes|q))!==0?0:P,P!==0&&P!==R.retryLane&&(R.retryLane=P,po(c,P),aa(w,c,P,-1))}return Iv(),w=hv(Error(r(421))),Om(c,f,q,w)}return P.data==="$?"?(f.flags|=128,f.child=c.child,f=L6.bind(null,c),P._reactRetry=f,null):(c=R.treeContext,Gi=_a(P.nextSibling),Wi=f,Ir=!0,ra=null,c!==null&&(ut[gt++]=Qt,ut[gt++]=Ft,ut[gt++]=Gt,Qt=c.id,Ft=c.overflow,Gt=f),f=xv(f,w.children),f.flags|=4096,f)}function eS(c,f,g){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),Qg(c.return,f,g)}function bv(c,f,g,w,P){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:P}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=w,R.tail=g,R.tailMode=P)}function tS(c,f,g){var w=f.pendingProps,P=w.revealOrder,R=w.tail;if(fi(c,f,w.children,g),w=Ur.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&eS(c,g,f);else if(c.tag===19)eS(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(cr(Ur,w),(f.mode&1)===0)f.memoizedState=null;else switch(P){case"forwards":for(g=f.child,P=null;g!==null;)c=g.alternate,c!==null&&Cm(c)===null&&(P=g),g=g.sibling;g=P,g===null?(P=f.child,f.child=null):(P=g.sibling,g.sibling=null),bv(f,!1,P,g,R);break;case"backwards":for(g=null,P=f.child,f.child=null;P!==null;){if(c=P.alternate,c!==null&&Cm(c)===null){f.child=P;break}c=P.sibling,P.sibling=g,g=P,P=c}bv(f,!0,g,null,R);break;case"together":bv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Mm(c,f){(f.mode&1)===0&&c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2)}function vo(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),vc|=f.lanes,(g&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(r(153));if(f.child!==null){for(c=f.child,g=sl(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=sl(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function C6(c,f,g){switch(f.tag){case 3:JA(f),zu();break;case 5:pA(f);break;case 1:S(f.type)&&z(f);break;case 4:Zg(f,f.stateNode.containerInfo);break;case 10:var w=f.type._context,P=f.memoizedProps.value;cr(wm,w._currentValue),w._currentValue=P;break;case 13:if(w=f.memoizedState,w!==null)return w.dehydrated!==null?(cr(Ur,Ur.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?ZA(c,f,g):(cr(Ur,Ur.current&1),c=vo(c,f,g),c!==null?c.sibling:null);cr(Ur,Ur.current&1);break;case 19:if(w=(g&f.childLanes)!==0,(c.flags&128)!==0){if(w)return tS(c,f,g);f.flags|=128}if(P=f.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),cr(Ur,Ur.current),w)break;return null;case 22:case 23:return f.lanes=0,HA(c,f,g)}return vo(c,f,g)}var rS,wv,nS,iS;rS=function(c,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},wv=function(){},nS=function(c,f,g,w){var P=c.memoizedProps;if(P!==w){c=f.stateNode,pc(Ta.current);var R=null;switch(g){case"input":P=fe(c,P),w=fe(c,w),R=[];break;case"select":P=me({},P,{value:void 0}),w=me({},w,{value:void 0}),R=[];break;case"textarea":P=dt(c,P),w=dt(c,w),R=[];break;default:typeof P.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=Ea)}Li(g,w);var q;g=null;for(Ee in P)if(!w.hasOwnProperty(Ee)&&P.hasOwnProperty(Ee)&&P[Ee]!=null)if(Ee==="style"){var X=P[Ee];for(q in X)X.hasOwnProperty(q)&&(g||(g={}),g[q]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?R||(R=[]):(R=R||[]).push(Ee,null));for(Ee in w){var oe=w[Ee];if(X=P!=null?P[Ee]:void 0,w.hasOwnProperty(Ee)&&oe!==X&&(oe!=null||X!=null))if(Ee==="style")if(X){for(q in X)!X.hasOwnProperty(q)||oe&&oe.hasOwnProperty(q)||(g||(g={}),g[q]="");for(q in oe)oe.hasOwnProperty(q)&&X[q]!==oe[q]&&(g||(g={}),g[q]=oe[q])}else g||(R||(R=[]),R.push(Ee,g)),g=oe;else Ee==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,X=X?X.__html:void 0,oe!=null&&X!==oe&&(R=R||[]).push(Ee,oe)):Ee==="children"?typeof oe!="string"&&typeof oe!="number"||(R=R||[]).push(Ee,""+oe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(oe!=null&&Ee==="onScroll"&&gr("scroll",c),R||X===oe||(R=[])):(R=R||[]).push(Ee,oe))}g&&(R=R||[]).push("style",g);var Ee=R;(f.updateQueue=Ee)&&(f.flags|=4)}},iS=function(c,f,g,w){g!==w&&(f.flags|=4)};function _f(c,f){if(!Ir)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Xn(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(f)for(var P=c.child;P!==null;)g|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)g|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=w,c.childLanes=g,f}function k6(c,f,g){var w=f.pendingProps;switch($u(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(f),null;case 1:return S(f.type)&&E(),Xn(f),null;case 3:return w=f.stateNode,Wu(),jr(b),jr(bn),rv(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(xm(f)?f.flags|=4:c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,ra!==null&&(Ov(ra),ra=null))),wv(c,f),Xn(f),null;case 5:ev(f);var P=pc(Cf.current);if(g=f.type,c!==null&&f.stateNode!=null)nS(c,f,g,w,P),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(r(166));return Xn(f),null}if(c=pc(Ta.current),xm(f)){w=f.stateNode,g=f.type;var R=f.memoizedProps;switch(w[qi]=f,w[hc]=R,c=(f.mode&1)!==0,g){case"dialog":gr("cancel",w),gr("close",w);break;case"iframe":case"object":case"embed":gr("load",w);break;case"video":case"audio":for(P=0;P<Vr.length;P++)gr(Vr[P],w);break;case"source":gr("error",w);break;case"img":case"image":case"link":gr("error",w),gr("load",w);break;case"details":gr("toggle",w);break;case"input":Ve(w,R),gr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!R.multiple},gr("invalid",w);break;case"textarea":it(w,R),gr("invalid",w)}Li(g,R),P=null;for(var q in R)if(R.hasOwnProperty(q)){var X=R[q];q==="children"?typeof X=="string"?w.textContent!==X&&(R.suppressHydrationWarning!==!0&&xn(w.textContent,X,c),P=["children",X]):typeof X=="number"&&w.textContent!==""+X&&(R.suppressHydrationWarning!==!0&&xn(w.textContent,X,c),P=["children",""+X]):i.hasOwnProperty(q)&&X!=null&&q==="onScroll"&&gr("scroll",w)}switch(g){case"input":Pe(w),et(w,R,!0);break;case"textarea":Pe(w),Jt(w);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(w.onclick=Ea)}w=P,f.updateQueue=w,w!==null&&(f.flags|=4)}else{q=P.nodeType===9?P:P.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ze(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=q.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=q.createElement(g,{is:w.is}):(c=q.createElement(g),g==="select"&&(q=c,w.multiple?q.multiple=!0:w.size&&(q.size=w.size))):c=q.createElementNS(c,g),c[qi]=f,c[hc]=w,rS(c,f,!1,!1),f.stateNode=c;e:{switch(q=fs(g,w),g){case"dialog":gr("cancel",c),gr("close",c),P=w;break;case"iframe":case"object":case"embed":gr("load",c),P=w;break;case"video":case"audio":for(P=0;P<Vr.length;P++)gr(Vr[P],c);P=w;break;case"source":gr("error",c),P=w;break;case"img":case"image":case"link":gr("error",c),gr("load",c),P=w;break;case"details":gr("toggle",c),P=w;break;case"input":Ve(c,w),P=fe(c,w),gr("invalid",c);break;case"option":P=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},P=me({},w,{value:void 0}),gr("invalid",c);break;case"textarea":it(c,w),P=dt(c,w),gr("invalid",c);break;default:P=w}Li(g,P),X=P;for(R in X)if(X.hasOwnProperty(R)){var oe=X[R];R==="style"?Nn(c,oe):R==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&rt(c,oe)):R==="children"?typeof oe=="string"?(g!=="textarea"||oe!=="")&&It(c,oe):typeof oe=="number"&&It(c,""+oe):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?oe!=null&&R==="onScroll"&&gr("scroll",c):oe!=null&&O(c,R,oe,q))}switch(g){case"input":Pe(c),et(c,w,!1);break;case"textarea":Pe(c),Jt(c);break;case"option":w.value!=null&&c.setAttribute("value",""+Fe(w.value));break;case"select":c.multiple=!!w.multiple,R=w.value,R!=null?Ct(c,!!w.multiple,R,!1):w.defaultValue!=null&&Ct(c,!!w.multiple,w.defaultValue,!0);break;default:typeof P.onClick=="function"&&(c.onclick=Ea)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Xn(f),null;case 6:if(c&&f.stateNode!=null)iS(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(r(166));if(g=pc(Cf.current),pc(Ta.current),xm(f)){if(w=f.stateNode,g=f.memoizedProps,w[qi]=f,(R=w.nodeValue!==g)&&(c=Wi,c!==null))switch(c.tag){case 3:xn(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&xn(w.nodeValue,g,(c.mode&1)!==0)}R&&(f.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[qi]=f,f.stateNode=w}return Xn(f),null;case 13:if(jr(Ur),w=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Ir&&Gi!==null&&(f.mode&1)!==0&&(f.flags&128)===0)oA(),zu(),f.flags|=98560,R=!1;else if(R=xm(f),w!==null&&w.dehydrated!==null){if(c===null){if(!R)throw Error(r(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[qi]=f}else zu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Xn(f),R=!1}else ra!==null&&(Ov(ra),ra=null),R=!0;if(!R)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=g,f):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(Ur.current&1)!==0?jn===0&&(jn=3):Iv())),f.updateQueue!==null&&(f.flags|=4),Xn(f),null);case 4:return Wu(),wv(c,f),c===null&&As(f.stateNode.containerInfo),Xn(f),null;case 10:return Yg(f.type._context),Xn(f),null;case 17:return S(f.type)&&E(),Xn(f),null;case 19:if(jr(Ur),R=f.memoizedState,R===null)return Xn(f),null;if(w=(f.flags&128)!==0,q=R.rendering,q===null)if(w)_f(R,!1);else{if(jn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(q=Cm(c),q!==null){for(f.flags|=128,_f(R,!1),w=q.updateQueue,w!==null&&(f.updateQueue=w,f.flags|=4),f.subtreeFlags=0,w=g,g=f.child;g!==null;)R=g,c=w,R.flags&=14680066,q=R.alternate,q===null?(R.childLanes=0,R.lanes=c,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=q.childLanes,R.lanes=q.lanes,R.child=q.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=q.memoizedProps,R.memoizedState=q.memoizedState,R.updateQueue=q.updateQueue,R.type=q.type,c=q.dependencies,R.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return cr(Ur,Ur.current&1|2),f.child}c=c.sibling}R.tail!==null&&mr()>Yu&&(f.flags|=128,w=!0,_f(R,!1),f.lanes=4194304)}else{if(!w)if(c=Cm(q),c!==null){if(f.flags|=128,w=!0,g=c.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),_f(R,!0),R.tail===null&&R.tailMode==="hidden"&&!q.alternate&&!Ir)return Xn(f),null}else 2*mr()-R.renderingStartTime>Yu&&g!==1073741824&&(f.flags|=128,w=!0,_f(R,!1),f.lanes=4194304);R.isBackwards?(q.sibling=f.child,f.child=q):(g=R.last,g!==null?g.sibling=q:f.child=q,R.last=q)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=mr(),f.sibling=null,g=Ur.current,cr(Ur,w?g&1|2:g&1),f):(Xn(f),null);case 22:case 23:return Rv(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&(f.mode&1)!==0?(Ki&1073741824)!==0&&(Xn(f),f.subtreeFlags&6&&(f.flags|=8192)):Xn(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function N6(c,f){switch($u(f),f.tag){case 1:return S(f.type)&&E(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Wu(),jr(b),jr(bn),rv(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return ev(f),null;case 13:if(jr(Ur),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(r(340));zu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return jr(Ur),null;case 4:return Wu(),null;case 10:return Yg(f.type._context),null;case 22:case 23:return Rv(),null;case 24:return null;default:return null}}var Rm=!1,Zn=!1,E6=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Ku(c,f){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Hr(c,f,w)}else g.current=null}function jv(c,f,g){try{g()}catch(w){Hr(c,f,w)}}var sS=!1;function P6(c,f){if(Iu=$o,c=Ho(),Yo(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var P=w.anchorOffset,R=w.focusNode;w=w.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var q=0,X=-1,oe=-1,Ee=0,Ge=0,Qe=c,Ue=null;t:for(;;){for(var ct;Qe!==g||P!==0&&Qe.nodeType!==3||(X=q+P),Qe!==R||w!==0&&Qe.nodeType!==3||(oe=q+w),Qe.nodeType===3&&(q+=Qe.nodeValue.length),(ct=Qe.firstChild)!==null;)Ue=Qe,Qe=ct;for(;;){if(Qe===c)break t;if(Ue===g&&++Ee===P&&(X=q),Ue===R&&++Ge===w&&(oe=q),(ct=Qe.nextSibling)!==null)break;Qe=Ue,Ue=Qe.parentNode}Qe=ct}g=X===-1||oe===-1?null:{start:X,end:oe}}else g=null}g=g||{start:0,end:0}}else g=null;for(xf={focusedElem:c,selectionRange:g},$o=!1,ft=f;ft!==null;)if(f=ft,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,ft=c;else for(;ft!==null;){f=ft;try{var vt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(vt!==null){var At=vt.memoizedProps,Zr=vt.memoizedState,we=f.stateNode,he=we.getSnapshotBeforeUpdate(f.elementType===f.type?At:na(f.type,At),Zr);we.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var ke=f.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xe){Hr(f,f.return,Xe)}if(c=f.sibling,c!==null){c.return=f.return,ft=c;break}ft=f.return}return vt=sS,sS=!1,vt}function Tf(c,f,g){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&c)===c){var R=P.destroy;P.destroy=void 0,R!==void 0&&jv(f,g,R)}P=P.next}while(P!==w)}}function Im(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==f)}}function Av(c){var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof f=="function"?f(c):f.current=c}}function aS(c){var f=c.alternate;f!==null&&(c.alternate=null,aS(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&(delete f[qi],delete f[hc],delete f[Du],delete f[Ug],delete f[ym])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function oS(c){return c.tag===5||c.tag===3||c.tag===4}function lS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||oS(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Sv(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(c,f):g.insertBefore(c,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(c,g)):(f=g,f.appendChild(c)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Ea));else if(w!==4&&(c=c.child,c!==null))for(Sv(c,f,g),c=c.sibling;c!==null;)Sv(c,f,g),c=c.sibling}function Cv(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Cv(c,f,g),c=c.sibling;c!==null;)Cv(c,f,g),c=c.sibling}var Un=null,ia=!1;function el(c,f,g){for(g=g.child;g!==null;)cS(c,f,g),g=g.sibling}function cS(c,f,g){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(xi,g)}catch{}switch(g.tag){case 5:Zn||Ku(g,f);case 6:var w=Un,P=ia;Un=null,el(c,f,g),Un=w,ia=P,Un!==null&&(ia?(c=Un,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Un.removeChild(g.stateNode));break;case 18:Un!==null&&(ia?(c=Un,g=g.stateNode,c.nodeType===8?bf(c.parentNode,g):c.nodeType===1&&bf(c,g),ja(c)):bf(Un,g.stateNode));break;case 4:w=Un,P=ia,Un=g.stateNode.containerInfo,ia=!0,el(c,f,g),Un=w,ia=P;break;case 0:case 11:case 14:case 15:if(!Zn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){P=w=w.next;do{var R=P,q=R.destroy;R=R.tag,q!==void 0&&((R&2)!==0||(R&4)!==0)&&jv(g,f,q),P=P.next}while(P!==w)}el(c,f,g);break;case 1:if(!Zn&&(Ku(g,f),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(X){Hr(g,f,X)}el(c,f,g);break;case 21:el(c,f,g);break;case 22:g.mode&1?(Zn=(w=Zn)||g.memoizedState!==null,el(c,f,g),Zn=w):el(c,f,g);break;default:el(c,f,g)}}function uS(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new E6),f.forEach(function(w){var P=B6.bind(null,c,w);g.has(w)||(g.add(w),w.then(P,P))})}}function sa(c,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var P=g[w];try{var R=c,q=f,X=q;e:for(;X!==null;){switch(X.tag){case 5:Un=X.stateNode,ia=!1;break e;case 3:Un=X.stateNode.containerInfo,ia=!0;break e;case 4:Un=X.stateNode.containerInfo,ia=!0;break e}X=X.return}if(Un===null)throw Error(r(160));cS(R,q,P),Un=null,ia=!1;var oe=P.alternate;oe!==null&&(oe.return=null),P.return=null}catch(Ee){Hr(P,f,Ee)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)dS(f,c),f=f.sibling}function dS(c,f){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(sa(f,c),Ma(c),w&4){try{Tf(3,c,c.return),Im(3,c)}catch(At){Hr(c,c.return,At)}try{Tf(5,c,c.return)}catch(At){Hr(c,c.return,At)}}break;case 1:sa(f,c),Ma(c),w&512&&g!==null&&Ku(g,g.return);break;case 5:if(sa(f,c),Ma(c),w&512&&g!==null&&Ku(g,g.return),c.flags&32){var P=c.stateNode;try{It(P,"")}catch(At){Hr(c,c.return,At)}}if(w&4&&(P=c.stateNode,P!=null)){var R=c.memoizedProps,q=g!==null?g.memoizedProps:R,X=c.type,oe=c.updateQueue;if(c.updateQueue=null,oe!==null)try{X==="input"&&R.type==="radio"&&R.name!=null&&lt(P,R),fs(X,q);var Ee=fs(X,R);for(q=0;q<oe.length;q+=2){var Ge=oe[q],Qe=oe[q+1];Ge==="style"?Nn(P,Qe):Ge==="dangerouslySetInnerHTML"?rt(P,Qe):Ge==="children"?It(P,Qe):O(P,Ge,Qe,Ee)}switch(X){case"input":yt(P,R);break;case"textarea":Rt(P,R);break;case"select":var Ue=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!R.multiple;var ct=R.value;ct!=null?Ct(P,!!R.multiple,ct,!1):Ue!==!!R.multiple&&(R.defaultValue!=null?Ct(P,!!R.multiple,R.defaultValue,!0):Ct(P,!!R.multiple,R.multiple?[]:"",!1))}P[hc]=R}catch(At){Hr(c,c.return,At)}}break;case 6:if(sa(f,c),Ma(c),w&4){if(c.stateNode===null)throw Error(r(162));P=c.stateNode,R=c.memoizedProps;try{P.nodeValue=R}catch(At){Hr(c,c.return,At)}}break;case 3:if(sa(f,c),Ma(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ja(f.containerInfo)}catch(At){Hr(c,c.return,At)}break;case 4:sa(f,c),Ma(c);break;case 13:sa(f,c),Ma(c),P=c.child,P.flags&8192&&(R=P.memoizedState!==null,P.stateNode.isHidden=R,!R||P.alternate!==null&&P.alternate.memoizedState!==null||(Ev=mr())),w&4&&uS(c);break;case 22:if(Ge=g!==null&&g.memoizedState!==null,c.mode&1?(Zn=(Ee=Zn)||Ge,sa(f,c),Zn=Ee):sa(f,c),Ma(c),w&8192){if(Ee=c.memoizedState!==null,(c.stateNode.isHidden=Ee)&&!Ge&&(c.mode&1)!==0)for(ft=c,Ge=c.child;Ge!==null;){for(Qe=ft=Ge;ft!==null;){switch(Ue=ft,ct=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:Tf(4,Ue,Ue.return);break;case 1:Ku(Ue,Ue.return);var vt=Ue.stateNode;if(typeof vt.componentWillUnmount=="function"){w=Ue,g=Ue.return;try{f=w,vt.props=f.memoizedProps,vt.state=f.memoizedState,vt.componentWillUnmount()}catch(At){Hr(w,g,At)}}break;case 5:Ku(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){mS(Qe);continue}}ct!==null?(ct.return=Ue,ft=ct):mS(Qe)}Ge=Ge.sibling}e:for(Ge=null,Qe=c;;){if(Qe.tag===5){if(Ge===null){Ge=Qe;try{P=Qe.stateNode,Ee?(R=P.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(X=Qe.stateNode,oe=Qe.memoizedProps.style,q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,X.style.display=er("display",q))}catch(At){Hr(c,c.return,At)}}}else if(Qe.tag===6){if(Ge===null)try{Qe.stateNode.nodeValue=Ee?"":Qe.memoizedProps}catch(At){Hr(c,c.return,At)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===c)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===c)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===c)break e;Ge===Qe&&(Ge=null),Qe=Qe.return}Ge===Qe&&(Ge=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:sa(f,c),Ma(c),w&4&&uS(c);break;case 21:break;default:sa(f,c),Ma(c)}}function Ma(c){var f=c.flags;if(f&2){try{e:{for(var g=c.return;g!==null;){if(oS(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var P=w.stateNode;w.flags&32&&(It(P,""),w.flags&=-33);var R=lS(c);Cv(c,R,P);break;case 3:case 4:var q=w.stateNode.containerInfo,X=lS(c);Sv(c,X,q);break;default:throw Error(r(161))}}catch(oe){Hr(c,c.return,oe)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function _6(c,f,g){ft=c,fS(c)}function fS(c,f,g){for(var w=(c.mode&1)!==0;ft!==null;){var P=ft,R=P.child;if(P.tag===22&&w){var q=P.memoizedState!==null||Rm;if(!q){var X=P.alternate,oe=X!==null&&X.memoizedState!==null||Zn;X=Rm;var Ee=Zn;if(Rm=q,(Zn=oe)&&!Ee)for(ft=P;ft!==null;)q=ft,oe=q.child,q.tag===22&&q.memoizedState!==null?pS(P):oe!==null?(oe.return=q,ft=oe):pS(P);for(;R!==null;)ft=R,fS(R),R=R.sibling;ft=P,Rm=X,Zn=Ee}hS(c)}else(P.subtreeFlags&8772)!==0&&R!==null?(R.return=P,ft=R):hS(c)}}function hS(c){for(;ft!==null;){var f=ft;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Zn||Im(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!Zn)if(g===null)w.componentDidMount();else{var P=f.elementType===f.type?g.memoizedProps:na(f.type,g.memoizedProps);w.componentDidUpdate(P,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var R=f.updateQueue;R!==null&&mA(f,R,w);break;case 3:var q=f.updateQueue;if(q!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}mA(f,q,g)}break;case 5:var X=f.stateNode;if(g===null&&f.flags&4){g=X;var oe=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&g.focus();break;case"img":oe.src&&(g.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ee=f.alternate;if(Ee!==null){var Ge=Ee.memoizedState;if(Ge!==null){var Qe=Ge.dehydrated;Qe!==null&&ja(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Zn||f.flags&512&&Av(f)}catch(Ue){Hr(f,f.return,Ue)}}if(f===c){ft=null;break}if(g=f.sibling,g!==null){g.return=f.return,ft=g;break}ft=f.return}}function mS(c){for(;ft!==null;){var f=ft;if(f===c){ft=null;break}var g=f.sibling;if(g!==null){g.return=f.return,ft=g;break}ft=f.return}}function pS(c){for(;ft!==null;){var f=ft;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Im(4,f)}catch(oe){Hr(f,g,oe)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var P=f.return;try{w.componentDidMount()}catch(oe){Hr(f,P,oe)}}var R=f.return;try{Av(f)}catch(oe){Hr(f,R,oe)}break;case 5:var q=f.return;try{Av(f)}catch(oe){Hr(f,q,oe)}}}catch(oe){Hr(f,f.return,oe)}if(f===c){ft=null;break}var X=f.sibling;if(X!==null){X.return=f.return,ft=X;break}ft=f.return}}var T6=Math.ceil,Dm=M.ReactCurrentDispatcher,kv=M.ReactCurrentOwner,Ps=M.ReactCurrentBatchConfig,ur=0,On=null,on=null,qn=0,Ki=0,Hu=ta(0),jn=0,Of=null,vc=0,Lm=0,Nv=0,Mf=null,ki=null,Ev=0,Yu=1/0,yo=null,Bm=!1,Pv=null,tl=null,Fm=!1,rl=null,$m=0,Rf=0,_v=null,zm=-1,Vm=0;function hi(){return(ur&6)!==0?mr():zm!==-1?zm:zm=mr()}function nl(c){return(c.mode&1)===0?1:(ur&2)!==0&&qn!==0?qn&-qn:m6.transition!==null?(Vm===0&&(Vm=uu()),Vm):(c=ar,c!==0||(c=window.event,c=c===void 0?16:$r(c.type)),c)}function aa(c,f,g,w){if(50<Rf)throw Rf=0,_v=null,Error(r(185));Za(c,g,w),((ur&2)===0||c!==On)&&(c===On&&((ur&2)===0&&(Lm|=g),jn===4&&il(c,qn)),Ni(c,w),g===1&&ur===0&&(f.mode&1)===0&&(Yu=mr()+500,H&&De()))}function Ni(c,f){var g=c.callbackNode;sf(c,f);var w=Qa(c,c===On?qn:0);if(w===0)g!==null&&si(g),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(g!=null&&si(g),f===1)c.tag===0?ye(vS.bind(null,c)):Ce(vS.bind(null,c)),zg(function(){(ur&6)===0&&De()}),g=null;else{switch(bi(w)){case 1:g=ai;break;case 4:g=Hs;break;case 16:g=rr;break;case 536870912:g=oi;break;default:g=rr}g=CS(g,gS.bind(null,c))}c.callbackPriority=f,c.callbackNode=g}}function gS(c,f){if(zm=-1,Vm=0,(ur&6)!==0)throw Error(r(327));var g=c.callbackNode;if(Qu()&&c.callbackNode!==g)return null;var w=Qa(c,c===On?qn:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||f)f=Um(c,w);else{f=w;var P=ur;ur|=2;var R=xS();(On!==c||qn!==f)&&(yo=null,Yu=mr()+500,xc(c,f));do try{R6();break}catch(X){yS(c,X)}while(!0);Hg(),Dm.current=R,ur=P,on!==null?f=0:(On=null,qn=0,f=jn)}if(f!==0){if(f===2&&(P=Ja(c),P!==0&&(w=P,f=Tv(c,P))),f===1)throw g=Of,xc(c,0),il(c,w),Ni(c,mr()),g;if(f===6)il(c,w);else{if(P=c.current.alternate,(w&30)===0&&!O6(P)&&(f=Um(c,w),f===2&&(R=Ja(c),R!==0&&(w=R,f=Tv(c,R))),f===1))throw g=Of,xc(c,0),il(c,w),Ni(c,mr()),g;switch(c.finishedWork=P,c.finishedLanes=w,f){case 0:case 1:throw Error(r(345));case 2:bc(c,ki,yo);break;case 3:if(il(c,w),(w&130023424)===w&&(f=Ev+500-mr(),10<f)){if(Qa(c,0)!==0)break;if(P=c.suspendedLanes,(P&w)!==w){hi(),c.pingedLanes|=c.suspendedLanes&P;break}c.timeoutHandle=ea(bc.bind(null,c,ki,yo),f);break}bc(c,ki,yo);break;case 4:if(il(c,w),(w&4194240)===w)break;for(f=c.eventTimes,P=-1;0<w;){var q=31-Fr(w);R=1<<q,q=f[q],q>P&&(P=q),w&=~R}if(w=P,w=mr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*T6(w/1960))-w,10<w){c.timeoutHandle=ea(bc.bind(null,c,ki,yo),w);break}bc(c,ki,yo);break;case 5:bc(c,ki,yo);break;default:throw Error(r(329))}}}return Ni(c,mr()),c.callbackNode===g?gS.bind(null,c):null}function Tv(c,f){var g=Mf;return c.current.memoizedState.isDehydrated&&(xc(c,f).flags|=256),c=Um(c,f),c!==2&&(f=ki,ki=g,f!==null&&Ov(f)),c}function Ov(c){ki===null?ki=c:ki.push.apply(ki,c)}function O6(c){for(var f=c;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var P=g[w],R=P.getSnapshot;P=P.value;try{if(!ci(R(),P))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function il(c,f){for(f&=~Nv,f&=~Lm,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var g=31-Fr(f),w=1<<g;c[g]=-1,f&=~w}}function vS(c){if((ur&6)!==0)throw Error(r(327));Qu();var f=Qa(c,0);if((f&1)===0)return Ni(c,mr()),null;var g=Um(c,f);if(c.tag!==0&&g===2){var w=Ja(c);w!==0&&(f=w,g=Tv(c,w))}if(g===1)throw g=Of,xc(c,0),il(c,f),Ni(c,mr()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,bc(c,ki,yo),Ni(c,mr()),null}function Mv(c,f){var g=ur;ur|=1;try{return c(f)}finally{ur=g,ur===0&&(Yu=mr()+500,H&&De())}}function yc(c){rl!==null&&rl.tag===0&&(ur&6)===0&&Qu();var f=ur;ur|=1;var g=Ps.transition,w=ar;try{if(Ps.transition=null,ar=1,c)return c()}finally{ar=w,Ps.transition=g,ur=f,(ur&6)===0&&De()}}function Rv(){Ki=Hu.current,jr(Hu)}function xc(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,$g(g)),on!==null)for(g=on.return;g!==null;){var w=g;switch($u(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&E();break;case 3:Wu(),jr(b),jr(bn),rv();break;case 5:ev(w);break;case 4:Wu();break;case 13:jr(Ur);break;case 19:jr(Ur);break;case 10:Yg(w.type._context);break;case 22:case 23:Rv()}g=g.return}if(On=c,on=c=sl(c.current,null),qn=Ki=f,jn=0,Of=null,Nv=Lm=vc=0,ki=Mf=null,mc!==null){for(f=0;f<mc.length;f++)if(g=mc[f],w=g.interleaved,w!==null){g.interleaved=null;var P=w.next,R=g.pending;if(R!==null){var q=R.next;R.next=P,w.next=q}g.pending=w}mc=null}return c}function yS(c,f){do{var g=on;try{if(Hg(),km.current=_m,Nm){for(var w=qr.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}Nm=!1}if(gc=0,Tn=wn=qr=null,kf=!1,Nf=0,kv.current=null,g===null||g.return===null){jn=1,Of=f,on=null;break}e:{var R=c,q=g.return,X=g,oe=f;if(f=qn,X.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ee=oe,Ge=X,Qe=Ge.tag;if((Ge.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ue=Ge.alternate;Ue?(Ge.updateQueue=Ue.updateQueue,Ge.memoizedState=Ue.memoizedState,Ge.lanes=Ue.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var ct=UA(q);if(ct!==null){ct.flags&=-257,qA(ct,q,X,R,f),ct.mode&1&&VA(R,Ee,f),f=ct,oe=Ee;var vt=f.updateQueue;if(vt===null){var At=new Set;At.add(oe),f.updateQueue=At}else vt.add(oe);break e}else{if((f&1)===0){VA(R,Ee,f),Iv();break e}oe=Error(r(426))}}else if(Ir&&X.mode&1){var Zr=UA(q);if(Zr!==null){(Zr.flags&65536)===0&&(Zr.flags|=256),qA(Zr,q,X,R,f),Gg(Gu(oe,X));break e}}R=oe=Gu(oe,X),jn!==4&&(jn=2),Mf===null?Mf=[R]:Mf.push(R),R=q;do{switch(R.tag){case 3:R.flags|=65536,f&=-f,R.lanes|=f;var we=$A(R,oe,f);hA(R,we);break e;case 1:X=oe;var he=R.type,ke=R.stateNode;if((R.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(tl===null||!tl.has(ke)))){R.flags|=65536,f&=-f,R.lanes|=f;var Xe=zA(R,X,f);hA(R,Xe);break e}}R=R.return}while(R!==null)}wS(g)}catch(Nt){f=Nt,on===g&&g!==null&&(on=g=g.return);continue}break}while(!0)}function xS(){var c=Dm.current;return Dm.current=_m,c===null?_m:c}function Iv(){(jn===0||jn===3||jn===2)&&(jn=4),On===null||(vc&268435455)===0&&(Lm&268435455)===0||il(On,qn)}function Um(c,f){var g=ur;ur|=2;var w=xS();(On!==c||qn!==f)&&(yo=null,xc(c,f));do try{M6();break}catch(P){yS(c,P)}while(!0);if(Hg(),ur=g,Dm.current=w,on!==null)throw Error(r(261));return On=null,qn=0,jn}function M6(){for(;on!==null;)bS(on)}function R6(){for(;on!==null&&!yn();)bS(on)}function bS(c){var f=SS(c.alternate,c,Ki);c.memoizedProps=c.pendingProps,f===null?wS(c):on=f,kv.current=null}function wS(c){var f=c;do{var g=f.alternate;if(c=f.return,(f.flags&32768)===0){if(g=k6(g,f,Ki),g!==null){on=g;return}}else{if(g=N6(g,f),g!==null){g.flags&=32767,on=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{jn=6,on=null;return}}if(f=f.sibling,f!==null){on=f;return}on=f=c}while(f!==null);jn===0&&(jn=5)}function bc(c,f,g){var w=ar,P=Ps.transition;try{Ps.transition=null,ar=1,I6(c,f,g,w)}finally{Ps.transition=P,ar=w}return null}function I6(c,f,g,w){do Qu();while(rl!==null);if((ur&6)!==0)throw Error(r(327));g=c.finishedWork;var P=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var R=g.lanes|g.childLanes;if(du(c,R),c===On&&(on=On=null,qn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Fm||(Fm=!0,CS(rr,function(){return Qu(),null})),R=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||R){R=Ps.transition,Ps.transition=null;var q=ar;ar=1;var X=ur;ur|=4,kv.current=null,P6(c,g),dS(g,c),vf(xf),$o=!!Iu,xf=Iu=null,c.current=g,_6(g),ps(),ur=X,ar=q,Ps.transition=R}else c.current=g;if(Fm&&(Fm=!1,rl=c,$m=P),R=c.pendingLanes,R===0&&(tl=null),br(g.stateNode),Ni(c,mr()),f!==null)for(w=c.onRecoverableError,g=0;g<f.length;g++)P=f[g],w(P.value,{componentStack:P.stack,digest:P.digest});if(Bm)throw Bm=!1,c=Pv,Pv=null,c;return($m&1)!==0&&c.tag!==0&&Qu(),R=c.pendingLanes,(R&1)!==0?c===_v?Rf++:(Rf=0,_v=c):Rf=0,De(),null}function Qu(){if(rl!==null){var c=bi($m),f=Ps.transition,g=ar;try{if(Ps.transition=null,ar=16>c?16:c,rl===null)var w=!1;else{if(c=rl,rl=null,$m=0,(ur&6)!==0)throw Error(r(331));var P=ur;for(ur|=4,ft=c.current;ft!==null;){var R=ft,q=R.child;if((ft.flags&16)!==0){var X=R.deletions;if(X!==null){for(var oe=0;oe<X.length;oe++){var Ee=X[oe];for(ft=Ee;ft!==null;){var Ge=ft;switch(Ge.tag){case 0:case 11:case 15:Tf(8,Ge,R)}var Qe=Ge.child;if(Qe!==null)Qe.return=Ge,ft=Qe;else for(;ft!==null;){Ge=ft;var Ue=Ge.sibling,ct=Ge.return;if(aS(Ge),Ge===Ee){ft=null;break}if(Ue!==null){Ue.return=ct,ft=Ue;break}ft=ct}}}var vt=R.alternate;if(vt!==null){var At=vt.child;if(At!==null){vt.child=null;do{var Zr=At.sibling;At.sibling=null,At=Zr}while(At!==null)}}ft=R}}if((R.subtreeFlags&2064)!==0&&q!==null)q.return=R,ft=q;else e:for(;ft!==null;){if(R=ft,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Tf(9,R,R.return)}var we=R.sibling;if(we!==null){we.return=R.return,ft=we;break e}ft=R.return}}var he=c.current;for(ft=he;ft!==null;){q=ft;var ke=q.child;if((q.subtreeFlags&2064)!==0&&ke!==null)ke.return=q,ft=ke;else e:for(q=he;ft!==null;){if(X=ft,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:Im(9,X)}}catch(Nt){Hr(X,X.return,Nt)}if(X===q){ft=null;break e}var Xe=X.sibling;if(Xe!==null){Xe.return=X.return,ft=Xe;break e}ft=X.return}}if(ur=P,De(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(xi,c)}catch{}w=!0}return w}finally{ar=g,Ps.transition=f}}return!1}function jS(c,f,g){f=Gu(g,f),f=$A(c,f,1),c=Zo(c,f,1),f=hi(),c!==null&&(Za(c,1,f),Ni(c,f))}function Hr(c,f,g){if(c.tag===3)jS(c,c,g);else for(;f!==null;){if(f.tag===3){jS(f,c,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(tl===null||!tl.has(w))){c=Gu(g,c),c=zA(f,c,1),f=Zo(f,c,1),c=hi(),f!==null&&(Za(f,1,c),Ni(f,c));break}}f=f.return}}function D6(c,f,g){var w=c.pingCache;w!==null&&w.delete(f),f=hi(),c.pingedLanes|=c.suspendedLanes&g,On===c&&(qn&g)===g&&(jn===4||jn===3&&(qn&130023424)===qn&&500>mr()-Ev?xc(c,0):Nv|=g),Ni(c,f)}function AS(c,f){f===0&&((c.mode&1)===0?f=1:(f=En,En<<=1,(En&130023424)===0&&(En=4194304)));var g=hi();c=po(c,f),c!==null&&(Za(c,f,g),Ni(c,g))}function L6(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),AS(c,g)}function B6(c,f){var g=0;switch(c.tag){case 13:var w=c.stateNode,P=c.memoizedState;P!==null&&(g=P.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(f),AS(c,g)}var SS;SS=function(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps||b.current)Ci=!0;else{if((c.lanes&g)===0&&(f.flags&128)===0)return Ci=!1,C6(c,f,g);Ci=(c.flags&131072)!==0}else Ci=!1,Ir&&(f.flags&1048576)!==0&&Bu(f,Be,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;Mm(c,f),c=f.pendingProps;var P=y(f,bn.current);qu(f,g),P=sv(null,f,w,c,P,g);var R=av();return f.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,S(w)?(R=!0,z(f)):R=!1,f.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Xg(f),P.updater=Tm,f.stateNode=P,P._reactInternals=f,fv(f,w,c,g),f=gv(null,f,w,!0,R,g)):(f.tag=0,Ir&&R&&Fu(f),fi(null,f,P,g),f=f.child),f;case 16:w=f.elementType;e:{switch(Mm(c,f),c=f.pendingProps,P=w._init,w=P(w._payload),f.type=w,P=f.tag=$6(w),c=na(w,c),P){case 0:f=pv(null,f,w,c,g);break e;case 1:f=QA(null,f,w,c,g);break e;case 11:f=WA(null,f,w,c,g);break e;case 14:f=GA(null,f,w,na(w.type,c),g);break e}throw Error(r(306,w,""))}return f;case 0:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:na(w,P),pv(c,f,w,P,g);case 1:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:na(w,P),QA(c,f,w,P,g);case 3:e:{if(JA(f),c===null)throw Error(r(387));w=f.pendingProps,R=f.memoizedState,P=R.element,fA(c,f),Sm(f,w,null,g);var q=f.memoizedState;if(w=q.element,R.isDehydrated)if(R={element:w,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){P=Gu(Error(r(423)),f),f=XA(c,f,w,g,P);break e}else if(w!==P){P=Gu(Error(r(424)),f),f=XA(c,f,w,g,P);break e}else for(Gi=_a(f.stateNode.containerInfo.firstChild),Wi=f,Ir=!0,ra=null,g=uA(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(zu(),w===P){f=vo(c,f,g);break e}fi(c,f,w,g)}f=f.child}return f;case 5:return pA(f),c===null&&Wg(f),w=f.type,P=f.pendingProps,R=c!==null?c.memoizedProps:null,q=P.children,Pa(w,P)?q=null:R!==null&&Pa(w,R)&&(f.flags|=32),YA(c,f),fi(c,f,q,g),f.child;case 6:return c===null&&Wg(f),null;case 13:return ZA(c,f,g);case 4:return Zg(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Vu(f,null,w,g):fi(c,f,w,g),f.child;case 11:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:na(w,P),WA(c,f,w,P,g);case 7:return fi(c,f,f.pendingProps,g),f.child;case 8:return fi(c,f,f.pendingProps.children,g),f.child;case 12:return fi(c,f,f.pendingProps.children,g),f.child;case 10:e:{if(w=f.type._context,P=f.pendingProps,R=f.memoizedProps,q=P.value,cr(wm,w._currentValue),w._currentValue=q,R!==null)if(ci(R.value,q)){if(R.children===P.children&&!b.current){f=vo(c,f,g);break e}}else for(R=f.child,R!==null&&(R.return=f);R!==null;){var X=R.dependencies;if(X!==null){q=R.child;for(var oe=X.firstContext;oe!==null;){if(oe.context===w){if(R.tag===1){oe=go(-1,g&-g),oe.tag=2;var Ee=R.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ge=Ee.pending;Ge===null?oe.next=oe:(oe.next=Ge.next,Ge.next=oe),Ee.pending=oe}}R.lanes|=g,oe=R.alternate,oe!==null&&(oe.lanes|=g),Qg(R.return,g,f),X.lanes|=g;break}oe=oe.next}}else if(R.tag===10)q=R.type===f.type?null:R.child;else if(R.tag===18){if(q=R.return,q===null)throw Error(r(341));q.lanes|=g,X=q.alternate,X!==null&&(X.lanes|=g),Qg(q,g,f),q=R.sibling}else q=R.child;if(q!==null)q.return=R;else for(q=R;q!==null;){if(q===f){q=null;break}if(R=q.sibling,R!==null){R.return=q.return,q=R;break}q=q.return}R=q}fi(c,f,P.children,g),f=f.child}return f;case 9:return P=f.type,w=f.pendingProps.children,qu(f,g),P=Ns(P),w=w(P),f.flags|=1,fi(c,f,w,g),f.child;case 14:return w=f.type,P=na(w,f.pendingProps),P=na(w.type,P),GA(c,f,w,P,g);case 15:return KA(c,f,f.type,f.pendingProps,g);case 17:return w=f.type,P=f.pendingProps,P=f.elementType===w?P:na(w,P),Mm(c,f),f.tag=1,S(w)?(c=!0,z(f)):c=!1,qu(f,g),BA(f,w,P),fv(f,w,P,g),gv(null,f,w,!0,c,g);case 19:return tS(c,f,g);case 22:return HA(c,f,g)}throw Error(r(156,f.tag))};function CS(c,f){return yi(c,f)}function F6(c,f,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(c,f,g,w){return new F6(c,f,g,w)}function Dv(c){return c=c.prototype,!(!c||!c.isReactComponent)}function $6(c){if(typeof c=="function")return Dv(c)?1:0;if(c!=null){if(c=c.$$typeof,c===de)return 11;if(c===ue)return 14}return 2}function sl(c,f){var g=c.alternate;return g===null?(g=_s(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function qm(c,f,g,w,P,R){var q=2;if(w=c,typeof c=="function")Dv(c)&&(q=1);else if(typeof c=="string")q=5;else e:switch(c){case $:return wc(g.children,P,R,f);case W:q=8,P|=8;break;case K:return c=_s(12,g,f,P|2),c.elementType=K,c.lanes=R,c;case ce:return c=_s(13,g,f,P),c.elementType=ce,c.lanes=R,c;case ee:return c=_s(19,g,f,P),c.elementType=ee,c.lanes=R,c;case pe:return Wm(g,P,R,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case J:q=10;break e;case Z:q=9;break e;case de:q=11;break e;case ue:q=14;break e;case je:q=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return f=_s(q,g,f,P),f.elementType=c,f.type=w,f.lanes=R,f}function wc(c,f,g,w){return c=_s(7,c,w,f),c.lanes=g,c}function Wm(c,f,g,w){return c=_s(22,c,w,f),c.elementType=pe,c.lanes=g,c.stateNode={isHidden:!1},c}function Lv(c,f,g){return c=_s(6,c,null,f),c.lanes=g,c}function Bv(c,f,g){return f=_s(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function z6(c,f,g,w,P){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=w,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Fv(c,f,g,w,P,R,q,X,oe){return c=new z6(c,f,g,X,oe),f===1?(f=1,R===!0&&(f|=8)):f=0,R=_s(3,null,null,f),c.current=R,R.stateNode=c,R.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(R),c}function V6(c,f,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:w==null?null:""+w,children:c,containerInfo:f,implementation:g}}function kS(c){if(!c)return ks;c=c._reactInternals;e:{if(Kt(c)!==c||c.tag!==1)throw Error(r(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(S(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(S(g))return L(c,g,f)}return f}function NS(c,f,g,w,P,R,q,X,oe){return c=Fv(g,w,!0,c,P,R,q,X,oe),c.context=kS(null),g=c.current,w=hi(),P=nl(g),R=go(w,P),R.callback=f??null,Zo(g,R,P),c.current.lanes=P,Za(c,P,w),Ni(c,w),c}function Gm(c,f,g,w){var P=f.current,R=hi(),q=nl(P);return g=kS(g),f.context===null?f.context=g:f.pendingContext=g,f=go(R,q),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),c=Zo(P,f,q),c!==null&&(aa(c,P,q,R),Am(c,P,q)),q}function Km(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function ES(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function $v(c,f){ES(c,f),(c=c.alternate)&&ES(c,f)}function U6(){return null}var PS=typeof reportError=="function"?reportError:function(c){console.error(c)};function zv(c){this._internalRoot=c}Hm.prototype.render=zv.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(r(409));Gm(c,f,null,null)},Hm.prototype.unmount=zv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;yc(function(){Gm(null,c,null,null)}),f[Ss]=null}};function Hm(c){this._internalRoot=c}Hm.prototype.unstable_scheduleHydration=function(c){if(c){var f=wi();c={blockedOn:null,target:c,priority:f};for(var g=0;g<xs.length&&f!==0&&f<xs[g].priority;g++);xs.splice(g,0,c),g===0&&Gl(c)}};function Vv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Ym(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function _S(){}function q6(c,f,g,w,P){if(P){if(typeof w=="function"){var R=w;w=function(){var Ee=Km(q);R.call(Ee)}}var q=NS(f,w,c,0,null,!1,!1,"",_S);return c._reactRootContainer=q,c[Ss]=q.current,As(c.nodeType===8?c.parentNode:c),yc(),q}for(;P=c.lastChild;)c.removeChild(P);if(typeof w=="function"){var X=w;w=function(){var Ee=Km(oe);X.call(Ee)}}var oe=Fv(c,0,!1,null,null,!1,!1,"",_S);return c._reactRootContainer=oe,c[Ss]=oe.current,As(c.nodeType===8?c.parentNode:c),yc(function(){Gm(f,oe,g,w)}),oe}function Qm(c,f,g,w,P){var R=g._reactRootContainer;if(R){var q=R;if(typeof P=="function"){var X=P;P=function(){var oe=Km(q);X.call(oe)}}Gm(f,q,c,P)}else q=q6(g,f,c,P,w);return Km(q)}Lo=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var g=Ya(f.pendingLanes);g!==0&&(zl(f,g|1),Ni(f,mr()),(ur&6)===0&&(Yu=mr()+500,De()))}break;case 13:yc(function(){var w=po(c,1);if(w!==null){var P=hi();aa(w,c,1,P)}}),$v(c,1)}},Vl=function(c){if(c.tag===13){var f=po(c,134217728);if(f!==null){var g=hi();aa(f,c,134217728,g)}$v(c,134217728)}},fu=function(c){if(c.tag===13){var f=nl(c),g=po(c,f);if(g!==null){var w=hi();aa(g,c,f,w)}$v(c,f)}},wi=function(){return ar},Ul=function(c,f){var g=ar;try{return ar=c,f()}finally{ar=g}},Ka=function(c,f,g){switch(f){case"input":if(yt(c,g),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var w=g[f];if(w!==c&&w.form===c.form){var P=Lu(w);if(!P)throw Error(r(90));ae(w),yt(w,P)}}}break;case"textarea":Rt(c,g);break;case"select":f=g.value,f!=null&&Ct(c,!!g.multiple,f,!1)}},tr=Mv,Ro=yc;var W6={usingClientEntryPoint:!1,Events:[Qn,Jo,Lu,_r,ii,Mv]},If={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G6={bundleType:If.bundleType,version:If.version,rendererPackageName:If.rendererPackageName,rendererConfig:If.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Yt(c),c===null?null:c.stateNode},findFiberByHostInstance:If.findFiberByHostInstance||U6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jm.isDisabled&&Jm.supportsFiber)try{xi=Jm.inject(G6),Wr=Jm}catch{}}return Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W6,Ei.createPortal=function(c,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(f))throw Error(r(200));return V6(c,f,null,g)},Ei.createRoot=function(c,f){if(!Vv(c))throw Error(r(299));var g=!1,w="",P=PS;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onRecoverableError!==void 0&&(P=f.onRecoverableError)),f=Fv(c,1,!1,null,null,g,!1,w,P),c[Ss]=f.current,As(c.nodeType===8?c.parentNode:c),new zv(f)},Ei.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Yt(f),c=c===null?null:c.stateNode,c},Ei.flushSync=function(c){return yc(c)},Ei.hydrate=function(c,f,g){if(!Ym(f))throw Error(r(200));return Qm(null,c,f,!0,g)},Ei.hydrateRoot=function(c,f,g){if(!Vv(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,P=!1,R="",q=PS;if(g!=null&&(g.unstable_strictMode===!0&&(P=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onRecoverableError!==void 0&&(q=g.onRecoverableError)),f=NS(f,null,c,1,g??null,P,!1,R,q),c[Ss]=f.current,As(c),w)for(c=0;c<w.length;c++)g=w[c],P=g._getVersion,P=P(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,P]:f.mutableSourceEagerHydrationData.push(g,P);return new Hm(f)},Ei.render=function(c,f,g){if(!Ym(f))throw Error(r(200));return Qm(null,c,f,!1,g)},Ei.unmountComponentAtNode=function(c){if(!Ym(c))throw Error(r(40));return c._reactRootContainer?(yc(function(){Qm(null,null,c,!1,function(){c._reactRootContainer=null,c[Ss]=null})}),!0):!1},Ei.unstable_batchedUpdates=Mv,Ei.unstable_renderSubtreeIntoContainer=function(c,f,g,w){if(!Ym(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Qm(c,f,g,!1,w)},Ei.version="18.3.1-next-f1338f8080-20240426",Ei}var BS;function $_(){if(BS)return Gv.exports;BS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gv.exports=nL(),Gv.exports}var FS;function iL(){if(FS)return Xm;FS=1;var e=$_();return Xm.createRoot=e.createRoot,Xm.hydrateRoot=e.hydrateRoot,Xm}var sL=iL(),Lf={},$S;function aL(){if($S)return Lf;$S=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.parse=a,Lf.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function a(p,v){const x=new s,C=p.length;if(C<2)return x;const A=(v==null?void 0:v.decode)||h;let N=0;do{const T=p.indexOf("=",N);if(T===-1)break;const O=p.indexOf(";",N),M=O===-1?C:O;if(T>M){N=p.lastIndexOf(";",T-1)+1;continue}const D=l(p,N,T),I=u(p,T,D),$=p.slice(D,I);if(x[$]===void 0){let W=l(p,T+1,M),K=u(p,M,W);const J=A(p.slice(W,K));x[$]=J}N=M+1}while(N<C);return x}function l(p,v,x){do{const C=p.charCodeAt(v);if(C!==32&&C!==9)return v}while(++v<x);return x}function u(p,v,x){for(;v>x;){const C=p.charCodeAt(--v);if(C!==32&&C!==9)return v+1}return x}function d(p,v,x){const C=(x==null?void 0:x.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const A=C(v);if(!t.test(A))throw new TypeError(`argument val is invalid: ${v}`);let N=p+"="+A;if(!x)return N;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);N+="; Max-Age="+x.maxAge}if(x.domain){if(!r.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);N+="; Domain="+x.domain}if(x.path){if(!n.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);N+="; Path="+x.path}if(x.expires){if(!m(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);N+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(N+="; HttpOnly"),x.secure&&(N+="; Secure"),x.partitioned&&(N+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return N}function h(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return i.call(p)==="[object Date]"}return Lf}aL();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_=e=>{throw TypeError(e)},oL=(e,t,r)=>t.has(e)||z_("Cannot "+r),Yv=(e,t,r)=>(oL(e,t,"read from private field"),r?r.call(e):t.get(e)),lL=(e,t,r)=>t.has(e)?z_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),zS="popstate";function cL(e={}){function t(n,i){let{pathname:s,search:a,hash:l}=n.location;return bh("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Sl(i)}return dL(t,r,null,e)}function ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uL(){return Math.random().toString(36).substring(2,10)}function VS(e,t){return{usr:e.state,key:e.key,idx:t}}function bh(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pl(t):t,state:r,key:t&&t.key||n||uL()}}function Sl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function dL(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function m(){l="POP";let A=h(),N=A==null?null:A-d;d=A,u&&u({action:l,location:C.location,delta:N})}function p(A,N){l="PUSH";let T=bh(C.location,A,N);d=h()+1;let O=VS(T,d),M=C.createHref(T);try{a.pushState(O,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(M)}s&&u&&u({action:l,location:C.location,delta:1})}function v(A,N){l="REPLACE";let T=bh(C.location,A,N);d=h();let O=VS(T,d),M=C.createHref(T);a.replaceState(O,"",M),s&&u&&u({action:l,location:C.location,delta:0})}function x(A){return V_(A)}let C={get action(){return l},get location(){return e(i,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(zS,m),u=A,()=>{i.removeEventListener(zS,m),u=null}},createHref(A){return t(i,A)},createURL:x,encodeLocation(A){let N=x(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:v,go(A){return a.go(A)}};return C}function V_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ir(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Sl(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var Zf,US=class{constructor(e){if(lL(this,Zf,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Yv(this,Zf).has(e))return Yv(this,Zf).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Yv(this,Zf).set(e,t)}};Zf=new WeakMap;var fL=new Set(["lazy","caseSensitive","path","id","index","children"]);function hL(e){return fL.has(e)}var mL=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function pL(e){return mL.has(e)}function gL(e){return e.index===!0}function Up(e,t,r=[],n={}){return e.map((i,s)=>{let a=[...r,String(s)],l=typeof i.id=="string"?i.id:a.join("-");if(ir(i.index!==!0||!i.children,"Cannot specify children on an index route"),ir(!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),gL(i)){let u={...i,...t(i),id:l};return n[l]=u,u}else{let u={...i,...t(i),id:l,children:void 0};return n[l]=u,i.children&&(u.children=Up(i.children,t,a,n)),u}})}function gl(e,t,r="/"){return Cp(e,t,r,!1)}function Cp(e,t,r,n){let i=typeof t=="string"?Pl(t):t,s=Vs(i.pathname||"/",r);if(s==null)return null;let a=U_(e);yL(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=PL(s);l=NL(a[u],d,n)}return l}function vL(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function U_(e,t=[],r=[],n=""){let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ir(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=Da([n,u.relativePath]),h=r.concat(u);s.children&&s.children.length>0&&(ir(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),U_(s.children,t,h,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:CL(d,s.index),routesMeta:h})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of q_(s.path))i(s,a,u)}),t}function q_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=q_(n.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function yL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xL=/^:[\w-]+$/,bL=3,wL=2,jL=1,AL=10,SL=-2,qS=e=>e==="*";function CL(e,t){let r=e.split("/"),n=r.length;return r.some(qS)&&(n+=SL),t&&(n+=wL),r.filter(i=>!qS(i)).reduce((i,s)=>i+(xL.test(s)?bL:s===""?jL:AL),n)}function kL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function NL(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=qp({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=qp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Da([s,m.pathname]),pathnameBase:OL(Da([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Da([s,m.pathnameBase]))}return a}function qp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=EL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},p)=>{if(h==="*"){let x=l[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[p];return m&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:e}}function EL(e,t=!1,r=!0){mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function PL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Vs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function _L(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Pl(e):e;return{pathname:r?r.startsWith("/")?r:TL(r,t):t,search:ML(n),hash:RL(i)}}function TL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Qv(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ew(e){let t=W_(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function tw(e,t,r,n=!1){let i;typeof e=="string"?i=Pl(e):(i={...e},ir(!i.pathname||!i.pathname.includes("?"),Qv("?","pathname","search",i)),ir(!i.pathname||!i.pathname.includes("#"),Qv("#","pathname","hash",i)),ir(!i.search||!i.search.includes("#"),Qv("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let m=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?t[m]:"/"}let u=_L(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Da=e=>e.join("/").replace(/\/\/+/g,"/"),OL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ML=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Wp=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function wh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var G_=["POST","PUT","PATCH","DELETE"],IL=new Set(G_),DL=["GET",...G_],LL=new Set(DL),BL=new Set([301,302,303,307,308]),FL=new Set([307,308]),Jv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$L={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zL=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),K_="remix-router-transitions",H_=Symbol("ResetLoaderData");function VL(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ir(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||zL,s={},a=Up(e.routes,i,void 0,s),l,u=e.basename||"/",d=e.dataStrategy||KL,h={unstable_middleware:!1,...e.future},m=null,p=new Set,v=null,x=null,C=null,A=e.hydrationData!=null,N=gl(a,e.history.location,u),T=!1,O=null,M;if(N==null&&!e.patchRoutesOnNavigation){let ne=Ls(404,{pathname:e.history.location.pathname}),{matches:ve,route:Ne}=rC(a);M=!0,N=ve,O={[Ne.id]:ne}}else if(N&&!e.hydrationData&&_r(N,a,e.history.location.pathname).active&&(N=null),N)if(N.some(ne=>ne.route.lazy))M=!1;else if(!N.some(ne=>ne.route.loader))M=!0;else{let ne=e.hydrationData?e.hydrationData.loaderData:null,ve=e.hydrationData?e.hydrationData.errors:null;if(ve){let Ne=N.findIndex(We=>ve[We.route.id]!==void 0);M=N.slice(0,Ne+1).every(We=>!hb(We.route,ne,ve))}else M=N.every(Ne=>!hb(Ne.route,ne,ve))}else{M=!1,N=[];let ne=_r(null,a,e.history.location.pathname);ne.active&&ne.matches&&(T=!0,N=ne.matches)}let D,I={historyAction:e.history.action,location:e.history.location,matches:N,initialized:M,navigation:Jv,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||O,fetchers:new Map,blockers:new Map},$="POP",W=!1,K,J=!1,Z=new Map,de=null,ce=!1,ee=!1,ue=new Set,je=new Map,pe=0,ie=-1,be=new Map,me=new Set,Y=new Map,re=new Map,Se=new Set,Te=new Map,Ie,tt=null;function qe(){if(m=e.history.listen(({action:ne,location:ve,delta:Ne})=>{if(Ie){Ie(),Ie=void 0;return}mn(Te.size===0||Ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let We=Bi({currentLocation:I.location,nextLocation:ve,historyAction:ne});if(We&&Ne!=null){let Je=new Promise(xt=>{Ie=xt});e.history.go(Ne*-1),fs(We,{state:"blocked",location:ve,proceed(){fs(We,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Je.then(()=>e.history.go(Ne))},reset(){let xt=new Map(I.blockers);xt.set(We,Bf),Ke({blockers:xt})}});return}return fe(ne,ve)}),r){iB(t,Z);let ne=()=>sB(t,Z);t.addEventListener("pagehide",ne),de=()=>t.removeEventListener("pagehide",ne)}return I.initialized||fe("POP",I.location,{initialHydration:!0}),D}function Fe(){m&&m(),de&&de(),p.clear(),K&&K.abort(),I.fetchers.forEach((ne,ve)=>rt(ve)),I.blockers.forEach((ne,ve)=>Li(ve))}function Re(ne){return p.add(ne),()=>p.delete(ne)}function Ke(ne,ve={}){I={...I,...ne};let Ne=[],We=[];I.fetchers.forEach((Je,xt)=>{Je.state==="idle"&&(Se.has(xt)?Ne.push(xt):We.push(xt))}),Se.forEach(Je=>{!I.fetchers.has(Je)&&!je.has(Je)&&Ne.push(Je)}),[...p].forEach(Je=>Je(I,{deletedFetchers:Ne,viewTransitionOpts:ve.viewTransitionOpts,flushSync:ve.flushSync===!0})),Ne.forEach(Je=>rt(Je)),We.forEach(Je=>I.fetchers.delete(Je))}function Pe(ne,ve,{flushSync:Ne}={}){var pt,Dt;let We=I.actionData!=null&&I.navigation.formMethod!=null&&Zi(I.navigation.formMethod)&&I.navigation.state==="loading"&&((pt=ne.state)==null?void 0:pt._isRedirect)!==!0,Je;ve.actionData?Object.keys(ve.actionData).length>0?Je=ve.actionData:Je=null:We?Je=I.actionData:Je=null;let xt=ve.loaderData?eC(I.loaderData,ve.loaderData,ve.matches||[],ve.errors):I.loaderData,Et=I.blockers;Et.size>0&&(Et=new Map(Et),Et.forEach((jt,Lt)=>Et.set(Lt,Bf)));let ot=W===!0||I.navigation.formMethod!=null&&Zi(I.navigation.formMethod)&&((Dt=ne.state)==null?void 0:Dt._isRedirect)!==!0;l&&(a=l,l=void 0),ce||$==="POP"||($==="PUSH"?e.history.push(ne,ne.state):$==="REPLACE"&&e.history.replace(ne,ne.state));let bt;if($==="POP"){let jt=Z.get(I.location.pathname);jt&&jt.has(ne.pathname)?bt={currentLocation:I.location,nextLocation:ne}:Z.has(ne.pathname)&&(bt={currentLocation:ne,nextLocation:I.location})}else if(J){let jt=Z.get(I.location.pathname);jt?jt.add(ne.pathname):(jt=new Set([ne.pathname]),Z.set(I.location.pathname,jt)),bt={currentLocation:I.location,nextLocation:ne}}Ke({...ve,actionData:Je,loaderData:xt,historyAction:$,location:ne,initialized:!0,navigation:Jv,revalidation:"idle",restoreScrollPosition:ba(ne,ve.matches||I.matches),preventScrollReset:ot,blockers:Et},{viewTransitionOpts:bt,flushSync:Ne===!0}),$="POP",W=!1,J=!1,ce=!1,ee=!1,tt==null||tt.resolve(),tt=null}async function ae(ne,ve){if(typeof ne=="number"){e.history.go(ne);return}let Ne=fb(I.location,I.matches,u,ne,ve==null?void 0:ve.fromRouteId,ve==null?void 0:ve.relative),{path:We,submission:Je,error:xt}=WS(!1,Ne,ve),Et=I.location,ot=bh(I.location,We,ve&&ve.state);ot={...ot,...e.history.encodeLocation(ot)};let bt=ve&&ve.replace!=null?ve.replace:void 0,pt="PUSH";bt===!0?pt="REPLACE":bt===!1||Je!=null&&Zi(Je.formMethod)&&Je.formAction===I.location.pathname+I.location.search&&(pt="REPLACE");let Dt=ve&&"preventScrollReset"in ve?ve.preventScrollReset===!0:void 0,jt=(ve&&ve.flushSync)===!0,Lt=Bi({currentLocation:Et,nextLocation:ot,historyAction:pt});if(Lt){fs(Lt,{state:"blocked",location:ot,proceed(){fs(Lt,{state:"proceeding",proceed:void 0,reset:void 0,location:ot}),ae(ne,ve)},reset(){let Kt=new Map(I.blockers);Kt.set(Lt,Bf),Ke({blockers:Kt})}});return}await fe(pt,ot,{submission:Je,pendingError:xt,preventScrollReset:Dt,replace:ve&&ve.replace,enableViewTransition:ve&&ve.viewTransition,flushSync:jt})}function _e(){tt||(tt=aB()),Jt(),Ke({revalidation:"loading"});let ne=tt.promise;return I.navigation.state==="submitting"?ne:I.navigation.state==="idle"?(fe(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),ne):(fe($||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:J===!0}),ne)}async function fe(ne,ve,Ne){K&&K.abort(),K=null,$=ne,ce=(Ne&&Ne.startUninterruptedRevalidation)===!0,hs(I.location,I.matches),W=(Ne&&Ne.preventScrollReset)===!0,J=(Ne&&Ne.enableViewTransition)===!0;let We=l||a,Je=Ne&&Ne.overrideNavigation,xt=Ne!=null&&Ne.initialHydration&&I.matches&&I.matches.length>0&&!T?I.matches:gl(We,ve,u),Et=(Ne&&Ne.flushSync)===!0;if(xt&&I.initialized&&!ee&&ZL(I.location,ve)&&!(Ne&&Ne.submission&&Zi(Ne.submission.formMethod))){Pe(ve,{matches:xt},{flushSync:Et});return}let ot=_r(xt,We,ve.pathname);if(ot.active&&ot.matches&&(xt=ot.matches),!xt){let{error:Tr,notFoundMatches:vn,route:Yt}=Vn(ve.pathname);Pe(ve,{matches:vn,loaderData:{},errors:{[Yt.id]:Tr}},{flushSync:Et});return}K=new AbortController;let bt=ud(e.history,ve,K.signal,Ne&&Ne.submission),pt=new US(e.unstable_getContext?await e.unstable_getContext():void 0),Dt;if(Ne&&Ne.pendingError)Dt=[_c(xt).route.id,{type:"error",error:Ne.pendingError}];else if(Ne&&Ne.submission&&Zi(Ne.submission.formMethod)){let Tr=await Ve(bt,ve,Ne.submission,xt,pt,ot.active,Ne&&Ne.initialHydration===!0,{replace:Ne.replace,flushSync:Et});if(Tr.shortCircuited)return;if(Tr.pendingActionResult){let[vn,Yt]=Tr.pendingActionResult;if(Xi(Yt)&&wh(Yt.error)&&Yt.error.status===404){K=null,Pe(ve,{matches:Tr.matches,loaderData:{},errors:{[vn]:Yt.error}});return}}xt=Tr.matches||xt,Dt=Tr.pendingActionResult,Je=Xv(ve,Ne.submission),Et=!1,ot.active=!1,bt=ud(e.history,bt.url,bt.signal)}let{shortCircuited:jt,matches:Lt,loaderData:Kt,errors:Ar}=await lt(bt,ve,xt,pt,ot.active,Je,Ne&&Ne.submission,Ne&&Ne.fetcherSubmission,Ne&&Ne.replace,Ne&&Ne.initialHydration===!0,Et,Dt);jt||(K=null,Pe(ve,{matches:Lt||xt,...tC(Dt),loaderData:Kt,errors:Ar}))}async function Ve(ne,ve,Ne,We,Je,xt,Et,ot={}){Jt();let bt=rB(ve,Ne);if(Ke({navigation:bt},{flushSync:ot.flushSync===!0}),xt){let jt=await ii(We,ve.pathname,ne.signal);if(jt.type==="aborted")return{shortCircuited:!0};if(jt.type==="error"){let Lt=_c(jt.partialMatches).route.id;return{matches:jt.partialMatches,pendingActionResult:[Lt,{type:"error",error:jt.error}]}}else if(jt.matches)We=jt.matches;else{let{notFoundMatches:Lt,error:Kt,route:Ar}=Vn(ve.pathname);return{matches:Lt,pendingActionResult:[Ar.id,{type:"error",error:Kt}]}}}let pt,Dt=eh(We,ve);if(!Dt.route.action&&!Dt.route.lazy)pt={type:"error",error:Ls(405,{method:ne.method,pathname:ve.pathname,routeId:Dt.route.id})};else{let jt=Ad(i,s,ne,We,Dt,Et?[]:n,Je),Lt=await it(ne,jt,Je,null);if(pt=Lt[Dt.route.id],!pt){for(let Kt of We)if(Lt[Kt.route.id]){pt=Lt[Kt.route.id];break}}if(ne.signal.aborted)return{shortCircuited:!0}}if(Mc(pt)){let jt;return ot&&ot.replace!=null?jt=ot.replace:jt=JS(pt.response.headers.get("Location"),new URL(ne.url),u)===I.location.pathname+I.location.search,await dt(ne,pt,!0,{submission:Ne,replace:jt}),{shortCircuited:!0}}if(Xi(pt)){let jt=_c(We,Dt.route.id);return(ot&&ot.replace)!==!0&&($="PUSH"),{matches:We,pendingActionResult:[jt.route.id,pt,Dt.route.id]}}return{matches:We,pendingActionResult:[Dt.route.id,pt]}}async function lt(ne,ve,Ne,We,Je,xt,Et,ot,bt,pt,Dt,jt){let Lt=xt||Xv(ve,Et),Kt=Et||ot||iC(Lt),Ar=!ce&&!pt;if(Je){if(Ar){let Xr=yt(jt);Ke({navigation:Lt,...Xr!==void 0?{actionData:Xr}:{}},{flushSync:Dt})}let rr=await ii(Ne,ve.pathname,ne.signal);if(rr.type==="aborted")return{shortCircuited:!0};if(rr.type==="error"){let Xr=_c(rr.partialMatches).route.id;return{matches:rr.partialMatches,loaderData:{},errors:{[Xr]:rr.error}}}else if(rr.matches)Ne=rr.matches;else{let{error:Xr,notFoundMatches:oi,route:xi}=Vn(ve.pathname);return{matches:oi,loaderData:{},errors:{[xi.id]:Xr}}}}let Tr=l||a,{dsMatches:vn,revalidatingFetchers:Yt}=GS(ne,We,i,s,e.history,I,Ne,Kt,ve,pt?[]:n,pt===!0,ee,ue,Se,Y,me,Tr,u,e.patchRoutesOnNavigation!=null,jt);if(ie=++pe,!e.dataStrategy&&!vn.some(rr=>rr.shouldLoad)&&Yt.length===0){let rr=er();return Pe(ve,{matches:Ne,loaderData:{},errors:jt&&Xi(jt[1])?{[jt[0]]:jt[1].error}:null,...tC(jt),...rr?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Dt}),{shortCircuited:!0}}if(Ar){let rr={};if(!Je){rr.navigation=Lt;let Xr=yt(jt);Xr!==void 0&&(rr.actionData=Xr)}Yt.length>0&&(rr.fetchers=et(Yt)),Ke(rr,{flushSync:Dt})}Yt.forEach(rr=>{sr(rr.key),rr.controller&&je.set(rr.key,rr.controller)});let ms=()=>Yt.forEach(rr=>sr(rr.key));K&&K.signal.addEventListener("abort",ms);let{loaderResults:yi,fetcherResults:si}=await Rt(vn,Yt,ne,We);if(ne.signal.aborted)return{shortCircuited:!0};K&&K.signal.removeEventListener("abort",ms),Yt.forEach(rr=>je.delete(rr.key));let yn=Zm(yi);if(yn)return await dt(ne,yn.result,!0,{replace:bt}),{shortCircuited:!0};if(yn=Zm(si),yn)return me.add(yn.key),await dt(ne,yn.result,!0,{replace:bt}),{shortCircuited:!0};let{loaderData:ps,errors:mr}=ZS(I,Ne,yi,jt,Yt,si);pt&&I.errors&&(mr={...I.errors,...mr});let wa=er(),ai=Nn(ie),Hs=wa||ai||Yt.length>0;return{matches:Ne,loaderData:ps,errors:mr,...Hs?{fetchers:new Map(I.fetchers)}:{}}}function yt(ne){if(ne&&!Xi(ne[1]))return{[ne[0]]:ne[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function et(ne){return ne.forEach(ve=>{let Ne=I.fetchers.get(ve.key),We=Ff(void 0,Ne?Ne.data:void 0);I.fetchers.set(ve.key,We)}),new Map(I.fetchers)}async function nn(ne,ve,Ne,We){sr(ne);let Je=(We&&We.flushSync)===!0,xt=l||a,Et=fb(I.location,I.matches,u,Ne,ve,We==null?void 0:We.relative),ot=gl(xt,Et,u),bt=_r(ot,xt,Et);if(bt.active&&bt.matches&&(ot=bt.matches),!ot){Ye(ne,ve,Ls(404,{pathname:Et}),{flushSync:Je});return}let{path:pt,submission:Dt,error:jt}=WS(!0,Et,We);if(jt){Ye(ne,ve,jt,{flushSync:Je});return}let Lt=eh(ot,pt),Kt=new US(e.unstable_getContext?await e.unstable_getContext():void 0),Ar=(We&&We.preventScrollReset)===!0;if(Dt&&Zi(Dt.formMethod)){await _t(ne,ve,pt,Lt,ot,Kt,bt.active,Je,Ar,Dt);return}Y.set(ne,{routeId:ve,path:pt}),await Ct(ne,ve,pt,Lt,ot,Kt,bt.active,Je,Ar,Dt)}async function _t(ne,ve,Ne,We,Je,xt,Et,ot,bt,pt){Jt(),Y.delete(ne);function Dt(br){if(!br.route.action&&!br.route.lazy){let Fr=Ls(405,{method:pt.formMethod,pathname:Ne,routeId:ve});return Ye(ne,ve,Fr,{flushSync:ot}),!0}return!1}if(!Et&&Dt(We))return;let jt=I.fetchers.get(ne);ze(ne,nB(pt,jt),{flushSync:ot});let Lt=new AbortController,Kt=ud(e.history,Ne,Lt.signal,pt);if(Et){let br=await ii(Je,Ne,Kt.signal,ne);if(br.type==="aborted")return;if(br.type==="error"){Ye(ne,ve,br.error,{flushSync:ot});return}else if(br.matches){if(Je=br.matches,We=eh(Je,Ne),Dt(We))return}else{Ye(ne,ve,Ls(404,{pathname:Ne}),{flushSync:ot});return}}je.set(ne,Lt);let Ar=pe,Tr=Ad(i,s,Kt,Je,We,n,xt),Yt=(await it(Kt,Tr,xt,ne))[We.route.id];if(Kt.signal.aborted){je.get(ne)===Lt&&je.delete(ne);return}if(Se.has(ne)){if(Mc(Yt)||Xi(Yt)){ze(ne,dl(void 0));return}}else{if(Mc(Yt))if(je.delete(ne),ie>Ar){ze(ne,dl(void 0));return}else return me.add(ne),ze(ne,Ff(pt)),dt(Kt,Yt,!1,{fetcherSubmission:pt,preventScrollReset:bt});if(Xi(Yt)){Ye(ne,ve,Yt.error);return}}let ms=I.navigation.location||I.location,yi=ud(e.history,ms,Lt.signal),si=l||a,yn=I.navigation.state!=="idle"?gl(si,I.navigation.location,u):I.matches;ir(yn,"Didn't find any matches after fetcher action");let ps=++pe;be.set(ne,ps);let mr=Ff(pt,Yt.data);I.fetchers.set(ne,mr);let{dsMatches:wa,revalidatingFetchers:ai}=GS(yi,xt,i,s,e.history,I,yn,pt,ms,n,!1,ee,ue,Se,Y,me,si,u,e.patchRoutesOnNavigation!=null,[We.route.id,Yt]);ai.filter(br=>br.key!==ne).forEach(br=>{let Fr=br.key,Ha=I.fetchers.get(Fr),Ut=Ff(void 0,Ha?Ha.data:void 0);I.fetchers.set(Fr,Ut),sr(Fr),br.controller&&je.set(Fr,br.controller)}),Ke({fetchers:new Map(I.fetchers)});let Hs=()=>ai.forEach(br=>sr(br.key));Lt.signal.addEventListener("abort",Hs);let{loaderResults:rr,fetcherResults:Xr}=await Rt(wa,ai,yi,xt);if(Lt.signal.aborted)return;if(Lt.signal.removeEventListener("abort",Hs),be.delete(ne),je.delete(ne),ai.forEach(br=>je.delete(br.key)),I.fetchers.has(ne)){let br=dl(Yt.data);I.fetchers.set(ne,br)}let oi=Zm(rr);if(oi)return dt(yi,oi.result,!1,{preventScrollReset:bt});if(oi=Zm(Xr),oi)return me.add(oi.key),dt(yi,oi.result,!1,{preventScrollReset:bt});let{loaderData:xi,errors:Wr}=ZS(I,yn,rr,void 0,ai,Xr);Nn(ps),I.navigation.state==="loading"&&ps>ie?(ir($,"Expected pending action"),K&&K.abort(),Pe(I.navigation.location,{matches:yn,loaderData:xi,errors:Wr,fetchers:new Map(I.fetchers)})):(Ke({errors:Wr,loaderData:eC(I.loaderData,xi,yn,Wr),fetchers:new Map(I.fetchers)}),ee=!1)}async function Ct(ne,ve,Ne,We,Je,xt,Et,ot,bt,pt){let Dt=I.fetchers.get(ne);ze(ne,Ff(pt,Dt?Dt.data:void 0),{flushSync:ot});let jt=new AbortController,Lt=ud(e.history,Ne,jt.signal);if(Et){let Yt=await ii(Je,Ne,Lt.signal,ne);if(Yt.type==="aborted")return;if(Yt.type==="error"){Ye(ne,ve,Yt.error,{flushSync:ot});return}else if(Yt.matches)Je=Yt.matches,We=eh(Je,Ne);else{Ye(ne,ve,Ls(404,{pathname:Ne}),{flushSync:ot});return}}je.set(ne,jt);let Kt=pe,Ar=Ad(i,s,Lt,Je,We,n,xt),vn=(await it(Lt,Ar,xt,ne))[We.route.id];if(je.get(ne)===jt&&je.delete(ne),!Lt.signal.aborted){if(Se.has(ne)){ze(ne,dl(void 0));return}if(Mc(vn))if(ie>Kt){ze(ne,dl(void 0));return}else{me.add(ne),await dt(Lt,vn,!1,{preventScrollReset:bt});return}if(Xi(vn)){Ye(ne,ve,vn.error);return}ze(ne,dl(vn.data))}}async function dt(ne,ve,Ne,{submission:We,fetcherSubmission:Je,preventScrollReset:xt,replace:Et}={}){ve.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let ot=ve.response.headers.get("Location");ir(ot,"Expected a Location header on the redirect Response"),ot=JS(ot,new URL(ne.url),u);let bt=bh(I.location,ot,{_isRedirect:!0});if(r){let Ar=!1;if(ve.response.headers.has("X-Remix-Reload-Document"))Ar=!0;else if(rw.test(ot)){const Tr=V_(ot,!0);Ar=Tr.origin!==t.location.origin||Vs(Tr.pathname,u)==null}if(Ar){Et?t.location.replace(ot):t.location.assign(ot);return}}K=null;let pt=Et===!0||ve.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Dt,formAction:jt,formEncType:Lt}=I.navigation;!We&&!Je&&Dt&&jt&&Lt&&(We=iC(I.navigation));let Kt=We||Je;if(FL.has(ve.response.status)&&Kt&&Zi(Kt.formMethod))await fe(pt,bt,{submission:{...Kt,formAction:ot},preventScrollReset:xt||W,enableViewTransition:Ne?J:void 0});else{let Ar=Xv(bt,We);await fe(pt,bt,{overrideNavigation:Ar,fetcherSubmission:Je,preventScrollReset:xt||W,enableViewTransition:Ne?J:void 0})}}async function it(ne,ve,Ne,We){let Je,xt={};try{Je=await HL(d,ne,ve,We,Ne,!1)}catch(Et){return ve.filter(ot=>ot.shouldLoad).forEach(ot=>{xt[ot.route.id]={type:"error",error:Et}}),xt}if(ne.signal.aborted)return xt;for(let[Et,ot]of Object.entries(Je))if(eB(ot)){let bt=ot.result;xt[Et]={type:"redirect",response:JL(bt,ne,Et,ve,u)}}else xt[Et]=await QL(ot);return xt}async function Rt(ne,ve,Ne,We){let Je=it(Ne,ne,We,null),xt=Promise.all(ve.map(async bt=>{if(bt.matches&&bt.match&&bt.request&&bt.controller){let Dt=(await it(bt.request,bt.matches,We,bt.key))[bt.match.route.id];return{[bt.key]:Dt}}else return Promise.resolve({[bt.key]:{type:"error",error:Ls(404,{pathname:bt.path})}})})),Et=await Je,ot=(await xt).reduce((bt,pt)=>Object.assign(bt,pt),{});return{loaderResults:Et,fetcherResults:ot}}function Jt(){ee=!0,Y.forEach((ne,ve)=>{je.has(ve)&&ue.add(ve),sr(ve)})}function ze(ne,ve,Ne={}){I.fetchers.set(ne,ve),Ke({fetchers:new Map(I.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function Ye(ne,ve,Ne,We={}){let Je=_c(I.matches,ve);rt(ne),Ke({errors:{[Je.route.id]:Ne},fetchers:new Map(I.fetchers)},{flushSync:(We&&We.flushSync)===!0})}function st(ne){return re.set(ne,(re.get(ne)||0)+1),Se.has(ne)&&Se.delete(ne),I.fetchers.get(ne)||$L}function rt(ne){let ve=I.fetchers.get(ne);je.has(ne)&&!(ve&&ve.state==="loading"&&be.has(ne))&&sr(ne),Y.delete(ne),be.delete(ne),me.delete(ne),Se.delete(ne),ue.delete(ne),I.fetchers.delete(ne)}function It(ne){let ve=(re.get(ne)||0)-1;ve<=0?(re.delete(ne),Se.add(ne)):re.set(ne,ve),Ke({fetchers:new Map(I.fetchers)})}function sr(ne){let ve=je.get(ne);ve&&(ve.abort(),je.delete(ne))}function Ht(ne){for(let ve of ne){let Ne=st(ve),We=dl(Ne.data);I.fetchers.set(ve,We)}}function er(){let ne=[],ve=!1;for(let Ne of me){let We=I.fetchers.get(Ne);ir(We,`Expected fetcher: ${Ne}`),We.state==="loading"&&(me.delete(Ne),ne.push(Ne),ve=!0)}return Ht(ne),ve}function Nn(ne){let ve=[];for(let[Ne,We]of be)if(We<ne){let Je=I.fetchers.get(Ne);ir(Je,`Expected fetcher: ${Ne}`),Je.state==="loading"&&(sr(Ne),be.delete(Ne),ve.push(Ne))}return Ht(ve),ve.length>0}function Di(ne,ve){let Ne=I.blockers.get(ne)||Bf;return Te.get(ne)!==ve&&Te.set(ne,ve),Ne}function Li(ne){I.blockers.delete(ne),Te.delete(ne)}function fs(ne,ve){let Ne=I.blockers.get(ne)||Bf;ir(Ne.state==="unblocked"&&ve.state==="blocked"||Ne.state==="blocked"&&ve.state==="blocked"||Ne.state==="blocked"&&ve.state==="proceeding"||Ne.state==="blocked"&&ve.state==="unblocked"||Ne.state==="proceeding"&&ve.state==="unblocked",`Invalid blocker state transition: ${Ne.state} -> ${ve.state}`);let We=new Map(I.blockers);We.set(ne,ve),Ke({blockers:We})}function Bi({currentLocation:ne,nextLocation:ve,historyAction:Ne}){if(Te.size===0)return;Te.size>1&&mn(!1,"A router only supports one blocker at a time");let We=Array.from(Te.entries()),[Je,xt]=We[We.length-1],Et=I.blockers.get(Je);if(!(Et&&Et.state==="proceeding")&&xt({currentLocation:ne,nextLocation:ve,historyAction:Ne}))return Je}function Vn(ne){let ve=Ls(404,{pathname:ne}),Ne=l||a,{matches:We,route:Je}=rC(Ne);return{notFoundMatches:We,route:Je,error:ve}}function Ka(ne,ve,Ne){if(v=ne,C=ve,x=Ne||null,!A&&I.navigation===Jv){A=!0;let We=ba(I.location,I.matches);We!=null&&Ke({restoreScrollPosition:We})}return()=>{v=null,C=null,x=null}}function Fi(ne,ve){return x&&x(ne,ve.map(We=>vL(We,I.loaderData)))||ne.key}function hs(ne,ve){if(v&&C){let Ne=Fi(ne,ve);v[Ne]=C()}}function ba(ne,ve){if(v){let Ne=Fi(ne,ve),We=v[Ne];if(typeof We=="number")return We}return null}function _r(ne,ve,Ne){if(e.patchRoutesOnNavigation)if(ne){if(Object.keys(ne[0].params).length>0)return{active:!0,matches:Cp(ve,Ne,u,!0)}}else return{active:!0,matches:Cp(ve,Ne,u,!0)||[]};return{active:!1,matches:null}}async function ii(ne,ve,Ne,We){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ne};let Je=ne;for(;;){let xt=l==null,Et=l||a,ot=s;try{await e.patchRoutesOnNavigation({signal:Ne,path:ve,matches:Je,fetcherKey:We,patch:(Dt,jt)=>{Ne.aborted||KS(Dt,jt,Et,ot,i)}})}catch(Dt){return{type:"error",error:Dt,partialMatches:Je}}finally{xt&&!Ne.aborted&&(a=[...a])}if(Ne.aborted)return{type:"aborted"};let bt=gl(Et,ve,u);if(bt)return{type:"success",matches:bt};let pt=Cp(Et,ve,u,!0);if(!pt||Je.length===pt.length&&Je.every((Dt,jt)=>Dt.route.id===pt[jt].route.id))return{type:"success",matches:null};Je=pt}}function tr(ne){s={},l=Up(ne,i,void 0,s)}function Ro(ne,ve){let Ne=l==null;KS(ne,ve,l||a,s,i),Ne&&(a=[...a],Ke({}))}return D={get basename(){return u},get future(){return h},get state(){return I},get routes(){return a},get window(){return t},initialize:qe,subscribe:Re,enableScrollRestoration:Ka,navigate:ae,fetch:nn,revalidate:_e,createHref:ne=>e.history.createHref(ne),encodeLocation:ne=>e.history.encodeLocation(ne),getFetcher:st,deleteFetcher:It,dispose:Fe,getBlocker:Di,deleteBlocker:Li,patchRoutes:Ro,_internalFetchControllers:je,_internalSetRoutes:tr},D}function UL(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function fb(e,t,r,n,i,s){let a,l;if(i){a=[];for(let d of t)if(a.push(d),d.route.id===i){l=d;break}}else a=t,l=t[t.length-1];let u=tw(n||".",ew(a),Vs(e.pathname,r)||e.pathname,s==="path");if(n==null&&(u.search=e.search,u.hash=e.hash),(n==null||n===""||n===".")&&l){let d=nw(u.search);if(l.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let h=new URLSearchParams(u.search),m=h.getAll("index");h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let p=h.toString();u.search=p?`?${p}`:""}}return r!=="/"&&(u.pathname=u.pathname==="/"?r:Da([r,u.pathname])),Sl(u)}function WS(e,t,r){if(!r||!UL(r))return{path:t};if(r.formMethod&&!tB(r.formMethod))return{path:t,error:Ls(405,{method:r.formMethod})};let n=()=>({path:t,error:Ls(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),a=eT(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Zi(s))return n();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,[v,x])=>`${p}${v}=${x}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Zi(s))return n();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return n()}}}ir(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=pb(r.formData),u=r.formData;else if(r.body instanceof FormData)l=pb(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=XS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=XS(l)}catch{return n()}let d={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Zi(d.formMethod))return{path:t,submission:d};let h=Pl(t);return e&&h.search&&nw(h.search)&&l.append("index",""),h.search=`?${l}`,{path:Sl(h),submission:d}}function GS(e,t,r,n,i,s,a,l,u,d,h,m,p,v,x,C,A,N,T,O){var ce;let M=O?Xi(O[1])?O[1].error:O[1].data:void 0,D=i.createURL(s.location),I=i.createURL(u),$;if(h&&s.errors){let ee=Object.keys(s.errors)[0];$=a.findIndex(ue=>ue.route.id===ee)}else if(O&&Xi(O[1])){let ee=O[0];$=a.findIndex(ue=>ue.route.id===ee)-1}let W=O?O[1].statusCode:void 0,K=W&&W>=400,J={currentUrl:D,currentParams:((ce=s.matches[0])==null?void 0:ce.params)||{},nextUrl:I,nextParams:a[0].params,...l,actionResult:M,actionStatus:W},Z=a.map((ee,ue)=>{let{route:je}=ee,pe=null;if($!=null&&ue>$?pe=!1:je.lazy?pe=!0:je.loader==null?pe=!1:h?pe=hb(je,s.loaderData,s.errors):qL(s.loaderData,s.matches[ue],ee)&&(pe=!0),pe!==null)return mb(r,n,e,ee,d,t,pe);let ie=K?!1:m||D.pathname+D.search===I.pathname+I.search||D.search!==I.search||WL(s.matches[ue],ee),be={...J,defaultShouldRevalidate:ie},me=Gp(ee,be);return mb(r,n,e,ee,d,t,me,be)}),de=[];return x.forEach((ee,ue)=>{if(h||!a.some(Se=>Se.route.id===ee.routeId)||v.has(ue))return;let je=s.fetchers.get(ue),pe=je&&je.state!=="idle"&&je.data===void 0,ie=gl(A,ee.path,N);if(!ie){if(T&&pe)return;de.push({key:ue,routeId:ee.routeId,path:ee.path,matches:null,match:null,request:null,controller:null});return}if(C.has(ue))return;let be=eh(ie,ee.path),me=new AbortController,Y=ud(i,ee.path,me.signal),re=null;if(p.has(ue))p.delete(ue),re=Ad(r,n,Y,ie,be,d,t);else if(pe)m&&(re=Ad(r,n,Y,ie,be,d,t));else{let Se={...J,defaultShouldRevalidate:K?!1:m};Gp(be,Se)&&(re=Ad(r,n,Y,ie,be,d,t,Se))}re&&de.push({key:ue,routeId:ee.routeId,path:ee.path,matches:re,match:be,request:Y,controller:me})}),{dsMatches:Z,revalidatingFetchers:de}}function hb(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function qL(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function WL(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Gp(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function KS(e,t,r,n,i){let s;if(e){let u=n[e];ir(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),s=u.children}else s=r;let a=t.filter(u=>!s.some(d=>Y_(u,d))),l=Up(a,i,[e||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...l)}function Y_(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(s=>Y_(r,s))}):!1}var HS=new WeakMap,Q_=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(ir(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let a=HS.get(i);a||(a={},HS.set(i,a));let l=a[e];if(l)return l;let u=(async()=>{let d=hL(e),m=i[e]!==void 0&&e!=="hasErrorBoundary";if(d)mn(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(m)mn(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await s();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return a[e]=u,u},YS=new WeakMap;function GL(e,t,r,n,i){let s=r[e.id];if(ir(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=YS.get(s);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let m=(async()=>{ir(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),v={};for(let x in p){let C=p[x];if(C===void 0)continue;let A=pL(x),T=s[x]!==void 0&&x!=="hasErrorBoundary";A?mn(!A,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?mn(!T,`Route "${s.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):v[x]=C}Object.assign(s,v),Object.assign(s,{...n(s),lazy:void 0})})();return YS.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(e.lazy),l=[],u;for(let h of a){if(i&&i.includes(h))continue;let m=Q_({key:h,route:e,manifest:r,mapRouteProperties:n});m&&(l.push(m),h===t&&(u=m))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d==null||d.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function QS(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{r[t[s].route.id]=i}),r}async function KL(e){return e.matches.some(t=>t.route.unstable_middleware)?J_(e,!1,()=>QS(e),(t,r)=>({[r]:{type:"error",result:t}})):QS(e)}async function J_(e,t,r,n){let{matches:i,request:s,params:a,context:l}=e,u={handlerResult:void 0};try{let d=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(p=>[m.route.id,p]):[]),h=await X_({request:s,params:a,context:l},d,t,u,r);return t?h:u.handlerResult}catch(d){if(!u.middlewareError)throw d;let h=await n(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,h):h}}async function X_(e,t,r,n,i,s=0){let{request:a}=e;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=t[s];if(!l)return n.handlerResult=await i(),n.handlerResult;let[u,d]=l,h=!1,m,p=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");h=!0,await X_(e,t,r,n,i,s+1)};try{let v=await d({request:e.request,params:e.params,context:e.context},p);return h?v===void 0?m:v:p()}catch(v){throw n.middlewareError?n.middlewareError.error!==v&&(n.middlewareError={routeId:u,error:v}):n.middlewareError={routeId:u,error:v},v}}function Z_(e,t,r,n,i){let s=Q_({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),a=GL(n.route,Zi(r.method)?"action":"loader",t,e,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function mb(e,t,r,n,i,s,a,l=null){let u=!1,d=Z_(e,t,r,n,i);return{...n,_lazyPromises:d,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(h){return u=!0,l?typeof h=="boolean"?Gp(n,{...l,defaultShouldRevalidate:h}):Gp(n,l):a},resolve(h){return u||a||h&&r.method==="GET"&&(n.route.lazy||n.route.loader)?YL({request:r,match:n,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Ad(e,t,r,n,i,s,a,l=null){return n.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:Z_(e,t,r,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:mb(e,t,r,u,s,a,!0,l))}async function HL(e,t,r,n,i,s){r.some(d=>{var h;return(h=d._lazyPromises)==null?void 0:h.middleware})&&await Promise.all(r.map(d=>{var h;return(h=d._lazyPromises)==null?void 0:h.middleware}));let a={request:t,params:r[0].params,context:i,matches:r},u=await e({...a,fetcherKey:n,unstable_runClientMiddleware:d=>{let h=a;return J_(h,!1,()=>d({...h,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,p)=>({[p]:{type:"error",result:m}}))}});try{await Promise.all(r.flatMap(d=>{var h,m;return[(h=d._lazyPromises)==null?void 0:h.handler,(m=d._lazyPromises)==null?void 0:m.route]}))}catch{}return u}async function YL({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:s}){let a,l,u=Zi(e.method),d=u?"action":"loader",h=m=>{let p,v=new Promise((A,N)=>p=N);l=()=>p(),e.signal.addEventListener("abort",l);let x=A=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:s},...A!==void 0?[A]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(N=>x(N)):x())}}catch(A){return{type:"error",result:A}}})();return Promise.race([C,v])};try{let m=u?t.route.action:t.route.loader;if(r||n)if(m){let p,[v]=await Promise.all([h(m).catch(x=>{p=x}),r,n]);if(p!==void 0)throw p;a=v}else{await r;let p=u?t.route.action:t.route.loader;if(p)[a]=await Promise.all([h(p),n]);else if(d==="action"){let v=new URL(e.url),x=v.pathname+v.search;throw Ls(405,{method:e.method,pathname:x,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(m)a=await h(m);else{let p=new URL(e.url),v=p.pathname+p.search;throw Ls(404,{pathname:v})}}catch(m){return{type:"error",result:m}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function QL(e){var n,i,s,a,l,u;let{result:t,type:r}=e;if(tT(t)){let d;try{let h=t.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(h){return{type:"error",error:h}}return r==="error"?{type:"error",error:new Wp(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return r==="error"?nC(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Wp(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:wh(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:wh(t)?t.status:void 0}:nC(t)?{type:"data",data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function JL(e,t,r,n,i){let s=e.headers.get("Location");if(ir(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!rw.test(s)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);s=fb(new URL(t.url),a,i,s),e.headers.set("Location",s)}return e}function JS(e,t,r){if(rw.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=Vs(i.pathname,r)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function ud(e,t,r,n){let i=e.createURL(eT(t)).toString(),s={signal:r};if(n&&Zi(n.formMethod)){let{formMethod:a,formEncType:l}=n;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(n.json)):l==="text/plain"?s.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?s.body=pb(n.formData):s.body=n.formData}return new Request(i,s)}function pb(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function XS(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function XL(e,t,r,n=!1,i=!1){let s={},a=null,l,u=!1,d={},h=r&&Xi(r[1])?r[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let p=m.route.id,v=t[p];if(ir(!Mc(v),"Cannot handle redirect results in processLoaderData"),Xi(v)){let x=v.error;if(h!==void 0&&(x=h,h=void 0),a=a||{},i)a[p]=x;else{let C=_c(e,p);a[C.route.id]==null&&(a[C.route.id]=x)}n||(s[p]=H_),u||(u=!0,l=wh(v.error)?v.error.status:500),v.headers&&(d[p]=v.headers)}else s[p]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[p]=v.headers)}),h!==void 0&&r&&(a={[r[0]]:h},r[2]&&(s[r[2]]=void 0)),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:d}}function ZS(e,t,r,n,i,s){let{loaderData:a,errors:l}=XL(t,r,n);return i.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:h,controller:m}=u,p=s[d];if(ir(p,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Xi(p)){let v=_c(e.matches,h==null?void 0:h.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:p.error}),e.fetchers.delete(d)}else if(Mc(p))ir(!1,"Unhandled fetcher revalidation redirect");else{let v=dl(p.data);e.fetchers.set(d,v)}}),{loaderData:a,errors:l}}function eC(e,t,r,n){let i=Object.entries(t).filter(([,s])=>s!==H_).reduce((s,[a,l])=>(s[a]=l,s),{});for(let s of r){let a=s.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&s.route.loader&&(i[a]=e[a]),n&&n.hasOwnProperty(a))break}return i}function tC(e){return e?Xi(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function _c(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function rC(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ls(e,{pathname:t,routeId:r,method:n,type:i,message:s}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",n&&t&&r?l=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l=`Route "${r}" does not match URL "${t}"`):e===404?(a="Not Found",l=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",n&&t&&r?l=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new Wp(e||500,a,new Error(l),!0)}function Zm(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(Mc(i))return{key:n,result:i}}}function eT(e){let t=typeof e=="string"?Pl(e):e;return Sl({...t,hash:""})}function ZL(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function eB(e){return tT(e.result)&&BL.has(e.result.status)}function Xi(e){return e.type==="error"}function Mc(e){return(e&&e.type)==="redirect"}function nC(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function tT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function tB(e){return LL.has(e.toUpperCase())}function Zi(e){return IL.has(e.toUpperCase())}function nw(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function eh(e,t){let r=typeof t=="string"?Pl(t).search:t.search;if(e[e.length-1].route.index&&nw(r||""))return e[e.length-1];let n=W_(e);return n[n.length-1]}function iC(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:s,json:a}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Xv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rB(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ff(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nB(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function dl(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iB(e,t){try{let r=e.sessionStorage.getItem(K_);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function sB(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(K_,JSON.stringify(r))}catch(n){mn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function aB(){let e,t,r=new Promise((n,i)=>{e=async s=>{n(s);try{await r}catch{}},t=async s=>{i(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var tu=j.createContext(null);tu.displayName="DataRouter";var Wh=j.createContext(null);Wh.displayName="DataRouterState";var iw=j.createContext({isTransitioning:!1});iw.displayName="ViewTransition";var rT=j.createContext(new Map);rT.displayName="Fetchers";var oB=j.createContext(null);oB.displayName="Await";var Wa=j.createContext(null);Wa.displayName="Navigation";var $0=j.createContext(null);$0.displayName="Location";var va=j.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var sw=j.createContext(null);sw.displayName="RouteError";function lB(e,{relative:t}={}){ir(Gh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(Wa),{hash:i,pathname:s,search:a}=Kh(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Da([r,s])),n.createHref({pathname:l,search:a,hash:i})}function Gh(){return j.useContext($0)!=null}function Ga(){return ir(Gh(),"useLocation() may be used only in the context of a <Router> component."),j.useContext($0).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iT(e){j.useContext(Wa).static||j.useLayoutEffect(e)}function gn(){let{isDataRoute:e}=j.useContext(va);return e?SB():cB()}function cB(){ir(Gh(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(tu),{basename:t,navigator:r}=j.useContext(Wa),{matches:n}=j.useContext(va),{pathname:i}=Ga(),s=JSON.stringify(ew(n)),a=j.useRef(!1);return iT(()=>{a.current=!0}),j.useCallback((u,d={})=>{if(mn(a.current,nT),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=tw(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Da([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,s,i,e])}var uB=j.createContext(null);function dB(e){let t=j.useContext(va).outlet;return t&&j.createElement(uB.Provider,{value:e},t)}function fB(){let{matches:e}=j.useContext(va),t=e[e.length-1];return t?t.params:{}}function Kh(e,{relative:t}={}){let{matches:r}=j.useContext(va),{pathname:n}=Ga(),i=JSON.stringify(ew(r));return j.useMemo(()=>tw(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function hB(e,t,r,n){ir(Gh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(Wa),{matches:s}=j.useContext(va),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let N=h&&h.path||"";sT(u,!h||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Ga(),p;p=m;let v=p.pathname||"/",x=v;if(d!=="/"){let N=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=gl(e,{pathname:x});return mn(h||C!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),mn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),yB(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Da([d,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Da([d,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,r,n)}function mB(){let e=AB(),t=wh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:s},"ErrorBoundary")," or"," ",j.createElement("code",{style:s},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,a)}var pB=j.createElement(mB,null),gB=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(va.Provider,{value:this.props.routeContext},j.createElement(sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vB({routeContext:e,match:t,children:r}){let n=j.useContext(tu);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(va.Provider,{value:e},r)}function yB(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);ir(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,d,h)=>{let m,p=!1,v=null,x=null;r&&(m=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||pB,a&&(l<0&&h===0?(sT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,x=null):l===h&&(p=!0,x=d.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,h+1)),A=()=>{let N;return m?N=v:p?N=x:d.route.Component?N=j.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=u,j.createElement(vB,{match:d,routeContext:{outlet:u,matches:C,isDataRoute:r!=null},children:N})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?j.createElement(gB,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function aw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xB(e){let t=j.useContext(tu);return ir(t,aw(e)),t}function bB(e){let t=j.useContext(Wh);return ir(t,aw(e)),t}function wB(e){let t=j.useContext(va);return ir(t,aw(e)),t}function ow(e){let t=wB(e),r=t.matches[t.matches.length-1];return ir(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function jB(){return ow("useRouteId")}function AB(){var n;let e=j.useContext(sw),t=bB("useRouteError"),r=ow("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function SB(){let{router:e}=xB("useNavigate"),t=ow("useNavigate"),r=j.useRef(!1);return iT(()=>{r.current=!0}),j.useCallback(async(i,s={})=>{mn(r.current,nT),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var sC={};function sT(e,t,r){!t&&!sC[e]&&(sC[e]=!0,mn(!1,r))}var aC={};function oC(e,t){!e&&!aC[t]&&(aC[t]=!0,console.warn(t))}function CB(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&mn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:j.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&mn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:j.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&mn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:j.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var kB=["HydrateFallback","hydrateFallbackElement"],NB=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function EB({router:e,flushSync:t}){let[r,n]=j.useState(e.state),[i,s]=j.useState(),[a,l]=j.useState({isTransitioning:!1}),[u,d]=j.useState(),[h,m]=j.useState(),[p,v]=j.useState(),x=j.useRef(new Map),C=j.useCallback((O,{deletedFetchers:M,flushSync:D,viewTransitionOpts:I})=>{O.fetchers.forEach((W,K)=>{W.data!==void 0&&x.current.set(K,W.data)}),M.forEach(W=>x.current.delete(W)),oC(D===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let $=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(oC(I==null||$,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!$){t&&D?t(()=>n(O)):j.startTransition(()=>n(O));return}if(t&&D){t(()=>{h&&(u&&u.resolve(),h.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let W=e.window.document.startViewTransition(()=>{t(()=>n(O))});W.finished.finally(()=>{t(()=>{d(void 0),m(void 0),s(void 0),l({isTransitioning:!1})})}),t(()=>m(W));return}h?(u&&u.resolve(),h.skipTransition(),v({state:O,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(s(O),l({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[e.window,t,h,u]);j.useLayoutEffect(()=>e.subscribe(C),[e,C]),j.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new NB)},[a]),j.useEffect(()=>{if(u&&i&&e.window){let O=i,M=u.promise,D=e.window.document.startViewTransition(async()=>{j.startTransition(()=>n(O)),await M});D.finished.finally(()=>{d(void 0),m(void 0),s(void 0),l({isTransitioning:!1})}),m(D)}},[i,u,e.window]),j.useEffect(()=>{u&&i&&r.location.key===i.location.key&&u.resolve()},[u,h,r.location,i]),j.useEffect(()=>{!a.isTransitioning&&p&&(s(p.state),l({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),v(void 0))},[a.isTransitioning,p]);let A=j.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,M,D)=>e.navigate(O,{state:M,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(O,M,D)=>e.navigate(O,{replace:!0,state:M,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[e]),N=e.basename||"/",T=j.useMemo(()=>({router:e,navigator:A,static:!1,basename:N}),[e,A,N]);return j.createElement(j.Fragment,null,j.createElement(tu.Provider,{value:T},j.createElement(Wh.Provider,{value:r},j.createElement(rT.Provider,{value:x.current},j.createElement(iw.Provider,{value:a},j.createElement(OB,{basename:N,location:r.location,navigationType:r.historyAction,navigator:A},j.createElement(PB,{routes:e.routes,future:e.future,state:r})))))),null)}var PB=j.memo(_B);function _B({routes:e,future:t,state:r}){return hB(e,void 0,r,t)}function TB(e){return dB(e.context)}function OB({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){ir(!Gh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof r=="string"&&(r=Pl(r));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=r,v=j.useMemo(()=>{let x=Vs(u,a);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:p},navigationType:n}},[a,u,d,h,m,p,n]);return mn(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(Wa.Provider,{value:l},j.createElement($0.Provider,{children:t,value:v}))}var kp="get",Np="application/x-www-form-urlencoded";function z0(e){return e!=null&&typeof e.tagName=="string"}function MB(e){return z0(e)&&e.tagName.toLowerCase()==="button"}function RB(e){return z0(e)&&e.tagName.toLowerCase()==="form"}function IB(e){return z0(e)&&e.tagName.toLowerCase()==="input"}function DB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LB(e,t){return e.button===0&&(!t||t==="_self")&&!DB(e)}var ep=null;function BB(){if(ep===null)try{new FormData(document.createElement("form"),0),ep=!1}catch{ep=!0}return ep}var FB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zv(e){return e!=null&&!FB.has(e)?(mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Np}"`),null):e}function $B(e,t){let r,n,i,s,a;if(RB(e)){let l=e.getAttribute("action");n=l?Vs(l,t):null,r=e.getAttribute("method")||kp,i=Zv(e.getAttribute("enctype"))||Np,s=new FormData(e)}else if(MB(e)||IB(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Vs(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||kp,i=Zv(e.getAttribute("formenctype"))||Zv(l.getAttribute("enctype"))||Np,s=new FormData(l,e),!BB()){let{name:d,type:h,value:m}=e;if(h==="image"){let p=d?`${d}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else d&&s.append(d,m)}}else{if(z0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kp,n=null,i=Np,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}function lw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function zB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UB(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await zB(s,r);return a.links?a.links():[]}return[]}));return KB(n.flat(1).filter(VB).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lC(e,t,r,n,i,s){let a=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var h;return r[d].pathname!==u.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?t.filter((u,d)=>{var m;let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function qB(e,t,{includeHydrateFallback:r}={}){return WB(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function WB(e){return[...new Set(e)]}function GB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function KB(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(GB(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HB=new Set([100,101,204,205]);function YB(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Vs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function aT(){let e=j.useContext(tu);return lw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function QB(){let e=j.useContext(Wh);return lw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cw=j.createContext(void 0);cw.displayName="FrameworkContext";function oT(){let e=j.useContext(cw);return lw(e,"You must render this element inside a <HydratedRouter> element"),e}function JB(e,t){let r=j.useContext(cw),[n,i]=j.useState(!1),[s,a]=j.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,p=j.useRef(null);j.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let C=N=>{N.forEach(T=>{a(T.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return p.current&&A.observe(p.current),()=>{A.disconnect()}}},[e]),j.useEffect(()=>{if(n){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[n]);let v=()=>{i(!0)},x=()=>{i(!1),a(!1)};return r?e!=="intent"?[s,p,{}]:[s,p,{onFocus:$f(l,v),onBlur:$f(u,x),onMouseEnter:$f(d,v),onMouseLeave:$f(h,x),onTouchStart:$f(m,v)}]:[!1,p,{}]}function $f(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function XB({page:e,...t}){let{router:r}=aT(),n=j.useMemo(()=>gl(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?j.createElement(e8,{page:e,matches:n,...t}):null}function ZB(e){let{manifest:t,routeModules:r}=oT(),[n,i]=j.useState([]);return j.useEffect(()=>{let s=!1;return UB(e,t,r).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,r]),n}function e8({page:e,matches:t,...r}){let n=Ga(),{manifest:i,routeModules:s}=oT(),{basename:a}=aT(),{loaderData:l,matches:u}=QB(),d=j.useMemo(()=>lC(e,t,u,i,n,"data"),[e,t,u,i,n]),h=j.useMemo(()=>lC(e,t,u,i,n,"assets"),[e,t,u,i,n]),m=j.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,C=!1;if(t.forEach(N=>{var O;let T=i.routes[N.route.id];!T||!T.hasLoader||(!d.some(M=>M.route.id===N.route.id)&&N.route.id in l&&((O=s[N.route.id])!=null&&O.shouldRevalidate)||T.hasClientLoader?C=!0:x.add(N.route.id))}),x.size===0)return[];let A=YB(e,a);return C&&x.size>0&&A.searchParams.set("_routes",t.filter(N=>x.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[a,l,n,i,d,t,e,s]),p=j.useMemo(()=>qB(h,i),[h,i]),v=ZB(h);return j.createElement(j.Fragment,null,m.map(x=>j.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),p.map(x=>j.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),v.map(({key:x,link:C})=>j.createElement("link",{key:x,...C})))}function t8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.6.2")}catch{}function r8(e,t){return VL({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:cL({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||n8(),routes:e,mapRouteProperties:CB,hydrationRouteProperties:kB,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function n8(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:i8(e.errors)}),e}function i8(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new Wp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}var cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=j.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:m,...p},v){let{basename:x}=j.useContext(Wa),C=typeof d=="string"&&cT.test(d),A,N=!1;if(typeof d=="string"&&C&&(A=d,lT))try{let K=new URL(window.location.href),J=d.startsWith("//")?new URL(K.protocol+d):new URL(d),Z=Vs(J.pathname,x);J.origin===K.origin&&Z!=null?d=Z+J.search+J.hash:N=!0}catch{mn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=lB(d,{relative:i}),[O,M,D]=JB(n,p),I=o8(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:i,viewTransition:m});function $(K){t&&t(K),K.defaultPrevented||I(K)}let W=j.createElement("a",{...p,...D,href:A||T,onClick:N||s?t:$,ref:t8(v,M),target:u,"data-discover":!C&&r==="render"?"true":void 0});return O&&!C?j.createElement(j.Fragment,null,W,j.createElement(XB,{page:T})):W});xl.displayName="Link";var uT=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},h){let m=Kh(a,{relative:d.relative}),p=Ga(),v=j.useContext(Wh),{navigator:x,basename:C}=j.useContext(Wa),A=v!=null&&f8(m)&&l===!0,N=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,T=p.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(T=T.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&C&&(O=Vs(O,C)||O);const M=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=T===N||!i&&T.startsWith(N)&&T.charAt(M)==="/",I=O!=null&&(O===N||!i&&O.startsWith(N)&&O.charAt(N.length)==="/"),$={isActive:D,isPending:I,isTransitioning:A},W=D?t:void 0,K;typeof n=="function"?K=n($):K=[n,D?"active":null,I?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let J=typeof s=="function"?s($):s;return j.createElement(xl,{...d,"aria-current":W,className:K,ref:h,style:J,to:a,viewTransition:l},typeof u=="function"?u($):u)});uT.displayName="NavLink";var s8=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:a=kp,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:m,...p},v)=>{let x=u8(),C=d8(l,{relative:d}),A=a.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&cT.test(l),T=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||a;x(M||O.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:m})};return j.createElement("form",{ref:v,method:A,action:C,onSubmit:n?u:T,...p,"data-discover":!N&&e==="render"?"true":void 0})});s8.displayName="Form";function a8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(e){let t=j.useContext(tu);return ir(t,a8(e)),t}function o8(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=gn(),u=Ga(),d=Kh(e,{relative:s});return j.useCallback(h=>{if(LB(h,t)){h.preventDefault();let m=r!==void 0?r:Sl(u)===Sl(d);l(e,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,r,n,t,e,i,s,a])}var l8=0,c8=()=>`__${String(++l8)}__`;function u8(){let{router:e}=dT("useSubmit"),{basename:t}=j.useContext(Wa),r=jB();return j.useCallback(async(n,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=$B(n,t);if(i.navigate===!1){let h=i.fetcherKey||c8();await e.fetch(h,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function d8(e,{relative:t}={}){let{basename:r}=j.useContext(Wa),n=j.useContext(va);ir(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Kh(e||".",{relative:t})},a=Ga();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();s.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Da([r,s.pathname])),Sl(s)}function f8(e,t={}){let r=j.useContext(iw);ir(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=dT("useViewTransitionState"),i=Kh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Vs(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Vs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return qp(i.pathname,a)!=null||qp(i.pathname,s)!=null}[...HB];var uw=$_();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h8(e){return j.createElement(EB,{flushSync:uw.flushSync,...e})}async function at(e,t={},r=!1){const n="https://ekahera.onrender.com";let i="";i=n,i&&i.endsWith("/")&&(i=i.slice(0,-1));const s={...t.headers||{}};t.body instanceof FormData||(s["Content-Type"]="application/json");const a=sessionStorage.getItem("auth_token")||localStorage.getItem("token");a&&(s.Authorization=`Bearer ${a}`);const l=(i||"")+(e.startsWith("/api")?e:`/api${e}`),u=await fetch(l,{...t,credentials:"include",headers:s});if(!u.ok){const h=await u.text();try{const m=JSON.parse(h),p=(m==null?void 0:m.error)||(m==null?void 0:m.message)||JSON.stringify(m);throw new Error(`${u.status} ${u.statusText}: ${p}`)}catch{const p=/<[^>]+>/.test(h)?"Server returned an HTML error page":h;throw new Error(`${u.status} ${u.statusText}: ${p}`)}}return r?u:(u.headers.get("content-type")||"").includes("application/json")?u.json():u.text()}function en(e){return e?{Authorization:`Bearer ${e}`}:{}}async function dw({amount:e,description:t,referenceNumber:r,cancelUrl:n,successUrl:i}){return await at("/payments/gcash/checkout",{method:"POST",body:JSON.stringify({amount:e,description:t,referenceNumber:r,cancelUrl:n,successUrl:i})})}const m8="/assets/vector1-Ds2OLeae.png",p8="/assets/vector2-DT7TUxf2.png",Ri=({variant:e="gradientBlue",pattern:t,overlay:r,floatingElements:n,className:i="",children:s})=>{let a={};e==="gradientBlue"&&(a.background="#e6f0ff");const l=t==="dots"?{backgroundImage:"url('data:image/svg+xml;utf8,<svg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'><circle cx='1' cy='1' r='1' fill='%23bcd0ee' fill-opacity='0.25'/></svg>')",backgroundRepeat:"repeat",backgroundSize:"40px 40px",pointerEvents:"none",position:"absolute",inset:0,zIndex:1}:null,u=r?{background:"linear-gradient(180deg, rgba(59,130,246,0.07) 0%, rgba(255,255,255,0.7) 100%)",position:"absolute",inset:0,zIndex:2,pointerEvents:"none"}:null;return o.jsxs("div",{className:`relative w-full min-h-screen ${i}`,style:{zIndex:0},children:[o.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none select-none z-0",style:a}),t&&o.jsx("div",{style:l,"aria-hidden":"true"}),r&&o.jsx("div",{style:u,"aria-hidden":"true"}),n&&o.jsxs(o.Fragment,{children:[o.jsx("img",{src:m8,alt:"decorative vector 1",className:"absolute top-0 left-0 w-40 md:w-56 opacity-40 blur-sm pointer-events-none select-none z-10",style:{transform:"translate(-30%, -30%)"},"aria-hidden":"true"}),o.jsx("img",{src:p8,alt:"decorative vector 2",className:"absolute bottom-0 right-0 w-40 md:w-56 opacity-40 blur-sm pointer-events-none select-none z-10",style:{transform:"translate(30%, 30%)"},"aria-hidden":"true"})]}),o.jsx("div",{className:"relative z-20 w-full",children:s})]})},fw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA7CAYAAAAjDDn3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS5SURBVHgB5ZoxcBtFFIb/OwuYwWFQGiiRU8PYqaA8Q8MwDhEdpIk9E1ocSqCwVQAlFi0wMg3QxQ4wQ8NYdFBZDNRIlEkTF0mTiXN5vzYXSbe3p909JdGdvhmN5PVKd/++t++93dsARWnGddxFUz6tIcQriOU9QF3+rmNWxBjIbw5wH3/L5y6eQw8HwQAFCOADxd7DZX6SV4SnQ1cGYR+/Bt/DAzfhSvC2fLqKWVq0CPQEDsAvQcvta7ZsxJH07shFGphH1FTYtfWA6cJp5VPsiOCrKAMx9nAHLXSDk7xu+cKbcUNc+xoYuMoErb+E9bwAaBZO0ac4mlvXnsYU8dnCyy46IUe8LlzN6ePSix7Rw20Rn5rzodZNBbIGqsMalkVTikmLvxNvylB0UE3WJdd3kz8mLb6kj0xlYA0SxY+KrpHwjbhqLj4JtZ0Z1SIjV78Q9ystXHEigW6FgU5ZnHO7+qJJXQLdJj8o4eFwpbUYBLio3lRZ2scicRtnQxFdrjp8FryAJl09wqJxirWavK3iKRG9qrd1/83/Tn1ZSrEVvX1wU72sCNCoDaO53wZUYY6+1NuCC+b+jZfkO1/I+8uT7RS8/gnsCbEaUj1KwrXPzKKtrU1i1EOUhK+uiIuf09u39hxFK8ohfOcD2d28qLe3fpSY8A+8mHvhDIC7l/T29nVp/wHe1FAQ3tjquUk3/P+GssS0CD0NBrNOxhZn7z/xgG9QCG/hyU1Fr2X/n+tbzj3OQR93ZNoyRfD3PkdhvFydYo+/NotOSNIP56grHNS06JM7HhHcgLNwimFaoUXS8May4BydNkjjcKCab+jtnhE8E2fhtERaNAPN2ffViwUIbzA9CLZW33wrO5gxgh/8iZnhJJwBLG25/d9VoBkXyrb0POT3bKzeMTyvmaVo4iR88029rWVIKQxogxuTbc3X4U1nGzPFKaqvZlROdE1b0sHKBXobq7ePv8VMcBJeP6O37VyCNS8u2/dlrk6XqKzeDv/yr9bGcXL1+vN4IjCQrX+qTxWSFVx9KFS5MaC1D+379y1SEYNYUoputVUdMA7TKTNEUZcPZD89tu3M/J3Or3nr52nEP+ttTInjGWLvQ2D7Xb0fPaKIy9PVT2w7/5FxobwUxZ0S1vK0kq17pvM/rf84XD6URbm1cObnrBugsDQMTCxrucvS/w649ZM5R+fBgaDLp0lc3hfuwPRsOw/n9HX9BiiO7kjrMlfTPdNzk7Q8l5F06fR1CaO8Syk8Due4FJiwLg/oXsdt95zMSJ1eP2fNcVPMMF2Xtfv5j8zrBBMh7ttbnAxXSIZUY6LopkFy3Vm6fIhncQBHOMorVx6ulnIGgC7KQSq6aTD+eyaXz1rN5aE2ljfiIxR4sMBRpwsmQa7XVwPi6n5PElXAxDiUIYjgidNm/pygStZnsA+HfF4FlPCD4YmgNhaI0SKlhr3h8egFYSScVg+whQVhclmqjkMthMvr6/EadgG3oqaMZD8gfjtuYAlHZXqS6or5yXjFxecfCaiw+Pw9t9+CgRQ351HBgGd/CISHAAN5FlgR67ufftmId6XQuVz2AfA/9qOOePNEZIQSUvy8EwNgbXhIMAKPjqlTVA3MOQ8Aj5ByG4f1BkQAAAAASUVORK5CYII=";function g8({children:e}){const t=gn(),r=Ga(),[n,i]=j.useState(!0),[s,a]=j.useState(!1);j.useEffect(()=>{sessionStorage.getItem("setup_checked")?i(!1):(l(),sessionStorage.setItem("setup_checked","true"))},[]);const l=async()=>{try{if(r.pathname==="/setup"){i(!1);return}(await at("/api/auth/setup/status")).needsSetup?(a(!0),r.pathname!=="/setup"&&t("/setup",{replace:!0})):a(!1)}catch(u){console.error("Setup status check failed:",u),a(!1)}finally{i(!1)}};return n?o.jsxs(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,children:[o.jsx("div",{className:"flex h-screen items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center space-y-6 animate-fadeIn",style:{animationDelay:"0.1s"},children:[o.jsxs("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 border-4 border-blue-400 border-t-transparent rounded-full animate-spin-slow"}),o.jsx("div",{className:"absolute inset-2 border-3 border-blue-500 border-t-transparent rounded-full animate-spin-reverse"}),o.jsxs("div",{className:"relative w-24 h-24",children:[o.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-400 opacity-40 blur-2xl animate-pulse-slow"}),o.jsx("img",{src:fw,alt:"Logo",className:"w-full h-full animate-trending transform transition-transform duration-700 hover:scale-110 drop-shadow-lg"})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-900 font-semibold text-lg tracking-wide animate-shimmerText bg-gradient-to-r from-gray-600 via-blue-600 to-gray-600 bg-[length:200%_auto] text-transparent bg-clip-text",children:"Checking system status..."}),o.jsx("p",{className:"text-gray-600 text-sm mt-1 animate-fadeIn delay-200",children:"Preparing your environment, please hold on."})]})]})}),o.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            .animate-fadeIn {
              animation: fadeIn 0.8s ease-out forwards;
            }

            @keyframes trending {
              0%, 100% { transform: translateY(0) rotate(0deg); }
              25% { transform: translateY(-8px) rotate(2deg); }
              50% { transform: translateY(-15px) rotate(0deg); }
              75% { transform: translateY(-8px) rotate(-2deg); }
            }
            .animate-trending {
              animation: trending 2s ease-in-out infinite;
            }

            @keyframes pulseSlow {
              0%, 100% { opacity: 0.3; transform: scale(0.9); }
              50% { opacity: 0.6; transform: scale(1.1); }
            }
            .animate-pulse-slow {
              animation: pulseSlow 2.4s ease-in-out infinite;
            }

            @keyframes shimmerText {
              0% { background-position: 0% 50%; }
              100% { background-position: 200% 50%; }
            }
            .animate-shimmerText {
              animation: shimmerText 2.5s linear infinite;
            }

            @keyframes spinSlow {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
            .animate-spin-slow {
              animation: spinSlow 3s linear infinite;
            }

            @keyframes spinReverse {
              from { transform: rotate(360deg); }
              to { transform: rotate(0deg); }
            }
            .animate-spin-reverse {
              animation: spinReverse 2s linear infinite;
            }
          `})]}):s&&r.pathname!=="/setup"?null:e}function He({label:e,children:t,onClick:r,type:n="button",className:i="",variant:s="primary",disabled:a=!1,size:l="md",microinteraction:u=!0,icon:d,iconPosition:h="left",isIconButton:m=!1,isCloseButton:p=!1,isPasswordToggle:v=!1,showPassword:x=!1,...C}){const A="inline-flex items-center justify-center font-sans font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 select-none",N={sm:m?"p-2 text-sm":"px-4 py-2 text-sm",md:m?"p-2.5 text-base":"px-6 py-2.5 text-base",lg:m?"p-3 text-lg":"px-8 py-3 text-lg"},T={primary:"bg-blue-600 text-white shadow-md hover:from-blue-600 hover:to-blue-800 hover:shadow-lg",secondary:"bg-white text-blue-700 border border-blue-200 shadow-sm hover:bg-blue-50 hover:text-blue-900",outline:"border-2 border-blue-600 text-blue-600 bg-white hover:bg-blue-50 hover:border-blue-700",ghost:"text-blue-600 hover:bg-blue-50",danger:"bg-gradient-to-r from-red-500 to-red-700 text-white shadow-md hover:from-red-600 hover:to-red-800 hover:shadow-lg",success:"bg-gradient-to-r from-green-500 to-green-700 text-white shadow-md hover:from-green-600 hover:to-green-800 hover:shadow-lg",warning:"bg-gradient-to-r from-yellow-500 to-yellow-700 text-white shadow-md hover:from-yellow-600 hover:to-yellow-800 hover:shadow-lg",close:"absolute top-3 right-3 text-blue-400 hover:text-blue-700 text-2xl font-bold focus:outline-none focus:ring-2 focus:ring-blue-400 rounded-full transition-colors duration-150",passwordToggle:"p-1 bg-transparent border-none shadow-none hover:bg-blue-100 rounded-full transition-colors focus:ring-0 focus:ring-transparent focus:ring-offset-0",iconAction:"rounded-full p-1 hover:bg-opacity-80 transition flex items-center",stockEntry:"bg-green-100 border border-green-300 rounded-full p-1 hover:bg-green-200 transition flex items-center",edit:"bg-blue-100 border border-blue-300 rounded-full p-1 hover:bg-blue-200 transition flex items-center",delete:"bg-red-100 border border-red-300 rounded-full p-1 hover:bg-red-200 transition flex items-center",pagination:"px-3 py-1 rounded-lg font-semibold border",paginationActive:"px-3 py-1 rounded-lg font-semibold border bg-blue-500 text-white border-blue-500",paginationInactive:"px-3 py-1 rounded-lg font-semibold border bg-white text-blue-700 border-blue-200 hover:bg-blue-100"},O=a?"opacity-50 cursor-not-allowed pointer-events-none":"",M=u&&!p&&!v?"hover:scale-[1.03] active:scale-[0.97] transition-transform focus:shadow-blue-300/40":"";let D=s;p&&(D="close"),v&&(D="passwordToggle");const I=`${A} ${N[l]} ${T[D]} ${O} ${M} ${i}`,$=x?o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-5.523 0-10-4.477-10-10 0-1.657.403-3.22 1.125-4.575m2.122-2.122A9.956 9.956 0 0112 3c5.523 0 10 4.477 10 10 0 1.657-.403 3.22-1.125 4.575m-2.122 2.122A9.956 9.956 0 0112 21c-2.21 0-4.267-.72-5.947-1.947m0 0L3 21m0 0l3-3"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),W=p?"&times;":null,K=v?$:null,J=o.jsxs(o.Fragment,{children:[d&&h==="left"&&d,t||e,d&&h==="right"&&d]});return o.jsx("button",{type:n,onClick:r,className:I,disabled:a,...C,children:W||K||J})}function Ii({className:e="",size:t="md",variant:r="spinner",color:n="blue"}){const i={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return o.jsxs("svg",{className:`${i[t]||i.md} animate-spin text-gray-700 ${e}`,viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",role:"img",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}function fT({onComplete:e}){const[t,r]=j.useState(0),[n,i]=j.useState(!0),s=[{title:"Welcome to eKahera!",content:"Let's take a quick tour of your new POS system. This tutorial will help you get started with the key features.",icon:"",action:"Get Started"},{title:"Dashboard Overview",content:"Your dashboard shows sales analytics, recent transactions, and key business metrics. This is your command center for monitoring business performance.",icon:"",action:"Next"},{title:"Inventory Management",content:"Add and manage your products here. You can set prices, track stock levels, and organize items by categories. Keep your inventory up-to-date for accurate sales tracking.",icon:"",action:"Next"},{title:"Point of Sale (POS)",content:"Process sales transactions quickly and efficiently. Scan barcodes, add items manually, apply discounts, and handle different payment methods.",icon:"",action:"Next"},{title:"Team Management",content:"Add cashiers and team members to your business. Assign roles and permissions to control access to different features of the system.",icon:"",action:"Next"},{title:"Reports & Analytics",content:"Track your business performance with detailed reports. Monitor sales trends, inventory levels, and generate insights to grow your business.",icon:"",action:"Next"},{title:"You're All Set!",content:"Congratulations! You're now ready to start using eKahera. Remember, you can always access help and support from the menu. Welcome aboard!",icon:"",action:"Start Using eKahera"}],a=()=>{t<s.length-1?r(t+1):u()},l=()=>{i(!1),e()},u=()=>{i(!1),e()};if(!n)return null;const d=s[t];return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",t+1," of ",s.length]}),o.jsx("button",{onClick:l,className:"text-sm text-gray-500 hover:text-gray-700",children:"Skip Tutorial"})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(t+1)/s.length*100}%`}})})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"text-6xl mb-4",children:d.icon}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:d.title}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.content})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:()=>r(Math.max(0,t-1)),disabled:t===0,className:`px-4 py-2 text-sm rounded-md ${t===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:"Previous"}),o.jsx("div",{className:"flex space-x-2",children:s.map((h,m)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${m===t?"bg-blue-600":m<t?"bg-blue-300":"bg-gray-300"}`},m))}),o.jsx(He,{onClick:a,children:d.action})]})]})})}function hw(){const e=gn();return{logout:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user"),e("/login")}}}function v8({user:e,onProceed:t}){const[r,n]=j.useState(null),[i,s]=j.useState(!0),[a,l]=j.useState(null),[u,d]=j.useState(!1),[h,m]=j.useState(!1),{logout:p}=hw();j.useEffect(()=>{const A=sessionStorage.getItem("verification_fetched");e&&!A?(v(),sessionStorage.setItem("verification_fetched","true")):e||s(!1);const N=localStorage.getItem(`tutorial_completed_${e==null?void 0:e.user_id}`);m(N==="true")},[e]);const v=async()=>{try{const A=localStorage.getItem("token"),N=await at(`/documents/business/${e.businessId}`,{headers:{Authorization:`Bearer ${A}`}});n(N),console.log("Verification data:",N)}catch(A){A.message==="jwt expired"||A.message==='{"error":"Invalid token"}'?p():l(A.message||"Failed to fetch verification status")}finally{s(!1)}};if(i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ii,{size:"lg"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Checking verification status..."})]})});if(a)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[o.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),o.jsx("p",{className:"text-gray-600 mb-4",children:a}),o.jsx(He,{onClick:()=>window.location.reload(),children:"Try Again"})]})});const{verification:x}=r,C=(x==null?void 0:x.verification_status)||"not_submitted";return C==="approved"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((A,N)=>o.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,fontSize:`${Math.random()*20+20}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+2}s`},children:["","","","","",""][Math.floor(Math.random()*6)]},N))}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 relative",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8 text-center relative z-10",children:[o.jsx("div",{className:"text-6xl mb-6 animate-bounce",children:""}),o.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4 animate-pulse",children:"Congratulations!"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Business Has Been Verified!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Welcome to eKahera! Your business documents have been reviewed and approved. You now have full access to all system features."}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:" What's Next?"}),o.jsxs("ul",{className:"text-sm text-green-700 text-left space-y-1",children:[o.jsx("li",{children:"  Set up your product inventory"}),o.jsx("li",{children:"  Configure your POS system"}),o.jsx("li",{children:"  Add team members and cashiers"}),o.jsx("li",{children:"  Start processing sales"})]})]}),o.jsx(He,{onClick:()=>{h?t():d(!0)},className:"bg-green-600 hover:bg-green-700 transform hover:scale-105 transition-all duration-200",children:" Get Started with eKahera"}),o.jsx("div",{className:"mt-4 text-sm text-gray-500",children:h?"Welcome back!":"We'll guide you through the system!"})]})})]}):C==="rejected"?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center",children:[o.jsx("div",{className:"text-red-500 text-6xl mb-6",children:""}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Additional Information Required"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your business application requires additional information or documentation before it can be approved."}),(x==null?void 0:x.rejection_reason)&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 text-left",children:[o.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Reason:"}),o.jsx("p",{className:"text-red-700 text-sm",children:x.rejection_reason})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Please review the feedback and resubmit your documents with the necessary corrections or additional information."}),o.jsx(He,{onClick:()=>window.location.href="/get-started",children:"Update Application"})]})}):C==="repass"?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center",children:[o.jsx("div",{className:"text-yellow-500 text-6xl mb-6",children:""}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Document Resubmission Required"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Some of your submitted documents appear to be unclear or blurry. Please resubmit clear, high-quality images for verification."}),(x==null?void 0:x.resubmission_notes)&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-left",children:[o.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Specific Issues:"}),o.jsx("p",{className:"text-yellow-700 text-sm",children:x.resubmission_notes})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Please ensure documents are clear, well-lit, and all text is readable before resubmitting."}),o.jsx(He,{onClick:()=>window.location.href="/get-started",children:"Resubmit Documents"})]})}):o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[o.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-md p-8 text-center",children:[o.jsx("div",{className:"text-blue-500 text-6xl mb-6",children:""}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Verification in Progress"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for submitting your business application! Our verification team is currently reviewing your documents."}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"What's Happening:"}),o.jsxs("ul",{className:"text-sm text-blue-700 text-left space-y-1",children:[o.jsx("li",{children:" Your documents are being reviewed by our team"}),o.jsx("li",{children:" Verification typically takes 1-3 business days"}),o.jsx("li",{children:" You'll receive an email notification once complete"}),o.jsx("li",{children:" No action is required from you at this time"})]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Please check back in 1-3 business days"})," or wait for our email notification."]})}),o.jsxs("div",{className:"flex space-x-4 justify-center",children:[o.jsx(He,{onClick:v,variant:"outline",children:"Refresh Status"}),o.jsx(He,{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},variant:"outline",children:"Logout"})]})]}),u&&o.jsx(fT,{onComplete:()=>{d(!1),m(!0),localStorage.setItem(`tutorial_completed_${e.user_id}`,"true"),t()}})]})}function y8({children:e}){const t=Ga(),[r,n]=j.useState(null),[i,s]=j.useState(!1),[a,l]=j.useState(!1);j.useEffect(()=>{if(!sessionStorage.getItem("verification_checked")){const p=localStorage.getItem("user");if(p)try{const v=JSON.parse(p);n(v);const x=localStorage.getItem(`tutorial_completed_${v.user_id}`);l(x==="true")}catch(v){console.error("Failed to parse user data from localStorage:",v),n(null)}sessionStorage.setItem("verification_checked","true")}},[]);const d=["/setup","/login","/get-started","/","/contact","/services"].includes(t.pathname);if(!r||!r.businessId||r.role==="superadmin"||d)return o.jsxs(o.Fragment,{children:[e,i&&o.jsx(fT,{onComplete:()=>{s(!1),l(!0),localStorage.setItem(`tutorial_completed_${r==null?void 0:r.user_id}`,"true")}})]});const h=()=>{a||s(!0)};return o.jsx(v8,{user:r,onProceed:h})}function x8(){return o.jsx("div",{className:"app",children:o.jsx(g8,{children:o.jsx(y8,{children:o.jsx(TB,{})})})})}function V0({size:e=35,className:t="",variant:r="default"}){const[n,i]=j.useState(!1),[s,a]=j.useState(""),l="eKahera";j.useEffect(()=>{i(!0);let m=0;const p=setInterval(()=>{a(l.slice(0,m+1)),m++,m===l.length&&clearInterval(p)},150);return()=>clearInterval(p)},[]);const h=`flex items-center justify-center ${{default:"shadow-none",flat:"shadow-none",gradient:"shadow-none"}[r]} ${t}`;return o.jsxs("div",{className:h,role:"img","aria-label":"eKahera Logo",children:[o.jsx("img",{src:fw,alt:"eKahera Logo",className:"object-contain bg-transparent",style:{width:e,height:e}}),o.jsx("span",{className:"ml-1 font-semibold text-black text-shadow-lg whitespace-nowrap",children:l})]})}const b8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAqoSURBVHic7d2xql3l1oDhN26bKCRqZwhaaKKYKmhQ7I2lpBDEQpCABMR4JYIkpVgrFopWIbkBDYh26o6giOYCghoLdZ9innPI4Rwhf/7sPWZcz3MFL7vY31hjzTW/AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdsu+6QBu2lPVyepEdbR6sDpQbU1GARvtj+padbW6Ul2uLlafT0ZxcwwA63ZP9Vr1evXocAvAzfq2Ol+9U10fbuEvGADW61R1rjo8HQJwi36ozlYfT4fw36yP12er5eB/q2XFD3CnOli9VN1fXap2ZnO4kQ3AumxV71UvTocA3GYfVC+3PDfACtgArMu56tXpCIBdcKxlI3BhOoSFDcB6nKo+nI4A2GUvVJ9MR2AAWIv91dfVQ9MhALvsx+qx6tfpkE1313QAVZ3J4Q9shsPV6ekIbADWYF/LCzQemQ4B2CPbLVsABtkAzHsyhz+wWY5Wx6cjNp0BYN7z0wEAA05OB2w6A8C8E9MBAAOeng7YdAaAeUemAwAGuN9kmAFg3qHpAIAB7jkZZgCYd+90AMAA//uGGQAAYAMZAOb9Mh0AMODn6YBNZwCYd3U6AGDAT9MBm84AMG97OgBgwJXpgE1nAJh3eToAYMCn0wGbzgAw7+J0AMCAS9MBm85lQOtwJS/FADaHy4BWwAZgHc5PBwDsoXPTAdgArMX+6qvq4ekQgF32XfVE9dt0yKazAViH69Wb0xEAu2ynOpvDfxW2pgP4t2+qB3JDFvD39Xa+8lwNA8C6XKoer45NhwDcZu9XZ1q2AKyAAWBddqqPqoPVM8MtALfDTssn/zPVn8Mt3MAAsD471YXqi+rZ6r7ZHIBb9n31Ssva3yf/lfErgHXbX52u3qiODrcA3Kztlp/6vZsH/lbLAHDnOF491/LVwJHqUHWgunsyCthov1fXWi41264+a3m76ZeTUQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3Jn2TQf8HzxVnaxOVEerB6sD1dZkFAAb64/qWnW1ulJdri5Wn09G3ay1DwD3VK9Vr1ePDrcAwM34tjpfvVNdH275S2seAE5V56rD0yEAcAt+qM5WH0+H/C9rXJ9vtRz8b7Ws+AHgTnSweqm6v7pU7czm/Ke1bQC2qveqF6dDAOA2+qB6ueW5gVVY2wbgXPXqdAQA3GbHWjYCF6ZD/mVNG4BT1YfTEQCwi16oPpmOqPUMAPurr6uHpkMAYBf9WD1W/Todctd0wD+dyeEPwN/f4er0dEStYwOwr+UFCo9MhwDAHthu2QKMWsMG4Mkc/gBsjqPV8emINQwAz08HAMAeOzkdsIYB4MR0AADssaenA9YwAByZDgCAPTZ+v80aBoBD0wEAsMfG77lZwwBw73QAAOyx8bNvDQMAALDH1jAA/DIdAAB77OfpgDUMAFenAwBgj/00HbCGAWB7OgAA9tiV6YA1DACXpwMAYI99Oh2whgHg4nQAAOyxS9MBa7gMqJZVyPhLEQBgD7gM6AbnpwMAYI+cmw6o9WwA9ldfVQ9PhwDALvqueqL6bTpkLRuA69Wb0xEAsIt2qrOt4PCv2poOuME31QOt4IYkANgFb7eir7zXNADU8lTk49Wx6RAAuI3er860bAFWYW0DwE71UXWwema4BQD+v3ZaPvmfqf4cbvkPaxsAavljXai+qJ6t7pvNAYBb8n31SsvafzWf/P9lLb8C+Cv7q9PVG9XR4RYAuBnbLT/1e7eVPPD3v6x9ALjR8eq5lq8GjlSHqgPV3ZNRAGys36trLZfabVeftbzd9svJKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAO9W+6QBu2lPVyepEdbR6sDpQbU1GARvtj+padbW6Ul2uLlafT0ZxcwwA63ZP9Vr1evXocAvAzfq2Ol+9U10fbuEvGADW61R1rjo8HQJwi36ozlYfT4fw36yP12er5eB/q2XFD3CnOli9VN1fXap2ZnO4kQ3AumxV71UvTocA3GYfVC+3PDfACtgArMu56tXpCIBdcKxlI3BhOoSFDcB6nKo+nI4A2GUvVJ9MR2AAWIv91dfVQ9MhALvsx+qx6tfpkE1313QAVZ3J4Q9shsPV6ekIbADWYF/LCzQemQ4B2CPbLVsABtkAzHsyhz+wWY5Wx6cjNp0BYN7z0wEAA05OB2w6A8C8E9MBAAOeng7YdAaAeUemAwAGuN9kmAFg3qHpAIAB7jkZZgCYd+90AMAA//uGGQAAYAMZAOb9Mh0AMODn6YBNZwCYd3U6AGDAT9MBm84AMG97OgBgwJXpgE1nAJh3eToAYMCn0wGbzgAw7+J0AMCAS9MBm85lQOtwJS/FADaHy4BWwAZgHc5PBwDsoXPTAdgArMX+6qvq4ekQgF32XfVE9dt0yKazAViH69Wb0xEAu2ynOpvDfxW2pgP4t2+qB3JDFvD39Xa+8lwNA8C6XKoer45NhwDcZu9XZ1q2AKyAAWBddqqPqoPVM8MtALfDTssn/zPVn8Mt3MAAsD471YXqi+rZ6r7ZHIBb9n31Ssva3yf/lfErgHXbX52u3qiODrcA3Kztlp/6vZsH/lbLAHDnOF491/LVwJHqUHWgunsyCthov1fXWi41264+a3m76ZeTUQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANP+ATIv6iuU2+VKAAAAAElFTkSuQmCC";function U0({className:e=""}){Ga();const[t,r]=j.useState(!1),n=[{label:"Home",path:"/"},{label:"Features",path:"#features"},{label:"About",path:"#about"},{label:"FAQ",path:"#faq"}],i=()=>{r(!t)};return j.useEffect(()=>{const s=document.getElementById("main-navbar"),a=()=>{window.scrollY>10?s.classList.add("navbar-scrolled"):s.classList.remove("navbar-scrolled")};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),o.jsxs("nav",{id:"main-navbar",className:`site-navbar-base flex items-center justify-between px-5 py-3 bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/70 border border-blue-100 shadow-lg rounded-full fixed top-0 left-1/2 transform -translate-x-1/2 w-[95vw] max-w-4xl z-50 ${e}`,style:{fontFamily:"Inter, sans-serif",fontWeight:600},role:"navigation","aria-label":"Primary",children:[o.jsx("style",{children:`
        /* Hide other header images (duplicate logos) but keep the nav logo visible */
        header img:not(.nav-logo) { display: none !important; }
      `}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx(xl,{to:"/","aria-label":"eKahera home",className:"flex items-center",children:o.jsx(V0,{size:42,className:"nav-logo w-auto"})})}),o.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center space-x-7",role:"menubar",children:n.map(s=>o.jsxs("a",{href:s.path,className:"group relative text-slate-800 hover:text-blue-700 transition-colors text-base px-1.5 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",style:{fontFamily:"Inter, sans-serif"},role:"menuitem",children:[s.label,o.jsx("span",{className:"absolute left-0 -bottom-1 h-0.5 bg-blue-600 transition-all duration-300 w-0 group-hover:w-full"})]},s.label))}),o.jsx("div",{className:"hidden md:flex items-center",children:o.jsx(xl,{to:"/get-started",className:"text-white font-semibold px-6 py-2 rounded-full shadow-md bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 focus:from-blue-700 focus:to-blue-600 transition-all text-base",style:{fontFamily:"Inter, sans-serif"},children:"Get Started"})}),o.jsx("div",{className:"md:hidden",children:o.jsx(He,{"aria-expanded":t,"aria-controls":"mobile-menu",onClick:i,className:"md:hidden bg-white hover:bg-blue-50 text-gray-800 px-2 py-2 font-medium transition-colors cursor-pointer border-opacity-20 rounded-xl border-2 border-blue-600 flex items-center","aria-label":"Open menu",children:o.jsx("img",{src:b8,alt:"menu",className:"w-5 h-5"})})}),t&&o.jsxs("div",{id:"mobile-menu",className:"md:hidden absolute top-full left-1/2 transform -translate-x-1/2 w-[90vw] max-w-sm bg-white/95 backdrop-blur shadow-lg z-50 flex flex-col items-start px-6 py-5 space-y-5 rounded-xl border border-blue-100 mt-2",role:"menu",children:[n.map(s=>o.jsx("a",{href:s.path,className:"text-gray-800 hover:text-blue-700 font-medium text-base w-full transition-colors",style:{fontFamily:"Inter, sans-serif"},onClick:()=>r(!1),role:"menuitem",children:s.label},s.label)),o.jsx(xl,{to:"/get-started",className:"text-white px-7 py-3 rounded-full font-semibold text-base cursor-pointer w-full text-center transition-colors bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600",style:{fontFamily:"Inter, sans-serif"},onClick:()=>r(!1),role:"menuitem",children:"Get Started"})]})]})}const mw=j.createContext({});function ru(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const pw=typeof window<"u",Hh=pw?j.useLayoutEffect:j.useEffect,q0=j.createContext(null);function gw(e,t){e.indexOf(t)===-1&&e.push(t)}function W0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const $a=(e,t,r)=>r>t?t:r<e?e:r;let w8=()=>{},vw=()=>{};const Co={},hT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mT(e){return typeof e=="object"&&e!==null}const pT=e=>/^0[^.\s]+$/u.test(e);function yw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Mi=e=>e,j8=(e,t)=>r=>t(e(r)),Yh=(...e)=>e.reduce(j8),Hc=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class xw{constructor(){this.subscriptions=[]}add(t){return gw(this.subscriptions,t),()=>W0(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pa=e=>e*1e3,La=e=>e/1e3;function bw(e,t){return t?e*(1e3/t):0}const A8=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},gT=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,S8=1e-7,C8=12;function k8(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=gT(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>S8&&++l<C8);return a}function Qh(e,t,r,n){if(e===t&&r===n)return Mi;const i=s=>k8(s,0,1,e,r);return s=>s===0||s===1?s:gT(i(s),t,n)}const vT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yT=e=>t=>1-e(1-t),xT=Qh(.33,1.53,.69,.99),ww=yT(xT),bT=vT(ww),wT=e=>(e*=2)<1?.5*ww(e):.5*(2-Math.pow(2,-10*(e-1))),jw=e=>1-Math.sin(Math.acos(e)),jT=yT(jw),AT=vT(jw),N8=Qh(.42,0,1,1),E8=Qh(0,0,.58,1),ST=Qh(.42,0,.58,1),CT=e=>Array.isArray(e)&&typeof e[0]!="number";function kT(e,t){return CT(e)?e[A8(0,e.length,t)]:e}const NT=e=>Array.isArray(e)&&typeof e[0]=="number",P8={linear:Mi,easeIn:N8,easeInOut:ST,easeOut:E8,circIn:jw,circInOut:AT,circOut:jT,backIn:ww,backInOut:bT,backOut:xT,anticipate:wT},_8=e=>typeof e=="string",cC=e=>{if(NT(e)){vw(e.length===4);const[t,r,n,i]=e;return Qh(t,r,n,i)}else if(_8(e))return P8[e];return e},tp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function T8(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(h){a.has(h)&&(d.schedule(h),e()),h(l)}const d={schedule:(h,m=!1,p=!1)=>{const x=p&&i?r:n;return m&&a.add(h),x.has(h)||x.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(l=h,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),r.clear(),i=!1,s&&(s=!1,d.process(h))}};return d}const O8=40;function ET(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=tp.reduce((O,M)=>(O[M]=T8(s),O),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:h,update:m,preRender:p,render:v,postRender:x}=a,C=()=>{const O=Co.useManualTiming?i.timestamp:performance.now();r=!1,Co.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(O-i.timestamp,O8),1)),i.timestamp=O,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),h.process(i),m.process(i),p.process(i),v.process(i),x.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(C))},A=()=>{r=!0,n=!0,i.isProcessing||e(C)};return{schedule:tp.reduce((O,M)=>{const D=a[M];return O[M]=(I,$=!1,W=!1)=>(r||A(),D.schedule(I,$,W)),O},{}),cancel:O=>{for(let M=0;M<tp.length;M++)a[tp[M]].cancel(O)},state:i,steps:a}}const{schedule:xr,cancel:ga,state:In,steps:ey}=ET(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0);let Ep;function M8(){Ep=void 0}const Ti={now:()=>(Ep===void 0&&Ti.set(In.isProcessing||Co.useManualTiming?In.timestamp:performance.now()),Ep),set:e=>{Ep=e,queueMicrotask(M8)}},PT=e=>t=>typeof t=="string"&&t.startsWith(e),Aw=PT("--"),R8=PT("var(--"),Sw=e=>R8(e)?I8.test(e.split("/*")[0].trim()):!1,I8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ud={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jh={...Ud,transform:e=>$a(0,1,e)},rp={...Ud,default:1},oh=e=>Math.round(e*1e5)/1e5,Cw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D8(e){return e==null}const L8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kw=(e,t)=>r=>!!(typeof r=="string"&&L8.test(r)&&r.startsWith(e)||t&&!D8(r)&&Object.prototype.hasOwnProperty.call(r,t)),_T=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(Cw);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},B8=e=>$a(0,255,e),ty={...Ud,transform:e=>Math.round(B8(e))},Rc={test:kw("rgb","red"),parse:_T("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+ty.transform(e)+", "+ty.transform(t)+", "+ty.transform(r)+", "+oh(jh.transform(n))+")"};function F8(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const gb={test:kw("#"),parse:F8,transform:Rc.transform},Jh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fl=Jh("deg"),Ba=Jh("%"),Bt=Jh("px"),$8=Jh("vh"),z8=Jh("vw"),uC={...Ba,parse:e=>Ba.parse(e)/100,transform:e=>Ba.transform(e*100)},hd={test:kw("hsl","hue"),parse:_T("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ba.transform(oh(t))+", "+Ba.transform(oh(r))+", "+oh(jh.transform(n))+")"},dn={test:e=>Rc.test(e)||gb.test(e)||hd.test(e),parse:e=>Rc.test(e)?Rc.parse(e):hd.test(e)?hd.parse(e):gb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Rc.transform(e):hd.transform(e),getAnimatableNone:e=>{const t=dn.parse(e);return t.alpha=0,dn.transform(t)}},V8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U8(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cw))==null?void 0:t.length)||0)+(((r=e.match(V8))==null?void 0:r.length)||0)>0}const TT="number",OT="color",q8="var",W8="var(",dC="${}",G8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ah(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(G8,u=>(dn.test(u)?(n.color.push(s),i.push(OT),r.push(dn.parse(u))):u.startsWith(W8)?(n.var.push(s),i.push(q8),r.push(u)):(n.number.push(s),i.push(TT),r.push(parseFloat(u))),++s,dC)).split(dC);return{values:r,split:l,indexes:n,types:i}}function MT(e){return Ah(e).values}function RT(e){const{split:t,types:r}=Ah(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===TT?s+=oh(i[a]):l===OT?s+=dn.transform(i[a]):s+=i[a]}return s}}const K8=e=>typeof e=="number"?0:dn.test(e)?dn.getAnimatableNone(e):e;function H8(e){const t=MT(e);return RT(e)(t.map(K8))}const Cl={test:U8,parse:MT,createTransformer:RT,getAnimatableNone:H8};function ry(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Y8({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;i=ry(u,l,e+1/3),s=ry(u,l,e),a=ry(u,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Kp(e,t){return r=>r>0?t:e}const Dr=(e,t,r)=>e+(t-e)*r,ny=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Q8=[gb,Rc,hd],J8=e=>Q8.find(t=>t.test(e));function fC(e){const t=J8(e);if(!t)return!1;let r=t.parse(e);return t===hd&&(r=Y8(r)),r}const hC=(e,t)=>{const r=fC(e),n=fC(t);if(!r||!n)return Kp(e,t);const i={...r};return s=>(i.red=ny(r.red,n.red,s),i.green=ny(r.green,n.green,s),i.blue=ny(r.blue,n.blue,s),i.alpha=Dr(r.alpha,n.alpha,s),Rc.transform(i))},vb=new Set(["none","hidden"]);function X8(e,t){return vb.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Z8(e,t){return r=>Dr(e,t,r)}function Nw(e){return typeof e=="number"?Z8:typeof e=="string"?Sw(e)?Kp:dn.test(e)?hC:rF:Array.isArray(e)?IT:typeof e=="object"?dn.test(e)?hC:eF:Kp}function IT(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>Nw(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function eF(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Nw(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function tF(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const rF=(e,t)=>{const r=Cl.createTransformer(t),n=Ah(e),i=Ah(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?vb.has(e)&&!i.values.length||vb.has(t)&&!n.values.length?X8(e,t):Yh(IT(tF(n,i),i.values),r):Kp(e,t)};function DT(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Dr(e,t,r):Nw(e)(e,t)}const nF=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>xr.update(t,r),stop:()=>ga(t),now:()=>In.isProcessing?In.timestamp:Ti.now()}},LT=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Hp=2e4;function Ew(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Hp;)t+=r,n=e.next(t);return t>=Hp?1/0:t}function BT(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(Ew(n),Hp);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:La(i)}}const iF=5;function FT(e,t,r){const n=Math.max(t-iF,0);return bw(r-e(n),t-n)}const Qr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iy=.001;function sF({duration:e=Qr.duration,bounce:t=Qr.bounce,velocity:r=Qr.velocity,mass:n=Qr.mass}){let i,s,a=1-t;a=$a(Qr.minDamping,Qr.maxDamping,a),e=$a(Qr.minDuration,Qr.maxDuration,La(e)),a<1?(i=d=>{const h=d*a,m=h*e,p=h-r,v=yb(d,a),x=Math.exp(-m);return iy-p/v*x},s=d=>{const m=d*a*e,p=m*r+r,v=Math.pow(a,2)*Math.pow(d,2)*e,x=Math.exp(-m),C=yb(Math.pow(d,2),a);return(-i(d)+iy>0?-1:1)*((p-v)*x)/C}):(i=d=>{const h=Math.exp(-d*e),m=(d-r)*e+1;return-iy+h*m},s=d=>{const h=Math.exp(-d*e),m=(r-d)*(e*e);return h*m});const l=5/e,u=oF(i,s,l);if(e=pa(e),isNaN(u))return{stiffness:Qr.stiffness,damping:Qr.damping,duration:e};{const d=Math.pow(u,2)*n;return{stiffness:d,damping:a*2*Math.sqrt(n*d),duration:e}}}const aF=12;function oF(e,t,r){let n=r;for(let i=1;i<aF;i++)n=n-e(n)/t(n);return n}function yb(e,t){return e*Math.sqrt(1-t*t)}const lF=["duration","bounce"],cF=["stiffness","damping","mass"];function mC(e,t){return t.some(r=>e[r]!==void 0)}function uF(e){let t={velocity:Qr.velocity,stiffness:Qr.stiffness,damping:Qr.damping,mass:Qr.mass,isResolvedFromDuration:!1,...e};if(!mC(e,cF)&&mC(e,lF))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*$a(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Qr.mass,stiffness:i,damping:s}}else{const r=sF(e);t={...t,...r,mass:Qr.mass},t.isResolvedFromDuration=!0}return t}function Sh(e=Qr.visualDuration,t=Qr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:h,duration:m,velocity:p,isResolvedFromDuration:v}=uF({...r,velocity:-La(r.velocity||0)}),x=p||0,C=d/(2*Math.sqrt(u*h)),A=a-s,N=La(Math.sqrt(u/h)),T=Math.abs(A)<5;n||(n=T?Qr.restSpeed.granular:Qr.restSpeed.default),i||(i=T?Qr.restDelta.granular:Qr.restDelta.default);let O;if(C<1){const D=yb(N,C);O=I=>{const $=Math.exp(-C*N*I);return a-$*((x+C*N*A)/D*Math.sin(D*I)+A*Math.cos(D*I))}}else if(C===1)O=D=>a-Math.exp(-N*D)*(A+(x+N*A)*D);else{const D=N*Math.sqrt(C*C-1);O=I=>{const $=Math.exp(-C*N*I),W=Math.min(D*I,300);return a-$*((x+C*N*A)*Math.sinh(W)+D*A*Math.cosh(W))/D}}const M={calculatedDuration:v&&m||null,next:D=>{const I=O(D);if(v)l.done=D>=m;else{let $=D===0?x:0;C<1&&($=D===0?pa(x):FT(O,D,I));const W=Math.abs($)<=n,K=Math.abs(a-I)<=i;l.done=W&&K}return l.value=l.done?a:I,l},toString:()=>{const D=Math.min(Ew(M),Hp),I=LT($=>M.next(D*$).value,D,30);return D+"ms "+I},toTransition:()=>{}};return M}Sh.applyToOptions=e=>{const t=BT(e,100,Sh);return e.ease=t.ease,e.duration=pa(t.duration),e.type="keyframes",e};function xb({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:d=.5,restSpeed:h}){const m=e[0],p={done:!1,value:m},v=W=>l!==void 0&&W<l||u!==void 0&&W>u,x=W=>l===void 0?u:u===void 0||Math.abs(l-W)<Math.abs(u-W)?l:u;let C=r*t;const A=m+C,N=a===void 0?A:a(A);N!==A&&(C=N-m);const T=W=>-C*Math.exp(-W/n),O=W=>N+T(W),M=W=>{const K=T(W),J=O(W);p.done=Math.abs(K)<=d,p.value=p.done?N:J};let D,I;const $=W=>{v(p.value)&&(D=W,I=Sh({keyframes:[p.value,x(p.value)],velocity:FT(O,W,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return $(0),{calculatedDuration:null,next:W=>{let K=!1;return!I&&D===void 0&&(K=!0,M(W),$(W)),D!==void 0&&W>=D?I.next(W-D):(!K&&M(W),p)}}}function dF(e,t,r){const n=[],i=r||Co.mix||DT,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||Mi:t;l=Yh(u,l)}n.push(l)}return n}function Pw(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(vw(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=dF(t,n,i),u=l.length,d=h=>{if(a&&h<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=Hc(e[m],e[m+1],h);return l[m](p)};return r?h=>d($a(e[0],e[s-1],h)):d}function $T(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Hc(0,t,n);e.push(Dr(r,1,i))}}function _w(e){const t=[0];return $T(t,e.length-1),t}function fF(e,t){return e.map(r=>r*t)}function hF(e,t){return e.map(()=>t||ST).splice(0,e.length-1)}function lh({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=CT(n)?n.map(cC):cC(n),s={done:!1,value:t[0]},a=fF(r&&r.length===t.length?r:_w(t),e),l=Pw(a,t,{ease:Array.isArray(i)?i:hF(t,i)});return{calculatedDuration:e,next:u=>(s.value=l(u),s.done=u>=e,s)}}const mF=e=>e!==null;function Tw(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(mF),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const pF={decay:xb,inertia:xb,tween:lh,keyframes:lh,spring:Sh};function zT(e){typeof e.type=="string"&&(e.type=pF[e.type])}class Ow{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const gF=e=>e/100;class G0 extends Ow{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Ti.now()&&this.tick(Ti.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zT(t);const{type:r=lh,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const u=r||lh;u!==lh&&typeof l[0]!="number"&&(this.mixKeyframes=Yh(gF,DT(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Ew(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:p,repeatDelay:v,type:x,onUpdate:C,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,M=n;if(m){const W=Math.min(this.currentTime,i)/l;let K=Math.floor(W),J=W%1;!J&&W>=1&&(J=1),J===1&&K--,K=Math.min(K,m+1),!!(K%2)&&(p==="reverse"?(J=1-J,v&&(J-=v/l)):p==="mirror"&&(M=a)),O=$a(0,1,J)*l}const D=T?{done:!1,value:h[0]}:M.next(O);s&&(D.value=s(D.value));let{done:I}=D;!T&&u!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return $&&x!==xb&&(D.value=Tw(h,this.options,A,this.speed)),C&&C(D.value),$&&this.finish(),D}then(t,r){return this.finished.then(t,r)}get duration(){return La(this.calculatedDuration)}get time(){return La(this.currentTime)}set time(t){var r;t=pa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ti.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=La(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=nF,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function vF(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ic=e=>e*180/Math.PI,bb=e=>{const t=Ic(Math.atan2(e[1],e[0]));return wb(t)},yF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bb,rotateZ:bb,skewX:e=>Ic(Math.atan(e[1])),skewY:e=>Ic(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},wb=e=>(e=e%360,e<0&&(e+=360),e),pC=bb,gC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gC,scaleY:vC,scale:e=>(gC(e)+vC(e))/2,rotateX:e=>wb(Ic(Math.atan2(e[6],e[5]))),rotateY:e=>wb(Ic(Math.atan2(-e[2],e[0]))),rotateZ:pC,rotate:pC,skewX:e=>Ic(Math.atan(e[4])),skewY:e=>Ic(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jb(e){return e.includes("scale")?1:0}function Ab(e,t){if(!e||e==="none")return jb(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=xF,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=yF,i=l}if(!i)return jb(t);const s=n[t],a=i[1].split(",").map(wF);return typeof s=="function"?s(a):a[s]}const bF=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Ab(r,t)};function wF(e){return parseFloat(e.trim())}const qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wd=new Set(qd),yC=e=>e===Ud||e===Bt,jF=new Set(["x","y","z"]),AF=qd.filter(e=>!jF.has(e));function SF(e){const t=[];return AF.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Vc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ab(t,"x"),y:(e,{transform:t})=>Ab(t,"y")};Vc.translateX=Vc.x;Vc.translateY=Vc.y;const Uc=new Set;let Sb=!1,Cb=!1,kb=!1;function VT(){if(Cb){const e=Array.from(Uc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=SF(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Cb=!1,Sb=!1,Uc.forEach(e=>e.complete(kb)),Uc.clear()}function UT(){Uc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cb=!0)})}function CF(){kb=!0,UT(),VT(),kb=!1}class Mw{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Uc.add(this),Sb||(Sb=!0,xr.read(UT),xr.resolveKeyframes(VT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}vF(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Uc.delete(this)}cancel(){this.state==="scheduled"&&(Uc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kF=e=>e.startsWith("--");function NF(e,t,r){kF(t)?e.style.setProperty(t,r):e.style[t]=r}const qT=yw(()=>window.ScrollTimeline!==void 0),EF={};function PF(e,t){const r=yw(e);return()=>EF[t]??r()}const WT=PF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),th=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,xC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:th([0,.65,.55,1]),circOut:th([.55,0,1,.45]),backIn:th([.31,.01,.66,-.59]),backOut:th([.33,1.53,.69,.99])};function GT(e,t){if(e)return typeof e=="function"?WT()?LT(e,t):"ease-out":NT(e)?th(e):Array.isArray(e)?e.map(r=>GT(r,t)||xC.easeOut):xC[e]}function _F(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:u}={},d=void 0){const h={[t]:r};u&&(h.offset=u);const m=GT(l,i);Array.isArray(m)&&(h.easing=m);const p={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(h,p)}function Rw(e){return typeof e=="function"&&"applyToOptions"in e}function TF({type:e,...t}){return Rw(e)&&WT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class OF extends Ow{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,vw(typeof t.type!="string");const d=TF(t);this.animation=_F(r,n,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=Tw(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):NF(r,n,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return La(Number(t))}get time(){return La(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=pa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qT()?(this.animation.timeline=t,Mi):r(this)}}const KT={anticipate:wT,backInOut:bT,circInOut:AT};function MF(e){return e in KT}function RF(e){typeof e.ease=="string"&&MF(e.ease)&&(e.ease=KT[e.ease])}const bC=10;class IF extends OF{constructor(t){RF(t),zT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new G0({...a,autoplay:!1}),u=pa(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-bC).value,l.sample(u).value,bC),l.stop()}}const wC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Cl.test(e)||e==="0")&&!e.startsWith("url("));function DF(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function LF(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=wC(i,t),l=wC(s,t);return!a||!l?!1:DF(e)||(r==="spring"||Rw(r))&&n}function K0(e){return mT(e)&&"offsetHeight"in e}const BF=new Set(["opacity","clipPath","filter","transform"]),FF=yw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $F(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!K0((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return FF()&&r&&BF.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const zF=40;class VF extends Ow{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:u,motionValue:d,element:h,...m}){var x;super(),this.stop=()=>{var C,A;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Ti.now();const p={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:d,element:h,...m},v=(h==null?void 0:h.KeyframeResolver)||Mw;this.keyframeResolver=new v(l,(C,A,N)=>this.onKeyframesResolved(C,A,p,!N),u,d,h),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:u,isHandoff:d,onUpdate:h}=n;this.resolvedAt=Ti.now(),LF(t,s,a,l)||((Co.instantAnimations||!u)&&(h==null||h(Tw(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>zF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!d&&$F(p)?new IF({...p,element:p.motionValue.owner.current}):new G0(p);v.finished.then(()=>this.notifyFinished()).catch(Mi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),CF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class UF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,i)=>{n&&n(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qF extends UF{then(t,r){return this.finished.finally(t).then(()=>{})}}const WF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GF(e){const t=WF.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function HT(e,t,r=1){const[n,i]=GF(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return hT(a)?parseFloat(a):a}return Sw(i)?HT(i,t,r+1):i}function Iw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const YT=new Set(["width","height","top","left","right","bottom",...qd]),KF={test:e=>e==="auto",parse:e=>e},QT=e=>t=>t.test(e),JT=[Ud,Bt,Ba,fl,z8,$8,KF],jC=e=>JT.find(QT(e));function HF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pT(e):!0}const YF=new Set(["brightness","contrast","saturate","opacity"]);function QF(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Cw)||[];if(!n)return e;const i=r.replace(n,"");let s=YF.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const JF=/\b([a-z-]*)\(.*?\)/gu,Nb={...Cl,getAnimatableNone:e=>{const t=e.match(JF);return t?t.map(QF).join(" "):e}},AC={...Ud,transform:Math.round},XF={rotate:fl,rotateX:fl,rotateY:fl,rotateZ:fl,scale:rp,scaleX:rp,scaleY:rp,scaleZ:rp,skew:fl,skewX:fl,skewY:fl,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:jh,originX:uC,originY:uC,originZ:Bt},Dw={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt,...XF,zIndex:AC,fillOpacity:jh,strokeOpacity:jh,numOctaves:AC},ZF={...Dw,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Nb,WebkitFilter:Nb},XT=e=>ZF[e];function ZT(e,t){let r=XT(e);return r!==Nb&&(r=Cl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const e7=new Set(["auto","none","0"]);function t7(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!e7.has(s)&&Ah(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=ZT(r,i)}class r7 extends Mw{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),Sw(d))){const h=HT(d,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!YT.has(n)||t.length!==2)return;const[i,s]=t,a=jC(i),l=jC(s);if(a!==l)if(yC(a)&&yC(l))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else Vc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||HF(t[i]))&&n.push(i);n.length&&t7(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Vc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function Lw(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const eO=(e,t)=>t&&typeof e=="number"?t.transform(e):e,SC=30,n7=e=>!isNaN(parseFloat(e)),ch={current:void 0};class i7{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{var a,l;const s=Ti.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=n7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new xw);const n=this.events[t].add(r);return t==="change"?()=>{n(),xr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ch.current&&ch.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>SC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,SC);return bw(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ma(e,t){return new i7(e,t)}const{schedule:Bw}=ET(queueMicrotask,!1),la={x:!1,y:!1};function tO(){return la.x||la.y}function s7(e){return e==="x"||e==="y"?la[e]?null:(la[e]=!0,()=>{la[e]=!1}):la.x||la.y?null:(la.x=la.y=!0,()=>{la.x=la.y=!1})}function rO(e,t){const r=Lw(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function CC(e){return!(e.pointerType==="touch"||tO())}function a7(e,t,r={}){const[n,i,s]=rO(e,r),a=l=>{if(!CC(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const h=m=>{CC(m)&&(d(m),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const nO=(e,t)=>t?e===t?!0:nO(e,t.parentElement):!1,Fw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,o7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function l7(e){return o7.has(e.tagName)||e.tabIndex!==-1}const Pp=new WeakSet;function kC(e){return t=>{t.key==="Enter"&&e(t)}}function sy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const c7=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=kC(()=>{if(Pp.has(r))return;sy(r,"down");const i=kC(()=>{sy(r,"up")}),s=()=>sy(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function NC(e){return Fw(e)&&!tO()}function u7(e,t,r={}){const[n,i,s]=rO(e,r),a=l=>{const u=l.currentTarget;if(!NC(l))return;Pp.add(u);const d=t(u,l),h=(v,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Pp.has(u)&&Pp.delete(u),NC(v)&&typeof d=="function"&&d(v,{success:x})},m=v=>{h(v,u===window||u===document||r.useGlobalTarget||nO(u,v.target))},p=v=>{h(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),K0(l)&&(l.addEventListener("focus",d=>c7(d,i)),!l7(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function H0(e){return mT(e)&&"ownerSVGElement"in e}const _p=new WeakMap;let hl;const iO=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:H0(n)&&"getBBox"in n?n.getBBox()[t]:n[r],d7=iO("inline","width","offsetWidth"),f7=iO("block","height","offsetHeight");function h7({target:e,borderBoxSize:t}){var r;(r=_p.get(e))==null||r.forEach(n=>{n(e,{get width(){return d7(e,t)},get height(){return f7(e,t)}})})}function m7(e){e.forEach(h7)}function p7(){typeof ResizeObserver>"u"||(hl=new ResizeObserver(m7))}function g7(e,t){hl||p7();const r=Lw(e);return r.forEach(n=>{let i=_p.get(n);i||(i=new Set,_p.set(n,i)),i.add(t),hl==null||hl.observe(n)}),()=>{r.forEach(n=>{const i=_p.get(n);i==null||i.delete(t),i!=null&&i.size||hl==null||hl.unobserve(n)})}}const Tp=new Set;let md;function v7(){md=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Tp.forEach(t=>t(e))},window.addEventListener("resize",md)}function y7(e){return Tp.add(e),md||v7(),()=>{Tp.delete(e),!Tp.size&&typeof md=="function"&&(window.removeEventListener("resize",md),md=void 0)}}function x7(e,t){return typeof e=="function"?y7(e):g7(e,t)}function sO(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return xr.preUpdate(n,!0),()=>ga(n)}function aO(e){return H0(e)&&e.tagName==="svg"}function b7(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=Pw(i,s,a);return t?l(n):l}const fn=e=>!!(e&&e.getVelocity);function w7(e,t,r){const n=e.get();let i=null,s=n,a;const l=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{i&&(i.stop(),i=null)},d=()=>{u(),i=new G0({keyframes:[PC(e.get()),PC(s)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:a})};e.attach((m,p)=>(s=m,a=v=>p(EC(v,l)),xr.postRender(d),e.get()),u);let h;return fn(t)&&(h=t.on("change",m=>e.set(EC(m,l))),e.on("destroy",h)),h}function EC(e,t){return t?e+t:e}function PC(e){return typeof e=="number"?e:parseFloat(e)}const j7=[...JT,dn,Cl],A7=e=>j7.find(QT(e)),Xh=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class S7 extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=K0(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function C7({children:e,isPresent:t,anchorX:r,root:n}){const i=j.useId(),s=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=j.useContext(Xh);return j.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:m,right:p}=a.current;if(t||!s.current||!u||!d)return;const v=r==="left"?`left: ${m}`:`right: ${p}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");l&&(x.nonce=l);const C=n??document.head;return C.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{C.removeChild(x),C.contains(x)&&C.removeChild(x)}},[t]),o.jsx(S7,{isPresent:t,childRef:s,sizeRef:a,children:j.cloneElement(e,{ref:s})})}const k7=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:u})=>{const d=ru(N7),h=j.useId();let m=!0,p=j.useMemo(()=>(m=!1,{id:h,initial:t,isPresent:r,custom:i,onExitComplete:v=>{d.set(v,!0);for(const x of d.values())if(!x)return;n&&n()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[r,d,n]);return s&&m&&(p={...p}),j.useMemo(()=>{d.forEach((v,x)=>d.set(x,!1))},[r]),j.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(C7,{isPresent:r,anchorX:l,root:u,children:e})),o.jsx(q0.Provider,{value:p,children:e})};function N7(){return new Map}function oO(e=!0){const t=j.useContext(q0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=j.useId();j.useEffect(()=>{if(e)return i(s)},[e]);const a=j.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const np=e=>e.key||"";function _C(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const Op=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:u})=>{const[d,h]=oO(a),m=j.useMemo(()=>_C(e),[e]),p=a&&!d?[]:m.map(np),v=j.useRef(!0),x=j.useRef(m),C=ru(()=>new Map),[A,N]=j.useState(m),[T,O]=j.useState(m);Hh(()=>{v.current=!1,x.current=m;for(let I=0;I<T.length;I++){const $=np(T[I]);p.includes($)?C.delete($):C.get($)!==!0&&C.set($,!1)}},[T,p.length,p.join("-")]);const M=[];if(m!==A){let I=[...m];for(let $=0;$<T.length;$++){const W=T[$],K=np(W);p.includes(K)||(I.splice($,0,W),M.push(W))}return s==="wait"&&M.length&&(I=M),O(_C(I)),N(m),null}const{forceRender:D}=j.useContext(mw);return o.jsx(o.Fragment,{children:T.map(I=>{const $=np(I),W=a&&!d?!1:m===T||p.includes($),K=()=>{if(C.has($))C.set($,!0);else return;let J=!0;C.forEach(Z=>{Z||(J=!1)}),J&&(D==null||D(),O(x.current),a&&(h==null||h()),n&&n())};return o.jsx(k7,{isPresent:W,initial:!v.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:W?void 0:K,anchorX:l,children:I},$)})})},lO=j.createContext({strict:!1}),TC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_d={};for(const e in TC)_d[e]={isEnabled:t=>TC[e].some(r=>!!t[r])};function E7(e){for(const t in e)_d[t]={..._d[t],...e[t]}}const P7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P7.has(e)}let cO=e=>!Yp(e);function _7(e){typeof e=="function"&&(cO=t=>t.startsWith("on")?!Yp(t):e(t))}try{_7(require("@emotion/is-prop-valid").default)}catch{}function T7(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(cO(i)||r===!0&&Yp(i)||!t&&!Yp(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function O7(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Y0=j.createContext({});function Q0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ch(e){return typeof e=="string"||Array.isArray(e)}const $w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zw=["initial",...$w];function J0(e){return Q0(e.animate)||zw.some(t=>Ch(e[t]))}function uO(e){return!!(J0(e)||e.variants)}function M7(e,t){if(J0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ch(r)?r:void 0,animate:Ch(n)?n:void 0}}return e.inherit!==!1?t:{}}function R7(e){const{initial:t,animate:r}=M7(e,j.useContext(Y0));return j.useMemo(()=>({initial:t,animate:r}),[OC(t),OC(r)])}function OC(e){return Array.isArray(e)?e.join(" "):e}const I7=Symbol.for("motionComponentSymbol");function pd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function D7(e,t,r){return j.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):pd(r)&&(r.current=n))},[t])}const Vw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L7="framerAppearId",dO="data-"+Vw(L7),fO=j.createContext({});function B7(e,t,r,n,i){var C,A;const{visualElement:s}=j.useContext(Y0),a=j.useContext(lO),l=j.useContext(q0),u=j.useContext(Xh).reducedMotion,d=j.useRef(null);n=n||a.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,m=j.useContext(fO);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&F7(d.current,r,i,m);const p=j.useRef(!1);j.useInsertionEffect(()=>{h&&p.current&&h.update(r,l)});const v=r[dO],x=j.useRef(!!v&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,v))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,v)));return Hh(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Bw.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),j.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,v)}),x.current=!1))}),h}function F7(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:hO(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&pd(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:u,layoutRoot:d})}function hO(e){if(e)return e.options.allowProjection!==!1?e.projection:hO(e.parent)}function $7({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&E7(e);function s(l,u){let d;const h={...j.useContext(Xh),...l,layoutId:z7(l)},{isStatic:m}=h,p=R7(l),v=n(l,m);if(!m&&pw){V7();const x=U7(h);d=x.MeasureLayout,p.visualElement=B7(i,v,h,t,x.ProjectionNode)}return o.jsxs(Y0.Provider,{value:p,children:[d&&p.visualElement?o.jsx(d,{visualElement:p.visualElement,...h}):null,r(i,l,D7(v,p.visualElement,u),v,m,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=j.forwardRef(s);return a[I7]=i,a}function z7({layoutId:e}){const t=j.useContext(mw).id;return t&&e!==void 0?t+"-"+e:e}function V7(e,t){j.useContext(lO).strict}function U7(e){const{drag:t,layout:r}=_d;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const kh={};function q7(e){for(const t in e)kh[t]=e[t],Aw(t)&&(kh[t].isCSSVariable=!0)}function mO(e,{layout:t,layoutId:r}){return Wd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!kh[e]||e==="opacity")}const W7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G7=qd.length;function K7(e,t,r){let n="",i=!0;for(let s=0;s<G7;s++){const a=qd[s],l=e[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const d=eO(l,Dw[a]);if(!u){i=!1;const h=W7[a]||a;n+=`${h}(${d}) `}r&&(t[a]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Uw(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const u in t){const d=t[u];if(Wd.has(u)){a=!0;continue}else if(Aw(u)){i[u]=d;continue}else{const h=eO(d,Dw[u]);u.startsWith("origin")?(l=!0,s[u]=h):n[u]=h}}if(t.transform||(a||r?n.transform=K7(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=s;n.transformOrigin=`${u} ${d} ${h}`}}const qw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pO(e,t,r){for(const n in t)!fn(t[n])&&!mO(n,r)&&(e[n]=t[n])}function H7({transformTemplate:e},t){return j.useMemo(()=>{const r=qw();return Uw(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Y7(e,t){const r=e.style||{},n={};return pO(n,r,e),Object.assign(n,H7(e,t)),n}function Q7(e,t){const r={},n=Y7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const J7={offset:"stroke-dashoffset",array:"stroke-dasharray"},X7={offset:"strokeDashoffset",array:"strokeDasharray"};function Z7(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?J7:X7;e[s.offset]=Bt.transform(-n);const a=Bt.transform(t),l=Bt.transform(r);e[s.array]=`${a} ${l}`}function gO(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},u,d,h){if(Uw(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&Z7(m,i,s,a,!1)}const vO=()=>({...qw(),attrs:{}}),yO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function e9(e,t,r,n){const i=j.useMemo(()=>{const s=vO();return gO(s,t,yO(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};pO(s,e.style,e),i.style={...s,...i.style}}return i}const t9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ww(e){return typeof e!="string"||e.includes("-")?!1:!!(t9.indexOf(e)>-1||/[A-Z]/u.test(e))}function r9(e=!1){return(r,n,i,{latestValues:s},a)=>{const u=(Ww(r)?e9:Q7)(n,s,a,r),d=T7(n,typeof r=="string",e),h=r!==j.Fragment?{...d,...u,ref:i}:{},{children:m}=n,p=j.useMemo(()=>fn(m)?m.get():m,[m]);return j.createElement(r,{...h,children:p})}}function MC(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Gw(e,t,r,n){if(typeof t=="function"){const[i,s]=MC(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=MC(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function Mp(e){return fn(e)?e.get():e}function n9({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:i9(r,n,i,e),renderState:t()}}const xO=e=>(t,r)=>{const n=j.useContext(Y0),i=j.useContext(q0),s=()=>n9(e,t,n,i);return r?s():ru(s)};function i9(e,t,r,n){const i={},s=n(e,{});for(const p in s)i[p]=Mp(s[p]);let{initial:a,animate:l}=e;const u=J0(e),d=uO(e);t&&d&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||a===!1;const m=h?l:a;if(m&&typeof m!="boolean"&&!Q0(m)){const p=Array.isArray(m)?m:[m];for(let v=0;v<p.length;v++){const x=Gw(e,p[v]);if(x){const{transitionEnd:C,transition:A,...N}=x;for(const T in N){let O=N[T];if(Array.isArray(O)){const M=h?O.length-1:0;O=O[M]}O!==null&&(i[T]=O)}for(const T in C)i[T]=C[T]}}}return i}function Kw(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(fn(n[a])||t.style&&fn(t.style[a])||mO(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const s9={useVisualState:xO({scrapeMotionValuesFromProps:Kw,createRenderState:qw})};function bO(e,t,r){const n=Kw(e,t,r);for(const i in e)if(fn(e[i])||fn(t[i])){const s=qd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const a9={useVisualState:xO({scrapeMotionValuesFromProps:bO,createRenderState:vO})};function o9(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...Ww(n)?a9:s9,preloadedFeatures:e,useRender:r9(i),createVisualElement:t,Component:n};return $7(a)}}function Nh(e,t,r){const n=e.getProps();return Gw(n,t,r!==void 0?r:n.custom,e)}const Eb=e=>Array.isArray(e);function l9(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ma(r))}function c9(e){return Eb(e)?e[e.length-1]||0:e}function Hw(e,t){const r=Nh(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=c9(s[a]);l9(e,a,l)}}function u9(e){return!!(fn(e)&&e.add)}function Pb(e,t){const r=e.getValue("willChange");if(u9(r))return r.add(t);if(!r&&Co.WillChange){const n=new Co.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function wO(e){return e.props[dO]}const d9=e=>e!==null;function f9(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(d9),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[s]}const h9={type:"spring",stiffness:500,damping:25,restSpeed:10},m9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),p9={type:"keyframes",duration:.8},g9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},v9=(e,{keyframes:t})=>t.length>2?p9:Wd.has(e)?e.startsWith("scale")?m9(t[1]):h9:g9;function y9({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const Yw=(e,t,r,n={},i,s)=>a=>{const l=Iw(n,e)||{},u=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-pa(u);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};y9(l)||Object.assign(h,v9(e,h)),h.duration&&(h.duration=pa(h.duration)),h.repeatDelay&&(h.repeatDelay=pa(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(Co.instantAnimations||Co.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!s&&t.get()!==void 0){const p=f9(h.keyframes,l);if(p!==void 0){xr.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new G0(h):new VF(h)};function x9({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Qw(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),p=l[h];if(p===void 0||d&&x9(d,h))continue;const v={delay:r,...Iw(s||{},h)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===x&&!v.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const N=wO(e);if(N){const T=window.MotionHandoffAnimation(N,h,xr);T!==null&&(v.startTime=T,C=!0)}}Pb(e,h),m.start(Yw(h,m,p,e.shouldReduceMotion&&YT.has(h)?{type:!1}:v,e,C));const A=m.animation;A&&u.push(A)}return a&&Promise.all(u).then(()=>{xr.update(()=>{a&&Hw(e,a)})}),u}function _b(e,t,r={}){var u;const n=Nh(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(Qw(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=i;return b9(e,t,d,h,m,p,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,a]:[a,s];return d().then(()=>h())}else return Promise.all([s(),a(r.delay)])}function b9(e,t,r=0,n=0,i=0,s=1,a){const l=[],u=e.variantChildren.size,d=(u-1)*i,h=typeof n=="function",m=h?p=>n(p,u):s===1?(p=0)=>p*i:(p=0)=>d-p*i;return Array.from(e.variantChildren).sort(w9).forEach((p,v)=>{p.notify("AnimationStart",t),l.push(_b(p,t,{...a,delay:r+(h?0:n)+m(v)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(l)}function w9(e,t){return e.sortNodePosition(t)}function jO(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>_b(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=_b(e,t,r);else{const i=typeof t=="function"?Nh(e,t,r.custom):t;n=Promise.all(Qw(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function AO(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const j9=zw.length;function SO(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?SO(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<j9;r++){const n=zw[r],i=e.props[n];(Ch(i)||i===!1)&&(t[n]=i)}return t}const A9=[...$w].reverse(),S9=$w.length;function C9(e){return t=>Promise.all(t.map(({animation:r,options:n})=>jO(e,r,n)))}function k9(e){let t=C9(e),r=RC(),n=!0;const i=u=>(d,h)=>{var p;const m=Nh(e,h,u==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:v,transitionEnd:x,...C}=m;d={...d,...C,...x}}return d};function s(u){t=u(e)}function a(u){const{props:d}=e,h=SO(e.parent)||{},m=[],p=new Set;let v={},x=1/0;for(let A=0;A<S9;A++){const N=A9[A],T=r[N],O=d[N]!==void 0?d[N]:h[N],M=Ch(O),D=N===u?T.isActive:null;D===!1&&(x=A);let I=O===h[N]&&O!==d[N]&&M;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...v},!T.isActive&&D===null||!O&&!T.prevProp||Q0(O)||typeof O=="boolean")continue;const $=N9(T.prevProp,O);let W=$||N===u&&T.isActive&&!I&&M||A>x&&M,K=!1;const J=Array.isArray(O)?O:[O];let Z=J.reduce(i(N),{});D===!1&&(Z={});const{prevResolvedValues:de={}}=T,ce={...de,...Z},ee=pe=>{W=!0,p.has(pe)&&(K=!0,p.delete(pe)),T.needsAnimating[pe]=!0;const ie=e.getValue(pe);ie&&(ie.liveStyle=!1)};for(const pe in ce){const ie=Z[pe],be=de[pe];if(v.hasOwnProperty(pe))continue;let me=!1;Eb(ie)&&Eb(be)?me=!AO(ie,be):me=ie!==be,me?ie!=null?ee(pe):p.add(pe):ie!==void 0&&p.has(pe)?ee(pe):T.protectedKeys[pe]=!0}T.prevProp=O,T.prevResolvedValues=Z,T.isActive&&(v={...v,...Z}),n&&e.blockInitialAnimation&&(W=!1),W&&(!(I&&$)||K)&&m.push(...J.map(pe=>({animation:pe,options:{type:N}})))}if(p.size){const A={};if(typeof d.initial!="boolean"){const N=Nh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(A.transition=N.transition)}p.forEach(N=>{const T=e.getBaseTarget(N),O=e.getValue(N);O&&(O.liveStyle=!0),A[N]=T??null}),m.push({animation:A})}let C=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(C=!1),n=!1,C?t(m):Promise.resolve()}function l(u,d){var m;if(r[u].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(u,d)}),r[u].isActive=d;const h=a(u);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=RC(),n=!0}}}function N9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AO(t,e):!1}function jc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RC(){return{animate:jc(!0),whileInView:jc(),whileHover:jc(),whileTap:jc(),whileDrag:jc(),whileFocus:jc(),exit:jc()}}class _l{constructor(t){this.isMounted=!1,this.node=t}update(){}}class E9 extends _l{constructor(t){super(t),t.animationState||(t.animationState=k9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Q0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let P9=0;class _9 extends _l{constructor(){super(...arguments),this.id=P9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const T9={animation:{Feature:E9},exit:{Feature:_9}};function Eh(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Zh(e){return{point:{x:e.pageX,y:e.pageY}}}const O9=e=>t=>Fw(t)&&e(t,Zh(t));function uh(e,t,r,n){return Eh(e,t,O9(r),n)}function CO({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function M9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function R9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const kO=1e-4,I9=1-kO,D9=1+kO,NO=.01,L9=0-NO,B9=0+NO;function mi(e){return e.max-e.min}function F9(e,t,r){return Math.abs(e-t)<=r}function IC(e,t,r,n=.5){e.origin=n,e.originPoint=Dr(t.min,t.max,e.origin),e.scale=mi(r)/mi(t),e.translate=Dr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=I9&&e.scale<=D9||isNaN(e.scale))&&(e.scale=1),(e.translate>=L9&&e.translate<=B9||isNaN(e.translate))&&(e.translate=0)}function dh(e,t,r,n){IC(e.x,t.x,r.x,n?n.originX:void 0),IC(e.y,t.y,r.y,n?n.originY:void 0)}function DC(e,t,r){e.min=r.min+t.min,e.max=e.min+mi(t)}function $9(e,t,r){DC(e.x,t.x,r.x),DC(e.y,t.y,r.y)}function LC(e,t,r){e.min=t.min-r.min,e.max=e.min+mi(t)}function fh(e,t,r){LC(e.x,t.x,r.x),LC(e.y,t.y,r.y)}const BC=()=>({translate:0,scale:1,origin:0,originPoint:0}),gd=()=>({x:BC(),y:BC()}),FC=()=>({min:0,max:0}),Yr=()=>({x:FC(),y:FC()});function Ds(e){return[e("x"),e("y")]}function ay(e){return e===void 0||e===1}function Tb({scale:e,scaleX:t,scaleY:r}){return!ay(e)||!ay(t)||!ay(r)}function Cc(e){return Tb(e)||EO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function EO(e){return $C(e.x)||$C(e.y)}function $C(e){return e&&e!=="0%"}function Qp(e,t,r){const n=e-r,i=t*n;return r+i}function zC(e,t,r,n,i){return i!==void 0&&(e=Qp(e,i,n)),Qp(e,r,n)+t}function Ob(e,t=0,r=1,n,i){e.min=zC(e.min,t,r,n,i),e.max=zC(e.max,t,r,n,i)}function PO(e,{x:t,y:r}){Ob(e.x,t.translate,t.scale,t.originPoint),Ob(e.y,r.translate,r.scale,r.originPoint)}const VC=.999999999999,UC=1.0000000000001;function z9(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yd(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,PO(e,a)),n&&Cc(s.latestValues)&&yd(e,s.latestValues))}t.x<UC&&t.x>VC&&(t.x=1),t.y<UC&&t.y>VC&&(t.y=1)}function vd(e,t){e.min=e.min+t,e.max=e.max+t}function qC(e,t,r,n,i=.5){const s=Dr(e.min,e.max,i);Ob(e,t,r,s,n)}function yd(e,t){qC(e.x,t.x,t.scaleX,t.scale,t.originX),qC(e.y,t.y,t.scaleY,t.scale,t.originY)}function _O(e,t){return CO(R9(e.getBoundingClientRect(),t))}function V9(e,t,r){const n=_O(e,r),{scroll:i}=t;return i&&(vd(n.x,i.offset.x),vd(n.y,i.offset.y)),n}const TO=({current:e})=>e?e.ownerDocument.defaultView:null,WC=(e,t)=>Math.abs(e-t);function U9(e,t){const r=WC(e.x,t.x),n=WC(e.y,t.y);return Math.sqrt(r**2+n**2)}class OO{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ly(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=U9(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:C}=p,{timestamp:A}=In;this.history.push({...C,timestamp:A});const{onStart:N,onMove:T}=this.handlers;v||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=oy(v,this.transformPagePoint),xr.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:x,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=ly(p.type==="pointercancel"?this.lastMoveEventInfo:oy(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,N),C&&C(p,N)},!Fw(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Zh(t),u=oy(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=In;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=r;m&&m(t,ly(u,this.history)),this.removeListeners=Yh(uh(this.contextWindow,"pointermove",this.handlePointerMove),uh(this.contextWindow,"pointerup",this.handlePointerUp),uh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ga(this.updatePoint)}}function oy(e,t){return t?{point:t(e.point)}:e}function GC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ly({point:e},t){return{point:e,delta:GC(e,MO(t)),offset:GC(e,q9(t)),velocity:W9(t,.1)}}function q9(e){return e[0]}function MO(e){return e[e.length-1]}function W9(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=MO(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>pa(t)));)r--;if(!n)return{x:0,y:0};const s=La(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function G9(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Dr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Dr(r,e,n.max):Math.min(e,r)),e}function KC(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function K9(e,{top:t,left:r,bottom:n,right:i}){return{x:KC(e.x,r,i),y:KC(e.y,t,n)}}function HC(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function H9(e,t){return{x:HC(e.x,t.x),y:HC(e.y,t.y)}}function Y9(e,t){let r=.5;const n=mi(e),i=mi(t);return i>n?r=Hc(t.min,t.max-n,e.min):n>i&&(r=Hc(e.min,e.max-i,t.min)),$a(0,1,r)}function Q9(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Mb=.35;function J9(e=Mb){return e===!1?e=0:e===!0&&(e=Mb),{x:YC(e,"left","right"),y:YC(e,"top","bottom")}}function YC(e,t,r){return{min:QC(e,t),max:QC(e,r)}}function QC(e,t){return typeof e=="number"?e:e[t]||0}const X9=new WeakMap;class Z9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zh(m).point)},a=(m,p)=>{const{drag:v,dragPropagation:x,onDragStart:C}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=s7(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ds(N=>{let T=this.getAxisMotionValue(N).get()||0;if(Ba.test(T)){const{projection:O}=this.visualElement;if(O&&O.layout){const M=O.layout.layoutBox[N];M&&(T=mi(M)*(parseFloat(T)/100))}}this.originPoint[N]=T}),C&&xr.postRender(()=>C(m,p)),Pb(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:C,onDrag:A}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=p;if(x&&this.currentDirection===null){this.currentDirection=e$(N),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),A&&A(m,p)},u=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ds(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new OO(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:TO(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&xr.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!ip(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=G9(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&pd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=K9(n.layoutBox,t):this.constraints=!1,this.elastic=J9(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ds(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Q9(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!pd(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=V9(n,i.root,this.visualElement.getTransformPagePoint());let a=H9(i.layout.layoutBox,s);if(r){const l=r(M9(a));this.hasMutatedConstraints=!!l,l&&(a=CO(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Ds(h=>{if(!ip(h,r,this.currentDirection))return;let m=u&&u[h]||{};a&&(m={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:n?t[h]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(h,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Pb(this.visualElement,t),n.start(Yw(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ds(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ds(r=>{const{drag:n}=this.getProps();if(!ip(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Dr(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!pd(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ds(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();i[a]=Y9({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ds(a=>{if(!ip(a,t,null))return;const l=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];l.set(Dr(u,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;X9.set(this.visualElement,this);const t=this.visualElement.current,r=uh(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();pd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xr.read(n);const a=Eh(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ds(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Mb,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function ip(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function e$(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class t$ extends _l{constructor(t){super(t),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new Z9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const JC=e=>(t,r)=>{e&&xr.postRender(()=>e(t,r))};class r$ extends _l{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(t){this.session=new OO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:JC(t),onStart:JC(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&xr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=uh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Bt.test(e))e=parseFloat(e);else return e;const r=XC(e,t.target.x),n=XC(e,t.target.y);return`${r}% ${n}%`}},n$={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Cl.parse(e);if(i.length>5)return n;const s=Cl.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=u;const d=Dr(l,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}};let ZC=!1;class i$ extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;q7(s$),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),ZC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,ZC=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||xr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RO(e){const[t,r]=oO(),n=j.useContext(mw);return o.jsx(i$,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(fO),isPresent:t,safeToRemove:r})}const s$={borderRadius:{...zf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zf,borderTopRightRadius:zf,borderBottomLeftRadius:zf,borderBottomRightRadius:zf,boxShadow:n$};function IO(e,t,r){const n=fn(e)?e:ma(e);return n.start(Yw("",n,t,r)),n.animation}const a$=(e,t)=>e.depth-t.depth;class o${constructor(){this.children=[],this.isDirty=!1}add(t){gw(this.children,t),this.isDirty=!0}remove(t){W0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(a$),this.isDirty=!1,this.children.forEach(t)}}function l$(e,t){const r=Ti.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(ga(n),e(s-t))};return xr.setup(n,!0),()=>ga(n)}const DO=["TopLeft","TopRight","BottomLeft","BottomRight"],c$=DO.length,ek=e=>typeof e=="string"?parseFloat(e):e,tk=e=>typeof e=="number"||Bt.test(e);function u$(e,t,r,n,i,s){i?(e.opacity=Dr(0,r.opacity??1,d$(n)),e.opacityExit=Dr(t.opacity??1,0,f$(n))):s&&(e.opacity=Dr(t.opacity??1,r.opacity??1,n));for(let a=0;a<c$;a++){const l=`border${DO[a]}Radius`;let u=rk(t,l),d=rk(r,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||tk(u)===tk(d)?(e[l]=Math.max(Dr(ek(u),ek(d),n),0),(Ba.test(d)||Ba.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Dr(t.rotate||0,r.rotate||0,n))}function rk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const d$=LO(0,.5,jT),f$=LO(.5,.95,Mi);function LO(e,t,r){return n=>n<e?0:n>t?1:r(Hc(e,t,n))}function nk(e,t){e.min=t.min,e.max=t.max}function Ts(e,t){nk(e.x,t.x),nk(e.y,t.y)}function ik(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sk(e,t,r,n,i){return e-=t,e=Qp(e,1/r,n),i!==void 0&&(e=Qp(e,1/i,n)),e}function h$(e,t=0,r=1,n=.5,i,s=e,a=e){if(Ba.test(t)&&(t=parseFloat(t),t=Dr(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Dr(s.min,s.max,n);e===s&&(l-=t),e.min=sk(e.min,t,r,l,i),e.max=sk(e.max,t,r,l,i)}function ak(e,t,[r,n,i],s,a){h$(e,t[r],t[n],t[i],t.scale,s,a)}const m$=["x","scaleX","originX"],p$=["y","scaleY","originY"];function ok(e,t,r,n){ak(e.x,t,m$,r?r.x:void 0,n?n.x:void 0),ak(e.y,t,p$,r?r.y:void 0,n?n.y:void 0)}function lk(e){return e.translate===0&&e.scale===1}function BO(e){return lk(e.x)&&lk(e.y)}function ck(e,t){return e.min===t.min&&e.max===t.max}function g$(e,t){return ck(e.x,t.x)&&ck(e.y,t.y)}function uk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function FO(e,t){return uk(e.x,t.x)&&uk(e.y,t.y)}function dk(e){return mi(e.x)/mi(e.y)}function fk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class v${constructor(){this.members=[]}add(t){gw(this.members,t),t.scheduleRender()}remove(t){if(W0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y$(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:p,skewX:v,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),v&&(n+=`skewX(${v}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const cy=["","X","Y","Z"],x$=1e3;let b$=0;function uy(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $O(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=wO(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",xr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$O(n)}function zO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=b$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(A$),this.nodes.forEach(N$),this.nodes.forEach(E$),this.nodes.forEach(S$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new o$)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new xw),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=H0(a)&&!aO(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let h,m=0;const p=()=>this.root.updateBlockedByResize=!1;xr.read(()=>{m=window.innerWidth}),e(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,h&&h(),h=l$(p,250),Rp.hasAnimatedSinceResize&&(Rp.hasAnimatedSinceResize=!1,this.nodes.forEach(pk)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||M$,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=d.getProps(),N=!this.targetLayout||!FO(this.targetLayout,v),T=!m&&p;if(this.options.layoutRoot||this.resumeFrom||T||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...Iw(x,"layout"),onPlay:C,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(h,T)}else m||pk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$O(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k$),this.nodes.forEach(w$),this.nodes.forEach(j$)):this.nodes.forEach(mk),this.clearAllSnapshots();const l=Ti.now();In.delta=$a(0,1e3/60,l-In.timestamp),In.timestamp=l,In.isProcessing=!0,ey.update.process(In),ey.preRender.process(In),ey.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C$),this.sharedNodes.forEach(_$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mi(this.snapshot.measuredBox.x)&&!mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!BO(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||Cc(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),R$(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:a}=this.options;if(!a)return Yr();const l=a.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(I$))){const{scroll:h}=this.root;h&&(vd(l.x,h.offset.x),vd(l.y,h.offset.y))}return l}removeElementScroll(a){var u;const l=Yr();if(Ts(l,a),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:p}=h;h!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Ts(l,a),vd(l.x,m.offset.x),vd(l.y,m.offset.y))}return l}applyTransform(a,l=!1){const u=Yr();Ts(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&yd(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Cc(h.latestValues)&&yd(u,h.latestValues)}return Cc(this.latestValues)&&yd(u,this.latestValues),u}removeTransform(a){const l=Yr();Ts(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Cc(d.latestValues))continue;Tb(d.latestValues)&&d.updateSnapshot();const h=Yr(),m=d.measurePageBox();Ts(h,m),ok(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Cc(this.latestValues)&&ok(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),fh(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),PO(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),fh(this.relativeTargetOrigin,this.target,v.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tb(this.parent.latestValues)||EO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===In.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ts(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;z9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Yr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ik(this.prevProjectionDelta.x,this.projectionDelta.x),ik(this.prevProjectionDelta.y,this.projectionDelta.y)),dh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!fk(this.projectionDelta.x,this.prevProjectionDelta.x)||!fk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gd(),this.projectionDelta=gd(),this.projectionDeltaWithTransform=gd()}setAnimationOrigin(a,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=gd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Yr(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,C=v!==x,A=this.getStack(),N=!A||A.members.length<=1,T=!!(C&&!N&&this.options.crossfade===!0&&!this.path.some(O$));this.animationProgress=0;let O;this.mixTargetDelta=M=>{const D=M/1e3;gk(m.x,a.x,D),gk(m.y,a.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T$(this.relativeTarget,this.relativeTargetOrigin,p,D),O&&g$(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Yr()),Ts(O,this.relativeTarget)),C&&(this.animationValues=h,u$(h,d,this.latestValues,D,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xr.update(()=>{Rp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ma(0)),this.currentAnimation=IO(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(x$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=a;if(!(!l||!u||!d)){if(this!==a&&this.layout&&d&&VO(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Yr();const m=mi(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const p=mi(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+p}Ts(l,u),yd(l,h),dh(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new v$),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&uy("z",a,d,this.animationValues);for(let h=0;h<cy.length;h++)uy(`rotate${cy[h]}`,a,d,this.animationValues),uy(`skew${cy[h]}`,a,d,this.animationValues);a.render();for(const h in d)a.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Mp(l==null?void 0:l.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Mp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Cc(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=y$(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),a.transform=m;const{x:p,y:v}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?a.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in kh){if(h[x]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:N}=kh[x],T=m==="none"?h[x]:C(h[x],d);if(A){const O=A.length;for(let M=0;M<O;M++)a[A[M]]=T}else N?this.options.visualElement.renderState.vars[x]=T:a[x]=T}this.options.layoutId&&(a.pointerEvents=d===this?Mp(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(hk),this.root.sharedNodes.clear()}}}function w$(e){e.updateLayout()}function j$(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Ds(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],v=mi(p);p.min=n[m].min,p.max=p.min+v}):VO(s,t.layoutBox,n)&&Ds(m=>{const p=a?t.measuredBox[m]:t.layoutBox[m],v=mi(n[m]);p.max=p.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const l=gd();dh(l,n,t.layoutBox);const u=gd();a?dh(u,e.applyTransform(i,!0),t.measuredBox):dh(u,n,t.layoutBox);const d=!BO(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:v}=m;if(p&&v){const x=Yr();fh(x,t.layoutBox,p.layoutBox);const C=Yr();fh(C,n,v.layoutBox),FO(x,C)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function A$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function S$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function C$(e){e.clearSnapshot()}function hk(e){e.clearMeasurements()}function mk(e){e.isLayoutDirty=!1}function k$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N$(e){e.resolveTargetDelta()}function E$(e){e.calcProjection()}function P$(e){e.resetSkewAndRotation()}function _$(e){e.removeLeadSnapshot()}function gk(e,t,r){e.translate=Dr(t.translate,0,r),e.scale=Dr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function vk(e,t,r,n){e.min=Dr(t.min,r.min,n),e.max=Dr(t.max,r.max,n)}function T$(e,t,r,n){vk(e.x,t.x,r.x,n),vk(e.y,t.y,r.y,n)}function O$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const M$={duration:.45,ease:[.4,0,.1,1]},yk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xk=yk("applewebkit/")&&!yk("chrome/")?Math.round:Mi;function bk(e){e.min=xk(e.min),e.max=xk(e.max)}function R$(e){bk(e.x),bk(e.y)}function VO(e,t,r){return e==="position"||e==="preserve-aspect"&&!F9(dk(t),dk(r),.2)}function I$(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const D$=zO({attachResizeListener:(e,t)=>Eh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dy={current:void 0},UO=zO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dy.current){const e=new D$({});e.mount(window),e.setOptions({layoutScroll:!0}),dy.current=e}return dy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L$={pan:{Feature:r$},drag:{Feature:t$,ProjectionNode:UO,MeasureLayout:RO}};function wk(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&xr.postRender(()=>s(t,Zh(t)))}class B$ extends _l{mount(){const{current:t}=this.node;t&&(this.unmount=a7(t,(r,n)=>(wk(this.node,n,"Start"),i=>wk(this.node,i,"End"))))}unmount(){}}class F$ extends _l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yh(Eh(this.node.current,"focus",()=>this.onFocus()),Eh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jk(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&xr.postRender(()=>s(t,Zh(t)))}class $$ extends _l{mount(){const{current:t}=this.node;t&&(this.unmount=u7(t,(r,n)=>(jk(this.node,n,"Start"),(i,{success:s})=>jk(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rb=new WeakMap,fy=new WeakMap,z$=e=>{const t=Rb.get(e.target);t&&t(e)},V$=e=>{e.forEach(z$)};function U$({root:e,...t}){const r=e||document;fy.has(r)||fy.set(r,{});const n=fy.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(V$,{root:e,...t})),n[i]}function q$(e,t,r){const n=U$(t);return Rb.set(e,r),n.observe(e),()=>{Rb.delete(e),n.unobserve(e)}}const W$={some:0,all:1};class G$ extends _l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:W$[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(u)};return q$(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(K$(t,r))&&this.startObserver()}unmount(){}}function K$({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const H$={inView:{Feature:G$},tap:{Feature:$$},focus:{Feature:F$},hover:{Feature:B$}},Y$={layout:{ProjectionNode:UO,MeasureLayout:RO}},Jp={current:null},Jw={current:!1};function qO(){if(Jw.current=!0,!!pw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jp.current=e.matches;e.addEventListener("change",t),t()}else Jp.current=!1}const Ph=new WeakMap;function Q$(e,t,r){for(const n in t){const i=t[n],s=r[n];if(fn(i))e.addValue(n,i);else if(fn(s))e.addValue(n,ma(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,ma(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Ak=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WO{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ti.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xr.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=J0(r),this.isVariantNode=uO(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const v=m[p];u[p]!==void 0&&fn(v)&&v.set(u[p],!1)}}mount(t){this.current=t,Ph.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Jw.current||qO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ga(this.notifyUpdate),ga(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Wd.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&xr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _d){const r=_d[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Ak.length;n++){const i=Ak[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Q$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ma(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(hT(n)||pT(n))?n=parseFloat(n):!A7(n)&&Cl.test(r)&&(n=ZT(t,r)),this.setBaseTarget(t,fn(n)?n.get():n)),fn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Gw(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!fn(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new xw),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class GO extends WO{constructor(){super(...arguments),this.KeyframeResolver=r7}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function KO(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function J$(e){return window.getComputedStyle(e)}class HO extends GO{constructor(){super(...arguments),this.type="html",this.renderInstance=KO}readValueFromInstance(t,r){var n;if(Wd.has(r))return(n=this.projection)!=null&&n.isProjecting?jb(r):bF(t,r);{const i=J$(t),s=(Aw(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return _O(t,r)}build(t,r,n){Uw(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Kw(t,r,n)}}const YO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X$(e,t,r,n){KO(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(YO.has(i)?i:Vw(i),t.attrs[i])}class QO extends GO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Wd.has(r)){const n=XT(r);return n&&n.default||0}return r=YO.has(r)?r:Vw(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return bO(t,r,n)}build(t,r,n){gO(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){X$(t,r,n,i)}mount(t){this.isSVGTag=yO(t.tagName),super.mount(t)}}const Z$=(e,t)=>Ww(e)?new QO(t):new HO(t,{allowProjection:e!==j.Fragment}),ez=o9({...T9,...H$,...L$,...Y$},Z$),wt=O7(ez),tz=50,Sk=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),rz=()=>({time:0,x:Sk(),y:Sk()}),nz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Ck(e,t,r,n){const i=r[t],{length:s,position:a}=nz[t],l=i.current,u=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Hc(0,i.scrollLength,i.current);const d=n-u;i.velocity=d>tz?0:bw(i.current-l,d)}function iz(e,t,r){Ck(e,"x",t,r),Ck(e,"y",t,r),t.time=r}function sz(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(K0(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Ib={start:0,center:.5,end:1};function kk(e,t,r=0){let n=0;if(e in Ib&&(e=Ib[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const az=[0,0];function oz(e,t,r,n){let i=Array.isArray(e)?e:az,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Ib[e]?e:"0"]),s=kk(i[0],r,n),a=kk(i[1],t),s-a}const lz={All:[[0,0],[1,1]]},cz={x:0,y:0};function uz(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function dz(e,t,r){const{offset:n=lz.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?sz(i,e):cz,u=i===e?{width:e.scrollWidth,height:e.scrollHeight}:uz(i),d={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let h=!t[s].interpolate;const m=n.length;for(let p=0;p<m;p++){const v=oz(n[p],d[a],u[a],l[s]);!h&&v!==t[s].interpolatorOffsets[p]&&(h=!0),t[s].offset[p]=v}h&&(t[s].interpolate=Pw(t[s].offset,_w(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=$a(0,1,t[s].interpolate(t[s].current))}function fz(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function hz(e,t,r,n={}){return{measure:i=>{fz(e,n.target,r),iz(e,r,i),(n.offset||n.target)&&dz(e,r,n)},notify:()=>t(r)}}const Vf=new WeakMap,Nk=new WeakMap,hy=new WeakMap,Ek=e=>e===document.scrollingElement?window:e;function JO(e,{container:t=document.scrollingElement,...r}={}){if(!t)return Mi;let n=hy.get(t);n||(n=new Set,hy.set(t,n));const i=rz(),s=hz(t,e,i,r);if(n.add(s),!Vf.has(t)){const l=()=>{for(const m of n)m.measure(In.timestamp);xr.preUpdate(u)},u=()=>{for(const m of n)m.notify()},d=()=>xr.read(l);Vf.set(t,d);const h=Ek(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&Nk.set(t,x7(t,d)),h.addEventListener("scroll",d,{passive:!0}),d()}const a=Vf.get(t);return xr.read(a,!1,!0),()=>{var d;ga(a);const l=hy.get(t);if(!l||(l.delete(s),l.size))return;const u=Vf.get(t);Vf.delete(t),u&&(Ek(t).removeEventListener("scroll",u),(d=Nk.get(t))==null||d(),window.removeEventListener("resize",u))}}const Pk=new Map;function mz(e){const t={value:0},r=JO(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function XO({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Pk.get(t)??new Map;Pk.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&qT()?new ScrollTimeline({source:t,axis:n}):mz({container:t,...r})),a[l]}function pz(e,t){const r=XO(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),sO(i=>{n.time=n.duration*i},r))})}function gz(e){return e.length===2}function vz(e,t){return gz(e)?JO(r=>{e(r[t.axis].progress,r)},t):sO(e,XO(t))}function yz(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return Mi;const i={axis:t,container:r,...n};return typeof e=="function"?vz(e,i):pz(e,i)}function _k(e,t){w8(!!(!t||t.current))}const xz=()=>({scrollX:ma(0),scrollY:ma(0),scrollXProgress:ma(0),scrollYProgress:ma(0)});function ZO({container:e,target:t,layoutEffect:r=!0,...n}={}){const i=ru(xz);return(r?Hh:j.useEffect)(()=>(_k("target",t),_k("container",e),yz((a,{x:l,y:u})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(u.current),i.scrollYProgress.set(u.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),i}function Xp(e){const t=ru(()=>ma(e)),{isStatic:r}=j.useContext(Xh);if(r){const[,n]=j.useState(e);j.useEffect(()=>t.on("change",n),[])}return t}function e3(e,t){const r=Xp(t()),n=()=>r.set(t());return n(),Hh(()=>{const i=()=>xr.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),ga(n)}}),r}function bz(e){ch.current=[],e();const t=e3(ch.current,e);return ch.current=void 0,t}function ca(e,t,r,n){if(typeof e=="function")return bz(e);const i=typeof t=="function"?t:b7(t,r,n);return Array.isArray(e)?Tk(e,i):Tk([e],([s])=>i(s))}function Tk(e,t){const r=ru(()=>[]);return e3(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Uf(e,t={}){const{isStatic:r}=j.useContext(Xh),n=()=>fn(e)?e.get():e;if(r)return ca(n);const i=Xp(n());return j.useInsertionEffect(()=>w7(i,e,t),[i,JSON.stringify(t)]),i}function wz(){!Jw.current&&qO();const[e]=j.useState(Jp.current);return e}function jz(e){e.values.forEach(t=>t.stop())}function Db(e,t){[...t].reverse().forEach(n=>{const i=e.getVariant(n);i&&Hw(e,i),e.variantChildren&&e.variantChildren.forEach(s=>{Db(s,t)})})}function Az(e,t){if(Array.isArray(t))return Db(e,t);if(typeof t=="string")return Db(e,[t]);Hw(e,t)}function Sz(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const i=[];return e.forEach(s=>{i.push(jO(s,r,{transitionOverride:n}))}),Promise.all(i)},set(r){return e.forEach(n=>{Az(n,r)})},stop(){e.forEach(r=>{jz(r)})},mount(){return()=>{t.stop()}}};return t}function Xw(e){return typeof e=="object"&&!Array.isArray(e)}function t3(e,t,r,n){return typeof e=="string"&&Xw(t)?Lw(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Cz(e,t,r){return e*(t+1)}function Ok(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function kz(e,t,r){for(let n=0;n<e.length;n++){const i=e[n];i.at>t&&i.at<r&&(W0(e,i),n--)}}function Nz(e,t,r,n,i,s){kz(e,i,s);for(let a=0;a<t.length;a++)e.push({value:t[a],at:Dr(i,s,n[a]),easing:kT(r,a)})}function Ez(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Pz(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const _z="easeInOut";function Tz(e,{defaultTransition:t={},...r}={},n,i){const s=t.duration||.3,a=new Map,l=new Map,u={},d=new Map;let h=0,m=0,p=0;for(let v=0;v<e.length;v++){const x=e[v];if(typeof x=="string"){d.set(x,m);continue}else if(!Array.isArray(x)){d.set(x.name,Ok(m,x.at,h,d));continue}let[C,A,N={}]=x;N.at!==void 0&&(m=Ok(m,N.at,h,d));let T=0;const O=(M,D,I,$=0,W=0)=>{const K=Oz(M),{delay:J=0,times:Z=_w(K),type:de="keyframes",repeat:ce,repeatType:ee,repeatDelay:ue=0,...je}=D;let{ease:pe=t.ease||"easeOut",duration:ie}=D;const be=typeof J=="function"?J($,W):J,me=K.length,Y=Rw(de)?de:i==null?void 0:i[de||"keyframes"];if(me<=2&&Y){let Ie=100;if(me===2&&Iz(K)){const Fe=K[1]-K[0];Ie=Math.abs(Fe)}const tt={...je};ie!==void 0&&(tt.duration=pa(ie));const qe=BT(tt,Ie,Y);pe=qe.ease,ie=qe.duration}ie??(ie=s);const re=m+be;Z.length===1&&Z[0]===0&&(Z[1]=1);const Se=Z.length-K.length;if(Se>0&&$T(Z,Se),K.length===1&&K.unshift(null),ce){ie=Cz(ie,ce);const Ie=[...K],tt=[...Z];pe=Array.isArray(pe)?[...pe]:[pe];const qe=[...pe];for(let Fe=0;Fe<ce;Fe++){K.push(...Ie);for(let Re=0;Re<Ie.length;Re++)Z.push(tt[Re]+(Fe+1)),pe.push(Re===0?"linear":kT(qe,Re-1))}Ez(Z,ce)}const Te=re+ie;Nz(I,K,pe,Z,re,Te),T=Math.max(be+ie,T),p=Math.max(Te,p)};if(fn(C)){const M=Mk(C,l);O(A,N,Rk("default",M))}else{const M=t3(C,A,n,u),D=M.length;for(let I=0;I<D;I++){A=A,N=N;const $=M[I],W=Mk($,l);for(const K in A)O(A[K],Mz(N,K),Rk(K,W),I,D)}}h=m,m+=T}return l.forEach((v,x)=>{for(const C in v){const A=v[C];A.sort(Pz);const N=[],T=[],O=[];for(let D=0;D<A.length;D++){const{at:I,value:$,easing:W}=A[D];N.push($),T.push(Hc(0,p,I)),O.push(W||"easeOut")}T[0]!==0&&(T.unshift(0),N.unshift(N[0]),O.unshift(_z)),T[T.length-1]!==1&&(T.push(1),N.push(null)),a.has(x)||a.set(x,{keyframes:{},transition:{}});const M=a.get(x);M.keyframes[C]=N,M.transition[C]={...t,duration:p,ease:O,times:T,...r}}}),a}function Mk(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Rk(e,t){return t[e]||(t[e]=[]),t[e]}function Oz(e){return Array.isArray(e)?e:[e]}function Mz(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Rz=e=>typeof e=="number",Iz=e=>e.every(Rz);function Dz(e,t){return e in t}class Lz extends WO{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(Dz(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Yr()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function Bz(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=H0(e)&&!aO(e)?new QO(t):new HO(t);r.mount(e),Ph.set(e,r)}function Fz(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Lz(t);r.mount(e),Ph.set(e,r)}function $z(e,t){return fn(e)||typeof e=="number"||typeof e=="string"&&!Xw(t)}function r3(e,t,r,n){const i=[];if($z(e,t))i.push(IO(e,Xw(t)&&t.default||t,r&&(r.default||r)));else{const s=t3(e,t,n),a=s.length;for(let l=0;l<a;l++){const u=s[l],d=u instanceof Element?Bz:Fz;Ph.has(u)||d(u);const h=Ph.get(u),m={...r};"delay"in m&&typeof m.delay=="function"&&(m.delay=m.delay(l,a)),i.push(...Qw(h,{...t,transition:m},{}))}}return i}function zz(e,t,r){const n=[];return Tz(e,t,r,{spring:Sh}).forEach(({keyframes:s,transition:a},l)=>{n.push(...r3(l,s,a))}),n}function Vz(e){return Array.isArray(e)&&e.some(Array.isArray)}function Uz(e){function t(r,n,i){let s=[];return Vz(r)?s=zz(r,n,e):s=r3(r,n,i,e),new qF(s)}return t}const Ik=Uz();function qz(){const e=ru(Sz);return Hh(e.mount,[]),e}const Dk=qz;var n3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lk=St.createContext&&St.createContext(n3),Wz=["attr","size","title"];function Gz(e,t){if(e==null)return{};var r=Kz(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){Hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hz(e,t,r){return t=Yz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i3(e){return e&&e.map((t,r)=>St.createElement(t.tag,e0({key:r},t.attr),i3(t.child)))}function ya(e){return t=>St.createElement(Jz,Zp({attr:e0({},e.attr)},t),i3(e.child))}function Jz(e){var t=r=>{var{attr:n,size:i,title:s}=e,a=Gz(e,Wz),l=i||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),St.createElement("svg",Zp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:u,style:e0(e0({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&St.createElement("title",null,s),e.children)};return Lk!==void 0?St.createElement(Lk.Consumer,null,r=>t(r)):t(n3)}function Fk(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 18v1c0 1.1-.9 2-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14c1.1 0 2 .9 2 2v1h-9a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(e)}function $k(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function Xz(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(e)}function Zz(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"},child:[]}]})(e)}function zk(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(e)}function eV(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"},child:[]}]})(e)}function s3(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function ds({isOpen:e=!1,onClose:t,title:r,subtitle:n,icon:i,children:s,size:a="md",showHeader:l=!0,showCloseButton:u=!0,footer:d,className:h="",contentClassName:m="",headerIcon:p,disabled:v=!1}){if(!e)return null;const x={sm:"max-w-md",md:"max-w-xl",lg:"max-w-3xl",full:"max-w-5xl"};return o.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0",onClick:t,"aria-hidden":"true"}),o.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl w-full ${x[a]} max-h-[85vh] overflow-hidden flex flex-col z-[10000] ${h}`,children:[o.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-indigo-600/10 rounded-full blur-3xl -z-10"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-60 h-60 bg-gradient-to-tr from-purple-400/10 to-pink-600/10 rounded-full blur-3xl -z-10"}),l&&o.jsxs("div",{className:"sticky top-0 px-6 py-5 bg-gradient-to-r from-white via-slate-50 to-white backdrop-blur-xl border-b border-slate-200/20 flex items-center justify-between z-50 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[(i||p)&&o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:i||p}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 truncate",children:r}),n&&o.jsx("p",{className:"text-xs text-gray-500 truncate",children:n})]})]}),u&&o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-all duration-200 p-2 rounded-xl ml-2 flex-shrink-0",type:"button",disabled:v,"aria-label":"Close modal",children:o.jsx(s3,{className:"w-6 h-6"})})]}),o.jsx("div",{className:`overflow-y-auto flex-1 px-6 py-6 ${m}`,children:s}),d&&o.jsx("div",{className:"sticky bottom-0 px-6 py-4 bg-gradient-to-t from-slate-50 via-white to-transparent border-t border-slate-200/10 flex justify-end gap-3 backdrop-blur-sm flex-shrink-0",children:d})]})]})}function a3({open:e,onClose:t}){j.useEffect(()=>{if(!e)return;const n=i=>{i.key==="Escape"&&(t==null||t())};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e,t]);const r=o.jsx(He,{label:"Close",variant:"primary",onClick:t,className:"w-full"});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Terms and Conditions",subtitle:"Please read carefully before using our service",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C6.5 6.253 2 10.998 2 17c0 5.523 3.592 10 8 10s8-4.477 8-10c0-6.002-4.5-10.747-10-10.747z"})}),footer:r,size:"full",contentClassName:"leading-relaxed text-slate-800 selection:bg-blue-100 selection:text-blue-900",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Terms and Conditions for eKahera"}),o.jsx("p",{className:"text-slate-600 mt-2",children:"Effective Date: May 1, 2025"}),o.jsx("p",{className:"mt-6",children:'Please read this agreement ("Terms") carefully. This document governs your access to and use of the "eKahera: A Web-Based Store Management Platform with Self Checkout", (the "Service").'}),o.jsx("p",{className:"mt-4",children:'The Service is an unpublished undergraduate capstone project ("Project") submitted to the Bicol University College of Science by its student developers.'}),o.jsx("p",{className:"mt-4",children:'By creating an account, accessing the platform, or using the Service, you ("User," "You") acknowledge that you have read, understood, and agree to be bound by these Terms. If you do not agree, do not access or use the Service.'}),o.jsx("h4",{className:"mt-6 font-semibold text-slate-900",children:"1. Definitions"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:'"Service" or "Platform"'}),": Refers to the eKahera web-based store management and self-checkout application."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:'"Developers"'}),": Refers to the authors of the Project: Bonaobra, Inocencio, Jazmin, Mendina, and Perez."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:'"MSME Admin"'}),": A User, typically a store owner, with administrative permissions to manage products, inventory, reports, and staff accounts."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:'"Cashier"'}),": A User, typically a store employee, with permissions to process transactions using the POS interface and verify Customer QR codes."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:'"Customer"'}),": A User who accesses the mobile-friendly web application to scan items, manage a cart, and perform self-checkout."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:'"Simulated Payment"'}),": A mock payment feature used to demonstrate e-wallet functionality. This feature is for testing only and does not process real money."]}),o.jsx("h4",{className:"mt-6 font-semibold text-slate-900",children:"2. Nature of the Service"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Academic Project:"}),' The Service is an academic capstone project. It is provided "AS IS" and "AS AVAILABLE" for demonstration, evaluation, and feedback purposes. It is not a commercial-grade, fully supported product.']}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Open-Source:"})," The Service was developed as an open-source system. Your license to use, modify, and distribute the source code is governed by the specific open-source license accompanying the Project's code repository (if any). These Terms govern your use of the hosted Service, not the source code itself."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Limited Scope:"})," The Service is designed for small retail operations (like convenience stores) and does not cater to restaurants, service providers, or businesses with complex logistics."]}),o.jsx("h4",{className:"mt-6 font-semibold text-slate-900",children:"3. User Accounts and Roles"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"MSME Admin:"})," By registering a store, you represent that you are the owner or authorized representative of that MSME. You are solely responsible for all activity under your account, including managing product data, pricing, and the creation and conduct of Cashier accounts."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Cashier:"})," Your account is created and managed by an MSME Admin. You are responsible for maintaining the confidentiality of your login credentials and for all transactions you process."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Customer:"})," You do not need an account to use the self-checkout feature. You are responsible for accurately scanning all items using your device's camera."]}),o.jsx("h4",{className:"mt-6 font-semibold text-slate-900",children:"4. Critical Disclaimers and Limitations"}),o.jsx("p",{className:"mt-2",children:"The Developers provide the Service without warranties of any kind. You assume all risks associated with its use."}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"No Guarantee of Security:"})," The Service includes basic user authentication and role-based access control. However, you acknowledge that advanced security measures such as end-to-end encryption and penetration testing are beyond the current scope of this Project. The Developers are not liable for any data breach, loss, or unauthorized access."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Payment is Simulated:"})," You acknowledge that all e-wallet payment integrations (e.g., GCash, Maya) are simulated and for demonstration only. The Service cannot and does not process real financial transactions. The Developers are not liable for any real funds lost or financial information compromised by attempting to use this feature."]})]})}function o3({open:e,onClose:t}){j.useEffect(()=>{if(!e)return;const n=i=>i.key==="Escape"&&(t==null?void 0:t());return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e,t]);const r=o.jsx(He,{label:"Close",variant:"primary",onClick:t,className:"w-full"});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Privacy Policy",subtitle:"How we protect your information",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),footer:r,size:"full",contentClassName:"leading-relaxed text-slate-800 selection:bg-blue-100 selection:text-blue-900",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Privacy Policy for eKahera"}),o.jsx("p",{className:"text-slate-600 mt-2",children:"Effective Date: May 1, 2025"}),o.jsx("p",{className:"mt-6",children:'This Privacy Policy describes how the "eKahera: A Web-Based Store Management Platform with Self Checkout" (the "Service" or "Platform") collects, uses, and protects your information. This Service is an unpublished undergraduate capstone project ("Project") developed by students of the Bicol University College of Science.'}),o.jsx("p",{className:"mt-4",children:"By creating an account or using this Service, you agree to the collection and use of information in accordance with this policy."}),o.jsx("h4",{className:"mt-6 font-semibold text-slate-900",children:"1. Information We Collect"}),o.jsx("p",{className:"mt-2",children:"We collect several types of information to provide and improve our Service."}),o.jsx("p",{className:"mt-3 font-medium text-slate-900",children:"A. Information You Provide"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"MSME Admin & Store Information:"})," When an MSME Owner registers a store, we collect information necessary for verification and account setup. This may include your name, store name, contact information, and business details."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Cashier Information:"})," MSME Admins create accounts for their staff. This information is limited to what is needed for role-based access, such as a name and login credentials."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"User Authentication Data:"})," To secure your account, we use Firebase for user authentication, which may manage your email address and password."]}),o.jsx("p",{className:"mt-3 font-medium text-slate-900",children:"B. Information Generated Through Use"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Inventory Data:"})," We collect and store all product information you add to the Platform, including product names, barcode details, prices, and stock levels."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Transaction Data:"})," The Service logs all sales transactions. This includes items sold, quantities, total price, and a timestamp. This data is used to generate sales reports."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Customer Self-Checkout Data:"})," When a Customer uses the self-checkout feature, the Service temporarily collects their shopping cart information (scanned items and quantities) to process the transaction."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"QR Code Verification Data:"})," The system generates a unique QR code for each transaction, which is used by a Cashier to verify the purchase."]}),o.jsx("p",{className:"mt-3 font-medium text-slate-900",children:"C. What We DO NOT Collect"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"No Customer Personal Information:"})," The Customer self-checkout feature is designed to be used without requiring the Customer to create an account or provide any personal information (like name or phone number)."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"No Real Financial Information:"})," The e-wallet payment features (e.g., GCash, Maya) are simulated for demonstration purposes only. We do not collect, process, or store any real financial data, credit card numbers, or e-wallet account details."]}),o.jsx("h4",{className:"mt-6 font-semibold text-slate-900",children:"2. How We Use Your Information"}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"To Provide and Maintain the Service:"})," To operate the POS, manage inventory, and enable the self-checkout and verification systems."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"To Manage Accounts:"})," To authenticate and manage access for MSME Admins and Cashiers based on their roles."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"For MSME Operations:"})," To allow MSME Admins to track sales, monitor inventory, receive low-stock alerts, and generate business reports."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"For Academic Evaluation:"})," As a capstone project, data may be used by the Developers and faculty of the Bicol University IT Department for testing, debugging, and evaluating the system's performance and functional suitability against the project's objectives."]})]})}function tV({className:e=""}){const[t,r]=j.useState(!1),[n,i]=j.useState(!1),s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return o.jsxs("footer",{className:`relative w-full pt-0 overflow-hidden ${e}`,style:{fontFamily:"Inter, sans-serif"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white via-slate-50/80 to-blue-50/40"}),o.jsx(wt.div,{className:"absolute -bottom-40 -left-40 w-[500px] h-[500px] bg-gradient-to-br from-blue-400/15 to-cyan-400/10 rounded-full blur-3xl",animate:{scale:[1,1.1,1],opacity:[.3,.4,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),o.jsx(wt.div,{className:"absolute -bottom-40 -right-40 w-[500px] h-[500px] bg-gradient-to-bl from-purple-400/15 to-pink-400/10 rounded-full blur-3xl",animate:{scale:[1,1.15,1],opacity:[.3,.4,.3]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(59,130,246,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(59,130,246,0.02)_1px,transparent_1px)] bg-[size:3rem_3rem] opacity-40"}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 pt-24 pb-16",children:[o.jsxs(wt.div,{variants:s,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12 lg:gap-16 mb-16",children:[o.jsxs("div",{variants:a,className:"lg:col-span-1",children:[o.jsx("div",{className:"mb-8",whileHover:{scale:1.03},transition:{type:"spring",stiffness:300,damping:20},children:o.jsx(V0,{size:45,className:"text-2xl"})}),o.jsx("p",{className:"text-slate-600 text-sm leading-relaxed mb-8 max-w-xs font-medium",children:"Smart POS platform for fast checkout, unified inventory, and real-time analytics."}),o.jsxs("div",{className:"space-y-4 mb-8",children:[o.jsxs(wt.a,{href:"mailto:support@ekahera.com",className:"flex items-center gap-3 text-sm text-slate-700 hover:text-blue-600 transition-all duration-300 group",whileHover:{x:6,scale:1.02},children:[o.jsx(wt.div,{whileHover:{rotate:5},className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 group-hover:from-blue-100 group-hover:to-blue-200 flex items-center justify-center transition-all duration-300 shadow-sm group-hover:shadow-md",children:o.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-blue-600",children:[o.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),o.jsx("path",{d:"M22 6l-10 7L2 6"})]})}),o.jsx("span",{className:"font-medium",children:"support@ekahera.com"})]}),o.jsxs(wt.a,{href:"tel:+639708468324",className:"flex items-center gap-3 text-sm text-slate-700 hover:text-blue-600 transition-all duration-300 group",whileHover:{x:6,scale:1.02},children:[o.jsx(wt.div,{whileHover:{rotate:5},className:"h-10 w-10 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 group-hover:from-blue-100 group-hover:to-blue-200 flex items-center justify-center transition-all duration-300 shadow-sm group-hover:shadow-md",children:o.jsx("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-blue-600",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),o.jsx("span",{className:"font-medium",children:"+63 970 846 8324"})]}),o.jsxs(wt.a,{href:"https://www.google.com/maps/search/?api=1&query=200+T.+De+Castro+Street,+Zone-8+Bulan,+Sorsogon",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-sm text-slate-700 hover:text-blue-600 transition-all duration-300 group",whileHover:{x:6,scale:1.02},children:[o.jsx(wt.div,{whileHover:{rotate:5},className:"h-10 w-10 min-w-[2.5rem] rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 group-hover:from-blue-100 group-hover:to-blue-200 flex items-center justify-center transition-all duration-300 shadow-sm group-hover:shadow-md",children:o.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-blue-600",children:[o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"}),o.jsx("circle",{cx:"12",cy:"9",r:"2.5"})]})}),o.jsx("span",{className:"font-medium text-left",children:"200, T. De Castro Street, Zone-8 Bulan, Sorsogon"})]})]}),o.jsx("div",{className:"flex items-center gap-3",children:[{name:"Facebook",icon:"M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.1 3-3.1.9 0 1.8.16 1.8.16v2h-1c-1 0-1.3.63-1.3 1.3V12h2.3l-.37 3h-1.93v7A10 10 0 0 0 22 12z",color:"from-blue-500 to-blue-600"},{name:"LinkedIn",icon:"M6.94 6.5a1.94 1.94 0 1 1 0-3.88 1.94 1.94 0 0 1 0 3.88zM3.5 8.25h6.9V21H3.5zM13.12 8.25H20V21h-3.4v-6.2c0-1.48-.53-2.5-1.86-2.5-1.02 0-1.63.69-1.9 1.35-.1.25-.12.6-.12.95V21h-3.4s.05-10.5 0-12.75h3.4v1.8c.45-.69 1.25-1.66 3.04-1.66 2.22 0 3.86 1.45 3.86 4.56V21h0z",color:"from-blue-600 to-blue-700"},{name:"Twitter",icon:"M22 5.92a7.57 7.57 0 0 1-2.18.6 3.79 3.79 0 0 0 1.66-2.1 7.6 7.6 0 0 1-2.4.92A3.78 3.78 0 0 0 12 8.3a10.74 10.74 0 0 1-7.8-3.96 3.78 3.78 0 0 0 1.17 5.04 3.76 3.76 0 0 1-1.71-.47v.05c0 1.82 1.3 3.34 3.02 3.68-.32.1-.66.15-1 .15-.25 0-.49-.02-.72-.07.49 1.54 1.9 2.66 3.58 2.69A7.58 7.58 0 0 1 3 18.58 10.7 10.7 0 0 0 8.8 20c6.54 0 10.12-5.42 10.12-10.12 0-.15 0-.3-.01-.45A7.23 7.23 0 0 0 22 5.92z",color:"from-sky-500 to-blue-500"}].map(l=>o.jsxs("a",{href:"#","aria-label":l.name,className:"relative h-11 w-11 rounded-xl backdrop-blur-sm bg-white/90 border border-slate-200/80 text-slate-600 flex items-center justify-center overflow-hidden group transition-all duration-300 shadow-sm hover:shadow-lg",whileHover:{scale:1.1,y:-3,rotate:5},whileTap:{scale:.95},children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.color} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:"relative z-10 group-hover:text-white transition-colors duration-300",children:o.jsx("path",{d:l.icon})})]},l.name))})]}),o.jsxs("div",{variants:a,children:[o.jsxs("h3",{className:"font-bold text-slate-900 mb-7 text-base tracking-tight relative inline-block",children:["Company",o.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-600 to-blue-500",whileHover:{width:"100%"},transition:{duration:.3}})]}),o.jsx("ul",{className:"space-y-3.5",children:[{name:"About Us",href:"#about",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{name:"Features",href:"#features",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},{name:"Contact",href:"/contact",icon:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}].map(l=>o.jsx("li",{children:o.jsxs("a",{href:l.href,className:"group flex items-center gap-2.5 text-sm text-slate-600 hover:text-blue-600 transition-all duration-300",whileHover:{x:6},children:[o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-slate-400 group-hover:text-blue-600 transition-colors duration-300",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:l.icon})}),o.jsx("span",{className:"font-medium",children:l.name})]})},l.name))})]}),o.jsxs("div",{variants:a,children:[o.jsxs("h3",{className:"font-bold text-slate-900 mb-7 text-base tracking-tight relative inline-block",children:["Support",o.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-600 to-blue-500",whileHover:{width:"100%"},transition:{duration:.3}})]}),o.jsxs("ul",{className:"space-y-3.5",children:[o.jsx("li",{children:o.jsxs("a",{href:"#",className:"group flex items-center gap-2.5 text-sm text-slate-600 hover:text-blue-600 transition-all duration-300",whileHover:{x:6},children:[o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-slate-400 group-hover:text-blue-600 transition-colors duration-300",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),o.jsx("span",{className:"font-medium",children:"Documentation"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>i(!0),className:"group flex items-center gap-2.5 text-left text-sm text-slate-600 hover:text-blue-600 transition-all duration-300 w-full",whileHover:{x:6},children:[o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-slate-400 group-hover:text-blue-600 transition-colors duration-300",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),o.jsx("span",{className:"font-medium",children:"Privacy Policy"})]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(!0),className:"group flex items-center gap-2.5 text-left text-sm text-slate-600 hover:text-blue-600 transition-all duration-300 w-full",whileHover:{x:6},children:[o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-slate-400 group-hover:text-blue-600 transition-colors duration-300",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"font-medium",children:"Terms and Conditions"})]})}),o.jsx("li",{children:o.jsxs("a",{href:"#faq",className:"group flex items-center gap-2.5 text-sm text-slate-600 hover:text-blue-600 transition-all duration-300",whileHover:{x:6},children:[o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",className:"text-slate-400 group-hover:text-blue-600 transition-colors duration-300",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"font-medium",children:"FAQ"})]})})]})]})]}),o.jsxs("div",{className:"relative w-full mb-10",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6},children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-slate-200 to-transparent"}),o.jsx("div",{className:"absolute top-0 left-0 h-px w-full bg-gradient-to-r from-transparent via-blue-400/50 to-transparent",initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.8,delay:.2}})]}),o.jsxs(wt.div,{className:"flex flex-col md:flex-row items-center justify-center gap-3 md:gap-6 text-sm",variants:a,initial:"hidden",whileInView:"visible",viewport:{once:!0},children:[o.jsxs("span",{className:"text-slate-600 font-medium",children:[" ",new Date().getFullYear()," eKahera. All rights reserved."]}),o.jsx("span",{className:"hidden md:block text-slate-300 text-lg",children:""}),o.jsx("span",{className:"text-slate-500 font-medium",children:"Professional POS solutions for modern retail."})]})]}),o.jsx(a3,{open:t,onClose:()=>r(!1)}),o.jsx(o3,{open:n,onClose:()=>i(!1)})]})}const rV=({title:e,subtitle:t,headerActions:r,onMenuClick:n,isMobileNavOpen:i,className:s=""})=>o.jsx("header",{className:`sticky top-0 z-40 bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-200/50 ${s}`,children:o.jsx("div",{className:"px-4 lg:px-6",children:o.jsxs("div",{className:"flex justify-between items-center h-16 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[n&&o.jsx("button",{type:"button",onClick:n,className:"md:hidden p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-md transition-transform duration-200","aria-label":i?"Close menu":"Open menu","aria-expanded":i,children:i?o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:e}),t&&o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t})]}),r&&o.jsx("div",{className:"flex items-center gap-4 ml-auto",children:r})]})})}),nV=({isOpen:e,onClose:t,onConfirm:r,title:n="Confirm Logout",message:i="Are you sure you want to logout?",confirmText:s="Logout",cancelText:a="Cancel"})=>{const l=o.jsxs(o.Fragment,{children:[o.jsx(He,{label:a,variant:"secondary",onClick:t,type:"button"}),o.jsx(He,{label:s,variant:"primary",onClick:r,type:"button",className:"bg-red-600 hover:bg-red-700"})]});return o.jsx(ds,{isOpen:e,onClose:t,title:n,icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),footer:l,size:"sm",contentClassName:"text-center py-2",children:o.jsx("p",{className:"text-gray-600 text-base",children:i})})};function za({children:e,title:t,subtitle:r,sidebar:n,headerActions:i,showHeader:s=!0,showNavbar:a=!1,showFooter:l=!1,className:u="",isSidebarOpen:d,setSidebarOpen:h}){const[m,p]=j.useState("light"),v=j.useRef(null),x=j.useRef(!1),C=gn(),[A,N]=j.useState(!1),T=()=>{N(!0)},O=()=>{N(!1),C("/")},M=()=>{N(!1)};return o.jsxs(Ri,{variant:"white",pattern:void 0,overlay:!1,floatingElements:!1,className:m,children:[o.jsx(nV,{isOpen:A,onClose:M,onConfirm:O}),a&&o.jsx(U0,{}),a&&o.jsx("div",{className:"h-0","aria-hidden":"true"}),o.jsxs("div",{className:`flex min-h-screen relative ${u} ${m}`,onTouchStart:D=>{var $,W;if(window.innerWidth>=768)return;const I=((W=($=D.touches)==null?void 0:$[0])==null?void 0:W.clientX)??0;(!d&&I<=24||d)&&(x.current=!0,v.current=I)},onTouchMove:D=>{var W,K;if(!x.current)return;const I=((K=(W=D.touches)==null?void 0:W[0])==null?void 0:K.clientX)??0,$=I-(v.current??I);!d&&$>60?(h(!0),x.current=!1,v.current=null):d&&$<-60&&(h(!1),x.current=!1,v.current=null)},onTouchEnd:()=>{x.current=!1,v.current=null},children:[n&&o.jsx("aside",{className:"hidden md:block fixed top-0 left-0 h-full z-50",children:n}),n&&o.jsx("aside",{className:`md:hidden fixed inset-y-0 left-0 z-50 w-48 max-w-[80vw] bg-white shadow-xl transform transition-transform duration-300 ${d?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true",children:St.cloneElement(n,{isMobile:!0,onLogoutClick:T})}),n&&d&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:()=>h(!1)}),o.jsxs("main",{className:`flex-1 flex flex-col transition-all duration-300 ${n?"md:ml-48":""} ${d?"blur-sm":""} max-h-screen`,children:[s&&o.jsx(rV,{title:t,subtitle:r,headerActions:i,isMobileNavOpen:d,onMenuClick:()=>h(!d),className:"sticky top-0 z-30 bg-white"}),o.jsx("div",{className:"flex-1 relative z-20 overflow-y-auto",children:e})]}),l&&o.jsx(tV,{className:"z-50"})]})]})}const iV="/assets/hero-illustration-DN7PLg__.png";function sV({onCustomerClick:e,onStaffClick:t}){const r=gn(),{scrollY:n}=ZO();ca(n,[0,300],[0,-20]);const i={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},s={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{duration:.7,ease:[.16,1,.3,1]}}},a=e||(()=>r("/customer")),l=t||(()=>r("/select-role"));return o.jsxs("section",{className:"relative w-full min-h-[calc(100vh-56px)] md:min-h-[calc(100vh-72px)] flex flex-col items-center justify-center px-4 md:px-6 lg:px-8 pt-24 md:pt-32 pb-16 md:pb-24 overflow-x-hidden",style:{fontFamily:"Inter, sans-serif"},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20"}),o.jsx(wt.div,{className:"absolute -top-32 -left-32 w-[500px] h-[500px] rounded-full bg-gradient-to-br from-blue-400/40 to-cyan-400/30 blur-3xl z-0",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),o.jsx(wt.div,{className:"absolute top-1/3 -right-32 w-[600px] h-[600px] rounded-full bg-gradient-to-bl from-purple-400/35 to-pink-400/25 blur-3xl z-0",animate:{x:[0,-80,0],y:[0,-60,0],scale:[1,1.15,1]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}}),o.jsx(wt.div,{className:"absolute bottom-0 left-1/4 w-[400px] h-[400px] rounded-full bg-gradient-to-tr from-indigo-400/30 to-blue-400/20 blur-3xl z-0",animate:{x:[0,60,0],y:[0,-40,0],scale:[1,1.1,1]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(59,130,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(59,130,246,0.03)_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),o.jsx(wt.div,{variants:i,initial:"hidden",animate:"show",className:"relative z-10 w-full max-w-[95rem] mx-auto",children:o.jsxs("div",{className:"relative flex flex-col lg:flex-row items-center lg:items-start justify-between gap-12 lg:gap-16 lg:pr-0",children:[o.jsxs(wt.div,{className:"flex-1 flex flex-col justify-center items-start max-w-2xl lg:max-w-none lg:w-[55%] pt-8 lg:pt-12",variants:s,children:[o.jsx(wt.div,{variants:s,className:"group relative mb-6",children:o.jsxs(wt.span,{className:"hover:cursor-default inline-flex items-center px-4 py-2 rounded-full backdrop-blur-md bg-white/70 border border-white/20 shadow-lg shadow-blue-500/10 text-blue-700 text-sm font-semibold tracking-wide",children:[o.jsxs("span",{className:"relative flex h-2 w-2 mr-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}),"For Modern Businesses"]})}),o.jsxs(wt.h1,{variants:s,className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl leading-[1.05] font-extrabold mb-6 md:mb-8 tracking-tight",style:{fontFamily:"Inter, sans-serif"},children:[o.jsx("span",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 bg-clip-text text-transparent hover:cursor-default",children:"Smart POS for"}),o.jsx("br",{}),o.jsx("span",{className:"hover:cursor-default bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 bg-clip-text text-transparent",children:"Every Business."})]}),o.jsx(wt.p,{variants:s,className:"hover:cursor-default text-lg sm:text-xl md:text-2xl text-slate-600 mb-10 md:mb-12 font-normal leading-relaxed max-w-xl",style:{fontFamily:"Inter, sans-serif"},children:"Streamline checkout, manage inventory, and track sales in real time with a secure, scalable POS built for growth."}),o.jsxs(wt.div,{variants:s,className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex flex-col group",children:[o.jsxs(wt.button,{onClick:l,className:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold px-8 py-4 rounded-2xl shadow-xl shadow-blue-500/25 border border-blue-500/20 text-base sm:text-lg flex items-center justify-center min-w-[180px] transition-all duration-300",style:{fontFamily:"Inter, sans-serif"},whileHover:{scale:1.02,boxShadow:"0 20px 25px -5px rgba(37, 99, 235, 0.3), 0 10px 10px -5px rgba(37, 99, 235, 0.2)"},whileTap:{scale:.98},children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[o.jsx("span",{children:"Log In"}),o.jsx(wt.svg,{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),o.jsx(wt.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-700 to-blue-800",initial:{x:"-100%"},whileHover:{x:"0%"},transition:{duration:.3}})]}),o.jsx("span",{className:"hover:cursor-default text-xs sm:text-sm text-slate-500 mt-2.5 text-center sm:text-left font-medium",children:"Try the Admin/Cashier experience"})]}),o.jsxs("div",{className:"flex flex-col group",children:[o.jsx(wt.button,{onClick:a,className:"relative overflow-hidden backdrop-blur-md bg-white/80 border-2 border-blue-200/50 text-blue-700 font-semibold px-8 py-4 rounded-2xl shadow-lg shadow-blue-500/10 text-base sm:text-lg flex items-center justify-center gap-2 min-w-[180px] transition-all duration-300",style:{fontFamily:"Inter, sans-serif"},whileHover:{scale:1.02,backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(59, 130, 246, 0.6)",boxShadow:"0 20px 25px -5px rgba(59, 130, 246, 0.15), 0 10px 10px -5px rgba(59, 130, 246, 0.1)"},whileTap:{scale:.98},children:o.jsx("span",{className:"relative z-10",children:"Shop Now!"})}),o.jsx("span",{className:"hover:cursor-default text-xs sm:text-sm text-slate-500 mt-2.5 text-center sm:text-left font-medium",children:"Shop in your own convenience"})]})]})]}),o.jsx(wt.div,{className:"flex-shrink-0 w-full sm:w-[85%] lg:w-[45%] flex items-center justify-center lg:justify-end h-full mt-4 lg:mt-0 relative lg:translate-x-8 xl:translate-x-12",variants:s,children:o.jsx(wt.img,{src:iV,alt:"Digital payment illustration",className:"w-full h-auto max-w-full lg:max-w-none drop-shadow-2xl will-change-transform",style:{objectFit:"contain"},animate:{y:[0,-16,0],rotateZ:[0,.3,0]}})})]})})]})}const aV=[{icon:o.jsxs("svg",{width:"40",height:"40",fill:"none",stroke:"#1976ed",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),o.jsx("path",{d:"M16 3v4M8 3v4"}),o.jsx("path",{d:"M3 11h18"})]}),title:"Mobile-Friendly Self-Checkout",desc:"Customers can browse products, scan barcodes, add items to cart, and complete purchases via their smartphones."},{icon:o.jsxs("svg",{width:"40",height:"40",fill:"none",stroke:"#1976ed",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),o.jsx("path",{d:"M7 7h.01M7 11h.01M7 15h.01M11 7h2v2h-2zM11 11h2v2h-2zM11 15h2v2h-2zM15 7h.01M15 11h.01M15 15h.01"})]}),title:"QR Code Digital Receipts",desc:"Enhances transaction security and reduces fraud."},{icon:o.jsxs("svg",{width:"40",height:"40",fill:"none",stroke:"#1976ed",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9-9 4.03-9 9 4.03 9 9 9z"}),o.jsx("path",{d:"M12 7v4l3 3"})]}),title:"Payment Options",desc:"Supports both cash and online payments (GCash, Maya, etc.)."},{icon:o.jsxs("svg",{width:"40",height:"40",fill:"none",stroke:"#1976ed",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2"}),o.jsx("path",{d:"M16 3v4M8 3v4"}),o.jsx("path",{d:"M2 11h20"})]}),title:"Transaction Processing",desc:"Cashiers scan customer-generated QR codes to verify and complete purchases."},{icon:o.jsxs("svg",{width:"40",height:"40",fill:"none",stroke:"#1976ed",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),o.jsx("path",{d:"M16 3v4M8 3v4"}),o.jsx("path",{d:"M3 11h18"})]}),title:"Inventory Management",desc:"Customers can browse products, scan barcodes, add items to cart, and complete purchases via their smartphone."},{icon:o.jsxs("svg",{width:"40",height:"40",fill:"none",stroke:"#1976ed",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),o.jsx("path",{d:"M16 3v4M8 3v4"}),o.jsx("path",{d:"M3 11h18"})]}),title:"Sales & Inventory Reports",desc:"Generates analytics and reports for better business decision making."}],oV=()=>o.jsx("section",{id:"features",className:"hover:cursor-default relative w-full py-20 px-2 bg-white",style:{fontFamily:"Inter, sans-serif"},children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("p",{className:"hover:cursor-default text-blue-700 text-base md:text-lg text-center mb-2 font-medium",children:"Discover what makes eKahera the smart choice for your business."}),o.jsx("h2",{className:"hover:cursor-default text-3xl md:text-4xl font-extrabold text-black mb-10 text-center",children:"Features"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:aV.map((e,t)=>o.jsxs(wt.div,{initial:{opacity:0,y:24,scale:.98},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0,amount:.3},transition:{duration:.5,ease:"easeOut",delay:t*.04},className:"bg-white rounded-2xl shadow-lg p-8 flex flex-col items-center border border-blue-100 transition-all duration-300 hover:shadow-2xl",children:[o.jsx("div",{className:"mb-4 flex items-center justify-center w-16 h-16 rounded-full bg-white group-hover:bg-white transition-colors duration-200",children:e.icon}),o.jsx("h3",{className:"font-extrabold text-lg text-black mb-2 text-center",children:e.title}),o.jsx("p",{className:"text-black text-center text-base",children:e.desc})]},t))})]})});function $s({children:e,className:t="",variant:r="default",size:n="lg",align:i="center"}){const s="font-extrabold tracking-tight text-blue-700 drop-shadow-sm",a={sm:"text-lg md:text-xl mb-4",md:"text-xl md:text-2xl mb-5",lg:"text-2xl md:text-3xl mb-6",xl:"text-3xl md:text-4xl mb-8"},l={left:"text-left",center:"text-center",right:"text-right"},u={default:"text-gray-800",light:"text-blue-100",dark:"text-blue-900",white:"text-white"},d=`${s} ${a[n]} ${l[i]} ${u[r]} ${t}`;return o.jsx("h2",{className:d,children:e})}const lV=()=>o.jsx("section",{id:"about",className:"relative w-full py-24 bg-white flex justify-center items-center",children:o.jsxs(wt.div,{className:"max-w-5xl w-full mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 px-4",initial:{opacity:0,y:28},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,ease:"easeOut"},children:[o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx($s,{size:"xl",align:"left",className:"mb-5 text-slate-900",children:"About eKahera"}),o.jsx("p",{className:"text-black text-lg md:text-xl font-medium mb-5 max-w-prose",style:{fontFamily:"Inter, sans-serif",lineHeight:1.75},children:"We build smart, reliable POS software that helps small and midsize businesses move faster."}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white text-blue-600 shadow-sm",children:o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#2563EB",strokeWidth:"2",children:o.jsx("path",{d:"M12 2l3 7h7l-5.5 4 2.5 7-7-4.5L5 20l2.5-7L2 9h7z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-slate-900 font-semibold text-lg",children:"Our Mission"}),o.jsx("p",{className:"text-black text-base md:text-lg mt-1",style:{lineHeight:1.75},children:"Empower entrepreneurs with tools that simplify checkout, unlock insights, and scale with their growth."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white text-blue-600 shadow-sm",children:o.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#2563EB",strokeWidth:"2",children:o.jsx("path",{d:"M3 12h18M12 3v18"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-slate-900 font-semibold text-lg",children:"Our Vision"}),o.jsx("p",{className:"text-black text-base md:text-lg mt-1",style:{lineHeight:1.75},children:"A future where every storekiosk to chainruns on simple, secure, and delightful POS technology."})]})]})]})]}),o.jsx("div",{className:"flex md:justify-end",children:o.jsxs("div",{className:"relative w-full max-w-lg p-7 rounded-2xl bg-white/70 backdrop-blur border border-blue-100 shadow-[0_10px_40px_rgba(37,99,235,0.08)]",children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{boxShadow:"inset 0 0 0 1px rgba(37,99,235,0.08)"}}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-xs uppercase tracking-wide text-black",children:"Why eKahera"})]}),o.jsxs("ul",{className:"space-y-3 text-slate-800 text-base md:text-lg",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-blue-600"}),"Real-time sales and stock tracking"]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-blue-600"}),"Multi-store and multi-user support"]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-blue-600"}),"Secure, cloud-first architecture"]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-blue-600"}),"Fast setup, intuitive UI"]})]})]})]})})]})}),cV=[{q:"What devices is this POS software compatible with?",a:"Our POS works on any modern browser, desktop, laptop, or tablet. No special hardware required."},{q:"Can I use this for multiple stores or branches?",a:"Yes! You can manage multiple stores and users from a single account."},{q:"Is my data secure?",a:"Absolutely. We use industry-standard encryption and best practices to keep your data safe."},{q:"How do I get support?",a:"You can reach us via the Help Center, email, or chat. We are here to help you succeed."}],uV=()=>{const[e,t]=j.useState(0),r=n=>t(i=>i===n?-1:n);return o.jsx("section",{className:"relative w-full py-28 bg-white flex justify-center items-center",children:o.jsxs(wt.div,{className:"max-w-4xl w-full mx-auto flex flex-col items-center px-6",initial:{opacity:0,y:28},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,ease:"easeOut"},children:[o.jsx($s,{size:"xl",align:"center",className:"mb-9 text-slate-900",children:"Frequently Asked Questions"}),o.jsx("div",{className:"w-full rounded-2xl bg-white border border-blue-100 shadow-[0_10px_40px_rgba(37,99,235,0.05)] divide-y divide-slate-100",children:cV.map((n,i)=>{const s=i===e;return o.jsxs("div",{className:"group",children:[o.jsxs("button",{onClick:()=>r(i),className:"w-full flex items-center justify-between gap-5 px-6 md:px-7 py-6 text-left hover:bg-white/40 transition-colors","aria-expanded":s,children:[o.jsx("span",{className:"text-slate-900 font-normal text-lg md:text-xl",children:n.q}),o.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-blue-200 text-blue-600 bg-white group-hover:bg-blue-600 group-hover:text-white transition-colors",children:s?o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M5 12h14"})}):o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 5v14M5 12h14"})})})]}),o.jsx(Op,{initial:!1,children:s&&o.jsx(wt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeOut"},children:o.jsx("div",{className:"px-6 md:px-7 pb-6 text-slate-700 md:text-lg text-base leading-relaxed",children:n.a})})})]},n.q)})})]})})};function my({id:e,title:t,children:r,className:n=""}){const i=t?`${e||"section"}-heading`:void 0,s={hidden:{opacity:0,y:24},show:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return o.jsxs("section",{id:e,"aria-labelledby":i,className:`px-4 ${n}`,children:[t&&o.jsx("h2",{id:i,className:"sr-only",children:t}),o.jsx(wt.div,{variants:s,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2,margin:"-80px"},children:r})]})}function Vk({className:e="my-12",heightClass:t="h-40 md:h-60"}){const r=wz();let n=!1;try{typeof window<"u"&&(n=new URLSearchParams(window.location.search).get("motion")==="1"||window.localStorage.getItem("motionOverride")==="1")}catch{n=!1}const i=r&&!n,{scrollYProgress:s}=ZO(),a=ca(s,[0,1],[16,-16]),l=ca(s,[0,1],[10,-10]),u=ca(s,[0,1],["-80%","140%"]),d={damping:20,stiffness:120},h=Uf(a,d),m=Uf(l,d),p=Uf(u,{damping:30,stiffness:160}),v=i?{}:{translateY:h},x=i?{}:{translateY:m},C=i?{}:{translateX:p},A="M0 40 C180 10 360 70 720 56 C1080 42 1260 12 1440 36 C1260 70 1080 100 720 84 C360 68 180 98 0 80 Z",N="M0 36 C180 24 360 60 720 48 C1080 36 1260 8 1440 32 C1260 64 1080 96 720 80 C360 64 180 92 0 72 Z",T="M0 60 C220 100 420 20 720 52 C1020 84 1220 60 1440 72 C1220 100 1020 120 720 100 C420 80 220 110 0 92 Z",O="M0 64 C220 92 420 28 720 58 C1020 88 1220 66 1440 76 C1220 98 1020 118 720 98 C420 78 220 108 0 94 Z",M=ca(s,[0,.5,1],[0,1,0]),D=ca(s,[0,.5,1],[0,1,0]),I=St.useRef(),$=St.useRef(),W=Xp(0),K=Xp(0),J=Dk(),Z=Dk();St.useEffect(()=>{if(i)return;const ie=Ik(W,[0,.9,0],{duration:10,ease:"easeInOut",repeat:1/0}),be=Ik(K,[0,.8,0],{duration:8,ease:"easeInOut",repeat:1/0});return I.current=ie,$.current=be,(async()=>{J.set({opacity:0,translateY:16}),Z.set({opacity:0,translateY:24}),await J.start({opacity:1,translateY:[16,0],transition:{duration:.8,ease:"easeOut"}}),await Z.start({opacity:1,translateY:[24,0],transition:{duration:.9,ease:"easeOut"}}),J.start({translateY:[0,-10,0],rotate:[0,.6,0],transition:{duration:9,repeat:1/0,ease:"easeInOut"}}),Z.start({translateY:[0,-14,0],rotate:[0,.9,0],transition:{duration:7,repeat:1/0,ease:"easeInOut"}})})(),()=>{ie&&ie.stop&&ie.stop(),be&&be.stop&&be.stop(),J.stop(),Z.stop()}},[i]);const de=ca([M,W],([ie,be])=>Math.max(0,Math.min(1,ie*.7+be*.5))),ce=ca([D,K],([ie,be])=>Math.max(0,Math.min(1,ie*.6+be*.55))),ee=Uf(de,{damping:24,stiffness:140}),ue=Uf(ce,{damping:26,stiffness:160}),je=i?A:ca(ee,[0,1],[A,N]),pe=i?T:ca(ue,[0,1],[T,O]);return o.jsxs("div",{className:`w-full flex items-center justify-center overflow-hidden ${e}`,children:[o.jsxs(wt.svg,{className:`${t} block`,viewBox:"0 0 1440 120",preserveAspectRatio:"none",role:"img","aria-label":"section divider",xmlns:"http://www.w3.org/2000/svg",style:{width:"100vw",marginLeft:"calc(50% - 50vw)"},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"divGrad",x1:"0",x2:"1",children:[o.jsx("stop",{className:"g1-s1",offset:"0%",stopColor:"#60a5fa"}),o.jsx("stop",{className:"g1-s2",offset:"50%",stopColor:"#2563eb"}),o.jsx("stop",{className:"g1-s3",offset:"100%",stopColor:"#93c5fd"})]}),o.jsxs("linearGradient",{id:"divGrad2",x1:"0",x2:"1",children:[o.jsx("stop",{className:"g2-s1",offset:"0%",stopColor:"#2563eb"}),o.jsx("stop",{className:"g2-s2",offset:"100%",stopColor:"#60a5fa"})]})]}),o.jsx(wt.path,{className:"wave-back",d:je,fill:"url(#divGrad2)",opacity:"1",style:v,animate:J}),o.jsx(wt.path,{className:"wave-front",d:pe,fill:"url(#divGrad)",opacity:"1",style:x,stroke:"#1e40af",strokeOpacity:.08,strokeWidth:2,animate:Z}),o.jsx(wt.rect,{className:"divider-shine",x:"-60%",y:"0",width:"60%",height:"160",fill:"#ffffff",opacity:"0.12",style:C})]}),o.jsx("style",{children:`
        .wave-back {
          transform-box: fill-box;
          transform-origin: center;
          animation: back-pan 9s linear infinite, wave-bob 12s ease-in-out infinite;
          will-change: transform;
        }
        .wave-front {
          transform-box: fill-box;
          transform-origin: center;
          animation: front-float 6.5s ease-in-out infinite, wave-tilt 8.5s ease-in-out infinite;
          will-change: transform;
        }

        .divider-shine {
          transform-box: fill-box;
          transform-origin: center;
          mix-blend-mode: screen;
          filter: blur(20px);
          animation: shine 5s linear infinite;
          will-change: transform, opacity;
        }

        @keyframes wave-bob {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }

        @keyframes back-pan {
          0% { transform: translateX(0) translateY(0) scaleX(1); }
          50% { transform: translateX(-18px) translateY(-3px) scaleX(1.02); }
          100% { transform: translateX(0) translateY(0) scaleX(1); }
        }

        @keyframes front-float {
          0% { transform: translateX(0) translateY(0) scaleX(1); }
          25% { transform: translateX(12px) translateY(-8px) scaleX(1.01); }
          50% { transform: translateX(0) translateY(0) scaleX(1); }
          75% { transform: translateX(-12px) translateY(6px) scaleX(0.995); }
          100% { transform: translateX(0) translateY(0) scaleX(1); }
        }

        @keyframes wave-tilt {
          0% { transform: rotateZ(0deg); }
          50% { transform: rotateZ(0.7deg); }
          100% { transform: rotateZ(0deg); }
        }

        @keyframes shine {
          0% { transform: translateX(-40%); opacity: 0.06; }
          50% { transform: translateX(40%); opacity: 0.22; }
          100% { transform: translateX(140%); opacity: 0.06; }
        }

  .g1-s1 { stop-color: #93c5fd; animation: gradA 8s ease-in-out infinite; }
  .g1-s2 { stop-color: #60a5fa; animation: gradB 8s ease-in-out infinite; }
  .g1-s3 { stop-color: #eff6ff; }
  .g2-s1 { stop-color: #60a5fa; animation: gradC 10s ease-in-out infinite; }
  .g2-s2 { stop-color: #e0f2ff; }

  @keyframes gradA { 0% { stop-color:#93c5fd } 50% { stop-color:#a5d8ff } 100% { stop-color:#93c5fd } }
  @keyframes gradB { 0% { stop-color:#60a5fa } 50% { stop-color:#3b82f6 } 100% { stop-color:#60a5fa } }
  @keyframes gradC { 0% { stop-color:#60a5fa } 50% { stop-color:#7cc0ff } 100% { stop-color:#60a5fa } }

        @media (prefers-reduced-motion: reduce) {
          .wave-back, .wave-front, .divider-shine, .g1-s1, .g1-s2, .g2-s1 {
            animation: none !important;
          }
        }
      `})]})}function dV(){return o.jsx("a",{href:"#main-content",onFocus:e=>{e.currentTarget.style.left="16px"},onBlur:e=>{e.currentTarget.style.left="-9999px"},style:{position:"absolute",left:"-9999px",top:"8px",zIndex:9999,background:"#fff",color:"#2563eb",padding:"8px 12px",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",textDecoration:"none",fontWeight:600},children:"Skip to content"})}function fV(){const e=gn(),t=()=>e("/customer-enter"),r=()=>e("/login"),n=()=>e("/mobile-scanner");return j.useEffect(()=>{const i=document.documentElement,s=i.style.scrollBehavior;return i.style.scrollBehavior="smooth",i.style.scrollPaddingTop="64px",()=>{i.style.scrollBehavior=s||"",i.style.scrollPaddingTop=""}},[]),o.jsxs(za,{showNavbar:!0,showFooter:!0,showHeader:!1,navbarVariant:"default",footerVariant:"default",className:"overflow-x-hidden bg-white min-h-screen flex flex-col",children:[o.jsx(dV,{}),o.jsx(sV,{onCustomerClick:t,onStaffClick:r,onMobileScannerClick:n}),o.jsxs("main",{id:"main-content",role:"main",className:"flex-1",children:[o.jsx(my,{id:"features",title:"Key features",children:o.jsx(oV,{})}),o.jsx(Vk,{className:"my-8"}),o.jsx(my,{id:"about",title:"About us",children:o.jsx(lV,{})}),o.jsx(Vk,{className:"my-8"}),o.jsx(my,{id:"faq",title:"Frequently asked questions",className:"mb-8",children:o.jsx(uV,{})})]})]})}function hV(){return o.jsx("section",{id:"services",children:o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[o.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-6",children:"Our Services"}),o.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"We offer a wide range of services to help you achieve your goals."}),o.jsxs("ul",{className:"list-disc list-inside text-gray-600",children:[o.jsx("li",{children:"Service 1: Description of service 1"}),o.jsx("li",{children:"Service 2: Description of service 2"}),o.jsx("li",{children:"Service 3: Description of service 3"})]})]})})}function mV(){const e=[{label:"Account Info",icon:""},{label:"OTP Verification",icon:""},{label:"Business Details",icon:""},{label:"Document Upload",icon:""}],[t,r]=j.useState(0),[n,i]=j.useState({email:"",username:"",businessName:"",businessEmail:"",useAdminEmail:!1,businessType:"",customBusinessType:"",region:"",province:"",city:"",barangay:"",regionName:"",provinceName:"",cityName:"",barangayName:"",houseNumber:"",mobile:"",password:"",confirmPassword:"",otp:"",documents:[],documentTypes:[],acceptTerms:!1,acceptPrivacy:!1}),[s,a]=j.useState({}),[l,u]=j.useState(!1),[d,h]=j.useState(!1),[m,p]=j.useState(!1),v=j.useRef(null);j.useEffect(()=>{v.current&&v.current.focus()},[t]),j.useEffect(()=>{t===1&&m&&N()},[t,m]),j.useEffect(()=>{t===1&&n.otp.length===4&&!m&&!l&&N()},[n.otp,t,m,l]);const x=(D,I,$)=>{const W={};D==="region"?(W.province="",W.city="",W.barangay="",W.provinceName="",W.cityName="",W.barangayName=""):D==="province"?(W.city="",W.barangay="",W.cityName="",W.barangayName=""):D==="city"&&(W.barangay="",W.barangayName=""),i(K=>({...K,[D]:I,[`${D}Name`]:$,...W}))},C=D=>{const{name:I,value:$,type:W,checked:K}=D.target;i(I==="useAdminEmail"?J=>({...J,[I]:K,businessEmail:K?J.email:""}):J=>({...J,[I]:W==="checkbox"?K:$}))},A=()=>{const D={};if(t===0&&(n.email?/^\S+@\S+\.\S+$/.test(n.email)||(D.email="Invalid email address"):D.email="Required",n.username?/^[a-zA-Z0-9_]{3,20}$/.test(n.username)||(D.username="Username must be 3-20 characters"):D.username="Required",n.mobile?/^\d{10,15}$/.test(n.mobile)||(D.mobile="Invalid mobile number"):D.mobile="Required",n.password?n.password.length<12?D.password="Password must be at least 12 characters long":/[A-Z]/.test(n.password)?/[a-z]/.test(n.password)?/\d/.test(n.password)?/[!@#$%^&*(),.?":{}|<>]/.test(n.password)||(D.password="Password must contain at least one special character"):D.password="Password must contain at least one number":D.password="Password must contain at least one lowercase letter":D.password="Password must contain at least one uppercase letter":D.password="Required",n.password!==n.confirmPassword&&(D.confirmPassword="Passwords do not match")),t===1&&(n.otp?/^[A-Za-z0-9]{4}$/.test(n.otp)||(D.otp="Please enter a 4-character OTP"):D.otp="Required"),t===2&&(n.businessName||(D.businessName="Required"),!n.useAdminEmail&&!n.businessEmail?D.businessEmail="Required":!n.useAdminEmail&&n.businessEmail&&!/^\S+@\S+\.\S+$/.test(n.businessEmail)&&(D.businessEmail="Invalid email address"),n.businessType||(D.businessType="Required"),n.businessType==="Others"&&!n.customBusinessType&&(D.customBusinessType="Please specify business type"),n.region||(D.region="Required"),n.province||(D.province="Required"),n.city||(D.city="Required"),n.barangay||(D.barangay="Required")),t===3){const I=["Business Registration Certificate (DTI/SEC/CDA)","Mayor's Permit / Business Permit","BIR Certificate of Registration (Form 2303)"];(!n.documents||n.documents.length===0)&&(D.documents="Please upload at least one business document"),n.documents.length!==n.documentTypes.length&&(D.documentTypes="Please specify document type for each uploaded file");const $=n.documentTypes.filter(Z=>Z),W=I.filter(Z=>!$.includes(Z));W.length>0&&(D.documents=`Missing required documents: ${W.join(", ")}`);const K={};n.documentTypes.forEach(Z=>{Z&&(K[Z]=(K[Z]||0)+1)});const J=Object.keys(K).filter(Z=>K[Z]>1);J.length>0&&(D.documentTypes=`Duplicate document types not allowed: ${J.join(", ")}`),n.acceptTerms?n.acceptPrivacy||(D.accept="You must acknowledge the Privacy Policy."):D.accept="You must accept the Terms and Conditions."}return a(D),Object.keys(D).length===0},N=async()=>{if(A())if(t===0){u(!0);try{await at("/otp/send",{method:"POST",body:JSON.stringify({email:n.email})}),r(D=>D+1)}catch(D){a({email:D.message||"Failed to send OTP"})}finally{u(!1)}}else if(t===1){if(m){r(D=>D+1);return}u(!0);try{const D=await at("/otp/verify",{method:"POST",body:JSON.stringify({email:n.email,otp:n.otp})});p(!0),r(I=>I+1)}catch(D){console.error("OTP verification error:",D),a({otp:D.message||"Failed to verify OTP"}),i(I=>({...I,otp:""}))}finally{u(!1)}}else r(D=>D+1)},T=()=>r(D=>Math.max(0,D-1)),O=async()=>{if(A()){u(!0);try{const D=new FormData;D.append("email",n.email),D.append("username",n.username),D.append("businessName",n.businessName),D.append("businessType",n.businessType==="Others"?n.customBusinessType:n.businessType),D.append("country","Philippines"),D.append("countryName","Philippines"),D.append("province",n.province),D.append("city",n.city),D.append("barangay",n.barangay),D.append("regionName",n.regionName),D.append("provinceName",n.provinceName),D.append("cityName",n.cityName),D.append("barangayName",n.barangayName),D.append("houseNumber",n.houseNumber),D.append("mobile",n.mobile),D.append("password",n.password),D.append("document_types",JSON.stringify(n.documentTypes)),n.documents.forEach($=>{D.append("documents",$)});const I=await at("/business/register-with-documents",{method:"POST",body:D});localStorage.setItem("token",I.token),localStorage.setItem("user",JSON.stringify(I.user)),h(!0)}catch(D){a({general:D.message||"An error occurred."})}finally{u(!1)}}},M=(t+1)/e.length*100;return{steps:e,step:t,setStep:r,form:n,setForm:i,errors:s,setErrors:a,loading:l,setLoading:u,success:d,isOtpVerified:m,setIsOtpVerified:p,inputRef:v,handleChange:C,handleLocationChange:x,validateStep:A,handleNext:N,handleBack:T,handleFinish:O,progress:M}}function Zt({children:e,className:t="",variant:r="glass",padding:n="default",microinteraction:i=!1,cardBg:s,...a}){const l="rounded-3xl transition-all duration-300 backdrop-blur-xl bg-white/60 border border-white/30 shadow-xl",u={glass:"bg-white/60 backdrop-blur-xl border border-white/30",shadow:"bg-white shadow-xl hover:shadow-2xl",bordered:"border-2 border-gray-200 hover:border-blue-200",flat:"",gradient:"bg-gradient-to-br from-white via-blue-50 to-blue-100 border border-blue-200"},d={none:"",sm:"p-4",default:"p-6 md:p-8",lg:"p-8 md:p-12"},h=i?"hover:scale-[1.015] active:scale-[0.98] transition-transform":"",m=`${l} ${u[r]} ${d[n]} ${h} ${t}`;return o.jsxs("div",{className:`${m} ${s||""}`,tabIndex:0,...a,children:[e,o.jsx("style",{children:`
        .emphasized-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.7) 60%, rgba(59,130,246,0.10) 100%);
          box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18), 0 1.5px 8px 0 rgba(59,130,246,0.10);
          border: 2.5px solid rgba(59,130,246,0.13);
          backdrop-filter: blur(18px) saturate(1.2);
          border-radius: 2rem;
          transition: box-shadow 0.25s, border 0.25s;
        }
        .emphasized-card:focus-within, .emphasized-card:hover {
          box-shadow: 0 12px 40px 0 rgba(59,130,246,0.22), 0 2px 12px 0 rgba(59,130,246,0.13);
          border-color: #3b82f6;
        }
      `})]})}function pV({percent:e}){return o.jsx("div",{className:"w-full h-2.5 bg-blue-100/70 rounded-full overflow-hidden shadow-inner","aria-label":"Progress bar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,role:"progressbar",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 transition-all duration-500 rounded-full shadow-md",style:{width:`${e}%`}})})}function gV({steps:e,currentStep:t}){const r=n=>{switch(n){case 0:return o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]});case 1:return o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2"}),o.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]});case 2:return o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"18"}),o.jsx("rect",{x:"14",y:"8",width:"7",height:"13"}),o.jsx("path",{d:"M7 6h2M7 10h2M7 14h2M18 11h2M18 15h2"})]});case 3:default:return o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("path",{d:"M14 2v6h6"}),o.jsx("path",{d:"M16 13H8M16 17H8M10 9H8"})]})}};return o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative flex items-center justify-between",children:[e.map((n,i)=>o.jsxs("div",{className:"flex flex-col items-center flex-1",children:[o.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full border-2 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white z-10
                ${i<t?"border-green-600 text-green-600":i===t?"border-blue-600 text-blue-600 ring-2 ring-blue-200":"border-gray-300 text-gray-400"}
              `,"aria-current":i===t?"step":void 0,tabIndex:0,title:n.label,children:r(i)}),o.jsx("span",{className:`mt-2 text-xs font-medium text-center max-w-[90px] ${i<=t?"text-blue-700":"text-gray-500"}`,children:n.label})]},i)),o.jsx("div",{className:"absolute left-0 right-0 top-5 h-1 bg-gray-200 rounded","aria-hidden":!0}),o.jsx("div",{className:"absolute left-0 top-5 h-1 bg-gradient-to-r from-blue-600 to-blue-400 rounded transition-all duration-500",style:{width:`${t/(e.length-1)*100}%`},"aria-hidden":!0})]})})}function Uk({step:e,steps:t,progress:r,loading:n,errors:i,onBack:s,onNext:a,onFinish:l,children:u}){const d=e>0,h=e===1,m=e<t.length-1&&!h,p=e===t.length-1;return o.jsx(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:o.jsx("div",{className:"flex justify-center px-4 py-10",children:o.jsx(Zt,{className:"w-full max-w-5xl overflow-hidden rounded-3xl p-0",children:o.jsxs("div",{className:"md:flex",children:[o.jsx("aside",{className:"hidden md:flex md:w-5/12 items-center justify-center bg-gradient-to-br from-blue-600 via-blue-400 to-blue-500 p-10 relative",children:o.jsxs("div",{className:"text-center max-w-sm",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/15 text-white text-xs font-semibold mb-5 border border-white/30",children:[o.jsx("span",{children:"Quick setup"}),o.jsx("span",{className:"opacity-80",children:""}),o.jsx("span",{children:"Secure"})]}),o.jsx("h3",{className:"text-white text-2xl font-bold mb-3",children:"Welcome to your business journey"}),o.jsx("p",{className:"text-white/90 text-sm mb-6",children:"Create your account, verify your email, add business details and upload documents. You're minutes away from a modern POS."}),o.jsxs("ul",{className:"text-left text-white/95 text-sm space-y-2",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-white"})," ","Guided, step-by-step flow"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-white"})," ","Save & resume automatically"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-white"})," ","Bankgrade security"]})]})]})}),o.jsxs("main",{className:"w-full md:w-7/12 p-6 md:p-10 flex flex-col",children:[o.jsx("div",{className:"mb-4",children:o.jsxs(xl,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(pV,{percent:r})})}),o.jsx("div",{className:"mt-4",children:o.jsx(gV,{steps:t,currentStep:e})})]}),o.jsxs("div",{className:"flex-1",children:[(i==null?void 0:i.general)&&o.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i.general}),o.jsx("div",{className:"max-w-lg",children:u})]}),o.jsxs("div",{className:"mt-8 md:mt-6 flex items-center justify-between",children:[d?o.jsx(He,{onClick:s,variant:"secondary",className:"w-28",children:"Back"}):o.jsx("div",{}),m?o.jsx(He,{onClick:a,disabled:n,variant:"primary",className:"w-32",children:n?o.jsx(Ii,{size:"sm"}):"Continue"}):h?o.jsx("div",{className:"text-sm text-gray-700",children:n?"Verifying...":"Enter the 4-character code"}):p?o.jsxs(He,{onClick:l,disabled:n,variant:"primary",className:"w-32",children:[n?o.jsx(Ii,{className:"mr-2",size:"sm"}):null,n?"Finishing...":"Create account"]}):null]}),o.jsx("div",{className:"mt-4 text-[11px] text-gray-500 text-center",children:"Your data is encrypted in transit and at rest."})]})]})})})})}function Bs({type:e="text",name:t,value:r,onChange:n,placeholder:i="",className:s="",error:a,variant:l="glass",suffix:u,size:d="md",microinteraction:h=!0,...m}){const p="w-full rounded-xl text-base text-gray-900 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-blue-400 placeholder:text-gray-400 bg-white/60 backdrop-blur-md border border-white/30 shadow-sm",v={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-4 py-3 text-lg"},x={glass:a?"border-red-400 ring-red-200":"border-white/30 hover:border-blue-300",bordered:a?"border-red-400 ring-red-200":"border-2 border-blue-400",underline:a?"border-red-400 ring-red-200":"border-b-2 border-blue-400 rounded-none",default:a?"border-red-400 ring-red-200":"border-gray-300 hover:border-blue-300"},C=h,A=`${p} ${v[d]} ${x[l]} ${u?"pr-10":""} ${C} ${s} ${a?"buzz":""}`;return o.jsxs("div",{className:`relative ${a?"buzz":""}`,children:[o.jsx("input",{type:e,name:t,value:r,onChange:n,placeholder:i,className:A,"aria-invalid":!!a,"aria-describedby":a?`${t}-error`:void 0,...m}),u&&o.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-auto",children:u}),a&&o.jsx("p",{id:`${t}-error`,className:"text-red-500 text-xs mt-1 font-medium",role:"alert",children:a})]})}function bl({name:e,value:t,onChange:r,placeholder:n="Password",error:i,autoComplete:s="current-password",className:a="",variant:l="glass",size:u="md",microinteraction:d=!0,...h}){const[m,p]=j.useState(!1),v=()=>{p(O=>!O)},x="w-full rounded-xl text-base text-gray-900 transition-all duration-200 focus:outline-none focus:ring-1 focus:ring-blue-400 placeholder:text-gray-400 bg-white/60 backdrop-blur-md border border-white/30 shadow-sm",C={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-4 py-3 text-lg"},A={glass:i?"border-red-400 ring-red-200":"border-white/30 hover:border-blue-300",bordered:i?"border-red-400 ring-red-200":"border-2 border-blue-400",underline:i?"border-red-400 ring-red-200":"border-b-2 border-blue-400 rounded-none",default:i?"border-red-400 ring-red-200":"border-gray-300 hover:border-blue-300"},N=d,T=`${x} ${C[u]} ${A[l]} pr-12 ${N} ${a}`;return o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:m?"text":"password",name:e,value:t,onChange:r,placeholder:n,className:T,autoComplete:s,"aria-invalid":!!i,"aria-describedby":i?`${e}-error`:void 0,...h}),o.jsx("button",{type:"button",onClick:v,className:"absolute inset-y-0 right-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200 focus:outline-none focus:text-blue-500","aria-label":m?"Hide password":"Show password",tabIndex:0,children:m?o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):o.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),i&&o.jsx("p",{id:`${e}-error`,className:"text-red-500 text-xs mt-1 font-medium",role:"alert",children:i})]})}const X0="https://psgc.cloud/api";async function vV(){const e=await fetch(`${X0}/regions`);if(!e.ok)throw new Error("Failed to fetch regions");return e.json()}async function yV(e){const t=await fetch(`${X0}/regions/${e}/provinces`);if(!t.ok)throw new Error("Failed to fetch provinces");return t.json()}async function xV(e){const t=await fetch(`${X0}/provinces/${e}/cities-municipalities`);if(!t.ok)throw new Error("Failed to fetch cities");return t.json()}async function bV(e){const t=await fetch(`${X0}/cities-municipalities/${e}/barangays`);if(!t.ok)throw new Error("Failed to fetch barangays");return t.json()}function wV({form:e,errors:t,handleLocationChange:r}){const[n,i]=j.useState([]),[s,a]=j.useState([]),[l,u]=j.useState([]),[d,h]=j.useState([]),[m,p]=j.useState({regions:!1,provinces:!1,cities:!1,barangays:!1}),[v,x]=j.useState(null);j.useEffect(()=>{(async()=>{p(N=>({...N,regions:!0})),x(null);try{const N=await vV();i(N)}catch(N){console.error(N),x("Failed to load regions. Please check your connection and try again.")}finally{p(N=>({...N,regions:!1}))}})()},[]),j.useEffect(()=>{e.region&&(async()=>{p(N=>({...N,provinces:!0}));try{const N=await yV(e.region);a(N)}catch(N){console.error(N)}finally{p(N=>({...N,provinces:!1}))}})()},[e.region]),j.useEffect(()=>{e.province&&(async()=>{p(N=>({...N,cities:!0}));try{const N=await xV(e.province);u(N)}catch(N){console.error(N)}finally{p(N=>({...N,cities:!1}))}})()},[e.province]),j.useEffect(()=>{e.city&&(async()=>{p(N=>({...N,barangays:!0}));try{const N=await bV(e.city);h(N)}catch(N){console.error(N)}finally{p(N=>({...N,barangays:!1}))}})()},[e.city]);const C=A=>{const{name:N,value:T}=A.target,O=A.target.options[A.target.selectedIndex],M=O?O.text:"";r(N,T,M)};return o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Region ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"region",value:e.region,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{borderColor:t.region?"#ef4444":""},disabled:m.regions,children:[o.jsx("option",{value:"",children:m.regions?"Loading...":"Select Region"}),n.map(A=>o.jsx("option",{value:A.code,children:A.name},A.code))]}),t.region&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.region}),v&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:v})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Province ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"province",value:e.province,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{borderColor:t.province?"#ef4444":""},disabled:!e.region||m.provinces,children:[o.jsx("option",{value:"",children:m.provinces?"Loading...":"Select Province"}),s.map(A=>o.jsx("option",{value:A.code,children:A.name},A.code))]}),t.province&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.province})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["City/Municipality ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"city",value:e.city,onChange:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{borderColor:t.city?"#ef4444":""},disabled:!e.province||m.cities,children:[o.jsx("option",{value:"",children:m.cities?"Loading...":"Select City/Municipality"}),l.map(A=>o.jsx("option",{value:A.code,children:A.name},A.code))]}),t.city&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.city})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Barangay ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"barangay",value:e.barangay,onChange:C,className:"w-full px-3 py-2 border border--gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{borderColor:t.barangay?"#ef4444":""},disabled:!e.city||m.barangays,children:[o.jsx("option",{value:"",children:m.barangays?"Loading...":"Select Barangay"}),d.map(A=>o.jsx("option",{value:A.code,children:A.name},A.code))]}),t.barangay&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.barangay})]})]})}function jV({documents:e,documentTypes:t,onDocumentsChange:r,error:n}){const[i,s]=j.useState([]),a=["Business Registration Certificate (DTI/SEC/CDA)","Mayor's Permit / Business Permit","BIR Certificate of Registration (Form 2303)"],l=["Barangay Business Clearance","Fire Safety Inspection Certificate (if applicable)","Sanitary Permit (for food businesses)"],u=x=>{const C=Array.from(x.target.files||[]);if(C.length===0)return;const A=["application/pdf","image/jpeg","image/jpg","image/png","image/gif"],N=10*1024*1024,T=I=>`${I.name}|${I.size}|${I.lastModified||""}`,O=new Set(e.map(T)),M=[],D=[];if(C.forEach(I=>{var J;const $=T(I);if(O.has($)){D.push({file:I,reason:"Duplicate file"});return}if(!A.includes(I.type)){D.push({file:I,reason:"Unsupported file type. Only PDF, JPG, PNG, GIF allowed."});return}if(I.size>N){D.push({file:I,reason:"File too large. Maximum 10MB per file."});return}const W=(J=I.name.split(".").pop())==null?void 0:J.toLowerCase();if(!["pdf","jpg","jpeg","png","gif"].includes(W)){D.push({file:I,reason:"Invalid file extension."});return}M.push(I),O.add($)}),M.length>0){const I=[...e,...M],$=[...t,...M.map(()=>"")];r(I,$),s([])}D.length>0&&s(D.map(({file:I,reason:$})=>`${I.name}: ${$}`)),x.target.value=""},d=(x,C)=>{const A=[...t];A[x]=C,r(e,A)},h=x=>{const C=e.filter((N,T)=>T!==x),A=t.filter((N,T)=>T!==x);r(C,A)},m=[...a,...l,"Other Business Document"],p=t.filter(x=>x),v=a.filter(x=>!p.includes(x));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-2 text-sm text-gray-700 font-medium",children:["Upload Business Documents ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:o.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),o.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop files here, or click to browse"}),o.jsxs("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Browse Files",o.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.gif",onChange:u,className:"hidden"})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Accepted formats: PDF, JPG, PNG, GIF. Maximum file size: 10MB per file. Secure uploads only."})]}),i.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Upload Errors:"}),o.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:i.map((x,C)=>o.jsxs("li",{children:[" ",x]},C))})]}),e.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:"Uploaded Documents:"}),e.map((x,C)=>{const A=a.includes(t[C]),N=l.includes(t[C]);return o.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border ${A?"bg-green-50 border-green-200":N?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[o.jsx("div",{className:"flex-shrink-0",children:x.type==="application/pdf"?o.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):o.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:x.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(2)," MB  ",x.type||"unknown"]}),A&&o.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Required"}),N&&o.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Optional"})]}),o.jsx("div",{className:"flex-1",children:o.jsxs("select",{value:t[C]||"",onChange:T=>d(C,T.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select document type"}),m.map(T=>o.jsx("option",{value:T,children:T},T))]})}),o.jsx("button",{type:"button",onClick:()=>h(C),className:"text-red-600 hover:text-red-800 text-sm p-1",title:"Remove document",children:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},C)})]}),v.length>0&&o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Missing Required Documents:"}),o.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:v.map((x,C)=>o.jsxs("li",{children:[" ",x]},C))})]}),n&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:n})]})}function AV({hook:e,isOtpVerified:t,onOpenTerms:r,onOpenPrivacy:n}){const{step:i,form:s,errors:a,loading:l,inputRef:u,handleChange:d}=e;function h(){const[m,p]=St.useState([]),[v,x]=St.useState(null);return St.useEffect(()=>{const C=sessionStorage.getItem("auth_token");let A=null;try{const N=JSON.parse(sessionStorage.getItem("user")||"null");A=(N==null?void 0:N.businessId)||(N==null?void 0:N.business_id)||null}catch{}!C||!A||(async()=>{try{const N=await at(`/documents/business/${A}`,{headers:{Authorization:`Bearer ${C}`}});p(Array.isArray(N.documents)?N.documents:[]),x(N.verification||null)}catch{}})()},[]),!m||m.length===0?null:o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Previously Uploaded"}),o.jsx("ul",{className:"space-y-2 text-sm",children:m.map(C=>o.jsxs("li",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-700",children:[C.document_type,"  ",C.document_name]}),o.jsx("span",{className:"text-gray-500",children:(C.mime_type||"").split("/").pop()})]},C.document_id))}),(v==null?void 0:v.verification_status)&&o.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Verification status: ",v.verification_status]})]})}switch(i){case 0:return o.jsxs("div",{className:"space-y-4",children:[o.jsx($s,{className:"text-2xl md:text-3xl text-gray-900",children:"Account Info"}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"Email"}),o.jsx(Bs,{ref:u,name:"email",value:s.email,onChange:d,placeholder:"Enter your email address",type:"email",error:a.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"Username"}),o.jsx(Bs,{name:"username",value:s.username,onChange:d,placeholder:"Choose a username (3-20 characters)",type:"text",error:a.username})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"Mobile Number"}),o.jsx(Bs,{name:"mobile",value:s.mobile,onChange:d,placeholder:"09xxxxxxxxx",type:"tel",maxLength:15,error:a.mobile})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"Password"}),o.jsx(bl,{name:"password",value:s.password,onChange:d,placeholder:"Enter password",error:a.password}),o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Password must contain:"}),o.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[o.jsxs("div",{className:`flex items-center ${s.password.length>=12?"text-green-600":"text-gray-500"}`,children:[o.jsx("span",{className:`mr-2 ${s.password.length>=12?"":""}`}),"At least 12 characters"]}),o.jsxs("div",{className:`flex items-center ${/[A-Z]/.test(s.password)?"text-green-600":"text-gray-500"}`,children:[o.jsx("span",{className:`mr-2 ${/[A-Z]/.test(s.password)?"":""}`}),"One uppercase letter (A-Z)"]}),o.jsxs("div",{className:`flex items-center ${/[a-z]/.test(s.password)?"text-green-600":"text-gray-500"}`,children:[o.jsx("span",{className:`mr-2 ${/[a-z]/.test(s.password)?"":""}`}),"One lowercase letter (a-z)"]}),o.jsxs("div",{className:`flex items-center ${/\d/.test(s.password)?"text-green-600":"text-gray-500"}`,children:[o.jsx("span",{className:`mr-2 ${/\d/.test(s.password)?"":""}`}),"One number (0-9)"]}),o.jsxs("div",{className:`flex items-center ${/[!@#$%^&*(),.?":{}|<>]/.test(s.password)?"text-green-600":"text-gray-500"}`,children:[o.jsx("span",{className:`mr-2 ${/[!@#$%^&*(),.?":{}|<>]/.test(s.password)?"":""}`}),'One special character (!@#$%^&*(),.?":',"|","<",">",")"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"Password Confirmation"}),o.jsx(bl,{name:"confirmPassword",value:s.confirmPassword,onChange:d,placeholder:"Re-enter password",error:a.confirmPassword})]})]}),o.jsxs("div",{className:"text-xs text-gray-600 text-center",children:["By continuing, you agree to our"," ",o.jsx("button",{type:"button",onClick:r,className:"text-blue-700 underline hover:text-blue-800",children:"Terms & Conditions"})," ","and"," ",o.jsx("button",{type:"button",onClick:n,className:"text-blue-700 underline hover:text-blue-800",children:"Privacy Policy"}),"."]})]});case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsx($s,{className:"text-2xl md:text-3xl text-gray-900",children:"OTP Verification"}),o.jsxs("p",{className:"text-gray-700 mb-2 text-sm",children:["We've sent a 4-character verification code to"," ",o.jsx("strong",{children:s.email}),"."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"Enter OTP"}),o.jsx(Bs,{ref:u,name:"otp",value:s.otp,onChange:m=>{const p=m.target.value.slice(0,4);d({target:{name:"otp",value:p}}),a.otp&&e.setErrors({...a,otp:null})},placeholder:"Enter 4-character code",type:"text",maxLength:4,error:a.otp,disabled:t}),s.otp.length===4&&!t&&!l&&o.jsxs("div",{className:"mt-2 text-blue-600 text-sm font-medium flex items-center",children:[o.jsx(Ii,{size:"sm",className:"mr-2"}),"Auto-verifying OTP..."]}),l&&o.jsxs("div",{className:"mt-2 text-gray-700 text-sm font-medium flex items-center",children:[o.jsx(Ii,{size:"sm",className:"mr-2"}),"Verifying OTP..."]}),t&&o.jsxs("div",{className:"mt-2 text-green-600 text-sm font-medium flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":!0,children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"OTP verified successfully!"]})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:async()=>{e.setLoading(!0);try{await at("/otp/resend",{method:"POST",body:JSON.stringify({email:s.email})}),alert("New OTP sent successfully!")}catch(m){alert(m.message||"Failed to resend OTP")}finally{e.setLoading(!1)}},className:"text-gray-700 hover:text-gray-900 text-sm underline",disabled:l,children:l?"Sending...":"Resend OTP"})})]});case 2:return o.jsxs("div",{className:"space-y-4",children:[o.jsx($s,{className:"text-2xl md:text-3xl text-gray-900",children:"Business Details"}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Business Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Bs,{name:"businessName",value:s.businessName,onChange:d,placeholder:"Enter business name",error:a.businessName})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Business Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"useAdminEmail",name:"useAdminEmail",checked:s.useAdminEmail,onChange:d,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:"useAdminEmail",className:"text-sm text-gray-700",children:["Use admin email (",s.email,")"]})]}),!s.useAdminEmail&&o.jsx(Bs,{name:"businessEmail",value:s.businessEmail,onChange:d,placeholder:"Enter business email",type:"email",error:a.businessEmail})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Business Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"businessType",value:s.businessType,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{borderColor:a.businessType?"#ef4444":""},children:[o.jsx("option",{value:"",children:"Select business type"}),o.jsx("option",{value:"Grocery Store",children:"Grocery Store"}),o.jsx("option",{value:"Pharmacy",children:"Pharmacy"}),o.jsx("option",{value:"Clothing Store",children:"Clothing Store"}),o.jsx("option",{value:"Electronics Store",children:"Electronics Store"}),o.jsx("option",{value:"Hardware Store",children:"Hardware Store"}),o.jsx("option",{value:"Bookstore",children:"Bookstore"}),o.jsx("option",{value:"Convenience Store",children:"Convenience Store"}),o.jsx("option",{value:"Others",children:"Others"})]}),a.businessType&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.businessType}),s.businessType==="Others"&&o.jsx("div",{className:"mt-2",children:o.jsx(Bs,{name:"customBusinessType",value:s.customBusinessType,onChange:d,placeholder:"Please specify your business type",error:a.customBusinessType})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-2 mt-4 font-semibold text-gray-900",children:"Business Location"}),o.jsx(wV,{form:s,errors:a,handleLocationChange:e.handleLocationChange})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:"House no./ Street Name / Landmark (optional)"}),o.jsx(Bs,{name:"houseNumber",value:s.houseNumber,onChange:d,placeholder:"Enter house no., street, or landmark (optional)"})]})]})]});case 3:return o.jsxs("div",{className:"space-y-4",children:[o.jsx($s,{className:"text-2xl md:text-3xl text-gray-900",children:"Business Documents"}),o.jsx("p",{className:"text-gray-700 mb-4 text-sm",children:"Please upload your business documents for verification. These documents help us verify that your business is legitimate and complies with Philippine regulations."}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:" REQUIRED Documents (Must Upload All 3):"}),o.jsxs("ul",{className:"text-sm text-red-700 space-y-1 font-medium",children:[o.jsx("li",{children:" Business Registration Certificate (DTI/SEC/CDA)"}),o.jsx("li",{children:" Mayor's Permit / Business Permit"}),o.jsx("li",{children:" BIR Certificate of Registration (Form 2303)"})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Additional Documents (Optional):"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Barangay Business Clearance"}),o.jsx("li",{children:" Fire Safety Inspection Certificate (if applicable)"}),o.jsx("li",{children:" Sanitary Permit (for food businesses)"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(jV,{documents:s.documents,documentTypes:s.documentTypes,onDocumentsChange:(m,p)=>{d({target:{name:"documents",value:m}}),d({target:{name:"documentTypes",value:p}})},error:a.documents||a.documentTypes}),o.jsx(h,{})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Important:"})," After submitting your documents, please allow 1-3 business days for verification. You will receive an email notification once the review is complete."]})})]});default:return null}}function SV({onOpenTerms:e,onOpenPrivacy:t}){const r=mV(),{step:n,steps:i,progress:s,loading:a,errors:l,handleBack:u,handleNext:d,handleFinish:h,success:m,isOtpVerified:p}=r;return m?o.jsx(Uk,{step:n,steps:i,progress:100,loading:!1,errors:{},children:o.jsx("div",{className:"flex flex-col items-center justify-center px-4 py-12",children:o.jsxs(Zt,{className:"rounded-3xl p-10 flex flex-col items-center max-w-2xl",children:[o.jsx($s,{className:"text-3xl md:text-4xl text-gray-900 mb-4",children:" Application Submitted!"}),o.jsx("p",{className:"text-gray-800 mb-6 text-base text-center max-w-md",children:"Your business application has been submitted successfully! Our verification team will review your documents."}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 w-full max-w-md",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"What happens next?"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Document verification (1-3 business days)"}),o.jsx("li",{children:" Email notification once complete"}),o.jsx("li",{children:" Full access upon approval"})]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 w-full max-w-md",children:o.jsxs("p",{className:"text-sm text-yellow-800 text-center",children:[o.jsx("strong",{children:"Please wait 1-3 business days"})," for verification. You will receive an email notification once the review is complete."]})}),o.jsx(He,{label:"Go to Login",onClick:()=>window.location.href="/login",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-full font-semibold shadow"})]})})}):o.jsxs(Uk,{step:n,steps:i,progress:s,loading:a,errors:l,onBack:u,onNext:d,onFinish:h,children:[o.jsx(AV,{hook:r,isOtpVerified:p,onOpenTerms:e,onOpenPrivacy:t}),n===3&&o.jsxs("div",{className:"mt-6 space-y-3 max-w-lg",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("input",{id:"acceptTerms",type:"checkbox",checked:r.form.acceptTerms,onChange:v=>r.setForm(x=>({...x,acceptTerms:v.target.checked})),className:"mt-1 w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700",children:["I agree to the"," ",o.jsx("button",{type:"button",onClick:e,className:"text-blue-700 underline underline-offset-2 hover:text-blue-800",children:"Terms and Conditions"}),"."]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("input",{id:"acceptPrivacy",type:"checkbox",checked:r.form.acceptPrivacy,onChange:v=>r.setForm(x=>({...x,acceptPrivacy:v.target.checked})),className:"mt-1 w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("label",{htmlFor:"acceptPrivacy",className:"text-sm text-gray-700",children:["I have read the"," ",o.jsx("button",{type:"button",onClick:t,className:"text-blue-700 underline underline-offset-2 hover:text-blue-800",children:"Privacy Policy"}),"."]})]}),l.accept&&o.jsx("p",{className:"text-red-500 text-sm",children:l.accept})]})]})}function CV(){const[e,t]=j.useState(!1),[r,n]=j.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx(SV,{onOpenTerms:()=>t(!0),onOpenPrivacy:()=>n(!0)}),o.jsx(a3,{open:e,onClose:()=>t(!1)}),o.jsx(o3,{open:r,onClose:()=>n(!1)})]})}function kV(){return o.jsx("section",{id:"contact",className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 bg-gray-50",children:o.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-4 text-center",children:"Contact Us"}),o.jsx("p",{className:"text-gray-700 text-lg mb-6 text-center",children:"Have questions or need support? Reach out to the eKahera team!"}),o.jsxs("form",{className:"flex flex-col space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Your Name",className:"border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0}),o.jsx("input",{type:"email",placeholder:"Your Email",className:"border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0}),o.jsx("textarea",{placeholder:"Your Message",className:"border border-gray-300 rounded px-4 py-2 h-32 resize-none focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0}),o.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-full font-medium cursor-pointer",children:"Send Message"})]}),o.jsxs("div",{className:"mt-6 text-center text-gray-500 text-sm",children:["Or email us at ",o.jsx("a",{href:"mailto:support@ekahera.com",className:"text-blue-600 underline",children:"support@ekahera.com"})]})]})})}function NV(){const e=gn(),[t,r]=j.useState({email:"",password:""}),[n,i]=j.useState({}),[s,a]=j.useState(!1),[l,u]=j.useState(""),d=p=>{r({...t,[p.target.name]:p.target.value}),n[p.target.name]&&i({...n,[p.target.name]:""})},h=()=>{const p={};return t.email||(p.email="Email or username is required"),t.password||(p.password="Password is required"),i(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!!h()){a(!0),u("");try{const{token:v,user:x}=await at("/api/auth/login",{method:"POST",body:JSON.stringify({email:t.email,password:t.password})});sessionStorage.setItem("auth_token",v),sessionStorage.setItem("user",JSON.stringify(x));const C=((x==null?void 0:x.role)||"").toLowerCase();e(C==="cashier"?"/cashier-pos":C==="superadmin"?"/superadmin":C==="admin"?"/dashboard":"/")}catch(v){u(v.message||"Login failed")}finally{a(!1)}}};return o.jsxs(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20 pointer-events-none"}),o.jsx("main",{className:"flex h-screen items-center justify-center px-2 relative z-10 overflow-hidden",children:o.jsxs(Zt,{variant:"glass",className:"w-full max-w-4xl flex flex-col md:flex-row overflow-hidden p-0 animate-fadeIn rounded-2xl shadow-xl",children:[o.jsx("section",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-6 md:p-12 rounded-l-2xl bg-white/90 backdrop-blur-xl",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-4",children:o.jsxs(xl,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-600 hover:text-gray-800",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to home"]})}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx($s,{variant:"primary",size:"lg",className:"text-center",children:"Log In"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your account"})]}),o.jsxs("form",{onSubmit:m,className:"w-full flex flex-col gap-4",noValidate:!0,children:[o.jsx(Bs,{name:"email",value:t.email,onChange:d,placeholder:"Email or username",type:"text",error:n.email,autoComplete:"username",required:!0}),o.jsx("div",{className:"relative",children:o.jsx(bl,{name:"password",value:t.password,onChange:d,placeholder:"Password",error:n.password,autoComplete:"current-password",required:!0,className:"pr-12"})}),o.jsx("div",{className:"flex items-center justify-end mt-1",children:o.jsxs("div",{className:"text-sm text-gray-500",children:["Need an account?"," ",o.jsx("a",{href:"/get-started",className:"text-blue-600 hover:underline",children:"Get started"})]})}),l&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:(()=>{try{const p=JSON.parse(l);return p.error||p.message||l}catch{return l}})()})]}),o.jsxs(He,{type:"submit",variant:"primary",disabled:s,className:"w-full flex items-center justify-center h-12 mt-2 text-lg font-medium transition-all duration-300 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]",children:[s&&o.jsx(Ii,{size:"sm",className:"mr-2"}),s?"Logging in...":"Login"]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"mt-6 text-gray-400 text-xs",children:"Secure login powered by eKahera"})})]})}),o.jsxs("aside",{className:"hidden md:flex items-center rounded-r-2xl bg-gradient-to-br from-indigo-500 via-blue-400 to-sky-400 w-1/2 p-10 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-7 -z-10 pointer-events-none",children:o.jsx("div",{className:"w-full h-full bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.25)_1px,transparent_0)] bg-[length:24px_24px]"})}),o.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-start max-w-sm pl-6",children:[o.jsx("h2",{className:"text-white font-extrabold text-3xl leading-tight mb-3",children:"Welcome back!"}),o.jsx("p",{className:"text-white/90 text-base max-w-xs mb-6",children:"Sign in to continue managing transactions, inventory and sales from anywhere."}),o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/15 text-white/90 px-3 py-1 text-xs backdrop-blur-sm ring-1 ring-white/20",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-300 animate-pulse"}),"Secure area  eKahera"]})]})]})]})}),o.jsx("style",{children:`
    html, body, #root {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden; /* No scroll */
    }
  `})]})}function l3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=l3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=l3(e))&&(n&&(n+=" "),n+=t);return n}var py={},gy={},qk;function EV(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(gy)),gy}var vy={},Wk;function c3(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(vy)),vy}var yy={},Gk;function u3(){return Gk||(Gk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(yy)),yy}var xy={},Kk;function Zw(){return Kk||(Kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",u=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const d=r[s];l?d==="\\"&&s+1<i?(s++,a+=r[s]):d===l?l="":a+=d:u?d==='"'||d==="'"?l=d:d==="]"?(u=!1,n.push(a),a=""):a+=d:d==="["?(u=!0,a&&(n.push(a),a="")):d==="."?a&&(n.push(a),a=""):a+=d,s++}return a&&n.push(a),n}e.toPath=t}(xy)),xy}var Hk;function e2(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EV(),r=c3(),n=u3(),i=Zw();function s(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?r.isDeepKey(u)?s(l,i.toPath(u),d):d:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=l[u];return h===void 0?d:h}default:{if(Array.isArray(u))return a(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const h=l[u];return h===void 0?d:h}}}function a(l,u,d){if(u.length===0)return d;let h=l;for(let m=0;m<u.length;m++){if(h==null||t.isUnsafeProperty(u[m]))return d;h=h[u[m]]}return h===void 0?d:h}e.get=s}(py)),py}var by,Yk;function PV(){return Yk||(Yk=1,by=e2().get),by}var _V=PV();const kl=us(_V);var wy={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk;function TV(){if(Qk)return vr;Qk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function C(A){if(typeof A=="object"&&A!==null){var N=A.$$typeof;switch(N){case e:switch(A=A.type,A){case r:case i:case n:case d:case h:return A;default:switch(A=A&&A.$$typeof,A){case l:case a:case u:case p:case m:case s:return A;default:return N}}case t:return N}}}return vr.ContextConsumer=a,vr.ContextProvider=s,vr.Element=e,vr.ForwardRef=u,vr.Fragment=r,vr.Lazy=p,vr.Memo=m,vr.Portal=t,vr.Profiler=i,vr.StrictMode=n,vr.Suspense=d,vr.SuspenseList=h,vr.isAsyncMode=function(){return!1},vr.isConcurrentMode=function(){return!1},vr.isContextConsumer=function(A){return C(A)===a},vr.isContextProvider=function(A){return C(A)===s},vr.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},vr.isForwardRef=function(A){return C(A)===u},vr.isFragment=function(A){return C(A)===r},vr.isLazy=function(A){return C(A)===p},vr.isMemo=function(A){return C(A)===m},vr.isPortal=function(A){return C(A)===t},vr.isProfiler=function(A){return C(A)===i},vr.isStrictMode=function(A){return C(A)===n},vr.isSuspense=function(A){return C(A)===d},vr.isSuspenseList=function(A){return C(A)===h},vr.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===i||A===n||A===d||A===h||A===v||typeof A=="object"&&A!==null&&(A.$$typeof===p||A.$$typeof===m||A.$$typeof===s||A.$$typeof===a||A.$$typeof===u||A.$$typeof===x||A.getModuleId!==void 0)},vr.typeOf=C,vr}var Jk;function OV(){return Jk||(Jk=1,wy.exports=TV()),wy.exports}var MV=OV(),Ln=e=>e===0?0:e>0?1:-1,as=e=>typeof e=="number"&&e!=+e,Dc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ht=e=>(typeof e=="number"||e instanceof Number)&&!as(e),Va=e=>ht(e)||typeof e=="string",RV=0,Yc=e=>{var t=++RV;return"".concat(e||"").concat(t)},gi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ht(t)&&typeof t!="string")return n;var s;if(Dc(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return as(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},d3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},rs=(e,t)=>ht(e)&&ht(t)?r=>e+r*(t-e):()=>t;function t2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):kl(n,t))===r)}var kr=e=>e===null||typeof e>"u",em=e=>kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),IV=["viewBox","children"],DV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xk=["points","pathLength"],jy={svg:IV,polygon:Xk,polyline:Xk},r2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],n2=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{r2.includes(i)&&(n[i]=s=>r[i](r,s))}),n},LV=(e,t,r)=>n=>(e(t,r,n),null),tm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];r2.includes(i)&&typeof s=="function"&&(n||(n={}),n[i]=LV(s,t,r))}),n},Zk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eN=null,Ay=null,f3=e=>{if(e===eN&&Array.isArray(Ay))return Ay;var t=[];return j.Children.forEach(e,r=>{kr(r)||(MV.isFragment(r)?t=t.concat(f3(r.props.children)):t.push(r))}),Ay=t,eN=e,t};function rm(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Zk(i)):n=[Zk(t)],f3(e).forEach(i=>{var s=kl(i,"type.displayName")||kl(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var h3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,BV=(e,t,r,n)=>{var i,s=(i=n&&(jy==null?void 0:jy[n]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(n&&s.includes(t)||DV.includes(t))||r&&r2.includes(t)},lr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;BV((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},FV=["children","width","height","viewBox","className","style","title","desc"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function $V(e,t){if(e==null)return{};var r,n,i=zV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i2=j.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:u,desc:d}=e,h=$V(e,FV),m=s||{width:n,height:i,x:0,y:0},p=fr("recharts-surface",a);return j.createElement("svg",Lb({},lr(h,!0,"svg"),{className:p,width:n,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),j.createElement("title",null,u),j.createElement("desc",null,d),r)}),VV=["children","className"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function UV(e,t){if(e==null)return{};var r,n,i=qV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bn=j.forwardRef((e,t)=>{var{children:r,className:n}=e,i=UV(e,VV),s=fr("recharts-layer",n);return j.createElement("g",Bb({className:s},lr(i,!0),{ref:t}),r)}),m3=j.createContext(null),WV=()=>j.useContext(m3);function Pr(e){return function(){return e}}const p3=Math.cos,t0=Math.sin,xa=Math.sqrt,r0=Math.PI,Z0=2*r0,Fb=Math.PI,$b=2*Fb,kc=1e-6,GV=$b-kc;function g3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function KV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return g3;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class HV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?g3:KV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,u=n-t,d=i-r,h=a-t,m=l-r,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>kc)if(!(Math.abs(m*u-d*h)>kc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-a,x=i-l,C=u*u+d*d,A=v*v+x*x,N=Math.sqrt(C),T=Math.sqrt(p),O=s*Math.tan((Fb-Math.acos((C+p-A)/(2*N*T)))/2),M=O/T,D=O/N;Math.abs(M-1)>kc&&this._append`L${t+M*h},${r+M*m}`,this._append`A${s},${s},0,0,${+(m*v>h*x)},${this._x1=t+D*u},${this._y1=r+D*d}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),u=n*Math.sin(i),d=t+l,h=r+u,m=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>kc||Math.abs(this._y1-h)>kc)&&this._append`L${d},${h}`,n&&(p<0&&(p=p%$b+$b),p>GV?this._append`A${n},${n},0,1,${m},${t-l},${r-u}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:p>kc&&this._append`A${n},${n},0,${+(p>=Fb)},${m},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function s2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new HV(t)}function a2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v3(e){this._context=e}v3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eg(e){return new v3(e)}function y3(e){return e[0]}function x3(e){return e[1]}function b3(e,t){var r=Pr(!0),n=null,i=eg,s=null,a=s2(l);e=typeof e=="function"?e:e===void 0?y3:Pr(e),t=typeof t=="function"?t:t===void 0?x3:Pr(t);function l(u){var d,h=(u=a2(u)).length,m,p=!1,v;for(n==null&&(s=i(v=a())),d=0;d<=h;++d)!(d<h&&r(m=u[d],d,u))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(m,d,u),+t(m,d,u));if(v)return s=null,v+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Pr(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Pr(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Pr(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(s=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=s=null:s=i(n=u),l):n},l}function sp(e,t,r){var n=null,i=Pr(!0),s=null,a=eg,l=null,u=s2(d);e=typeof e=="function"?e:e===void 0?y3:Pr(+e),t=typeof t=="function"?t:Pr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?x3:Pr(+r);function d(m){var p,v,x,C=(m=a2(m)).length,A,N=!1,T,O=new Array(C),M=new Array(C);for(s==null&&(l=a(T=u())),p=0;p<=C;++p){if(!(p<C&&i(A=m[p],p,m))===N)if(N=!N)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=v;--x)l.point(O[x],M[x]);l.lineEnd(),l.areaEnd()}N&&(O[p]=+e(A,p,m),M[p]=+t(A,p,m),l.point(n?+n(A,p,m):O[p],r?+r(A,p,m):M[p]))}if(T)return l=null,T+""||null}function h(){return b3().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Pr(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Pr(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Pr(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Pr(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Pr(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Pr(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(n).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Pr(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),d):s},d}class w3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function YV(e){return new w3(e,!0)}function QV(e){return new w3(e,!1)}const o2={draw(e,t){const r=xa(t/r0);e.moveTo(r,0),e.arc(0,0,r,0,Z0)}},JV={draw(e,t){const r=xa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},j3=xa(1/3),XV=j3*2,ZV={draw(e,t){const r=xa(t/XV),n=r*j3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eU={draw(e,t){const r=xa(t),n=-r/2;e.rect(n,n,r,r)}},tU=.8908130915292852,A3=t0(r0/10)/t0(7*r0/10),rU=t0(Z0/10)*A3,nU=-p3(Z0/10)*A3,iU={draw(e,t){const r=xa(t*tU),n=rU*r,i=nU*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Z0*s/5,l=p3(a),u=t0(a);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*i,u*n+l*i)}e.closePath()}},Sy=xa(3),sU={draw(e,t){const r=-xa(t/(Sy*3));e.moveTo(0,r*2),e.lineTo(-Sy*r,-r),e.lineTo(Sy*r,-r),e.closePath()}},Os=-.5,Ms=xa(3)/2,zb=1/xa(12),aU=(zb/2+1)*3,oU={draw(e,t){const r=xa(t/aU),n=r/2,i=r*zb,s=n,a=r*zb+r,l=-s,u=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,u),e.lineTo(Os*n-Ms*i,Ms*n+Os*i),e.lineTo(Os*s-Ms*a,Ms*s+Os*a),e.lineTo(Os*l-Ms*u,Ms*l+Os*u),e.lineTo(Os*n+Ms*i,Os*i-Ms*n),e.lineTo(Os*s+Ms*a,Os*a-Ms*s),e.lineTo(Os*l+Ms*u,Os*u-Ms*l),e.closePath()}};function lU(e,t){let r=null,n=s2(i);e=typeof e=="function"?e:Pr(e||o2),t=typeof t=="function"?t:Pr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Pr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function n0(){}function i0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function S3(e){this._context=e}S3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cU(e){return new S3(e)}function C3(e){this._context=e}C3.prototype={areaStart:n0,areaEnd:n0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:i0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uU(e){return new C3(e)}function k3(e){this._context=e}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:i0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dU(e){return new k3(e)}function N3(e){this._context=e}N3.prototype={areaStart:n0,areaEnd:n0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fU(e){return new N3(e)}function tN(e){return e<0?-1:1}function rN(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(tN(s)+tN(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function nN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Cy(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function s0(e){this._context=e}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cy(this,this._t0,nN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cy(this,nN(this,r=rN(this,e,t)),r);break;default:Cy(this,this._t0,r=rN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function E3(e){this._context=new P3(e)}(E3.prototype=Object.create(s0.prototype)).point=function(e,t){s0.prototype.point.call(this,t,e)};function P3(e){this._context=e}P3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function hU(e){return new s0(e)}function mU(e){return new E3(e)}function _3(e){this._context=e}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iN(e),i=iN(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iN(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function pU(e){return new _3(e)}function tg(e,t){this._context=e,this._t=t}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gU(e){return new tg(e,.5)}function vU(e){return new tg(e,0)}function yU(e){return new tg(e,1)}function Td(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Vb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xU(e,t){return e[t]}function bU(e){const t=[];return t.key=e,t}function wU(){var e=Pr([]),t=Vb,r=Td,n=xU;function i(s){var a=Array.from(e.apply(this,arguments),bU),l,u=a.length,d=-1,h;for(const m of s)for(l=0,++d;l<u;++l)(a[l][d]=[0,+n(m,a[l].key,d,s)]).data=m;for(l=0,h=a2(t(a));l<u;++l)a[h[l]].index=l;return r(a,h),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Vb:typeof s=="function"?s:Pr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Td,i):r},i}function jU(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Td(e,t)}}function AU(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}Td(e,t)}}function SU(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,u=0,d=0;l<a;++l){for(var h=e[t[l]],m=h[n][1]||0,p=h[n-1][1]||0,v=(m-p)/2,x=0;x<l;++x){var C=e[t[x]],A=C[n][1]||0,N=C[n-1][1]||0;v+=A-N}u+=m,d+=v*m}i[n-1][1]+=i[n-1][0]=r,u&&(r-=d/u)}i[n-1][1]+=i[n-1][0]=r,Td(e,t)}}var CU=["type","size","sizeType"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(null,arguments)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=EU(e,"string");return typeof t=="symbol"?t:t+""}function EU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PU(e,t){if(e==null)return{};var r,n,i=_U(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _U(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T3={symbolCircle:o2,symbolCross:JV,symbolDiamond:ZV,symbolSquare:eU,symbolStar:iU,symbolTriangle:sU,symbolWye:oU},TU=Math.PI/180,OU=e=>{var t="symbol".concat(em(e));return T3[t]||o2},MU=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*TU;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},RU=(e,t)=>{T3["symbol".concat(em(e))]=t},l2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=PU(e,CU),s=aN(aN({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var m=OU(t),p=lU().type(m).size(MU(r,n,t));return p()},{className:l,cx:u,cy:d}=s,h=lr(s,!0);return u===+u&&d===+d&&r===+r?j.createElement("path",Ub({},h,{className:fr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:a()})):null};l2.registerSymbol=RU;function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(null,arguments)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){c2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c2(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=LU(e,"string");return typeof t=="symbol"?t:t+""}function LU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rs=32;class u2 extends j.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=Rs/2,s=Rs/6,a=Rs/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Rs,y2:i,className:"recharts-legend-icon"});if(u==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Rs,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Rs/8,"h").concat(Rs,"v").concat(Rs*3/4,"h").concat(-Rs,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var d=IU({},t);return delete d.legendIcon,j.cloneElement(t.legendIcon,d)}return j.createElement(l2,{fill:l,cx:i,cy:i,size:Rs,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,l={x:0,y:0,width:Rs,height:Rs},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var p=h.formatter||i,v=fr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var x=h.inactive?s:h.color,C=p?p(h.value,h,m):h.value;return j.createElement("li",qb({className:v,style:u,key:"legend-item-".concat(m)},tm(this.props,h,m)),j.createElement(i2,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(C," legend icon")},this.renderIcon(h,a)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},C))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}c2(u2,"displayName","Legend");c2(u2,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ky={},Ny={},lN;function BU(){return lN||(lN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t}(Ny)),Ny}var Ey={},cN;function O3(){return cN||(cN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(Ey)),Ey}var Py={},_y={},Ty={},uN;function FU(){return uN||(uN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Ty)),Ty}var dN;function d2(){return dN||(dN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FU();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(_y)),_y}var Oy={},fN;function $U(){return fN||(fN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(Oy)),Oy}var hN;function zU(){return hN||(hN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d2(),r=$U();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n}(Py)),Py}var My={},Ry={},mN;function VU(){return mN||(mN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e2();function r(n){return function(i){return t.get(i,n)}}e.property=r}(Ry)),Ry}var Iy={},Dy={},Ly={},By={},pN;function M3(){return pN||(pN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(By)),By}var Fy={},gN;function R3(){return gN||(gN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(Fy)),Fy}var $y={},vN;function f2(){return vN||(vN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}($y)),$y}var yN;function UU(){return yN||(yN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2(),r=M3(),n=R3(),i=f2();function s(m,p,v){return typeof v!="function"?t.isMatch(m,p):a(m,p,function x(C,A,N,T,O,M){const D=v(C,A,N,T,O,M);return D!==void 0?!!D:a(C,A,x,M)},new Map)}function a(m,p,v,x){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,v,x);case"function":return Object.keys(p).length>0?a(m,{...p},v,x):i.eq(m,p);default:return r.isObject(m)?typeof p=="string"?p==="":!0:i.eq(m,p)}}function l(m,p,v,x){if(p==null)return!0;if(Array.isArray(p))return d(m,p,v,x);if(p instanceof Map)return u(m,p,v,x);if(p instanceof Set)return h(m,p,v,x);const C=Object.keys(p);if(m==null)return C.length===0;if(C.length===0)return!0;if(x&&x.has(p))return x.get(p)===m;x&&x.set(p,m);try{for(let A=0;A<C.length;A++){const N=C[A];if(!n.isPrimitive(m)&&!(N in m)||p[N]===void 0&&m[N]!==void 0||p[N]===null&&m[N]!==null||!v(m[N],p[N],N,m,p,x))return!1}return!0}finally{x&&x.delete(p)}}function u(m,p,v,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[C,A]of p.entries()){const N=m.get(C);if(v(N,A,C,m,p,x)===!1)return!1}return!0}function d(m,p,v,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const C=new Set;for(let A=0;A<p.length;A++){const N=p[A];let T=!1;for(let O=0;O<m.length;O++){if(C.has(O))continue;const M=m[O];let D=!1;if(v(M,N,A,m,p,x)&&(D=!0),D){C.add(O),T=!0;break}}if(!T)return!1}return!0}function h(m,p,v,x){return p.size===0?!0:m instanceof Set?d([...m],[...p],v,x):!1}e.isMatchWith=s,e.isSetMatch=h}(Ly)),Ly}var xN;function h2(){return xN||(xN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UU();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Dy)),Dy}var zy={},Vy={},Uy={},bN;function I3(){return bN||(bN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(Uy)),Uy}var qy={},wN;function m2(){return wN||(wN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(qy)),qy}var Wy={},jN;function p2(){return jN||(jN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",p="[object ArrayBuffer]",v="[object Object]",x="[object Error]",C="[object DataView]",A="[object Uint8Array]",N="[object Uint8ClampedArray]",T="[object Uint16Array]",O="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",I="[object Int16Array]",$="[object Int32Array]",W="[object BigInt64Array]",K="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=p,e.arrayTag=h,e.bigInt64ArrayTag=W,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=C,e.dateTag=l,e.errorTag=x,e.float32ArrayTag=K,e.float64ArrayTag=J,e.functionTag=m,e.int16ArrayTag=I,e.int32ArrayTag=$,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=T,e.uint32ArrayTag=O,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=N}(Wy)),Wy}var Gy={},AN;function qU(){return AN||(AN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(Gy)),Gy}var SN;function D3(){return SN||(SN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I3(),r=m2(),n=p2(),i=R3(),s=qU();function a(h,m){return l(h,void 0,h,new Map,m)}function l(h,m,p,v=new Map,x=void 0){const C=x==null?void 0:x(h,m,p,v);if(C!=null)return C;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const A=new Array(h.length);v.set(h,A);for(let N=0;N<h.length;N++)A[N]=l(h[N],N,p,v,x);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;v.set(h,A);for(const[N,T]of h)A.set(N,l(T,N,p,v,x));return A}if(h instanceof Set){const A=new Set;v.set(h,A);for(const N of h)A.add(l(N,void 0,p,v,x));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,A);for(let N=0;N<h.length;N++)A[N]=l(h[N],N,p,v,x);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,A),u(A,h,p,v,x),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return v.set(h,A),u(A,h,p,v,x),A}if(h instanceof Blob){const A=new Blob([h],{type:h.type});return v.set(h,A),u(A,h,p,v,x),A}if(h instanceof Error){const A=new h.constructor;return v.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,u(A,h,p,v,x),A}if(typeof h=="object"&&d(h)){const A=Object.create(Object.getPrototypeOf(h));return v.set(h,A),u(A,h,p,v,x),A}return h}function u(h,m,p=h,v,x){const C=[...Object.keys(m),...t.getSymbols(m)];for(let A=0;A<C.length;A++){const N=C[A],T=Object.getOwnPropertyDescriptor(h,N);(T==null||T.writable)&&(h[N]=l(m[N],N,p,v,x))}}function d(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=u}(Vy)),Vy}var CN;function WU(){return CN||(CN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D3();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(zy)),zy}var kN;function GU(){return kN||(kN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2(),r=WU();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n}(Iy)),Iy}var Ky={},Hy={},Yy={},NN;function KU(){return NN||(NN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D3(),r=p2();function n(i,s){return t.cloneDeepWith(i,(a,l,u,d)=>{const h=s==null?void 0:s(a,l,u,d);if(h!=null)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case r.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n}(Yy)),Yy}var EN;function HU(){return EN||(EN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KU();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(Hy)),Hy}var Qy={},Jy={},PN;function L3(){return PN||(PN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(Jy)),Jy}var Xy={},_N;function YU(){return _N||(_N=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(Xy)),Xy}var TN;function QU(){return TN||(TN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c3(),r=L3(),n=YU(),i=Zw();function s(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=a;for(let h=0;h<u.length;h++){const m=u[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=s}(Qy)),Qy}var ON;function JU(){return ON||(ON=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2(),r=u3(),n=HU(),i=e2(),s=QU();function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(d){const h=i.get(d,l);return h===void 0?s.has(d,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=a}(Ky)),Ky}var MN;function XU(){return MN||(MN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O3(),r=VU(),n=GU(),i=JU();function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s}(My)),My}var RN;function ZU(){return RN||(RN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU(),r=O3(),n=zU(),i=XU();function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s}(ky)),ky}var Zy,IN;function eq(){return IN||(IN=1,Zy=ZU().uniqBy),Zy}var tq=eq();const DN=us(tq);function B3(e,t,r){return t===!0?DN(e,r):typeof t=="function"?DN(e,t):e}var ex={exports:{}},tx={},rx={exports:{}},nx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN;function rq(){if(LN)return nx;LN=1;var e=Vd();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function l(m,p){var v=p(),x=n({inst:{value:v,getSnapshot:p}}),C=x[0].inst,A=x[1];return s(function(){C.value=v,C.getSnapshot=p,u(C)&&A({inst:C})},[m,v,p]),i(function(){return u(C)&&A({inst:C}),m(function(){u(C)&&A({inst:C})})},[m]),a(v),v}function u(m){var p=m.getSnapshot;m=m.value;try{var v=p();return!r(m,v)}catch{return!0}}function d(m,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return nx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,nx}var BN;function nq(){return BN||(BN=1,rx.exports=rq()),rx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function iq(){if(FN)return tx;FN=1;var e=Vd(),t=nq();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return tx.useSyncExternalStoreWithSelector=function(d,h,m,p,v){var x=s(null);if(x.current===null){var C={hasValue:!1,value:null};x.current=C}else C=x.current;x=l(function(){function N(I){if(!T){if(T=!0,O=I,I=p(I),v!==void 0&&C.hasValue){var $=C.value;if(v($,I))return M=$}return M=I}if($=M,n(O,I))return $;var W=p(I);return v!==void 0&&v($,W)?(O=I,$):(O=I,M=W)}var T=!1,O,M,D=m===void 0?null:m;return[function(){return N(h())},D===null?void 0:function(){return N(D())}]},[h,m,p,v]);var A=i(d,x[0],x[1]);return a(function(){C.hasValue=!0,C.value=A},[A]),u(A),A},tx}var $N;function sq(){return $N||($N=1,ex.exports=iq()),ex.exports}var aq=sq(),g2=j.createContext(null),oq=e=>e,Br=()=>{var e=j.useContext(g2);return e?e.store.dispatch:oq},Ip=()=>{},lq=()=>Ip,cq=(e,t)=>e===t;function kt(e){var t=j.useContext(g2);return aq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lq,t?t.store.getState:Ip,t?t.store.getState:Ip,t?e:Ip,cq)}function uq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function dq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var zN=e=>Array.isArray(e)?e:[e];function hq(e){const t=Array.isArray(e[0])?e[0]:e;return fq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function mq(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var pq=class{constructor(e){this.value=e}deref(){return this.value}},gq=typeof WeakRef<"u"?WeakRef:pq,vq=0,VN=1;function ap(){return{s:vq,v:void 0,o:null,p:null}}function F3(e,t={}){let r=ap();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var m;let l=r;const{length:u}=arguments;for(let p=0,v=u;p<v;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let C=l.o;C===null&&(l.o=C=new WeakMap);const A=C.get(x);A===void 0?(l=ap(),C.set(x,l)):l=A}else{let C=l.p;C===null&&(l.p=C=new Map);const A=C.get(x);A===void 0?(l=ap(),C.set(x,l)):l=A}}const d=l;let h;if(l.s===VN)h=l.v;else if(h=e.apply(null,arguments),s++,n){const p=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;p!=null&&n(p,h)&&(h=p,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new gq(h):h}return d.s=VN,d.v=h,h}return a.clearCache=()=>{r=ap(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function yq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),uq(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...r,...u},{memoize:m,memoizeOptions:p=[],argsMemoize:v=F3,argsMemoizeOptions:x=[]}=h,C=zN(p),A=zN(x),N=hq(i),T=m(function(){return s++,d.apply(null,arguments)},...C),O=v(function(){a++;const D=mq(N,arguments);return l=T.apply(null,D),l},...A);return Object.assign(O,{resultFunc:d,memoizedResultFunc:T,dependencies:N,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Me=yq(F3),xq=Object.assign((e,t=Me)=>{dq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,u)=>(a[r[u]]=l,a),{}))},{withTypes:()=>xq}),ix={},sx={},ax={},UN;function bq(){return UN||(UN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r}(ax)),ax}var ox={},lx={},qN;function $3(){return qN||(qN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(lx)),lx}var WN;function wq(){return WN||(WN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$3(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i}(ox)),ox}var GN;function jq(){return GN||(GN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bq(),r=wq(),n=Zw();function i(s,a,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const d=(v,x)=>{let C=v;for(let A=0;A<x.length&&C!=null;++A)C=C[x[A]];return C},h=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:d(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?d(x,v):typeof x=="object"?x[v]:x,m=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:m.map(x=>h(x,v))})).slice().sort((v,x)=>{for(let C=0;C<m.length;C++){const A=t.compareValues(v.criteria[C],x.criteria[C],l[C]);if(A!==0)return A}return 0}).map(v=>v.original)}e.orderBy=i}(sx)),sx}var cx={},KN;function Aq(){return KN||(KN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,u)=>{for(let d=0;d<l.length;d++){const h=l[d];Array.isArray(h)&&u<s?a(h,u+1):i.push(h)}};return a(r,0),i}e.flatten=t}(cx)),cx}var ux={},HN;function z3(){return HN||(HN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L3(),r=d2(),n=M3(),i=f2();function s(a,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],a):!1}e.isIterateeCall=s}(ux)),ux}var YN;function Sq(){return YN||(YN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jq(),r=Aq(),n=z3();function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i}(ix)),ix}var dx,QN;function Cq(){return QN||(QN=1,dx=Sq().sortBy),dx}var kq=Cq();const rg=us(kq);var V3=e=>e.legend.settings,Nq=e=>e.legend.size,Eq=e=>e.legend.payload,Pq=Me([Eq,V3],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rg(n,r):n});function _q(){return kt(Pq)}var op=1;function U3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>op||Math.abs(a.left-t.left)>op||Math.abs(a.top-t.top)>op||Math.abs(a.width-t.width)>op)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Tq=typeof Symbol=="function"&&Symbol.observable||"@@observable",JN=Tq,fx=()=>Math.random().toString(36).substring(7).split("").join("."),Oq={INIT:`@@redux/INIT${fx()}`,REPLACE:`@@redux/REPLACE${fx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fx()}`},a0=Oq;function v2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function q3(e,t,r){if(typeof e!="function")throw new Error(Wn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wn(1));return r(q3)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,u=!1;function d(){a===s&&(a=new Map,s.forEach((A,N)=>{a.set(N,A)}))}function h(){if(u)throw new Error(Wn(3));return i}function m(A){if(typeof A!="function")throw new Error(Wn(4));if(u)throw new Error(Wn(5));let N=!0;d();const T=l++;return a.set(T,A),function(){if(N){if(u)throw new Error(Wn(6));N=!1,d(),a.delete(T),s=null}}}function p(A){if(!v2(A))throw new Error(Wn(7));if(typeof A.type>"u")throw new Error(Wn(8));if(typeof A.type!="string")throw new Error(Wn(17));if(u)throw new Error(Wn(9));try{u=!0,i=n(i,A)}finally{u=!1}return(s=a).forEach(T=>{T()}),A}function v(A){if(typeof A!="function")throw new Error(Wn(10));n=A,p({type:a0.REPLACE})}function x(){const A=m;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Wn(11));function T(){const M=N;M.next&&M.next(h())}return T(),{unsubscribe:A(T)}},[JN](){return this}}}return p({type:a0.INIT}),{dispatch:p,subscribe:m,getState:h,replaceReducer:v,[JN]:x}}function Mq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:a0.INIT})>"u")throw new Error(Wn(12));if(typeof r(void 0,{type:a0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wn(13))})}function W3(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{Mq(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let u=!1;const d={};for(let h=0;h<n.length;h++){const m=n[h],p=r[m],v=a[m],x=p(v,l);if(typeof x>"u")throw l&&l.type,new Error(Wn(14));d[m]=x,u=u||x!==v}return u=u||n.length!==Object.keys(a).length,u?d:a}}function o0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Rq(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Wn(15))};const a={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},l=e.map(u=>u(a));return s=o0(...l)(i.dispatch),{...i,dispatch:s}}}function G3(e){return v2(e)&&"type"in e&&typeof e.type=="string"}var K3=Symbol.for("immer-nothing"),XN=Symbol.for("immer-draftable"),os=Symbol.for("immer-state");function fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Od=Object.getPrototypeOf;function Qc(e){return!!e&&!!e[os]}function ko(e){var t;return e?H3(e)||Array.isArray(e)||!!e[XN]||!!((t=e.constructor)!=null&&t[XN])||ig(e)||sg(e):!1}var Iq=Object.prototype.constructor.toString();function H3(e){if(!e||typeof e!="object")return!1;const t=Od(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Iq}function l0(e,t){ng(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ng(e){const t=e[os];return t?t.type_:Array.isArray(e)?1:ig(e)?2:sg(e)?3:0}function Wb(e,t){return ng(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Y3(e,t,r){const n=ng(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Dq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ig(e){return e instanceof Map}function sg(e){return e instanceof Set}function Nc(e){return e.copy_||e.base_}function Gb(e,t){if(ig(e))return new Map(e);if(sg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=H3(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[os];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(Od(e),n)}else{const n=Od(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function y2(e,t=!1){return ag(e)||Qc(e)||!ko(e)||(ng(e)>1&&(e.set=e.add=e.clear=e.delete=Lq),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>y2(n,!0))),e}function Lq(){fa(2)}function ag(e){return Object.isFrozen(e)}var Bq={};function Jc(e){const t=Bq[e];return t||fa(0,e),t}var _h;function Q3(){return _h}function Fq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZN(e,t){t&&(Jc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kb(e){Hb(e),e.drafts_.forEach($q),e.drafts_=null}function Hb(e){e===_h&&(_h=e.parent_)}function eE(e){return _h=Fq(_h,e)}function $q(e){const t=e[os];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[os].modified_&&(Kb(t),fa(4)),ko(e)&&(e=c0(t,e),t.parent_||u0(t,e)),t.patches_&&Jc("Patches").generateReplacementPatches_(r[os].base_,e,t.patches_,t.inversePatches_)):e=c0(t,r,[]),Kb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==K3?e:void 0}function c0(e,t,r){if(ag(t))return t;const n=t[os];if(!n)return l0(t,(i,s)=>rE(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return u0(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),l0(s,(l,u)=>rE(e,n,i,l,u,r,a)),u0(e,i,!1),r&&e.patches_&&Jc("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function rE(e,t,r,n,i,s,a){if(Qc(i)){const l=s&&t&&t.type_!==3&&!Wb(t.assigned_,n)?s.concat(n):void 0,u=c0(e,i,l);if(Y3(r,n,u),Qc(u))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(ko(i)&&!ag(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;c0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&u0(e,i)}}function u0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&y2(t,r)}function zq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Q3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=x2;r&&(i=[n],s=Th);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var x2={get(e,t){if(t===os)return e;const r=Nc(e);if(!Wb(r,t))return Vq(e,r,t);const n=r[t];return e.finalized_||!ko(n)?n:n===hx(e.base_,t)?(mx(e),e.copy_[t]=Qb(n,e)):n},has(e,t){return t in Nc(e)},ownKeys(e){return Reflect.ownKeys(Nc(e))},set(e,t,r){const n=J3(Nc(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=hx(Nc(e),t),s=i==null?void 0:i[os];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Dq(r,i)&&(r!==void 0||Wb(e.base_,t)))return!0;mx(e),Yb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mx(e),Yb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Nc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){fa(11)},getPrototypeOf(e){return Od(e.base_)},setPrototypeOf(){fa(12)}},Th={};l0(x2,(e,t)=>{Th[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Th.deleteProperty=function(e,t){return Th.set.call(this,e,t,void 0)};Th.set=function(e,t,r){return x2.set.call(this,e[0],t,r,e[0])};function hx(e,t){const r=e[os];return(r?Nc(r):e)[t]}function Vq(e,t,r){var i;const n=J3(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function J3(e,t){if(!(t in e))return;let r=Od(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Od(r)}}function Yb(e){e.modified_||(e.modified_=!0,e.parent_&&Yb(e.parent_))}function mx(e){e.copy_||(e.copy_=Gb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Uq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(u=s,...d){return a.produce(u,h=>r.call(this,h,...d))}}typeof r!="function"&&fa(6),n!==void 0&&typeof n!="function"&&fa(7);let i;if(ko(t)){const s=eE(this),a=Qb(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?Kb(s):Hb(s)}return ZN(s,n),tE(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===K3&&(i=void 0),this.autoFreeze_&&y2(i,!0),n){const s=[],a=[];Jc("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else fa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,u=>t(u,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ko(e)||fa(8),Qc(e)&&(e=wl(e));const t=eE(this),r=Qb(e,void 0);return r[os].isManual_=!0,Hb(t),r}finishDraft(e,t){const r=e&&e[os];(!r||!r.isManual_)&&fa(9);const{scope_:n}=r;return ZN(n,t),tE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Jc("Patches").applyPatches_;return Qc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Qb(e,t){const r=ig(e)?Jc("MapSet").proxyMap_(e,t):sg(e)?Jc("MapSet").proxySet_(e,t):zq(e,t);return(t?t.scope_:Q3()).drafts_.push(r),r}function wl(e){return Qc(e)||fa(10,e),X3(e)}function X3(e){if(!ko(e)||ag(e))return e;const t=e[os];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Gb(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Gb(e,!0);return l0(r,(n,i)=>{Y3(r,n,X3(i))}),t&&(t.finalized_=!1),r}var ls=new Uq,Z3=ls.produce;ls.produceWithPatches.bind(ls);ls.setAutoFreeze.bind(ls);ls.setUseStrictShallowCopy.bind(ls);ls.applyPatches.bind(ls);ls.createDraft.bind(ls);ls.finishDraft.bind(ls);function e5(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var qq=e5(),Wq=e5,Gq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?o0:o0.apply(null,arguments)};function Us(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(ss(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>G3(n)&&n.type===e,r}var t5=class rh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rh.prototype)}static get[Symbol.species](){return rh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rh(...t[0].concat(this)):new rh(...t.concat(this))}};function nE(e){return ko(e)?Z3(e,()=>{}):e}function lp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Kq(e){return typeof e=="boolean"}var Hq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new t5;return r&&(Kq(r)?a.push(qq):a.push(Wq(r.extraArgument))),a},Yq="RTK_autoBatch",iE=e=>t=>{setTimeout(t,e)},Qq=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iE(10):e.type==="callback"?e.queueNotification:iE(e.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const m=()=>i&&h(),p=n.subscribe(m);return l.add(h),()=>{p(),l.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[Yq]),s=!i,s&&(a||(a=!0,u(d))),n.dispatch(h)}finally{i=!0}}})},Jq=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new t5(e);return n&&i.push(Qq(typeof n=="object"?n:void 0)),i};function Xq(e){const t=Hq(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(v2(r))l=W3(r);else throw new Error(ss(1));let u;typeof n=="function"?u=n(t):u=t();let d=o0;i&&(d=Gq({trace:!1,...typeof i=="object"&&i}));const h=Rq(...u),m=Jq(h);let p=typeof a=="function"?a(m):m();const v=d(...p);return q3(l,s,v)}function r5(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ss(28));if(l in t)throw new Error(ss(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function Zq(e){return typeof e=="function"}function eW(e,t){let[r,n,i]=r5(t),s;if(Zq(e))s=()=>nE(e());else{const l=nE(e);s=()=>l}function a(l=s(),u){let d=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Qc(h)){const v=m(h,u);return v===void 0?h:v}else{if(ko(h))return Z3(h,p=>m(p,u));{const p=m(h,u);if(p===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return h},l)}return a.getInitialState=s,a}var tW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rW=(e=21)=>{let t="",r=e;for(;r--;)t+=tW[Math.random()*64|0];return t},nW=Symbol.for("rtk-slice-createasyncthunk");function iW(e,t){return`${e}/${t}`}function sW({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[nW];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ss(11));const l=(typeof i.reducers=="function"?i.reducers(oW()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(M,D){const I=typeof M=="string"?M:M.type;if(!I)throw new Error(ss(12));if(I in d.sliceCaseReducersByType)throw new Error(ss(13));return d.sliceCaseReducersByType[I]=D,h},addMatcher(M,D){return d.sliceMatchers.push({matcher:M,reducer:D}),h},exposeAction(M,D){return d.actionCreators[M]=D,h},exposeCaseReducer(M,D){return d.sliceCaseReducersByName[M]=D,h}};u.forEach(M=>{const D=l[M],I={reducerName:M,type:iW(s,M),createNotation:typeof i.reducers=="function"};cW(D)?dW(I,D,h,t):lW(I,D,h)});function m(){const[M={},D=[],I=void 0]=typeof i.extraReducers=="function"?r5(i.extraReducers):[i.extraReducers],$={...M,...d.sliceCaseReducersByType};return eW(i.initialState,W=>{for(let K in $)W.addCase(K,$[K]);for(let K of d.sliceMatchers)W.addMatcher(K.matcher,K.reducer);for(let K of D)W.addMatcher(K.matcher,K.reducer);I&&W.addDefaultCase(I)})}const p=M=>M,v=new Map,x=new WeakMap;let C;function A(M,D){return C||(C=m()),C(M,D)}function N(){return C||(C=m()),C.getInitialState()}function T(M,D=!1){function I(W){let K=W[M];return typeof K>"u"&&D&&(K=lp(x,I,N)),K}function $(W=p){const K=lp(v,D,()=>new WeakMap);return lp(K,W,()=>{const J={};for(const[Z,de]of Object.entries(i.selectors??{}))J[Z]=aW(de,W,()=>lp(x,W,N),D);return J})}return{reducerPath:M,getSelectors:$,get selectors(){return $(I)},selectSlice:I}}const O={name:s,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:N,...T(a),injectInto(M,{reducerPath:D,...I}={}){const $=D??a;return M.inject({reducerPath:$,reducer:A},I),{...O,...T($,!0)}}};return O}}function aW(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var Ws=sW();function oW(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function lW({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!uW(n))throw new Error(ss(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Us(e,a):Us(e))}function cW(e){return e._reducerDefinitionType==="asyncThunk"}function uW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dW({type:e,reducerName:t},r,n,i){if(!i)throw new Error(ss(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:u,settled:d,options:h}=r,m=i(e,s,h);n.exposeAction(t,m),a&&n.addCase(m.fulfilled,a),l&&n.addCase(m.pending,l),u&&n.addCase(m.rejected,u),d&&n.addMatcher(m.settled,d),n.exposeCaseReducer(t,{fulfilled:a||cp,pending:l||cp,rejected:u||cp,settled:d||cp})}function cp(){}var fW="task",n5="listener",i5="completed",b2="cancelled",hW=`task-${b2}`,mW=`task-${i5}`,Jb=`${n5}-${b2}`,pW=`${n5}-${i5}`,og=class{constructor(e){Uv(this,"name","TaskAbortError");Uv(this,"message");this.code=e,this.message=`${fW} ${b2} (reason: ${e})`}},w2=(e,t)=>{if(typeof e!="function")throw new TypeError(ss(32))},d0=()=>{},s5=(e,t=d0)=>(e.catch(t),e),a5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Wc=e=>{if(e.aborted){const{reason:t}=e;throw new og(t)}};function o5(e,t){let r=d0;return new Promise((n,i)=>{const s=()=>i(new og(e.reason));if(e.aborted){s();return}r=a5(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=d0})}var gW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof og?"cancelled":"rejected",error:r}}finally{t==null||t()}},f0=e=>t=>s5(o5(e,t).then(r=>(Wc(e),r))),l5=e=>{const t=f0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Sd}=Object,sE={},lg="listenerMiddleware",vW=(e,t)=>{const r=n=>a5(e,()=>qc(n,e.reason));return(n,i)=>{w2(n);const s=new AbortController;r(s);const a=gW(async()=>{Wc(e),Wc(s.signal);const l=await n({pause:f0(s.signal),delay:l5(s.signal),signal:s.signal});return Wc(s.signal),l},()=>qc(s,mW));return i!=null&&i.autoJoin&&t.push(a.catch(d0)),{result:f0(e)(a),cancel(){qc(s,hW)}}}},yW=(e,t)=>{const r=async(n,i)=>{Wc(t);let s=()=>{};const l=[new Promise((u,d)=>{let h=e({predicate:n,effect:(m,p)=>{p.unsubscribe(),u([m,p.getState(),p.getOriginalState()])}});s=()=>{h(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await o5(t,Promise.race(l));return Wc(t),u}finally{s()}};return(n,i)=>s5(r(n,i))},c5=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Us(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(ss(21));return w2(s),{predicate:i,type:t,effect:s}},u5=Sd(e=>{const{type:t,predicate:r,effect:n}=c5(e);return{id:rW(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ss(22))}}},{withTypes:()=>u5}),aE=(e,t)=>{const{type:r,effect:n,predicate:i}=c5(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Xb=e=>{e.pending.forEach(t=>{qc(t,Jb)})},xW=e=>()=>{e.forEach(Xb),e.clear()},oE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},d5=Sd(Us(`${lg}/add`),{withTypes:()=>d5}),bW=Us(`${lg}/removeAll`),f5=Sd(Us(`${lg}/remove`),{withTypes:()=>f5}),wW=(...e)=>{console.error(`${lg}/error`,...e)},nm=(e={})=>{const t=new Map,{extra:r,onError:n=wW}=e;w2(n);const i=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),m=>{h.unsubscribe(),m!=null&&m.cancelActive&&Xb(h)}),s=h=>{const m=aE(t,h)??u5(h);return i(m)};Sd(s,{withTypes:()=>s});const a=h=>{const m=aE(t,h);return m&&(m.unsubscribe(),h.cancelActive&&Xb(m)),!!m};Sd(a,{withTypes:()=>a});const l=async(h,m,p,v)=>{const x=new AbortController,C=yW(s,x.signal),A=[];try{h.pending.add(x),await Promise.resolve(h.effect(m,Sd({},p,{getOriginalState:v,condition:(N,T)=>C(N,T).then(Boolean),take:C,delay:l5(x.signal),pause:f0(x.signal),extra:r,signal:x.signal,fork:vW(x.signal,A),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((N,T,O)=>{N!==x&&(qc(N,Jb),O.delete(N))})},cancel:()=>{qc(x,Jb),h.pending.delete(x)},throwIfCancelled:()=>{Wc(x.signal)}})))}catch(N){N instanceof og||oE(n,N,{raisedBy:"effect"})}finally{await Promise.all(A),qc(x,pW),h.pending.delete(x)}},u=xW(t);return{middleware:h=>m=>p=>{if(!G3(p))return m(p);if(d5.match(p))return s(p.payload);if(bW.match(p)){u();return}if(f5.match(p))return a(p.payload);let v=h.getState();const x=()=>{if(v===sE)throw new Error(ss(23));return v};let C;try{if(C=m(p),t.size>0){const A=h.getState(),N=Array.from(t.values());for(const T of N){let O=!1;try{O=T.predicate(p,A,v)}catch(M){O=!1,oE(n,M,{raisedBy:"predicate"})}O&&l(T,p,h,x)}}}finally{v=sE}return C},startListening:s,stopListening:a,clearListeners:u}};function ss(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},h5=Ws({name:"chartLayout",initialState:jW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:AW,setLayout:SW,setChartSize:CW,setScale:kW}=h5.actions,NW=h5.reducer;function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0=Math.PI/180,TW=e=>e*180/Math.PI,hn=(e,t,r,n)=>({x:e+Math.cos(-h0*n)*r,y:t+Math.sin(-h0*n)*r}),m5=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},OW=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},MW=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=OW({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,u=Math.acos(l);return n>s&&(u=2*Math.PI-u),{radius:a,angle:TW(u),angleInRadian:u}},RW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},IW=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},DW=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=MW({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:u,endAngle:d}=RW(t),h=s,m;if(u<=d){for(;h>d;)h-=360;for(;h<u;)h+=360;m=h>=u&&h<=d}else{for(;h>u;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=u}return m?cE(cE({},t),{},{radius:i,angle:IW(h,t)}):null};function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t,r){return kr(e)||kr(t)?r:Va(t)?kl(e,t,r):typeof t=="function"?t(e):r}var $W=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?r[u-1].coordinate:r[l-1].coordinate,h=r[u].coordinate,m=u>=l-1?r[0].coordinate:r[u+1].coordinate,p=void 0;if(Ln(h-d)!==Ln(m-h)){var v=[];if(Ln(m-h)===Ln(i[1]-i[0])){p=m;var x=h+i[1]-i[0];v[0]=Math.min(x,(x+d)/2),v[1]=Math.max(x,(x+d)/2)}else{p=d;var C=m+i[1]-i[0];v[0]=Math.min(h,(C+h)/2),v[1]=Math.max(h,(C+h)/2)}var A=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>A[0]&&e<=A[1]||e>=v[0]&&e<=v[1]){({index:a}=r[u]);break}}else{var N=Math.min(d,m),T=Math.max(d,m);if(e>(N+h)/2&&e<=(T+h)/2){({index:a}=r[u]);break}}}else if(t){for(var O=0;O<l;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<l-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===l-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:a}=t[O]);break}}return a},zW=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ht(e[s]))return Fs(Fs({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ht(e[a]))return Fs(Fs({},e),{},{[a]:e[a]+(i||0)})}return e},Tl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",p5=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},g5=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:p,axisType:v}=e;if(!a)return null;var x=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,C=i==="category"&&a.bandwidth?a.bandwidth()/x:0;if(C=v==="angleAxis"&&s&&s.length>=2?Ln(s[0]-s[1])*2*C:C,m||p){var A=(m||p||[]).map((N,T)=>{var O=n?n.indexOf(N):N;return{coordinate:a(O)+C,value:N,offset:C,index:T}});return A.filter(N=>!as(N.coordinate))}return u&&d?d.map((N,T)=>({coordinate:a(N)+C,value:N,index:T,offset:C})):a.ticks&&h!=null?a.ticks(h).map((N,T)=>({coordinate:a(N)+C,value:N,offset:C,index:T})):a.domain().map((N,T)=>({coordinate:a(N)+C,value:n?n[N]:N,index:T,offset:C}))},dE=1e-4,VW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-dE,s=Math.max(n[0],n[1])+dE,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},UW=(e,t)=>{if(!t||t.length!==2||!ht(t[0])||!ht(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ht(e[0])||e[0]<r)&&(i[0]=r),(!ht(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},qW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=as(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},WW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=as(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},GW={sign:qW,expand:jU,none:Td,silhouette:AU,wiggle:SU,positive:WW},KW=(e,t,r)=>{var n=GW[r],i=wU().keys(t).value((s,a)=>+Rr(s,a,0)).order(Vb).offset(n);return i(e)};function v5(e){return e==null?void 0:String(e)}function fE(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kr(i[t.dataKey])){var l=t2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Rr(i,kr(a)?t.dataKey:a);return kr(u)?null:t.scale(u)}var hE=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=Rr(s,t.dataKey,t.scale.domain()[a]);return kr(l)?null:t.scale(l)-i/2+n},HW=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},YW=e=>{var t=e.flat(2).filter(ht);return[Math.min(...t),Math.max(...t)]},QW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],JW=(e,t,r)=>{if(e!=null)return QW(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((u,d)=>{var h=YW(d.slice(t,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},mE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=rg(t,h=>h.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var u=i[a],d=i[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function gE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Fs(Fs({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Gd(e,t){if(e)return String(e);if(typeof t=="string")return t}function XW(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?DW({x:e,y:t},n):null}var ZW=(e,t,r,n)=>{var i=t.find(d=>d&&d.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return Fs(Fs(Fs({},n),hn(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:u}=n;return Fs(Fs(Fs({},n),hn(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},eG=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ol=e=>e.layout.width,Ml=e=>e.layout.height,tG=e=>e.layout.scale,y5=e=>e.layout.margin,j2=Me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),A2=Me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),x5="data-recharts-item-index",b5="data-recharts-item-data-key",cg=60;function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sG=e=>e.brush.height,Fn=Me([Ol,Ml,y5,sG,j2,A2,V3,Nq],(e,t,r,n,i,s,a,l)=>{var u=s.reduce((x,C)=>{var{orientation:A}=C;if(!C.mirror&&!C.hide){var N=typeof C.width=="number"?C.width:cg;return ol(ol({},x),{},{[A]:x[A]+N})}return x},{left:r.left||0,right:r.right||0}),d=i.reduce((x,C)=>{var{orientation:A}=C;return!C.mirror&&!C.hide?ol(ol({},x),{},{[A]:kl(x,"".concat(A))+C.height}):x},{top:r.top||0,bottom:r.bottom||0}),h=ol(ol({},d),u),m=h.bottom;h.bottom+=n,h=zW(h,a,l);var p=e-h.left-h.right,v=t-h.top-h.bottom;return ol(ol({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(v,0)})}),aG=Me(Fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),w5=Me(Ol,Ml,(e,t)=>({x:0,y:0,width:e,height:t})),oG=j.createContext(null),vi=()=>j.useContext(oG)!=null,ug=e=>e.brush,dg=Me([ug,Fn,y5],(e,t,r)=>({height:e.height,x:ht(e.x)?e.x:t.left,y:ht(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ht(e.width)?e.width:t.width})),S2=()=>{var e,t=vi(),r=kt(aG),n=kt(dg),i=(e=kt(ug))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},lG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},im=()=>{var e;return(e=kt(Fn))!==null&&e!==void 0?e:lG},C2=()=>kt(Ol),k2=()=>kt(Ml),cG={top:0,right:0,bottom:0,left:0},uG=()=>{var e;return(e=kt(t=>t.layout.margin))!==null&&e!==void 0?e:cG},pr=e=>e.layout.layoutType,fg=()=>kt(pr),dG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},j5=Ws({name:"legend",initialState:dG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=wl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:yE,setLegendSettings:fG,addLegendPayload:A5,removeLegendPayload:S5}=j5.actions,hG=j5.reducer,mG=["contextPayload"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(null,arguments)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){N2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vG(e,t){if(e==null)return{};var r,n,i=yG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xG(e){return e.value}function bG(e){var{contextPayload:t}=e,r=vG(e,mG),n=B3(t,e.payloadUniqBy,xG),i=Md(Md({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,i):typeof e.content=="function"?j.createElement(e.content,i):j.createElement(u2,i)}function wG(e,t,r,n,i,s){var{layout:a,align:l,verticalAlign:u}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&a==="vertical"?d={left:((n||0)-s.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((i||0)-s.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Md(Md({},d),h)}function jG(e){var t=Br();return j.useEffect(()=>{t(fG(e))},[t,e]),null}function AG(e){var t=Br();return j.useEffect(()=>(t(yE(e)),()=>{t(yE({width:0,height:0}))}),[t,e]),null}function SG(e){var t=_q(),r=WV(),n=uG(),{width:i,height:s,wrapperStyle:a,portal:l}=e,[u,d]=U3([t]),h=C2(),m=k2(),p=h-(n.left||0)-(n.right||0),v=Rd.getWidthOrHeight(e.layout,s,i,p),x=l?a:Md(Md({position:"absolute",width:(v==null?void 0:v.width)||i||"auto",height:(v==null?void 0:v.height)||s||"auto"},wG(a,e,n,h,m,u)),a),C=l??r;if(C==null)return null;var A=j.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},j.createElement(jG,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(AG,{width:u.width,height:u.height}),j.createElement(bG,Zb({},e,v,{margin:n,chartWidth:h,chartHeight:m,contextPayload:t})));return uw.createPortal(A,C)}class Rd extends j.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ht(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return j.createElement(SG,this.props)}}N2(Rd,"displayName","Legend");N2(Rd,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(null,arguments)}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EG(e){return Array.isArray(e)&&Va(e[0])&&Va(e[1])?e.join(" ~ "):e}var PG=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:p=!1}=e,v=()=>{if(s&&s.length){var D={padding:0,margin:0},I=(l?rg(s,l):s).map(($,W)=>{if($.type==="none")return null;var K=$.formatter||a||EG,{value:J,name:Z}=$,de=J,ce=Z;if(K){var ee=K(J,Z,$,W,s);if(Array.isArray(ee))[de,ce]=ee;else if(ee!=null)de=ee;else return null}var ue=px({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:ue},Va(ce)?j.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,Va(ce)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},de),j.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},I)}return null},x=px({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),C=px({margin:0},i),A=!kr(h),N=A?h:"",T=fr("recharts-default-tooltip",u),O=fr("recharts-tooltip-label",d);A&&m&&s!==void 0&&s!==null&&(N=m(h,s));var M=p?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",e1({className:T,style:x},M),j.createElement("p",{className:O,style:C},j.isValidElement(N)?N:"".concat(N)),v())},qf="recharts-tooltip-wrapper",_G={visibility:"hidden"};function TG(e){var{coordinate:t,translateX:r,translateY:n}=e;return fr(qf,{["".concat(qf,"-right")]:ht(r)&&t&&ht(t.x)&&r>=t.x,["".concat(qf,"-left")]:ht(r)&&t&&ht(t.x)&&r<t.x,["".concat(qf,"-bottom")]:ht(n)&&t&&ht(t.y)&&n>=t.y,["".concat(qf,"-top")]:ht(n)&&t&&ht(t.y)&&n<t.y})}function wE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(s&&ht(s[n]))return s[n];var h=r[n]-l-(i>0?i:0),m=r[n]+i;if(t[n])return a[n]?h:m;var p=u[n];if(p==null)return 0;if(a[n]){var v=h,x=p;return v<x?Math.max(m,p):Math.max(h,p)}if(d==null)return 0;var C=m+l,A=p+d;return C>A?Math.max(h,p):Math.max(m,p)}function OG(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function MG(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:u}=e,d,h,m;return a.height>0&&a.width>0&&r?(h=wE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),m=wE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=OG({translateX:h,translateY:m,useTranslate3d:l})):d=_G,{cssProperties:d,cssClasses:TG({translateX:h,translateY:m,coordinate:r})}}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){t1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DG extends j.PureComponent{constructor(){super(...arguments),t1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),t1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:u,offset:d,position:h,reverseDirection:m,useTranslate3d:p,viewBox:v,wrapperStyle:x,lastBoundingBox:C,innerRef:A,hasPortalFromProps:N}=this.props,{cssClasses:T,cssProperties:O}=MG({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:C.height,width:C.width},useTranslate3d:p,viewBox:v}),M=N?{}:up(up({transition:u&&t?"transform ".concat(n,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=up(up({},M),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},x);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:D,ref:A},s)}}var LG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),nu={isSsr:LG()},C5=()=>kt(e=>e.rootProps.accessibilityLayer);function cs(e){return Number.isFinite(e)}function Id(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(null,arguments)}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CE={curveBasisClosed:uU,curveBasisOpen:dU,curveBasis:cU,curveBumpX:YV,curveBumpY:QV,curveLinearClosed:fU,curveLinear:eg,curveMonotoneX:hU,curveMonotoneY:mU,curveNatural:pU,curveStep:gU,curveStepAfter:yU,curveStepBefore:vU},dp=e=>cs(e.x)&&cs(e.y),Wf=e=>e.x,Gf=e=>e.y,zG=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(em(e));return(r==="curveMonotone"||r==="curveBump")&&t?CE["".concat(r).concat(t==="vertical"?"Y":"X")]:CE[r]||eg},VG=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=zG(t,i),l=s?r.filter(dp):r,u;if(Array.isArray(n)){var d=s?n.filter(m=>dp(m)):n,h=l.map((m,p)=>SE(SE({},m),{},{base:d[p]}));return i==="vertical"?u=sp().y(Gf).x1(Wf).x0(m=>m.base.x):u=sp().x(Wf).y1(Gf).y0(m=>m.base.y),u.defined(dp).curve(a),u(h)}return i==="vertical"&&ht(n)?u=sp().y(Gf).x1(Wf).x0(n):ht(n)?u=sp().x(Wf).y1(Gf).y0(n):u=b3().x(Wf).y(Gf),u.defined(dp).curve(a),u(l)},E2=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?VG(e):n;return j.createElement("path",r1({},lr(e,!1),n2(e),{className:fr("recharts-curve",t),d:s===null?void 0:s,ref:i}))},UG=["x","y","top","left","width","height","className"];function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n1.apply(null,arguments)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HG(e,t){if(e==null)return{};var r,n,i=YG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QG=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),JG=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,u=HG(e,UG),d=qG({x:t,y:r,top:n,left:i,width:s,height:a},u);return!ht(t)||!ht(r)||!ht(s)||!ht(a)||!ht(n)||!ht(i)?null:j.createElement("path",n1({},lr(d,!0),{className:fr("recharts-cross",l),d:QG(t,r,s,a,n,i)}))};function XG(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(e,t){var r=ZG({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var gx={},vx={},yx={},EE;function nK(){return EE||(EE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(yx)),yx}var PE;function iK(){return PE||(PE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nK(),r=I3(),n=m2(),i=p2(),s=f2();function a(d,h,m){return l(d,h,void 0,void 0,void 0,void 0,m)}function l(d,h,m,p,v,x,C){const A=C(d,h,m,p,v,x);if(A!==void 0)return A;if(typeof d==typeof h)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===h;case"number":return d===h||Object.is(d,h);case"function":return d===h;case"object":return u(d,h,x,C)}return u(d,h,x,C)}function u(d,h,m,p){if(Object.is(d,h))return!0;let v=n.getTag(d),x=n.getTag(h);if(v===i.argumentsTag&&(v=i.objectTag),x===i.argumentsTag&&(x=i.objectTag),v!==x)return!1;switch(v){case i.stringTag:return d.toString()===h.toString();case i.numberTag:{const N=d.valueOf(),T=h.valueOf();return s.eq(N,T)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),h.valueOf());case i.regexpTag:return d.source===h.source&&d.flags===h.flags;case i.functionTag:return d===h}m=m??new Map;const C=m.get(d),A=m.get(h);if(C!=null&&A!=null)return C===h;m.set(d,h),m.set(h,d);try{switch(v){case i.mapTag:{if(d.size!==h.size)return!1;for(const[N,T]of d.entries())if(!h.has(N)||!l(T,h.get(N),N,d,h,m,p))return!1;return!0}case i.setTag:{if(d.size!==h.size)return!1;const N=Array.from(d.values()),T=Array.from(h.values());for(let O=0;O<N.length;O++){const M=N[O],D=T.findIndex(I=>l(M,I,void 0,d,h,m,p));if(D===-1)return!1;T.splice(D,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(h)||d.length!==h.length)return!1;for(let N=0;N<d.length;N++)if(!l(d[N],h[N],N,d,h,m,p))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==h.byteLength?!1:u(new Uint8Array(d),new Uint8Array(h),m,p);case i.dataViewTag:return d.byteLength!==h.byteLength||d.byteOffset!==h.byteOffset?!1:u(new Uint8Array(d),new Uint8Array(h),m,p);case i.errorTag:return d.name===h.name&&d.message===h.message;case i.objectTag:{if(!(u(d.constructor,h.constructor,m,p)||t.isPlainObject(d)&&t.isPlainObject(h)))return!1;const T=[...Object.keys(d),...r.getSymbols(d)],O=[...Object.keys(h),...r.getSymbols(h)];if(T.length!==O.length)return!1;for(let M=0;M<T.length;M++){const D=T[M],I=d[D];if(!Object.hasOwn(h,D))return!1;const $=h[D];if(!l(I,$,D,d,h,m,p))return!1}return!0}default:return!1}}finally{m.delete(d),m.delete(h)}}e.isEqualWith=a}(vx)),vx}var xx={},_E;function sK(){return _E||(_E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(xx)),xx}var TE;function aK(){return TE||(TE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK(),r=sK();function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n}(gx)),gx}var bx,OE;function oK(){return OE||(OE=1,bx=aK().isEqual),bx}var lK=oK();const cK=us(lK);function uK(e){var t={},r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...d]=l;if(typeof u=="number"){i=e.setTimeout(s.bind(null,d),u);return}s(u),i=e.setTimeout(s.bind(null,d));return}typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}var m0=1e-4,k5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],N5=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),ME=(e,t)=>r=>{var n=k5(e,t);return N5(n,r)},dK=(e,t)=>r=>{var n=k5(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return N5(i,r)},RE=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,i]=u[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else a.length===4&&([t,n,r,i]=a);var d=ME(t,r),h=ME(n,i),m=dK(t,r),p=x=>x>1?1:x<0?0:x,v=x=>{for(var C=x>1?1:x,A=C,N=0;N<8;++N){var T=d(A)-C,O=m(A);if(Math.abs(T-C)<m0||O<m0)return h(A);A=p(A-T/O)}return h(A)};return v.isStepper=!1,v},fK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,u)=>{var d=-(a-l)*r,h=u*n,m=u+(d-h)*i/1e3,p=u*i/1e3+a;return Math.abs(p-l)<m0&&Math.abs(m)<m0?[l,0]:[p,m]};return s.isStepper=!0,s.dt=i,s},hK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RE(e);case"spring":return fK();default:if(e.split("(")[0]==="cubic-bezier")return RE(e)}return typeof e=="function"?e:null};function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yK=(e,t,r)=>e.map(n=>"".concat(vK(n)," ").concat(t,"ms ").concat(r)).join(","),xK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Mh=(e,t)=>Object.keys(t).reduce((r,n)=>DE(DE({},r),{},{[n]:e(n,t[n])}),{});function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0=(e,t,r)=>e+(t-e)*r,i1=e=>{var{from:t,to:r}=e;return t!==r},E5=(e,t,r)=>{var n=Mh((i,s)=>{if(i1(s)){var[a,l]=e(s.from,s.to,s.velocity);return Gn(Gn({},s),{},{from:a,velocity:l})}return s},t);return r<1?Mh((i,s)=>i1(s)?Gn(Gn({},s),{},{velocity:p0(s.velocity,n[i].velocity,r),from:p0(s.from,n[i].from,r)}):s,t):E5(e,n,r-1)};function AK(e,t,r,n,i,s){var a,l=n.reduce((p,v)=>Gn(Gn({},p),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>Mh((p,v)=>v.from,l),d=()=>!Object.values(l).filter(i1).length,h=null,m=p=>{a||(a=p);var v=p-a,x=v/r.dt;l=E5(r,l,x),i(Gn(Gn(Gn({},e),t),u())),a=p,d()||(h=s.setTimeout(m))};return()=>(h=s.setTimeout(m),()=>{h()})}function SK(e,t,r,n,i,s,a){var l=null,u=i.reduce((m,p)=>Gn(Gn({},m),{},{[p]:[e[p],t[p]]}),{}),d,h=m=>{d||(d=m);var p=(m-d)/n,v=Mh((C,A)=>p0(...A,r(p)),u);if(s(Gn(Gn(Gn({},e),t),v)),p<1)l=a.setTimeout(h);else{var x=Mh((C,A)=>p0(...A,r(1)),u);s(Gn(Gn(Gn({},e),t),x))}};return()=>(l=a.setTimeout(h),()=>{l()})}const CK=(e,t,r,n,i,s)=>{var a=xK(e,t);return r.isStepper===!0?AK(e,t,r,a,i,s):SK(e,t,r,n,a,i,s)};class kK{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var NK=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(null,arguments)}function EK(e,t){if(e==null)return{};var r,n,i=PK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){Lc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lc(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OK(){return uK(new kK)}class P2 extends j.PureComponent{constructor(t,r){super(t,r),Lc(this,"mounted",!1),Lc(this,"manager",null),Lc(this,"stopJSAnimation",null),Lc(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:u,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||u<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:u}=this.state;if(n){if(!r){var d={style:i?{[i]:a}:a};this.state&&u&&(i&&u[i]!==a||!i&&u!==a)&&this.setState(d);return}if(!(cK(t.to,a)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=h||s?l:t.to;if(this.state&&u){var p={style:i?{[i]:m}:m};(i&&u[i]!==m||!i&&u!==m)&&this.setState(p)}this.runAnimation(ll(ll({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:u}=t,d=CK(r,n,hK(s),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=d()};this.manager.start([u,a,h,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:u,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof d=="function"||a==="spring"){this.runJSAnimation(t);return}var h=i?{[i]:s}:s,m=yK(Object.keys(h),n,a);this.manager.start([l,r,ll(ll({},h),{},{transition:m}),n,u])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:u,to:d,canBegin:h,onAnimationEnd:m,shouldReAnimate:p,onAnimationReStart:v,animationManager:x}=t,C=EK(t,NK),A=j.Children.count(r),N=this.state.style;if(typeof r=="function")return r(N);if(!l||A===0||i<=0)return r;var T=O=>{var{style:M={},className:D}=O.props,I=j.cloneElement(O,ll(ll({},C),{},{style:ll(ll({},M),N),className:D}));return I};return A===1?T(j.Children.only(r)):j.createElement("div",null,j.Children.map(r,O=>T(O)))}}Lc(P2,"displayName","Animate");Lc(P2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var MK=j.createContext(null);function Nl(e){var t,r,n=j.useContext(MK);return j.createElement(P2,s1({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:OK()}))}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}var FE=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>s?s:i[m];d="M".concat(e,",").concat(t+a*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),d+="L ".concat(e+r-l*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+a*h[1])),d+="L ".concat(e+r,",").concat(t+n-a*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(t+n)),d+="L ".concat(e+l*h[3],",").concat(t+n),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-a*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);d="M ".concat(e,",").concat(t+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(t,`
            L `).concat(e+r-l*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(t+a*v,`
            L `).concat(e+r,",").concat(t+n-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(t+n,`
            L `).concat(e+l*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(t+n-a*v," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},RK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P5=e=>{var t=Gs(e,RK),r=j.useRef(null),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&i(N)}catch{}},[]);var{x:s,y:a,width:l,height:u,radius:d,className:h}=t,{animationEasing:m,animationDuration:p,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:C}=t;if(s!==+s||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var A=fr("recharts-rectangle",h);return C?j.createElement(Nl,{canBegin:n>0,from:{width:l,height:u,x:s,y:a},to:{width:l,height:u,x:s,y:a},duration:p,animationEasing:m,isActive:C},N=>{var{width:T,height:O,x:M,y:D}=N;return j.createElement(Nl,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:m},j.createElement("path",g0({},lr(t,!0),{className:A,d:FE(M,D,T,O,d),ref:r})))}):j.createElement("path",g0({},lr(t,!0),{className:A,d:FE(s,a,l,u,d)}))};function _5(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=hn(t,r,n,i),l=hn(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(null,arguments)}var IK=(e,t)=>{var r=Ln(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fp=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:u}=e,d=l*(a?1:-1)+n,h=Math.asin(l/d)/h0,m=u?i:i+s*h,p=hn(t,r,d,m),v=hn(t,r,n,m),x=u?i-s*h:i,C=hn(t,r,d*Math.cos(h*h0),x);return{center:p,circleTangency:v,lineTangency:C,theta:h}},T5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=IK(s,a),u=s+l,d=hn(t,r,i,s),h=hn(t,r,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var p=hn(t,r,n,s),v=hn(t,r,n,u);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},DK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:d}=e,h=Ln(d-u),{circleTangency:m,lineTangency:p,theta:v}=fp({cx:t,cy:r,radius:i,angle:u,sign:h,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:C,theta:A}=fp({cx:t,cy:r,radius:i,angle:d,sign:-h,cornerRadius:s,cornerIsExternal:l}),N=l?Math.abs(u-d):Math.abs(u-d)-v-A;if(N<0)return a?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):T5({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:d});var T="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(n>0){var{circleTangency:O,lineTangency:M,theta:D}=fp({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:I,lineTangency:$,theta:W}=fp({cx:t,cy:r,radius:n,angle:d,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),K=l?Math.abs(u-d):Math.abs(u-d)-D-W;if(K<0&&s===0)return"".concat(T,"L").concat(t,",").concat(r,"Z");T+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,"Z")}else T+="L".concat(t,",").concat(r,"Z");return T},LK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O5=e=>{var t=Gs(e,LK),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h,className:m}=t;if(s<i||d===h)return null;var p=fr("recharts-sector",m),v=s-i,x=gi(a,v,0,!0),C;return x>0&&Math.abs(d-h)<360?C=DK({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):C=T5({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:d,endAngle:h}),j.createElement("path",a1({},lr(t,!0),{className:p,d:C}))};function BK(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:u,innerRadius:d,outerRadius:h,angle:m}=t,p=hn(l,u,d,m),v=hn(l,u,h,m);n=p.x,i=p.y,s=v.x,a=v.y}else return _5(t);return[{x:n,y:i},{x:s,y:a}]}var wx={},jx={},Ax={},$E;function FK(){return $E||($E=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$3();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Ax)),Ax}var zE;function $K(){return zE||(zE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FK();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(jx)),jx}var VE;function zK(){return VE||(VE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3(),r=$K();function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=a;return u}e.range=n}(wx)),wx}var Sx,UE;function VK(){return UE||(UE=1,Sx=zK().range),Sx}var UK=VK();const M5=us(UK);function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _2(e){let t,r,n;e.length!==2?(t=jl,r=(l,u)=>jl(e(l),u),n=(l,u)=>e(l)-u):(t=e===jl||e===qK?e:WK,r=e,n=e);function i(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<0?d=m+1:h=m}while(d<h)}return d}function s(l,u,d=0,h=l.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;r(l[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function a(l,u,d=0,h=l.length){const m=i(l,u,d,h-1);return m>d&&n(l[m-1],u)>-n(l[m],u)?m-1:m}return{left:i,center:a,right:s}}function WK(){return 0}function R5(e){return e===null?NaN:+e}function*GK(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const KK=_2(jl),sm=KK.right;_2(R5).center;class qE extends Map{constructor(t,r=QK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(WE(this,t))}has(t){return super.has(WE(this,t))}set(t,r){return super.set(HK(this,t),r)}delete(t){return super.delete(YK(this,t))}}function WE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function HK({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function YK({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JK(e=jl){if(e===jl)return I5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function I5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const XK=Math.sqrt(50),ZK=Math.sqrt(10),eH=Math.sqrt(2);function v0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=XK?10:s>=ZK?5:s>=eH?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*a,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?v0(e,t,r*2):[l,u,d]}function o1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?v0(t,e,r):v0(e,t,r);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(n)if(a<0)for(let d=0;d<l;++d)u[d]=(s-d)/-a;else for(let d=0;d<l;++d)u[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)u[d]=(i+d)/-a;else for(let d=0;d<l;++d)u[d]=(i+d)*a;return u}function l1(e,t,r){return t=+t,e=+e,r=+r,v0(e,t,r)[2]}function c1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?l1(t,e,r):l1(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function GE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function D5(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?I5:JK(i);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,h=Math.log(u),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),v=Math.max(r,Math.floor(t-d*m/u+p)),x=Math.min(n,Math.floor(t+(u-d)*m/u+p));D5(e,t,v,x,i)}const s=e[t];let a=r,l=n;for(Kf(e,r,t),i(e[n],s)>0&&Kf(e,r,n);a<l;){for(Kf(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Kf(e,r,l):(++l,Kf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Kf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function tH(e,t,r){if(e=Float64Array.from(GK(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KE(e);if(t>=1)return GE(e);var n,i=(n-1)*t,s=Math.floor(i),a=GE(D5(e,s).subarray(0,s+1)),l=KE(e.subarray(s+1));return a+(l-a)*(i-s)}}function rH(e,t,r=R5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function nH(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function To(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const u1=Symbol("implicit");function T2(){var e=new qE,t=[],r=[],n=u1;function i(s){let a=e.get(s);if(a===void 0){if(n!==u1)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new qE;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return T2(t,r).unknown(n)},Ks.apply(i,arguments),i}function O2(){var e=T2().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var p=t().length,v=i<n,x=v?i:n,C=v?n:i;s=(C-x)/Math.max(1,p-u+d*2),l&&(s=Math.floor(s)),x+=(C-x-s*(p-u))*h,a=s*(1-u),l&&(x=Math.round(x),a=Math.round(a));var A=nH(p).map(function(N){return x+s*N});return r(v?A.reverse():A)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,l=!0,m()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),m()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),m()):u},e.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},e.copy=function(){return O2(t(),[n,i]).round(l).paddingInner(u).paddingOuter(d).align(h)},Ks.apply(m(),arguments)}function L5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return L5(t())},e}function iH(){return L5(O2.apply(null,arguments).paddingInner(1))}function M2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function B5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function am(){}var Rh=.7,y0=1/Rh,Cd="\\s*([+-]?\\d+)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sH=/^#([0-9a-f]{3,8})$/,aH=new RegExp(`^rgb\\(${Cd},${Cd},${Cd}\\)$`),oH=new RegExp(`^rgb\\(${Fa},${Fa},${Fa}\\)$`),lH=new RegExp(`^rgba\\(${Cd},${Cd},${Cd},${Ih}\\)$`),cH=new RegExp(`^rgba\\(${Fa},${Fa},${Fa},${Ih}\\)$`),uH=new RegExp(`^hsl\\(${Ih},${Fa},${Fa}\\)$`),dH=new RegExp(`^hsla\\(${Ih},${Fa},${Fa},${Ih}\\)$`),HE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M2(am,Dh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:YE,formatHex:YE,formatHex8:fH,formatHsl:hH,formatRgb:QE,toString:QE});function YE(){return this.rgb().formatHex()}function fH(){return this.rgb().formatHex8()}function hH(){return F5(this).formatHsl()}function QE(){return this.rgb().formatRgb()}function Dh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?JE(t):r===3?new Oi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aH.exec(e))?new Oi(t[1],t[2],t[3],1):(t=oH.exec(e))?new Oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lH.exec(e))?hp(t[1],t[2],t[3],t[4]):(t=cH.exec(e))?hp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uH.exec(e))?e4(t[1],t[2]/100,t[3]/100,1):(t=dH.exec(e))?e4(t[1],t[2]/100,t[3]/100,t[4]):HE.hasOwnProperty(e)?JE(HE[e]):e==="transparent"?new Oi(NaN,NaN,NaN,0):null}function JE(e){return new Oi(e>>16&255,e>>8&255,e&255,1)}function hp(e,t,r,n){return n<=0&&(e=t=r=NaN),new Oi(e,t,r,n)}function mH(e){return e instanceof am||(e=Dh(e)),e?(e=e.rgb(),new Oi(e.r,e.g,e.b,e.opacity)):new Oi}function d1(e,t,r,n){return arguments.length===1?mH(e):new Oi(e,t,r,n??1)}function Oi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}M2(Oi,d1,B5(am,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new Oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new Oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Oi(Gc(this.r),Gc(this.g),Gc(this.b),x0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XE,formatHex:XE,formatHex8:pH,formatRgb:ZE,toString:ZE}));function XE(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}`}function pH(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}${Bc((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZE(){const e=x0(this.opacity);return`${e===1?"rgb(":"rgba("}${Gc(this.r)}, ${Gc(this.g)}, ${Gc(this.b)}${e===1?")":`, ${e})`}`}function x0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bc(e){return e=Gc(e),(e<16?"0":"")+e.toString(16)}function e4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ha(e,t,r,n)}function F5(e){if(e instanceof ha)return new ha(e.h,e.s,e.l,e.opacity);if(e instanceof am||(e=Dh(e)),!e)return new ha;if(e instanceof ha)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,u=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=u<.5?s+i:2-s-i,a*=60):l=u>0&&u<1?0:a,new ha(a,l,u,e.opacity)}function gH(e,t,r,n){return arguments.length===1?F5(e):new ha(e,t,r,n??1)}function ha(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}M2(ha,gH,B5(am,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new ha(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new ha(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Oi(Cx(e>=240?e-240:e+120,i,n),Cx(e,i,n),Cx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ha(t4(this.h),mp(this.s),mp(this.l),x0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x0(this.opacity);return`${e===1?"hsl(":"hsla("}${t4(this.h)}, ${mp(this.s)*100}%, ${mp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t4(e){return e=(e||0)%360,e<0?e+360:e}function mp(e){return Math.max(0,Math.min(1,e||0))}function Cx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const R2=e=>()=>e;function vH(e,t){return function(r){return e+r*t}}function yH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function xH(e){return(e=+e)==1?$5:function(t,r){return r-t?yH(t,r,e):R2(isNaN(t)?r:t)}}function $5(e,t){var r=t-e;return r?vH(e,r):R2(isNaN(e)?t:e)}const r4=function e(t){var r=xH(t);function n(i,s){var a=r((i=d1(i)).r,(s=d1(s)).r),l=r(i.g,s.g),u=r(i.b,s.b),d=$5(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=l(h),i.b=u(h),i.opacity=d(h),i+""}}return n.gamma=e,n}(1);function bH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function wH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Kd(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function AH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function b0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SH(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Kd(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var f1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kx=new RegExp(f1.source,"g");function CH(e){return function(){return e}}function kH(e){return function(t){return e(t)+""}}function NH(e,t){var r=f1.lastIndex=kx.lastIndex=0,n,i,s,a=-1,l=[],u=[];for(e=e+"",t=t+"";(n=f1.exec(e))&&(i=kx.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:b0(n,i)})),r=kx.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?u[0]?kH(u[0].x):CH(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)l[(m=u[h]).i]=m.x(d);return l.join("")})}function Kd(e,t){var r=typeof t,n;return t==null||r==="boolean"?R2(t):(r==="number"?b0:r==="string"?(n=Dh(t))?(t=n,r4):NH:t instanceof Dh?r4:t instanceof Date?AH:wH(t)?bH:Array.isArray(t)?jH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SH:b0)(e,t)}function I2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EH(e,t){t===void 0&&(t=e,e=Kd);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function PH(e){return function(){return e}}function w0(e){return+e}var n4=[0,1];function pi(e){return e}function h1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:PH(isNaN(t)?NaN:.5)}function _H(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TH(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=h1(i,n),s=r(a,s)):(n=h1(n,i),s=r(s,a)),function(l){return s(n(l))}}function OH(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=h1(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var u=sm(e,l,1,n)-1;return s[u](i[u](l))}}function om(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hg(){var e=n4,t=n4,r=Kd,n,i,s,a=pi,l,u,d;function h(){var p=Math.min(e.length,t.length);return a!==pi&&(a=_H(e[0],e[p-1])),l=p>2?OH:TH,u=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(u||(u=l(e.map(n),t,r)))(n(a(p)))}return m.invert=function(p){return a(i((d||(d=l(t,e.map(n),b0)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,w0),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=I2,h()},m.clamp=function(p){return arguments.length?(a=p?!0:pi,h()):a!==pi},m.interpolate=function(p){return arguments.length?(r=p,h()):r},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,v){return n=p,i=v,h()}}function D2(){return hg()(pi,pi)}function MH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function j0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Dd(e){return e=j0(Math.abs(e)),e?e[1]:NaN}function RH(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function IH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lh(e){if(!(t=DH.exec(e)))throw new Error("invalid format: "+e);var t;return new L2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lh.prototype=L2.prototype;function L2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}L2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LH(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var z5;function BH(e,t){var r=j0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(z5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+j0(e,Math.max(0,t+s-1))[0]}function i4(e,t){var r=j0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const s4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>i4(e*100,t),r:i4,s:BH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a4(e){return e}var o4=Array.prototype.map,l4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FH(e){var t=e.grouping===void 0||e.thousands===void 0?a4:RH(o4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?a4:IH(o4.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Lh(m);var p=m.fill,v=m.align,x=m.sign,C=m.symbol,A=m.zero,N=m.width,T=m.comma,O=m.precision,M=m.trim,D=m.type;D==="n"?(T=!0,D="g"):s4[D]||(O===void 0&&(O=12),M=!0,D="g"),(A||p==="0"&&v==="=")&&(A=!0,p="0",v="=");var I=C==="$"?r:C==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$=C==="$"?n:/[%p]/.test(D)?a:"",W=s4[D],K=/[defgprs%]/.test(D);O=O===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function J(Z){var de=I,ce=$,ee,ue,je;if(D==="c")ce=W(Z)+ce,Z="";else{Z=+Z;var pe=Z<0||1/Z<0;if(Z=isNaN(Z)?u:W(Math.abs(Z),O),M&&(Z=LH(Z)),pe&&+Z==0&&x!=="+"&&(pe=!1),de=(pe?x==="("?x:l:x==="-"||x==="("?"":x)+de,ce=(D==="s"?l4[8+z5/3]:"")+ce+(pe&&x==="("?")":""),K){for(ee=-1,ue=Z.length;++ee<ue;)if(je=Z.charCodeAt(ee),48>je||je>57){ce=(je===46?i+Z.slice(ee+1):Z.slice(ee))+ce,Z=Z.slice(0,ee);break}}}T&&!A&&(Z=t(Z,1/0));var ie=de.length+Z.length+ce.length,be=ie<N?new Array(N-ie+1).join(p):"";switch(T&&A&&(Z=t(be+Z,be.length?N-ce.length:1/0),be=""),v){case"<":Z=de+Z+ce+be;break;case"=":Z=de+be+Z+ce;break;case"^":Z=be.slice(0,ie=be.length>>1)+de+Z+ce+be.slice(ie);break;default:Z=be+de+Z+ce;break}return s(Z)}return J.toString=function(){return m+""},J}function h(m,p){var v=d((m=Lh(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Dd(p)/3)))*3,C=Math.pow(10,-x),A=l4[8+x/3];return function(N){return v(C*N)+A}}return{format:d,formatPrefix:h}}var pp,B2,V5;$H({thousands:",",grouping:[3],currency:["$",""]});function $H(e){return pp=FH(e),B2=pp.format,V5=pp.formatPrefix,pp}function zH(e){return Math.max(0,-Dd(Math.abs(e)))}function VH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dd(t)/3)))*3-Dd(Math.abs(e)))}function UH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Dd(t)-Dd(e))+1}function U5(e,t,r,n){var i=c1(e,t,r),s;switch(n=Lh(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=VH(i,a))&&(n.precision=s),V5(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=UH(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=zH(i))&&(n.precision=s-(n.type==="%")*2);break}}return B2(n)}function Rl(e){var t=e.domain;return e.ticks=function(r){var n=t();return o1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return U5(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],u,d,h=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);h-- >0;){if(d=l1(a,l,r),d===u)return n[i]=a,n[s]=l,t(n);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function q5(){var e=D2();return e.copy=function(){return om(e,q5())},Ks.apply(e,arguments),Rl(e)}function W5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,w0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return W5(e).unknown(t)},e=arguments.length?Array.from(e,w0):[0,1],Rl(r)}function G5(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function c4(e){return Math.log(e)}function u4(e){return Math.exp(e)}function qH(e){return-Math.log(-e)}function WH(e){return-Math.exp(-e)}function GH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KH(e){return e===10?GH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function HH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function d4(e){return(t,r)=>-e(-t,r)}function F2(e){const t=e(c4,u4),r=t.domain;let n=10,i,s;function a(){return i=HH(n),s=KH(n),r()[0]<0?(i=d4(i),s=d4(s),e(qH,WH)):e(c4,u4),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const u=r();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let p=i(d),v=i(h),x,C;const A=l==null?10:+l;let N=[];if(!(n%1)&&v-p<A){if(p=Math.floor(p),v=Math.ceil(v),d>0){for(;p<=v;++p)for(x=1;x<n;++x)if(C=p<0?x/s(-p):x*s(p),!(C<d)){if(C>h)break;N.push(C)}}else for(;p<=v;++p)for(x=n-1;x>=1;--x)if(C=p>0?x/s(-p):x*s(p),!(C<d)){if(C>h)break;N.push(C)}N.length*2<A&&(N=o1(d,h,A))}else N=o1(p,v,Math.min(v-p,A)).map(s);return m?N.reverse():N},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Lh(u)).precision==null&&(u.trim=!0),u=B2(u)),l===1/0)return u;const d=Math.max(1,n*l/t.ticks().length);return h=>{let m=h/s(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=d?u(h):""}},t.nice=()=>r(G5(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function K5(){const e=F2(hg()).domain([1,10]);return e.copy=()=>om(e,K5()).base(e.base()),Ks.apply(e,arguments),e}function f4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $2(e){var t=1,r=e(f4(t),h4(t));return r.constant=function(n){return arguments.length?e(f4(t=+n),h4(t)):t},Rl(r)}function H5(){var e=$2(hg());return e.copy=function(){return om(e,H5()).constant(e.constant())},Ks.apply(e,arguments)}function m4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QH(e){return e<0?-e*e:e*e}function z2(e){var t=e(pi,pi),r=1;function n(){return r===1?e(pi,pi):r===.5?e(YH,QH):e(m4(r),m4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Rl(t)}function V2(){var e=z2(hg());return e.copy=function(){return om(e,V2()).exponent(e.exponent())},Ks.apply(e,arguments),e}function JH(){return V2.apply(null,arguments).exponent(.5)}function p4(e){return Math.sign(e)*e*e}function XH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Y5(){var e=D2(),t=[0,1],r=!1,n;function i(s){var a=XH(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(p4(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,w0)).map(p4)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Y5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ks.apply(i,arguments),Rl(i)}function Q5(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=rH(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[sm(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(jl),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Q5().domain(e).range(t).unknown(n)},Ks.apply(s,arguments)}function J5(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[sm(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},a.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,l()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return n.slice()},a.copy=function(){return J5().domain([e,t]).range(i).unknown(s)},Ks.apply(Rl(a),arguments)}function X5(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[sm(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return X5().domain(e).range(t).unknown(r)},Ks.apply(i,arguments)}const Nx=new Date,Ex=new Date;function kn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return u;let d;do u.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<a);return u},i.filter=s=>kn(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(Nx.setTime(+s),Ex.setTime(+a),e(Nx),e(Ex),Math.floor(r(Nx,Ex))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const A0=kn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);A0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):A0);A0.range;const jo=1e3,zs=jo*60,Ao=zs*60,No=Ao*24,U2=No*7,g4=No*30,Px=No*365,Fc=kn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCSeconds());Fc.range;const q2=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jo)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getMinutes());q2.range;const W2=kn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zs)},(e,t)=>(t-e)/zs,e=>e.getUTCMinutes());W2.range;const G2=kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jo-e.getMinutes()*zs)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getHours());G2.range;const K2=kn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getUTCHours());K2.range;const lm=kn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zs)/No,e=>e.getDate()-1);lm.range;const mg=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/No,e=>e.getUTCDate()-1);mg.range;const Z5=kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/No,e=>Math.floor(e/No));Z5.range;function iu(e){return kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zs)/U2)}const pg=iu(0),S0=iu(1),ZH=iu(2),eY=iu(3),Ld=iu(4),tY=iu(5),rY=iu(6);pg.range;S0.range;ZH.range;eY.range;Ld.range;tY.range;rY.range;function su(e){return kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/U2)}const gg=su(0),C0=su(1),nY=su(2),iY=su(3),Bd=su(4),sY=su(5),aY=su(6);gg.range;C0.range;nY.range;iY.range;Bd.range;sY.range;aY.range;const H2=kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());H2.range;const Y2=kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Y2.range;const Eo=kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Eo.range;const Po=kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Po.range;function eM(e,t,r,n,i,s){const a=[[Fc,1,jo],[Fc,5,5*jo],[Fc,15,15*jo],[Fc,30,30*jo],[s,1,zs],[s,5,5*zs],[s,15,15*zs],[s,30,30*zs],[i,1,Ao],[i,3,3*Ao],[i,6,6*Ao],[i,12,12*Ao],[n,1,No],[n,2,2*No],[r,1,U2],[t,1,g4],[t,3,3*g4],[e,1,Px]];function l(d,h,m){const p=h<d;p&&([d,h]=[h,d]);const v=m&&typeof m.range=="function"?m:u(d,h,m),x=v?v.range(d,+h+1):[];return p?x.reverse():x}function u(d,h,m){const p=Math.abs(h-d)/m,v=_2(([,,A])=>A).right(a,p);if(v===a.length)return e.every(c1(d/Px,h/Px,m));if(v===0)return A0.every(Math.max(c1(d,h,m),1));const[x,C]=a[p/a[v-1][2]<a[v][2]/p?v-1:v];return x.every(C)}return[l,u]}const[oY,lY]=eM(Po,Y2,gg,Z5,K2,W2),[cY,uY]=eM(Eo,H2,pg,lm,G2,q2);function _x(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function dY(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,d=Yf(i),h=Qf(i),m=Yf(s),p=Qf(s),v=Yf(a),x=Qf(a),C=Yf(l),A=Qf(l),N=Yf(u),T=Qf(u),O={a:pe,A:ie,b:be,B:me,c:null,d:j4,e:j4,f:RY,g:qY,G:GY,H:TY,I:OY,j:MY,L:tM,m:IY,M:DY,p:Y,q:re,Q:C4,s:k4,S:LY,u:BY,U:FY,V:$Y,w:zY,W:VY,x:null,X:null,y:UY,Y:WY,Z:KY,"%":S4},M={a:Se,A:Te,b:Ie,B:tt,c:null,d:A4,e:A4,f:JY,g:oQ,G:cQ,H:HY,I:YY,j:QY,L:nM,m:XY,M:ZY,p:qe,q:Fe,Q:C4,s:k4,S:eQ,u:tQ,U:rQ,V:nQ,w:iQ,W:sQ,x:null,X:null,y:aQ,Y:lQ,Z:uQ,"%":S4},D={a:J,A:Z,b:de,B:ce,c:ee,d:b4,e:b4,f:NY,g:x4,G:y4,H:w4,I:w4,j:AY,L:kY,m:jY,M:SY,p:K,q:wY,Q:PY,s:_Y,S:CY,u:gY,U:vY,V:yY,w:pY,W:xY,x:ue,X:je,y:x4,Y:y4,Z:bY,"%":EY};O.x=I(r,O),O.X=I(n,O),O.c=I(t,O),M.x=I(r,M),M.X=I(n,M),M.c=I(t,M);function I(Re,Ke){return function(Pe){var ae=[],_e=-1,fe=0,Ve=Re.length,lt,yt,et;for(Pe instanceof Date||(Pe=new Date(+Pe));++_e<Ve;)Re.charCodeAt(_e)===37&&(ae.push(Re.slice(fe,_e)),(yt=v4[lt=Re.charAt(++_e)])!=null?lt=Re.charAt(++_e):yt=lt==="e"?" ":"0",(et=Ke[lt])&&(lt=et(Pe,yt)),ae.push(lt),fe=_e+1);return ae.push(Re.slice(fe,_e)),ae.join("")}}function $(Re,Ke){return function(Pe){var ae=Hf(1900,void 0,1),_e=W(ae,Re,Pe+="",0),fe,Ve;if(_e!=Pe.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ke&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(fe=Tx(Hf(ae.y,0,1)),Ve=fe.getUTCDay(),fe=Ve>4||Ve===0?C0.ceil(fe):C0(fe),fe=mg.offset(fe,(ae.V-1)*7),ae.y=fe.getUTCFullYear(),ae.m=fe.getUTCMonth(),ae.d=fe.getUTCDate()+(ae.w+6)%7):(fe=_x(Hf(ae.y,0,1)),Ve=fe.getDay(),fe=Ve>4||Ve===0?S0.ceil(fe):S0(fe),fe=lm.offset(fe,(ae.V-1)*7),ae.y=fe.getFullYear(),ae.m=fe.getMonth(),ae.d=fe.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ve="Z"in ae?Tx(Hf(ae.y,0,1)).getUTCDay():_x(Hf(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ve+5)%7:ae.w+ae.U*7-(Ve+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Tx(ae)):_x(ae)}}function W(Re,Ke,Pe,ae){for(var _e=0,fe=Ke.length,Ve=Pe.length,lt,yt;_e<fe;){if(ae>=Ve)return-1;if(lt=Ke.charCodeAt(_e++),lt===37){if(lt=Ke.charAt(_e++),yt=D[lt in v4?Ke.charAt(_e++):lt],!yt||(ae=yt(Re,Pe,ae))<0)return-1}else if(lt!=Pe.charCodeAt(ae++))return-1}return ae}function K(Re,Ke,Pe){var ae=d.exec(Ke.slice(Pe));return ae?(Re.p=h.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function J(Re,Ke,Pe){var ae=v.exec(Ke.slice(Pe));return ae?(Re.w=x.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function Z(Re,Ke,Pe){var ae=m.exec(Ke.slice(Pe));return ae?(Re.w=p.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function de(Re,Ke,Pe){var ae=N.exec(Ke.slice(Pe));return ae?(Re.m=T.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function ce(Re,Ke,Pe){var ae=C.exec(Ke.slice(Pe));return ae?(Re.m=A.get(ae[0].toLowerCase()),Pe+ae[0].length):-1}function ee(Re,Ke,Pe){return W(Re,t,Ke,Pe)}function ue(Re,Ke,Pe){return W(Re,r,Ke,Pe)}function je(Re,Ke,Pe){return W(Re,n,Ke,Pe)}function pe(Re){return a[Re.getDay()]}function ie(Re){return s[Re.getDay()]}function be(Re){return u[Re.getMonth()]}function me(Re){return l[Re.getMonth()]}function Y(Re){return i[+(Re.getHours()>=12)]}function re(Re){return 1+~~(Re.getMonth()/3)}function Se(Re){return a[Re.getUTCDay()]}function Te(Re){return s[Re.getUTCDay()]}function Ie(Re){return u[Re.getUTCMonth()]}function tt(Re){return l[Re.getUTCMonth()]}function qe(Re){return i[+(Re.getUTCHours()>=12)]}function Fe(Re){return 1+~~(Re.getUTCMonth()/3)}return{format:function(Re){var Ke=I(Re+="",O);return Ke.toString=function(){return Re},Ke},parse:function(Re){var Ke=$(Re+="",!1);return Ke.toString=function(){return Re},Ke},utcFormat:function(Re){var Ke=I(Re+="",M);return Ke.toString=function(){return Re},Ke},utcParse:function(Re){var Ke=$(Re+="",!0);return Ke.toString=function(){return Re},Ke}}}var v4={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,fY=/^%/,hY=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function mY(e){return e.replace(hY,"\\$&")}function Yf(e){return new RegExp("^(?:"+e.map(mY).join("|")+")","i")}function Qf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function pY(e,t,r){var n=$n.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gY(e,t,r){var n=$n.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vY(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yY(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function xY(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function y4(e,t,r){var n=$n.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function x4(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wY(e,t,r){var n=$n.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jY(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function b4(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function AY(e,t,r){var n=$n.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w4(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function SY(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function CY(e,t,r){var n=$n.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kY(e,t,r){var n=$n.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function NY(e,t,r){var n=$n.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EY(e,t,r){var n=fY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PY(e,t,r){var n=$n.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _Y(e,t,r){var n=$n.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function j4(e,t){return hr(e.getDate(),t,2)}function TY(e,t){return hr(e.getHours(),t,2)}function OY(e,t){return hr(e.getHours()%12||12,t,2)}function MY(e,t){return hr(1+lm.count(Eo(e),e),t,3)}function tM(e,t){return hr(e.getMilliseconds(),t,3)}function RY(e,t){return tM(e,t)+"000"}function IY(e,t){return hr(e.getMonth()+1,t,2)}function DY(e,t){return hr(e.getMinutes(),t,2)}function LY(e,t){return hr(e.getSeconds(),t,2)}function BY(e){var t=e.getDay();return t===0?7:t}function FY(e,t){return hr(pg.count(Eo(e)-1,e),t,2)}function rM(e){var t=e.getDay();return t>=4||t===0?Ld(e):Ld.ceil(e)}function $Y(e,t){return e=rM(e),hr(Ld.count(Eo(e),e)+(Eo(e).getDay()===4),t,2)}function zY(e){return e.getDay()}function VY(e,t){return hr(S0.count(Eo(e)-1,e),t,2)}function UY(e,t){return hr(e.getFullYear()%100,t,2)}function qY(e,t){return e=rM(e),hr(e.getFullYear()%100,t,2)}function WY(e,t){return hr(e.getFullYear()%1e4,t,4)}function GY(e,t){var r=e.getDay();return e=r>=4||r===0?Ld(e):Ld.ceil(e),hr(e.getFullYear()%1e4,t,4)}function KY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function A4(e,t){return hr(e.getUTCDate(),t,2)}function HY(e,t){return hr(e.getUTCHours(),t,2)}function YY(e,t){return hr(e.getUTCHours()%12||12,t,2)}function QY(e,t){return hr(1+mg.count(Po(e),e),t,3)}function nM(e,t){return hr(e.getUTCMilliseconds(),t,3)}function JY(e,t){return nM(e,t)+"000"}function XY(e,t){return hr(e.getUTCMonth()+1,t,2)}function ZY(e,t){return hr(e.getUTCMinutes(),t,2)}function eQ(e,t){return hr(e.getUTCSeconds(),t,2)}function tQ(e){var t=e.getUTCDay();return t===0?7:t}function rQ(e,t){return hr(gg.count(Po(e)-1,e),t,2)}function iM(e){var t=e.getUTCDay();return t>=4||t===0?Bd(e):Bd.ceil(e)}function nQ(e,t){return e=iM(e),hr(Bd.count(Po(e),e)+(Po(e).getUTCDay()===4),t,2)}function iQ(e){return e.getUTCDay()}function sQ(e,t){return hr(C0.count(Po(e)-1,e),t,2)}function aQ(e,t){return hr(e.getUTCFullYear()%100,t,2)}function oQ(e,t){return e=iM(e),hr(e.getUTCFullYear()%100,t,2)}function lQ(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function cQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bd(e):Bd.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function uQ(){return"+0000"}function S4(){return"%"}function C4(e){return+e}function k4(e){return Math.floor(+e/1e3)}var Ju,sM,aM;dQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dQ(e){return Ju=dY(e),sM=Ju.format,Ju.parse,aM=Ju.utcFormat,Ju.utcParse,Ju}function fQ(e){return new Date(e)}function hQ(e){return e instanceof Date?+e:+new Date(+e)}function Q2(e,t,r,n,i,s,a,l,u,d){var h=D2(),m=h.invert,p=h.domain,v=d(".%L"),x=d(":%S"),C=d("%I:%M"),A=d("%I %p"),N=d("%a %d"),T=d("%b %d"),O=d("%B"),M=d("%Y");function D(I){return(u(I)<I?v:l(I)<I?x:a(I)<I?C:s(I)<I?A:n(I)<I?i(I)<I?N:T:r(I)<I?O:M)(I)}return h.invert=function(I){return new Date(m(I))},h.domain=function(I){return arguments.length?p(Array.from(I,hQ)):p().map(fQ)},h.ticks=function(I){var $=p();return e($[0],$[$.length-1],I??10)},h.tickFormat=function(I,$){return $==null?D:d($)},h.nice=function(I){var $=p();return(!I||typeof I.range!="function")&&(I=t($[0],$[$.length-1],I??10)),I?p(G5($,I)):h},h.copy=function(){return om(h,Q2(e,t,r,n,i,s,a,l,u,d))},h}function mQ(){return Ks.apply(Q2(cY,uY,Eo,H2,pg,lm,G2,q2,Fc,sM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pQ(){return Ks.apply(Q2(oY,lY,Po,Y2,gg,mg,K2,W2,Fc,aM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vg(){var e=0,t=1,r,n,i,s,a=pi,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(s(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(a=m,d):a};function h(m){return function(p){var v,x;return arguments.length?([v,x]=p,a=m(v,x),d):[a(0),a(1)]}}return d.range=h(Kd),d.rangeRound=h(I2),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),d}}function Il(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oM(){var e=Rl(vg()(pi));return e.copy=function(){return Il(e,oM())},To.apply(e,arguments)}function lM(){var e=F2(vg()).domain([1,10]);return e.copy=function(){return Il(e,lM()).base(e.base())},To.apply(e,arguments)}function cM(){var e=$2(vg());return e.copy=function(){return Il(e,cM()).constant(e.constant())},To.apply(e,arguments)}function J2(){var e=z2(vg());return e.copy=function(){return Il(e,J2()).exponent(e.exponent())},To.apply(e,arguments)}function gQ(){return J2.apply(null,arguments).exponent(.5)}function uM(){var e=[],t=pi;function r(n){if(n!=null&&!isNaN(n=+n))return t((sm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(jl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>tH(e,s/n))},r.copy=function(){return uM(t).domain(e)},To.apply(r,arguments)}function yg(){var e=0,t=.5,r=1,n=1,i,s,a,l,u,d=pi,h,m=!1,p;function v(C){return isNaN(C=+C)?p:(C=.5+((C=+h(C))-s)*(n*C<n*s?l:u),d(m?Math.max(0,Math.min(1,C)):C))}v.domain=function(C){return arguments.length?([e,t,r]=C,i=h(e=+e),s=h(t=+t),a=h(r=+r),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,v):[e,t,r]},v.clamp=function(C){return arguments.length?(m=!!C,v):m},v.interpolator=function(C){return arguments.length?(d=C,v):d};function x(C){return function(A){var N,T,O;return arguments.length?([N,T,O]=A,d=EH(C,[N,T,O]),v):[d(0),d(.5),d(1)]}}return v.range=x(Kd),v.rangeRound=x(I2),v.unknown=function(C){return arguments.length?(p=C,v):p},function(C){return h=C,i=C(e),s=C(t),a=C(r),l=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),n=s<i?-1:1,v}}function dM(){var e=Rl(yg()(pi));return e.copy=function(){return Il(e,dM())},To.apply(e,arguments)}function fM(){var e=F2(yg()).domain([.1,1,10]);return e.copy=function(){return Il(e,fM()).base(e.base())},To.apply(e,arguments)}function hM(){var e=$2(yg());return e.copy=function(){return Il(e,hM()).constant(e.constant())},To.apply(e,arguments)}function X2(){var e=z2(yg());return e.copy=function(){return Il(e,X2()).exponent(e.exponent())},To.apply(e,arguments)}function vQ(){return X2.apply(null,arguments).exponent(.5)}const nh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:O2,scaleDiverging:dM,scaleDivergingLog:fM,scaleDivergingPow:X2,scaleDivergingSqrt:vQ,scaleDivergingSymlog:hM,scaleIdentity:W5,scaleImplicit:u1,scaleLinear:q5,scaleLog:K5,scaleOrdinal:T2,scalePoint:iH,scalePow:V2,scaleQuantile:Q5,scaleQuantize:J5,scaleRadial:Y5,scaleSequential:oM,scaleSequentialLog:lM,scaleSequentialPow:J2,scaleSequentialQuantile:uM,scaleSequentialSqrt:gQ,scaleSequentialSymlog:cM,scaleSqrt:JH,scaleSymlog:H5,scaleThreshold:X5,scaleTime:mQ,scaleUtc:pQ,tickFormat:U5},Symbol.toStringTag,{value:"Module"}));var Hd=e=>e.chartData,Z2=Me([Hd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ej=(e,t,r,n)=>n?Z2(e):Hd(e);function Fd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(cs(t)&&cs(r))return!0}return!1}function N4(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yQ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(cs(r))i=r;else if(typeof r=="function")return;if(cs(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Fd(a))return a}}function xQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Fd(n))return N4(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ht(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&mE.test(i)){var u=mE.exec(i);if(u==null||t==null)a=void 0;else{var d=+u[1];a=t[0]-d}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ht(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&pE.test(s)){var h=pE.exec(s);if(h==null||t==null)l=void 0;else{var m=+h[1];l=t[1]+m}}else l=t==null?void 0:t[1];var p=[a,l];if(Fd(p))return t==null?p:N4(p,t,r)}}}var Yd=1e9,bQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rj,Lr=!0,qs="[DecimalError] ",Kc=qs+"Invalid argument: ",tj=qs+"Exponent out of range: ",Qd=Math.floor,Ec=Math.pow,wQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,Dn=1e7,Mr=7,mM=9007199254740991,k0=Qd(mM/Mr),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Mr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};mt.dividedBy=mt.div=function(e){return So(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,r=t.constructor;return Cr(So(t,new r(e),0,1),r.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return pn(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(is))throw Error(qs+"NaN");if(r.s<1)throw Error(qs+(r.s?"NaN":"-Infinity"));return r.eq(is)?new n(0):(Lr=!1,t=So(Bh(r,s),Bh(e,s),s),Lr=!0,Cr(t,i))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vM(t,e):pM(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(qs+"NaN");return r.s?(Lr=!1,t=So(r,e,0,1).times(e),Lr=!0,r.minus(t)):Cr(new n(r),i)};mt.naturalExponential=mt.exp=function(){return gM(this)};mt.naturalLogarithm=mt.ln=function(){return Bh(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pM(t,e):vM(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=pn(i)+1,n=i.d.length-1,r=n*Mr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};mt.squareRoot=mt.sqrt=function(){var e,t,r,n,i,s,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(qs+"NaN")}for(e=pn(l),Lr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ia(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(i.toString()),r=u.precision,i=a=r+3;;)if(s=n,n=s.plus(So(l,s,a+2)).times(.5),Ia(s.d).slice(0,a)===(t=Ia(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Cr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return Lr=!0,Cr(n,r)};mt.times=mt.mul=function(e){var t,r,n,i,s,a,l,u,d,h=this,m=h.constructor,p=h.d,v=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,u=p.length,d=v.length,u<d&&(s=p,p=v,v=s,a=u,u=d,d=a),s=[],a=u+d,n=a;n--;)s.push(0);for(n=d;--n>=0;){for(t=0,i=u+n;i>n;)l=s[i]+v[n]*p[i-n-1]+t,s[i--]=l%Dn|0,t=l/Dn|0;s[i]=(s[i]+t)%Dn|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Lr?Cr(e,m.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ua(e,0,Yd),t===void 0?t=n.rounding:Ua(t,0,8),Cr(r,e+pn(r)+1,t))};mt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Xc(n,!0):(Ua(e,0,Yd),t===void 0?t=i.rounding:Ua(t,0,8),n=Cr(new i(n),e+1,t),r=Xc(n,!0,e+1)),r};mt.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Xc(i):(Ua(e,0,Yd),t===void 0?t=s.rounding:Ua(t,0,8),n=Cr(new s(i),e+pn(i)+1,t),r=Xc(n.abs(),!1,e+pn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return Cr(new t(e),pn(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,r,n,i,s,a,l=this,u=l.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(is);if(l=new u(l),!l.s){if(e.s<1)throw Error(qs+"Infinity");return l}if(l.eq(is))return l;if(n=u.precision,e.eq(is))return Cr(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=h<0?-h:h)<=mM){for(i=new u(is),t=Math.ceil(n/Mr+4),Lr=!1;r%2&&(i=i.times(l),P4(i.d,t)),r=Qd(r/2),r!==0;)l=l.times(l),P4(l.d,t);return Lr=!0,e.s<0?new u(is).div(i):Cr(i,n)}}else if(s<0)throw Error(qs+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Lr=!1,i=e.times(Bh(l,n+d)),Lr=!0,i=gM(i),i.s=s,i};mt.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=pn(i),n=Xc(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ua(e,1,Yd),t===void 0?t=s.rounding:Ua(t,0,8),i=Cr(new s(i),e,t),r=pn(i),n=Xc(i,e<=r||r<=s.toExpNeg,e)),n};mt.toSignificantDigits=mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ua(e,1,Yd),t===void 0?t=n.rounding:Ua(t,0,8)),Cr(new n(r),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pn(e),r=e.constructor;return Xc(e,t<=r.toExpNeg||t>=r.toExpPos)};function pM(e,t){var r,n,i,s,a,l,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Lr?Cr(t,m):t;if(u=e.d,d=t.d,a=e.e,i=t.e,u=u.slice(),s=a-i,s){for(s<0?(n=u,s=-s,l=d.length):(n=d,i=a,l=u.length),a=Math.ceil(m/Mr),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=d.length,l-s<0&&(s=l,n=d,d=u,u=n),r=0;s;)r=(u[--s]=u[s]+d[s]+r)/Dn|0,u[s]%=Dn;for(r&&(u.unshift(r),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,Lr?Cr(t,m):t}function Ua(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Kc+e)}function Ia(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Mr-n.length,r&&(s+=pl(r)),s+=n;a=e[t],n=a+"",r=Mr-n.length,r&&(s+=pl(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var So=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%Dn|0,a=s/Dn|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,u;if(s!=a)u=s>a?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Dn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,u,d,h,m,p,v,x,C,A,N,T,O,M,D,I,$,W,K=n.constructor,J=n.s==i.s?1:-1,Z=n.d,de=i.d;if(!n.s)return new K(n);if(!i.s)throw Error(qs+"Division by zero");for(u=n.e-i.e,$=de.length,D=Z.length,v=new K(J),x=v.d=[],d=0;de[d]==(Z[d]||0);)++d;if(de[d]>(Z[d]||0)&&--u,s==null?T=s=K.precision:a?T=s+(pn(n)-pn(i))+1:T=s,T<0)return new K(0);if(T=T/Mr+2|0,d=0,$==1)for(h=0,de=de[0],T++;(d<D||h)&&T--;d++)O=h*Dn+(Z[d]||0),x[d]=O/de|0,h=O%de|0;else{for(h=Dn/(de[0]+1)|0,h>1&&(de=e(de,h),Z=e(Z,h),$=de.length,D=Z.length),M=$,C=Z.slice(0,$),A=C.length;A<$;)C[A++]=0;W=de.slice(),W.unshift(0),I=de[0],de[1]>=Dn/2&&++I;do h=0,l=t(de,C,$,A),l<0?(N=C[0],$!=A&&(N=N*Dn+(C[1]||0)),h=N/I|0,h>1?(h>=Dn&&(h=Dn-1),m=e(de,h),p=m.length,A=C.length,l=t(m,C,p,A),l==1&&(h--,r(m,$<p?W:de,p))):(h==0&&(l=h=1),m=de.slice()),p=m.length,p<A&&m.unshift(0),r(C,m,A),l==-1&&(A=C.length,l=t(de,C,$,A),l<1&&(h++,r(C,$<A?W:de,A))),A=C.length):l===0&&(h++,C=[0]),x[d++]=h,l&&C[0]?C[A++]=Z[M]||0:(C=[Z[M]],A=1);while((M++<D||C[0]!==void 0)&&T--)}return x[0]||x.shift(),v.e=u,Cr(v,a?s+pn(v)+1:s)}}();function gM(e,t){var r,n,i,s,a,l,u=0,d=0,h=e.constructor,m=h.precision;if(pn(e)>16)throw Error(tj+pn(e));if(!e.s)return new h(is);for(Lr=!1,l=m,a=new h(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(n=Math.log(Ec(2,d))/Math.LN10*2+5|0,l+=n,r=i=s=new h(is),h.precision=l;;){if(i=Cr(i.times(e),l),r=r.times(++u),a=s.plus(So(i,r,l)),Ia(a.d).slice(0,l)===Ia(s.d).slice(0,l)){for(;d--;)s=Cr(s.times(s),l);return h.precision=m,t==null?(Lr=!0,Cr(s,m)):s}s=a}}function pn(e){for(var t=e.e*Mr,r=e.d[0];r>=10;r/=10)t++;return t}function Ox(e,t,r){if(t>e.LN10.sd())throw Lr=!0,r&&(e.precision=r),Error(qs+"LN10 precision limit exceeded");return Cr(new e(e.LN10),t)}function pl(e){for(var t="";e--;)t+="0";return t}function Bh(e,t){var r,n,i,s,a,l,u,d,h,m=1,p=10,v=e,x=v.d,C=v.constructor,A=C.precision;if(v.s<1)throw Error(qs+(v.s?"NaN":"-Infinity"));if(v.eq(is))return new C(0);if(t==null?(Lr=!1,d=A):d=t,v.eq(10))return t==null&&(Lr=!0),Ox(C,d);if(d+=p,C.precision=d,r=Ia(x),n=r.charAt(0),s=pn(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Ia(v.d),n=r.charAt(0),m++;s=pn(v),n>1?(v=new C("0."+r),s++):v=new C(n+"."+r.slice(1))}else return u=Ox(C,d+2,A).times(s+""),v=Bh(new C(n+"."+r.slice(1)),d-p).plus(u),C.precision=A,t==null?(Lr=!0,Cr(v,A)):v;for(l=a=v=So(v.minus(is),v.plus(is),d),h=Cr(v.times(v),d),i=3;;){if(a=Cr(a.times(h),d),u=l.plus(So(a,new C(i),d)),Ia(u.d).slice(0,d)===Ia(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(Ox(C,d+2,A).times(s+""))),l=So(l,new C(m),d),C.precision=A,t==null?(Lr=!0,Cr(l,A)):l;l=u,i+=2}}function E4(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Qd(r/Mr),e.d=[],n=(r+1)%Mr,r<0&&(n+=Mr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Mr;n<i;)e.d.push(+t.slice(n,n+=Mr));t=t.slice(n),n=Mr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Lr&&(e.e>k0||e.e<-k0))throw Error(tj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Cr(e,t,r){var n,i,s,a,l,u,d,h,m=e.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Mr,i=t,d=m[h=0];else{if(h=Math.ceil((n+1)/Mr),s=m.length,h>=s)return e;for(d=s=m[h],a=1;s>=10;s/=10)a++;n%=Mr,i=n-Mr+a}if(r!==void 0&&(s=Ec(10,a-i-1),l=d/s%10|0,u=t<0||m[h+1]!==void 0||d%s,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?i>0?d/Ec(10,a-i):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return u?(s=pn(e),m.length=1,t=t-s-1,m[0]=Ec(10,(Mr-t%Mr)%Mr),e.e=Qd(-t/Mr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,s=1,h--):(m.length=h+1,s=Ec(10,Mr-n),m[h]=i>0?(d/Ec(10,a-i)%Ec(10,i)|0)*s:0),u)for(;;)if(h==0){(m[0]+=s)==Dn&&(m[0]=1,++e.e);break}else{if(m[h]+=s,m[h]!=Dn)break;m[h--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Lr&&(e.e>k0||e.e<-k0))throw Error(tj+pn(e));return e}function vM(e,t){var r,n,i,s,a,l,u,d,h,m,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Lr?Cr(t,v):t;if(u=e.d,m=t.d,n=t.e,d=e.e,u=u.slice(),a=d-n,a){for(h=a<0,h?(r=u,a=-a,l=m.length):(r=m,n=d,l=u.length),i=Math.max(Math.ceil(v/Mr),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=u.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){h=u[i]<m[i];break}a=0}for(h&&(r=u,u=m,m=r,t.s=-t.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>a;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=Dn-1;--u[s],u[i]+=Dn}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Lr?Cr(t,v):t):new p(0)}function Xc(e,t,r){var n,i=pn(e),s=Ia(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+pl(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+pl(-i-1)+s,r&&(n=r-a)>0&&(s+=pl(n))):i>=a?(s+=pl(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+pl(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=pl(n))),e.s<0?"-"+s:s}function P4(e,t){if(e.length>t)return e.length=t,!0}function yM(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Kc+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return E4(a,s.toString())}else if(typeof s!="string")throw Error(Kc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,wQ.test(s))E4(a,s);else throw Error(Kc+s)}if(i.prototype=mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yM,i.config=i.set=jQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function jQ(e){if(!e||typeof e!="object")throw Error(qs+"Object expected");var t,r,n,i=["precision",1,Yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Qd(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Kc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Kc+r+": "+n);return this}var rj=yM(bQ);is=new rj(1);const yr=rj;var AQ=e=>e,xM={},bM=e=>e===xM,_4=e=>function t(){return arguments.length===0||arguments.length===1&&bM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wM=(e,t)=>e===1?t:_4(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==xM).length;return s>=e?t(...n):wM(e-s,_4(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=n.map(h=>bM(h)?l.shift():h);return t(...d,...l)}))}),xg=e=>wM(e.length,e),m1=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},SQ=xg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),CQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return AQ;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,u)=>u(l),s(...arguments))}},p1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),jM=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var u;return a===((u=t)===null||u===void 0?void 0:u[l])})||(t=i,r=e(...i)),r}};function AM(e){var t;return e===0?t=1:t=Math.floor(new yr(e).abs().log(10).toNumber())+1,t}function SM(e,t,r){for(var n=new yr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}xg((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});xg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});xg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var CM=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},kM=(e,t,r)=>{if(e.lte(0))return new yr(0);var n=AM(e.toNumber()),i=new yr(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new yr(Math.ceil(s.div(a).toNumber())).add(r).mul(a),u=l.mul(i);return t?new yr(u.toNumber()):new yr(Math.ceil(u.toNumber()))},kQ=(e,t,r)=>{var n=new yr(1),i=new yr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new yr(10).pow(AM(e)-1),i=new yr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new yr(Math.floor(e)))}else e===0?i=new yr(Math.floor((t-1)/2)):r||(i=new yr(Math.floor(e)));var a=Math.floor((t-1)/2),l=CQ(SQ(u=>i.add(new yr(u-a).mul(n)).toNumber()),m1);return l(0,t)},NM=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new yr(0),tickMin:new yr(0),tickMax:new yr(0)};var a=kM(new yr(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new yr(0):(l=new yr(t).add(r).div(2),l=l.sub(new yr(l).mod(a)));var u=Math.ceil(l.sub(t).div(a).toNumber()),d=Math.ceil(new yr(r).sub(l).div(a).toNumber()),h=u+d+1;return h>n?NM(t,r,n,i,s+1):(h<n&&(d=r>0?d+(n-h):d,u=r>0?u:u+(n-h)),{step:a,tickMin:l.sub(new yr(u).mul(a)),tickMax:l.add(new yr(d).mul(a))})};function NQ(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=CM([t,r]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...m1(0,n-1).map(()=>1/0)]:[...m1(0,n-1).map(()=>-1/0),l];return t>r?p1(u):u}if(a===l)return kQ(a,n,i);var{step:d,tickMin:h,tickMax:m}=NM(a,l,s,i,0),p=SM(h,m.add(new yr(.1).mul(d)),d);return t>r?p1(p):p}function EQ(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=CM([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),u=kM(new yr(a).sub(s).div(l-1),i,0),d=[...SM(new yr(s),new yr(a).sub(new yr(.99).mul(u)),u),a];return r>n?p1(d):d}var PQ=jM(NQ),_Q=jM(EQ),EM=e=>e.rootProps.maxBarSize,TQ=e=>e.rootProps.barGap,PM=e=>e.rootProps.barCategoryGap,OQ=e=>e.rootProps.barSize,cm=e=>e.rootProps.stackOffset,nj=e=>e.options.chartName,ij=e=>e.rootProps.syncId,_M=e=>e.rootProps.syncMethod,sj=e=>e.options.eventEmitter,bo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},es={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},MQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bo.angleAxisId,includeHidden:!1,name:void 0,reversed:bo.reversed,scale:bo.scale,tick:bo.tick,tickCount:void 0,ticks:void 0,type:bo.type,unit:void 0},RQ={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:es.type,unit:void 0},IQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bo.scale,tick:bo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DQ={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:"category",unit:void 0},aj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?IQ:MQ,oj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?DQ:RQ,wg=e=>e.polarOptions,lj=Me([Ol,Ml,Fn],m5),TM=Me([wg,lj],(e,t)=>{if(e!=null)return gi(e.innerRadius,t,0)}),OM=Me([wg,lj],(e,t)=>{if(e!=null)return gi(e.outerRadius,t,t*.8)}),LQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},MM=Me([wg],LQ);Me([aj,MM],bg);var RM=Me([lj,TM,OM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Me([oj,RM],bg);var BQ=Me([pr,wg,TM,OM,Ol,Ml],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:u,endAngle:d}=t;return{cx:gi(a,i,i/2),cy:gi(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),tn=(e,t)=>t,um=(e,t,r)=>r;function T4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g1=[0,"auto"],Yi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Oo=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Yi},Qi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:g1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cg},Dl=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Qi},VQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??VQ},rn=(e,t,r)=>{switch(t){case"xAxis":return Oo(e,r);case"yAxis":return Dl(e,r);case"zAxis":return cj(e,r);case"angleAxis":return aj(e,r);case"radiusAxis":return oj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},UQ=(e,t,r)=>{switch(t){case"xAxis":return Oo(e,r);case"yAxis":return Dl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dm=(e,t,r)=>{switch(t){case"xAxis":return Oo(e,r);case"yAxis":return Dl(e,r);case"angleAxis":return aj(e,r);case"radiusAxis":return oj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},IM=e=>e.graphicalItems.countOfBars>0;function uj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var jg=e=>e.graphicalItems.cartesianItems,qQ=Me([tn,um],uj),dj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),fm=Me([jg,rn,qQ],dj),DM=e=>e.filter(t=>t.stackId===void 0),WQ=Me([fm],DM),fj=e=>e.map(t=>t.data).filter(Boolean).flat(1),GQ=Me([fm],fj),hj=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Ag=Me([GQ,ej],hj),mj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Rr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Rr(i,n)}))):e.map(n=>({value:n})),Sg=Me([Ag,rn,fm],mj);function LM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function au(e){return e.filter(t=>Va(t)||t instanceof Date).map(Number).filter(t=>as(t)===!1)}function KQ(e,t,r){return!r||typeof t!="number"||as(t)?[]:r.length?au(r.flatMap(n=>{var i=Rr(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!cs(s)||!cs(a)))return[t-s,t+a]})):[]}var BM=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,u=l.map(d=>d.dataKey);return[a,{stackedData:KW(e,u,r),graphicalItems:l}]}))},v1=Me([Ag,fm,cm],BM),FM=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=JW(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},HQ=Me([v1,Hd,tn],FM),$M=(e,t,r,n)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var a,l,u=(a=s.errorBars)===null||a===void 0?void 0:a.filter(h=>LM(n,h)),d=Rr(i,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:d,errorDomain:KQ(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Rr(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),YQ=Me(Ag,rn,WQ,tn,$M);function QQ(e){var{value:t}=e;if(Va(t)||t instanceof Date)return t}var JQ=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=au(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},XQ=(e,t,r)=>{var n=e.map(QQ).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&d3(n))?M5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pj=e=>{var t;if(e==null||!("domain"in e))return g1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=au(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:g1},gj=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},zM=e=>e.referenceElements.dots,Jd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),ZQ=Me([zM,tn,um],Jd),VM=e=>e.referenceElements.areas,eJ=Me([VM,tn,um],Jd),UM=e=>e.referenceElements.lines,tJ=Me([UM,tn,um],Jd),qM=(e,t)=>{var r=au(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rJ=Me(ZQ,tn,qM),WM=(e,t)=>{var r=au(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nJ=Me([eJ,tn],WM),GM=(e,t)=>{var r=au(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iJ=Me(tJ,tn,GM),sJ=Me(rJ,iJ,nJ,(e,t,r)=>gj(e,r,t)),KM=Me([rn],pj),vj=(e,t,r,n,i)=>{var s=yQ(t,e.allowDataOverflow);return s??xQ(t,gj(r,i,JQ(n)),e.allowDataOverflow)},aJ=Me([rn,KM,HQ,YQ,sJ],vj),oJ=[0,1],yj=(e,t,r,n,i,s,a)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:l,type:u}=e,d=Tl(t,s);return d&&l==null?M5(0,r.length):u==="category"?XQ(n,e,d):i==="expand"?oJ:a}},xj=Me([rn,pr,Ag,Sg,cm,tn,aJ],yj),HM=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(em(s));return l in nh?l:"point"}}},Xd=Me([rn,pr,IM,nj,tn],HM);function lJ(e){if(e!=null){if(e in nh)return nh[e]();var t="scale".concat(em(e));if(t in nh)return nh[t]()}}function bj(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=lJ(t);if(i!=null){var s=i.domain(r).range(n);return VW(s),s}}}var wj=(e,t,r)=>{var n=pj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Fd(e))return PQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fd(e))return _Q(e,t.tickCount,t.allowDecimals)}},jj=Me([xj,dm,Xd],wj),Aj=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Fd(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},cJ=Me([rn,xj,jj,tn],Aj),uJ=Me(Sg,rn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(au(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),YM=Me(uJ,pr,PM,Fn,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!cs(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=gi(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),dJ=(e,t)=>{var r=Oo(e,t);return r==null||typeof r.padding!="string"?0:YM(e,"xAxis",t,r.padding)},fJ=(e,t)=>{var r=Dl(e,t);return r==null||typeof r.padding!="string"?0:YM(e,"yAxis",t,r.padding)},hJ=Me(Oo,dJ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),mJ=Me(Dl,fJ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),pJ=Me([Fn,hJ,dg,ug,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),gJ=Me([Fn,pr,mJ,dg,ug,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hm=(e,t,r,n)=>{var i;switch(t){case"xAxis":return pJ(e,r,n);case"yAxis":return gJ(e,r,n);case"zAxis":return(i=cj(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return MM(e);case"radiusAxis":return RM(e,r);default:return}},QM=Me([rn,hm],bg),Zd=Me([rn,Xd,cJ,QM],bj);Me(fm,tn,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>LM(t,r)));function JM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cg=(e,t)=>t,kg=(e,t,r)=>r,vJ=Me(j2,Cg,kg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JM)),yJ=Me(A2,Cg,kg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JM)),XM=(e,t)=>({width:e.width,height:t.height}),xJ=(e,t)=>{var r=typeof t.width=="number"?t.width:cg;return{width:r,height:e.height}},ZM=Me(Fn,Oo,XM),bJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},wJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jJ=Me(Ml,Fn,vJ,Cg,kg,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var u=XM(t,l);a==null&&(a=bJ(t,n,e));var d=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(d)*u.height,a+=(d?-1:1)*u.height}),s}),AJ=Me(Ol,Fn,yJ,Cg,kg,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var u=xJ(t,l);a==null&&(a=wJ(t,n,e));var d=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(d)*u.width,a+=(d?-1:1)*u.width}),s}),SJ=(e,t)=>{var r=Fn(e),n=Oo(e,t);if(n!=null){var i=jJ(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},CJ=(e,t)=>{var r=Fn(e),n=Dl(e,t);if(n!=null){var i=AJ(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},eR=Me(Fn,Dl,(e,t)=>{var r=typeof t.width=="number"?t.width:cg;return{width:r,height:e.height}}),O4=(e,t,r)=>{switch(t){case"xAxis":return ZM(e,r).width;case"yAxis":return eR(e,r).height;default:return}},tR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Tl(e,n),u=t.map(d=>d.value);if(a&&l&&s==="category"&&i&&d3(u))return u}},Sj=Me([pr,Sg,rn,tn],tR),rR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Tl(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},Cj=Me([pr,Sg,dm,tn],rR),M4=Me([pr,UQ,Xd,Zd,Sj,Cj,hm,jj,tn],(e,t,r,n,i,s,a,l,u)=>{if(t==null)return null;var d=Tl(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:r,scale:n}}),kJ=(e,t,r,n,i,s,a,l,u)=>{if(!(t==null||n==null)){var d=Tl(e,u),{type:h,ticks:m,tickCount:p}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=h==="category"&&n.bandwidth?n.bandwidth()/v:0;x=u==="angleAxis"&&s!=null&&s.length>=2?Ln(s[0]-s[1])*2*x:x;var C=m||i;if(C){var A=C.map((N,T)=>{var O=a?a.indexOf(N):N;return{index:T,coordinate:n(O)+x,value:N,offset:x}});return A.filter(N=>!as(N.coordinate))}return d&&l?l.map((N,T)=>({coordinate:n(N)+x,value:N,index:T,offset:x})):n.ticks?n.ticks(p).map(N=>({coordinate:n(N)+x,value:N,offset:x})):n.domain().map((N,T)=>({coordinate:n(N)+x,value:a?a[N]:N,index:T,offset:x}))}},nR=Me([pr,dm,Xd,Zd,jj,hm,Sj,Cj,tn],kJ),NJ=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Tl(e,a),{tickCount:u}=t,d=0;return d=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Ln(n[0]-n[1])*2*d:d,l&&s?s.map((h,m)=>({coordinate:r(h)+d,value:h,index:m,offset:d})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+d,value:h,offset:d})):r.domain().map((h,m)=>({coordinate:r(h)+d,value:i?i[h]:h,index:m,offset:d}))}},El=Me([pr,dm,Zd,hm,Sj,Cj,tn],NJ),qa=Me(rn,Zd,(e,t)=>{if(!(e==null||t==null))return N0(N0({},e),{},{scale:t})}),EJ=Me([rn,Xd,xj,QM],bj);Me((e,t,r)=>cj(e,r),EJ,(e,t)=>{if(!(e==null||t==null))return N0(N0({},e),{},{scale:t})});var PJ=Me([pr,j2,A2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iR=e=>e.options.defaultTooltipEventType,sR=e=>e.options.validateTooltipEventTypes;function aR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kj(e,t){var r=iR(e),n=sR(e);return aR(t,r,n)}function _J(e){return kt(t=>kj(t,e))}var oR=(e,t)=>{var r,n=Number(t);if(!(as(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},TJ=e=>e.tooltip.settings,vl={active:!1,index:null,dataKey:void 0,coordinate:void 0},OJ={itemInteraction:{click:vl,hover:vl},axisInteraction:{click:vl,hover:vl},keyboardInteraction:vl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lR=Ws({name:"tooltip",initialState:OJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=wl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:MJ,removeTooltipEntrySettings:RJ,setTooltipSettingsState:IJ,setActiveMouseOverItemIndex:cR,mouseLeaveItem:DJ,mouseLeaveChart:uR,setActiveClickItemIndex:LJ,setMouseOverAxisIndex:dR,setMouseClickAxisIndex:BJ,setSyncInteraction:y1,setKeyboardInteraction:x1}=lR.actions,FJ=lR.reducer;function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=zJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qJ(e){return e.index!=null}var fR=(e,t,r,n)=>{if(t==null)return vl;var i=UJ(e,t,r);if(i==null)return vl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(qJ(i)){if(s)return gp(gp({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return gp(gp({},vl),{},{coordinate:i.coordinate})},Nj=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!cs(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},hR=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var u=a[0],d=u==null?void 0:l(u.positions,s);if(d!=null)return d;var h=i==null?void 0:i[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},mR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Ng=e=>e.options.tooltipPayloadSearcher,ef=e=>e.tooltip,zn=e=>{var t=pr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},tf=e=>e.tooltip.settings.axisId,ni=e=>{var t=zn(e),r=tf(e);return dm(e,t,r)},Ej=Me([ni,pr,IM,nj,zn],HM),WJ=Me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),GJ=Me([zn,tf],uj),Eg=Me([WJ,ni,GJ],dj),KJ=Me([Eg],fj),ou=Me([KJ,Hd],hj),Pj=Me([ou,ni,Eg],mj),HJ=Me([ni],pj),YJ=Me([ou,Eg,cm],BM),QJ=Me([YJ,Hd,zn],FM),JJ=Me([Eg],DM),XJ=Me([ou,ni,JJ,zn],$M),ZJ=Me([zM,zn,tf],Jd),eX=Me([ZJ,zn],qM),tX=Me([VM,zn,tf],Jd),rX=Me([tX,zn],WM),nX=Me([UM,zn,tf],Jd),iX=Me([nX,zn],GM),sX=Me([eX,iX,rX],gj),aX=Me([ni,HJ,QJ,XJ,sX],vj),pR=Me([ni,pr,ou,Pj,cm,zn,aX],yj),oX=Me([pR,ni,Ej],wj),lX=Me([ni,pR,oX,zn],Aj),gR=e=>{var t=zn(e),r=tf(e),n=!1;return hm(e,t,r,n)},vR=Me([ni,gR],bg),yR=Me([ni,Ej,lX,vR],bj),cX=Me([pr,Pj,ni,zn],tR),uX=Me([pr,Pj,ni,zn],rR),dX=(e,t,r,n,i,s,a,l)=>{if(t){var{type:u}=t,d=Tl(e,l);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return m=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ln(i[0]-i[1])*2*m:m,d&&a?a.map((p,v)=>({coordinate:n(p)+m,value:p,index:v,offset:m})):n.domain().map((p,v)=>({coordinate:n(p)+m,value:s?s[p]:p,index:v,offset:m}))}}},Mo=Me([pr,ni,Ej,yR,gR,cX,uX,zn],dX),xR=Me([iR,sR,TJ],(e,t,r)=>aR(r.shared,e,t)),bR=e=>e.tooltip.settings.trigger,_j=e=>e.tooltip.settings.defaultIndex,Pg=Me([ef,xR,bR,_j],fR),Zc=Me([Pg,ou],Nj),wR=Me([Mo,Zc],oR),jR=Me([Pg],e=>{if(e)return e.dataKey}),fX=Me([ef,xR,bR,_j],mR),hX=Me([Ol,Ml,pr,Fn,Mo,_j,fX,Ng],hR),mX=Me([Pg,hX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),pX=Me([Pg],e=>e.active);function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AR=()=>kt(ni),xX=()=>{var e=AR(),t=kt(Mo),r=kt(yR);return Oh(D4(D4({},e),{},{scale:r}),t)};function L4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=()=>kt(nj),Tj=(e,t)=>t,SR=(e,t,r)=>r,Oj=(e,t,r,n)=>n;function SX(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var CX=Me(Mo,e=>rg(e,t=>t.coordinate)),Mj=Me([ef,Tj,SR,Oj],fR),CR=Me([Mj,ou],Nj),kX=(e,t,r)=>{if(t!=null){var n=ef(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},kR=Me([ef,Tj,SR,Oj],mR),E0=Me([Ol,Ml,pr,Fn,Mo,Oj,kR,Ng],hR),NX=Me([Mj,E0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),NR=Me(Mo,CR,oR);function EX(e,t){return e??t}var PX=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:h}=r,m=[];return e.reduce((p,v)=>{var x,{dataDefinedOnItem:C,settings:A}=v,N=EX(C,l),T=SX(N,d,h),O=(x=A==null?void 0:A.dataKey)!==null&&x!==void 0?x:n==null?void 0:n.dataKey,M=A==null?void 0:A.nameKey,D;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(T)&&a==="axis"?D=t2(T,n.dataKey,i):D=s(T,t,u,M),Array.isArray(D))D.forEach($=>{var W=B4(B4({},A),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});p.push(gE({tooltipEntrySettings:W,dataKey:$.dataKey,payload:$.payload,value:Rr($.payload,$.dataKey),name:$.name}))});else{var I;p.push(gE({tooltipEntrySettings:A,dataKey:O,payload:D,value:Rr(D,O),name:(I=Rr(D,M))!==null&&I!==void 0?I:A==null?void 0:A.name}))}return p},m)}},_X=Me([kR,CR,Hd,ni,NR,Ng,Tj],PX),TX=Me([Mj],e=>({isActive:e.active,activeIndex:e.index})),OX=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var u=XW(e.chartX,e.chartY,t,r,l);if(u){var d=eG(u,t),h=$W(d,a,s,n,i),m=ZW(t,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}};function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(null,arguments)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:u,chartName:d}=e,h=t,m=r,p=n;if(!l||!h||d!=="ScatterChart"&&u!=="axis")return null;var v,x;if(d==="ScatterChart")v=h,x=JG;else if(d==="BarChart")v=XG(a,h,i,s),x=P5;else if(a==="radial"){var{cx:C,cy:A,radius:N,startAngle:T,endAngle:O}=_5(h);v={cx:C,cy:A,startAngle:T,endAngle:O,innerRadius:N,outerRadius:N},x=O5}else v={points:BK(a,h,i)},x=E2;var M=typeof l=="object"&&"className"in l?l.className:void 0,D=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},i),v),lr(l,!1)),{},{payload:m,payloadIndex:p,className:fr("recharts-tooltip-cursor",M)});return j.isValidElement(l)?j.cloneElement(l,D):j.createElement(x,D)}function LX(e){var t=xX(),r=im(),n=fg(),i=AX();return j.createElement(DX,b1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var ER=j.createContext(null),BX=()=>j.useContext(ER),Mx={exports:{}},$4;function FX(){return $4||($4=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,m||u,p),x=r?r+d:d;return u._events[x]?u._events[x].fn?u._events[x]=[u._events[x],v]:u._events[x].push(v):(u._events[x]=v,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,x=new Array(v);p<v;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,p,v,x){var C=r?r+d:d;if(!this._events[C])return!1;var A=this._events[C],N=arguments.length,T,O;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),N){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,p),!0;case 5:return A.fn.call(A.context,h,m,p,v),!0;case 6:return A.fn.call(A.context,h,m,p,v,x),!0}for(O=1,T=new Array(N-1);O<N;O++)T[O-1]=arguments[O];A.fn.apply(A.context,T)}else{var M=A.length,D;for(O=0;O<M;O++)switch(A[O].once&&this.removeListener(d,A[O].fn,void 0,!0),N){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,h);break;case 3:A[O].fn.call(A[O].context,h,m);break;case 4:A[O].fn.call(A[O].context,h,m,p);break;default:if(!T)for(D=1,T=new Array(N-1);D<N;D++)T[D-1]=arguments[D];A[O].fn.apply(A[O].context,T)}}return!0},l.prototype.on=function(d,h,m){return s(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return s(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,p){var v=r?r+d:d;if(!this._events[v])return this;if(!h)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===h&&(!p||x.once)&&(!m||x.context===m)&&a(this,v);else{for(var C=0,A=[],N=x.length;C<N;C++)(x[C].fn!==h||p&&!x[C].once||m&&x[C].context!==m)&&A.push(x[C]);A.length?this._events[v]=A.length===1?A[0]:A:a(this,v)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(Mx)),Mx.exports}var $X=FX();const zX=us($X);var Fh=new zX,w1="recharts.syncEvent.tooltip",z4="recharts.syncEvent.brush";function Rj(e,t){if(t){var r=Number.parseInt(t,10);if(!as(r))return e==null?void 0:e[r]}}var VX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PR=Ws({name:"options",initialState:VX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),UX=PR.reducer,{createEventEmitter:qX}=PR.actions;function WX(e){return e.tooltip.syncInteraction}var GX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_R=Ws({name:"chartData",initialState:GX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:V4,setDataStartEndIndexes:KX,setComputedData:sue}=_R.actions,HX=_R.reducer,TR=()=>{};function YX(){var e=kt(ij),t=kt(sj),r=Br(),n=kt(_M),i=kt(Mo),s=fg(),a=S2(),l=kt(u=>u.rootProps.className);j.useEffect(()=>{if(e==null)return TR;var u=(d,h,m)=>{if(t!==m&&e===d){if(n==="index"){r(h);return}if(i!=null){var p;if(typeof n=="function"){var v={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},x=n(i,v);p=i[x]}else n==="value"&&(p=i.find(I=>String(I.value)===h.payload.label));var{coordinate:C}=h.payload;if(p==null||h.payload.active===!1||C==null||a==null){r(y1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:N}=C,T=Math.min(A,a.x+a.width),O=Math.min(N,a.y+a.height),M={x:s==="horizontal"?p.coordinate:T,y:s==="horizontal"?O:p.coordinate},D=y1({active:h.payload.active,coordinate:M,dataKey:h.payload.dataKey,index:String(p.index),label:h.payload.label});r(D)}}};return Fh.on(w1,u),()=>{Fh.off(w1,u)}},[l,r,t,e,n,i,s,a])}function QX(){var e=kt(ij),t=kt(sj),r=Br();j.useEffect(()=>{if(e==null)return TR;var n=(i,s,a)=>{t!==a&&e===i&&r(KX(s))};return Fh.on(z4,n),()=>{Fh.off(z4,n)}},[r,t,e])}function JX(){var e=Br();j.useEffect(()=>{e(qX())},[e]),YX(),QX()}function XX(e,t,r,n,i,s){var a=kt(p=>kX(p,e,t)),l=kt(sj),u=kt(ij),d=kt(_M),h=kt(WX),m=h==null?void 0:h.active;j.useEffect(()=>{if(!m&&u!=null&&l!=null){var p=y1({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});Fh.emit(w1,u,p,l)}},[m,r,a,i,n,l,u,d,s])}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rZ(e){return e.dataKey}function nZ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(PG,t)}var W4=[],iZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!nu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xd(e){var t=Gs(e,iZ),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:u,offset:d,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:v,wrapperStyle:x,cursor:C,shared:A,trigger:N,defaultIndex:T,portal:O,axisId:M}=t,D=Br(),I=typeof T=="number"?String(T):T;j.useEffect(()=>{D(IJ({shared:A,trigger:N,axisId:M,active:r,defaultIndex:I}))},[D,A,N,M,r,I]);var $=S2(),W=C5(),K=_J(A),{activeIndex:J,isActive:Z}=kt(Ie=>TX(Ie,K,N,I)),de=kt(Ie=>_X(Ie,K,N,I)),ce=kt(Ie=>NR(Ie,K,N,I)),ee=kt(Ie=>NX(Ie,K,N,I)),ue=de,je=BX(),pe=r??Z,[ie,be]=U3([ue,pe]),me=K==="axis"?ce:void 0;XX(K,N,ee,me,J,pe);var Y=O??je;if(Y==null)return null;var re=ue??W4;pe||(re=W4),l&&re.length&&(re=B3(ue.filter(Ie=>Ie.value!=null&&(Ie.hide!==!0||t.includeHidden)),h,rZ));var Se=re.length>0,Te=j.createElement(DG,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:u,active:pe,coordinate:ee,hasPayload:Se,offset:d,position:m,reverseDirection:p,useTranslate3d:v,viewBox:$,wrapperStyle:x,lastBoundingBox:ie,innerRef:be,hasPortalFromProps:!!O},nZ(a,q4(q4({},t),{},{payload:re,label:me,active:pe,coordinate:ee,accessibilityLayer:W})));return j.createElement(j.Fragment,null,uw.createPortal(Te,Y),pe&&j.createElement(LX,{cursor:C,tooltipEventType:K,coordinate:ee,payload:ue,index:J}))}var Rx={},Ix={},Dx={},G4;function sZ(){return G4||(G4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const u=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),h=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},m=()=>{d&&h(),C()};let p=null;const v=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},n)},x=()=>{p!==null&&(clearTimeout(p),p=null)},C=()=>{x(),a=void 0,l=null},A=()=>{x(),h()},N=function(...T){if(i!=null&&i.aborted)return;a=this,l=T;const O=p==null;v(),u&&O&&h()};return N.schedule=v,N.cancel=C,N.flush=A,i==null||i.addEventListener("abort",C,{once:!0}),N}e.debounce=t}(Dx)),Dx}var K4;function aZ(){return K4||(K4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sZ();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:u}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let h,m=null;const p=t.debounce(function(...C){h=n.apply(this,C),m=null},i,{edges:d}),v=function(...C){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(h=n.apply(this,C),m=Date.now(),p.cancel(),p.schedule(),h):(p.apply(this,C),h)},x=()=>(p.flush(),h);return v.cancel=p.cancel,v.flush=x,v}e.debounce=r}(Ix)),Ix}var H4;function oZ(){return H4||(H4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aZ();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,trailing:l,maxWait:i})}e.throttle=r}(Rx)),Rx}var Lx,Y4;function lZ(){return Y4||(Y4=1,Lx=oZ().throttle),Lx}var cZ=lZ();const uZ=us(cZ);var hh=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=fZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bd=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:u,children:d,debounce:h=0,id:m,className:p,onResize:v,style:x={}}=e,C=j.useRef(null),A=j.useRef();A.current=v,j.useImperativeHandle(t,()=>C.current);var[N,T]=j.useState({containerWidth:n.width,containerHeight:n.height}),O=j.useCallback((D,I)=>{T($=>{var W=Math.round(D),K=Math.round(I);return $.containerWidth===W&&$.containerHeight===K?$:{containerWidth:W,containerHeight:K}})},[]);j.useEffect(()=>{var D=K=>{var J,{width:Z,height:de}=K[0].contentRect;O(Z,de),(J=A.current)===null||J===void 0||J.call(A,Z,de)};h>0&&(D=uZ(D,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(D),{width:$,height:W}=C.current.getBoundingClientRect();return O($,W),I.observe(C.current),()=>{I.disconnect()}},[O,h]);var M=j.useMemo(()=>{var{containerWidth:D,containerHeight:I}=N;if(D<0||I<0)return null;hh(Dc(i)||Dc(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),hh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=Dc(i)?D:i,W=Dc(s)?I:s;return r&&r>0&&($?W=$/r:W&&($=W*r),u&&W>u&&(W=u)),hh($>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,W,i,s,a,l,r),j.Children.map(d,K=>j.cloneElement(K,{width:$,height:W,style:Bx({height:"100%",width:"100%",maxHeight:W,maxWidth:$},K.props.style)}))},[r,d,s,u,l,a,N,i]);return j.createElement("div",{id:m?"".concat(m):void 0,className:fr("recharts-responsive-container",p),style:Bx(Bx({},x),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:u}),ref:C},M)}),rf=e=>null;rf.displayName="Cell";function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xu={widthCache:{},cacheCount:0},vZ=2e3,yZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X4="recharts_measurement_span";function xZ(e){var t=j1({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var mh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nu.isSsr)return{width:0,height:0};var n=xZ(r),i=JSON.stringify({text:t,copyStyle:n});if(Xu.widthCache[i])return Xu.widthCache[i];try{var s=document.getElementById(X4);s||(s=document.createElement("span"),s.setAttribute("id",X4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=j1(j1({},yZ),n);Object.assign(s.style,a),s.textContent="".concat(t);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return Xu.widthCache[i]=u,++Xu.cacheCount>vZ&&(Xu.cacheCount=0,Xu.widthCache={}),u}catch{return{width:0,height:0}}},Z4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jZ=Object.keys(OR),wd="NaN";function AZ(e,t){return e*OR[t]}class _i{static parse(t){var r,[,n,i]=(r=wZ.exec(t))!==null&&r!==void 0?r:[];return new _i(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,as(t)&&(this.unit=""),r!==""&&!bZ.test(r)&&(this.num=NaN,this.unit=""),jZ.includes(r)&&(this.num=AZ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new _i(NaN,""):new _i(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _i(NaN,""):new _i(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _i(NaN,""):new _i(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _i(NaN,""):new _i(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return as(this.num)}}function MR(e){if(e.includes(wd))return wd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=Z4.exec(t))!==null&&r!==void 0?r:[],a=_i.parse(n??""),l=_i.parse(s??""),u=i==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return wd;t=t.replace(Z4,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,p]=(d=eP.exec(t))!==null&&d!==void 0?d:[],v=_i.parse(h??""),x=_i.parse(p??""),C=m==="+"?v.add(x):v.subtract(x);if(C.isNaN())return wd;t=t.replace(eP,C.toString())}return t}var tP=/\(([^()]*)\)/;function SZ(e){for(var t=e,r;(r=tP.exec(t))!=null;){var[,n]=r;t=t.replace(tP,MR(n))}return t}function CZ(e){var t=e.replace(/\s+/g,"");return t=SZ(t),t=MR(t),t}function kZ(e){try{return CZ(e)}catch{return wd}}function Fx(e){var t=kZ(e.slice(5,-1));return t===wd?"":t}var NZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],EZ=["dx","dy","angle","className","breakAll"];function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(null,arguments)}function rP(e,t){if(e==null)return{};var r,n,i=PZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RR=/[ \f\n\r\t\v\u2028\u2029]+/,IR=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];kr(t)||(r?i=t.toString().split(""):i=t.toString().split(RR));var s=i.map(l=>({word:l,width:mh(l,n).width})),a=r?0:mh("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},_Z=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:u}=e,d=ht(s),h=a,m=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce((de,ce)=>{var{word:ee,width:ue}=ce,je=de[de.length-1];if(je&&(n==null||i||je.width+ue+r<Number(n)))je.words.push(ee),je.width+=ue+r;else{var pe={words:[ee],width:ue};de.push(pe)}return de},[])},p=m(t),v=J=>J.reduce((Z,de)=>Z.width>de.width?Z:de);if(!d||i)return p;var x=p.length>s||v(p).width>Number(n);if(!x)return p;for(var C="",A=J=>{var Z=h.slice(0,J),de=IR({breakAll:u,style:l,children:Z+C}).wordsWithComputedWidth,ce=m(de),ee=ce.length>s||v(ce).width>Number(n);return[ee,ce]},N=0,T=h.length-1,O=0,M;N<=T&&O<=h.length-1;){var D=Math.floor((N+T)/2),I=D-1,[$,W]=A(I),[K]=A(D);if(!$&&!K&&(N=D+1),$&&K&&(T=D-1),!$&&K){M=W;break}O++}return M||p},nP=e=>{var t=kr(e)?[]:e.toString().split(RR);return[{words:t}]},TZ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!nu.isSsr){var l,u,d=IR({breakAll:s,children:n,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;l=h,u=m}else return nP(n);return _Z({breakAll:s,children:n,maxLines:a,style:i},l,u,t,r)}return nP(n)},iP="#808080",_g=j.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:u="end",fill:d=iP}=e,h=rP(e,NZ),m=j.useMemo(()=>TZ({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:a,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,a,h.style,h.width]),{dx:p,dy:v,angle:x,className:C,breakAll:A}=h,N=rP(h,EZ);if(!Va(r)||!Va(n))return null;var T=r+(ht(p)?p:0),O=n+(ht(v)?v:0),M;switch(u){case"start":M=Fx("calc(".concat(s,")"));break;case"middle":M=Fx("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:M=Fx("calc(".concat(m.length-1," * -").concat(i,")"));break}var D=[];if(a){var I=m[0].width,{width:$}=h;D.push("scale(".concat(ht($)?$/I:1,")"))}return x&&D.push("rotate(".concat(x,", ").concat(T,", ").concat(O,")")),D.length&&(N.transform=D.join(" ")),j.createElement("text",A1({},lr(N,!0),{ref:t,x:T,y:O,className:fr("recharts-text",C),textAnchor:l,fill:d.includes("url")?iP:d}),m.map((W,K)=>{var J=W.words.join(A?"":" ");return j.createElement("tspan",{x:T,dy:K===0?M:i,key:"".concat(J,"-").concat(K)},J)}))});_g.displayName="Text";var OZ=["offset"],MZ=["labelRef"];function sP(e,t){if(e==null)return{};var r,n,i=RZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}var BZ=e=>{var{value:t,formatter:r}=e,n=kr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ij=e=>e!=null&&typeof e=="function",FZ=(e,t)=>{var r=Ln(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$Z=(e,t,r)=>{var{position:n,viewBox:i,offset:s,className:a}=e,{cx:l,cy:u,innerRadius:d,outerRadius:h,startAngle:m,endAngle:p,clockWise:v}=i,x=(d+h)/2,C=FZ(m,p),A=C>=0?1:-1,N,T;n==="insideStart"?(N=m+A*s,T=v):n==="insideEnd"?(N=p-A*s,T=!v):n==="end"&&(N=p+A*s,T=v),T=C<=0?T:!T;var O=hn(l,u,x,N),M=hn(l,u,x,N+(T?1:-1)*359),D="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(M.x,",").concat(M.y),I=kr(e.id)?Yc("recharts-radial-line-"):e.id;return j.createElement("text",wo({},r,{dominantBaseline:"central",className:fr("recharts-radial-bar-label",a)}),j.createElement("defs",null,j.createElement("path",{id:I,d:D})),j.createElement("textPath",{xlinkHref:"#".concat(I)},t))},zZ=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:i,cy:s,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=t,h=(u+d)/2;if(n==="outside"){var{x:m,y:p}=hn(i,s,l+r,h);return{x:m,y:p,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x,y:C}=hn(i,s,v,h);return{x,y:C,textAnchor:"middle",verticalAnchor:"middle"}},VZ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:u}=t,d=u>=0?1:-1,h=d*n,m=d>0?"end":"start",p=d>0?"start":"end",v=l>=0?1:-1,x=v*n,C=v>0?"end":"start",A=v>0?"start":"end";if(i==="top"){var N={x:s+l/2,y:a-d*n,textAnchor:"middle",verticalAnchor:m};return ln(ln({},N),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var T={x:s+l/2,y:a+u+h,textAnchor:"middle",verticalAnchor:p};return ln(ln({},T),r?{height:Math.max(r.y+r.height-(a+u),0),width:l}:{})}if(i==="left"){var O={x:s-x,y:a+u/2,textAnchor:C,verticalAnchor:"middle"};return ln(ln({},O),r?{width:Math.max(O.x-r.x,0),height:u}:{})}if(i==="right"){var M={x:s+l+x,y:a+u/2,textAnchor:A,verticalAnchor:"middle"};return ln(ln({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:u}:{})}var D=r?{width:l,height:u}:{};return i==="insideLeft"?ln({x:s+x,y:a+u/2,textAnchor:A,verticalAnchor:"middle"},D):i==="insideRight"?ln({x:s+l-x,y:a+u/2,textAnchor:C,verticalAnchor:"middle"},D):i==="insideTop"?ln({x:s+l/2,y:a+h,textAnchor:"middle",verticalAnchor:p},D):i==="insideBottom"?ln({x:s+l/2,y:a+u-h,textAnchor:"middle",verticalAnchor:m},D):i==="insideTopLeft"?ln({x:s+x,y:a+h,textAnchor:A,verticalAnchor:p},D):i==="insideTopRight"?ln({x:s+l-x,y:a+h,textAnchor:C,verticalAnchor:p},D):i==="insideBottomLeft"?ln({x:s+x,y:a+u-h,textAnchor:A,verticalAnchor:m},D):i==="insideBottomRight"?ln({x:s+l-x,y:a+u-h,textAnchor:C,verticalAnchor:m},D):i&&typeof i=="object"&&(ht(i.x)||Dc(i.x))&&(ht(i.y)||Dc(i.y))?ln({x:s+gi(i.x,l),y:a+gi(i.y,u),textAnchor:"end",verticalAnchor:"end"},D):ln({x:s+l/2,y:a+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},UZ=e=>"cx"in e&&ht(e.cx);function ns(e){var{offset:t=5}=e,r=sP(e,OZ),n=ln({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:u,className:d="",textBreakAll:h,labelRef:m}=n,p=S2(),v=i||p;if(!v||kr(a)&&kr(l)&&!j.isValidElement(u)&&typeof u!="function")return null;if(j.isValidElement(u)){var{labelRef:x}=n,C=sP(n,MZ);return j.cloneElement(u,C)}var A;if(typeof u=="function"){if(A=j.createElement(u,n),j.isValidElement(A))return A}else A=BZ(n);var N=UZ(v),T=lr(n,!0);if(N&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $Z(n,A,T);var O=N?zZ(n):VZ(n,v);return j.createElement(_g,wo({ref:m,className:fr("recharts-label",d)},T,O,{breakAll:h}),A)}ns.displayName="Label";var DR=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:u,outerRadius:d,x:h,y:m,top:p,left:v,width:x,height:C,clockWise:A,labelViewBox:N}=e;if(N)return N;if(ht(x)&&ht(C)){if(ht(h)&&ht(m))return{x:h,y:m,width:x,height:C};if(ht(p)&&ht(v))return{x:p,y:v,width:x,height:C}}if(ht(h)&&ht(m))return{x:h,y:m,width:0,height:0};if(ht(t)&&ht(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:A};if(e.viewBox)return e.viewBox},qZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(ns,wo({key:"label-implicit"},n)):Va(e)?j.createElement(ns,wo({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===ns?j.cloneElement(e,ln({key:"label-implicit"},n)):j.createElement(ns,wo({key:"label-implicit",content:e},n)):Ij(e)?j.createElement(ns,wo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(ns,wo({},e,{key:"label-implicit"},n)):null},WZ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=DR(t),l=rm(i,ns).map((d,h)=>j.cloneElement(d,{viewBox:r||a,key:"label-".concat(h)}));if(!n)return l;var u=qZ(t.label,r||a,s);return[u,...l]};ns.parseViewBox=DR;ns.renderCallByParent=WZ;var $x={},zx={},oP;function GZ(){return oP||(oP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(zx)),zx}var Vx={},lP;function KZ(){return lP||(lP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(Vx)),Vx}var cP;function HZ(){return cP||(cP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GZ(),r=KZ(),n=d2();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i}($x)),$x}var Ux,uP;function YZ(){return uP||(uP=1,Ux=HZ().last),Ux}var QZ=YZ();const JZ=us(QZ);var XZ=["valueAccessor"],ZZ=["data","dataKey","clockWise","id","textBreakAll"];function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eee(e,t,r){return(t=tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hP(e,t){if(e==null)return{};var r,n,i=nee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iee=e=>Array.isArray(e.value)?JZ(e.value):e.value;function Al(e){var{valueAccessor:t=iee}=e,r=hP(e,XZ),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,u=hP(r,ZZ);return!n||!n.length?null:j.createElement(Bn,{className:"recharts-label-list"},n.map((d,h)=>{var m=kr(i)?t(d,h):Rr(d&&d.payload,i),p=kr(a)?{}:{id:"".concat(a,"-").concat(h)};return j.createElement(ns,P0({},lr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:ns.parseViewBox(kr(s)?d:fP(fP({},d),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Al.displayName="LabelList";function see(e,t){return e?e===!0?j.createElement(Al,{key:"labelList-implicit",data:t}):j.isValidElement(e)||Ij(e)?j.createElement(Al,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?j.createElement(Al,P0({data:t},e,{key:"labelList-implicit"})):null:null}function aee(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=rm(n,Al).map((a,l)=>j.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=see(e.label,t);return[s,...i]}Al.renderCallByParent=aee;function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(null,arguments)}var LR=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=fr("recharts-dot",i);return t===+t&&r===+r&&n===+n?j.createElement("circle",S1({},lr(e,!1),n2(e),{className:s,cx:t,cy:r,r:n})):null},BR=e=>e.graphicalItems.polarItems,oee=Me([tn,um],uj),Dj=Me([BR,rn,oee],dj),lee=Me([Dj],fj),Lj=Me([lee,Z2],hj),cee=Me([Lj,rn,Dj],mj),uee=Me([Lj,rn,Dj],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=Rr(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Rr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),mP=()=>{},dee=Me([rn,KM,mP,uee,mP],vj),FR=Me([rn,pr,Lj,cee,cm,tn,dee],yj),fee=Me([FR,rn,Xd],wj);Me([rn,FR,fee,tn],Aj);var hee={radiusAxis:{},angleAxis:{}},$R=Ws({name:"polarAxis",initialState:hee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aue,removeRadiusAxis:oue,addAngleAxis:lue,removeAngleAxis:cue}=$R.actions,mee=$R.reducer;function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pee(e,t,r){return(t=gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=vee(e,"string");return typeof t=="symbol"?t:t+""}function vee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bj=(e,t)=>t,yee=[],Fj=(e,t,r)=>(r==null?void 0:r.length)===0?yee:r,zR=Me([Z2,Bj,Fj],(e,t,r)=>{var{chartData:n}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>gP(gP({},t.presentationProps),s.props))),i!=null)return i}),xee=Me([zR,Bj,Fj],(e,t,r)=>{if(e!=null)return e.map((n,i)=>{var s,a=Rr(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Gd(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),bee=Me([BR,Bj],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),wee=Me([zR,bee,Fj,Fn],(e,t,r,n)=>{if(!(t==null||e==null))return dte({offset:n,pieSettings:t,displayedData:e,cells:r})}),jee={countOfBars:0,cartesianItems:[],polarItems:[]},VR=Ws({name:"graphicalItems",initialState:jee,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=wl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=wl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:Aee,removeBar:See,addCartesianGraphicalItem:Cee,removeCartesianGraphicalItem:kee,addPolarGraphicalItem:Nee,removePolarGraphicalItem:Eee}=VR.actions,Pee=VR.reducer;function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){_ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Oee(e,"string");return typeof t=="symbol"?t:t+""}function Oee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mee(e){var t=Br();return j.useEffect(()=>{var r=yP(yP({},e),{},{stackId:v5(e.stackId)});return t(Cee(r)),()=>{t(kee(r))}},[t,e]),null}function Ree(e){var t=Br();return j.useEffect(()=>(t(Nee(e)),()=>{t(Eee(e))}),[t,e]),null}var qx={},xP;function Iee(){return xP||(xP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(qx)),qx}var Wx,bP;function Dee(){return bP||(bP=1,Wx=Iee().isPlainObject),Wx}var Lee=Dee();const Bee=us(Lee);function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(null,arguments)}var wP=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},Fee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ee=e=>{var t=Gs(e,Fee),r=j.useRef(),[n,i]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:u,height:d,className:h}=t,{animationEasing:m,animationDuration:p,animationBegin:v,isUpdateAnimationActive:x}=t;if(s!==+s||a!==+a||l!==+l||u!==+u||d!==+d||l===0&&u===0||d===0)return null;var C=fr("recharts-trapezoid",h);return x?j.createElement(Nl,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:a},to:{upperWidth:l,lowerWidth:u,height:d,x:s,y:a},duration:p,animationEasing:m,isActive:x},A=>{var{upperWidth:N,lowerWidth:T,height:O,x:M,y:D}=A;return j.createElement(Nl,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:m},j.createElement("path",_0({},lr(t,!0),{className:C,d:wP(M,D,N,T,O),ref:r})))}):j.createElement("g",null,j.createElement("path",_0({},lr(t,!0),{className:C,d:wP(s,a,l,u,d)})))},zee=["option","shapeType","propTransformer","activeClassName","isActive"];function Vee(e,t){if(e==null)return{};var r,n,i=Uee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kee(e,t){return T0(T0({},t),e)}function Hee(e,t){return e==="symbols"}function AP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(P5,r);case"trapezoid":return j.createElement($ee,r);case"sector":return j.createElement(O5,r);case"symbols":if(Hee(t))return j.createElement(l2,r);break;default:return null}}function Yee(e){return j.isValidElement(e)?e.props:e}function UR(e){var{option:t,shapeType:r,propTransformer:n=Kee,activeClassName:i="recharts-active-shape",isActive:s}=e,a=Vee(e,zee),l;if(j.isValidElement(t))l=j.cloneElement(t,T0(T0({},a),Yee(t)));else if(typeof t=="function")l=t(a);else if(Bee(t)&&typeof t!="boolean"){var u=n(t,a);l=j.createElement(AP,{shapeType:r,elementProps:u})}else{var d=a;l=j.createElement(AP,{shapeType:r,elementProps:d})}return s?j.createElement(Bn,{className:i},l):l}var $j=(e,t)=>{var r=Br();return(n,i)=>s=>{e==null||e(n,i,s),r(cR({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},zj=e=>{var t=Br();return(r,n)=>i=>{e==null||e(r,n,i),t(DJ())}},Vj=(e,t)=>{var r=Br();return(n,i)=>s=>{e==null||e(n,i,s),r(LJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Uj(e){var{fn:t,args:r}=e,n=Br(),i=vi();return j.useEffect(()=>{if(!i){var s=t(r);return n(MJ(s)),()=>{n(RJ(s))}}},[t,r,n,i]),null}var qR=()=>{};function WR(e){var{legendPayload:t}=e,r=Br(),n=vi();return j.useEffect(()=>n?qR:(r(A5(t)),()=>{r(S5(t))}),[r,n,t]),null}function Qee(e){var{legendPayload:t}=e,r=Br(),n=kt(pr);return j.useEffect(()=>n!=="centric"&&n!=="radial"?qR:(r(A5(t)),()=>{r(S5(t))}),[r,n,t]),null}function qj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(Yc(t)),n=j.useRef(e);return n.current!==e&&(r.current=Yc(t),n.current=e),r.current}var Jee=["onMouseEnter","onClick","onMouseLeave"];function Xee(e,t){if(e==null)return{};var r,n,i=Zee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return(t=ete(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(null,arguments)}function rte(e){var t=j.useMemo(()=>lr(e,!1),[e]),r=j.useMemo(()=>rm(e.children,rf),[e.children]),n=j.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=kt(s=>xee(s,n,r));return j.createElement(Qee,{legendPayload:i})}function nte(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:u,tooltipType:d}=e;return{dataDefinedOnItem:n==null?void 0:n.map(h=>h.tooltipPayload),positions:n==null?void 0:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:Gd(l,t),hide:u,type:d,color:a,unit:""}}}var ite=(e,t)=>e>t?"start":e<t?"end":"middle",ste=(e,t,r)=>typeof t=="function"?t(e):gi(t,r,r*.8),ate=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=m5(s,a),u=i+gi(e.cx,s,s/2),d=n+gi(e.cy,a,a/2),h=gi(e.innerRadius,l,0),m=ste(r,e.outerRadius,l),p=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:u,cy:d,innerRadius:h,outerRadius:m,maxRadius:p}},ote=(e,t)=>{var r=Ln(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lte=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(E2,eu({},t,{type:"linear",className:r}))},cte=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var i=fr("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return j.createElement(_g,eu({},t,{alignmentBaseline:"middle",className:i}),n)};function ute(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=lr(r,!1),u=lr(i,!1),d=lr(s,!1),h=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,m=t.map((p,v)=>{var x=(p.startAngle+p.endAngle)/2,C=hn(p.cx,p.cy,p.outerRadius+h,x),A=Jr(Jr(Jr(Jr({},l),p),{},{stroke:"none"},u),{},{index:v,textAnchor:ite(C.x,p.cx)},C),N=Jr(Jr(Jr(Jr({},l),p),{},{fill:"none",stroke:p.fill},d),{},{index:v,points:[hn(p.cx,p.cy,p.outerRadius,x),C],key:"line"});return j.createElement(Bn,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},s&&lte(s,N),cte(i,A,Rr(p,a)))});return j.createElement(Bn,{className:"recharts-pie-labels"},m)}function GR(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=kt(Zc),{onMouseEnter:l,onClick:u,onMouseLeave:d}=i,h=Xee(i,Jee),m=$j(l,i.dataKey),p=zj(d),v=Vj(u,i.dataKey);return t==null?null:j.createElement(j.Fragment,null,t.map((x,C)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var A=r&&String(C)===a,N=a?n:null,T=A?r:N,O=Jr(Jr({},x),{},{stroke:x.stroke,tabIndex:-1,[x5]:C,[b5]:i.dataKey});return j.createElement(Bn,eu({tabIndex:-1,className:"recharts-pie-sector"},tm(h,x,C),{onMouseEnter:m(x,C),onMouseLeave:p(x,C),onClick:v(x,C),key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(C)}),j.createElement(UR,eu({option:T,isActive:A,shapeType:"sector"},O)))}),j.createElement(ute,{sectors:t,props:i,showLabels:s}))}function dte(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:u,dataKey:d,nameKey:h,tooltipType:m}=r,p=Math.abs(r.minAngle),v=ote(l,u),x=Math.abs(v),C=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,A=n.filter(I=>Rr(I,d,0)!==0).length,N=(x>=360?A:A-1)*C,T=x-A*p-N,O=n.reduce((I,$)=>{var W=Rr($,d,0);return I+(ht(W)?W:0)},0),M;if(O>0){var D;M=n.map((I,$)=>{var W=Rr(I,d,0),K=Rr(I,h,$),J=ate(r,s,I),Z=(ht(W)?W:0)/O,de,ce=Jr(Jr({},I),i&&i[$]&&i[$].props);$?de=D.endAngle+Ln(v)*C*(W!==0?1:0):de=l;var ee=de+Ln(v)*((W!==0?p:0)+Z*T),ue=(de+ee)/2,je=(J.innerRadius+J.outerRadius)/2,pe=[{name:K,value:W,payload:ce,dataKey:d,type:m}],ie=hn(J.cx,J.cy,je,ue);return D=Jr(Jr(Jr(Jr({},r.presentationProps),{},{percent:Z,cornerRadius:a,name:K,tooltipPayload:pe,midAngle:ue,middleRadius:je,tooltipPosition:ie},ce),J),{},{value:Rr(I,d),startAngle:de,endAngle:ee,payload:ce,paddingAngle:Ln(v)*C}),D})}return M}function fte(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:m}=t,p=qj(t,"recharts-pie-"),v=r.current,[x,C]=j.useState(!0),A=j.useCallback(()=>{typeof m=="function"&&m(),C(!1)},[m]),N=j.useCallback(()=>{typeof h=="function"&&h(),C(!0)},[h]);return j.createElement(Nl,{begin:s,duration:a,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:N,onAnimationEnd:A,key:p},T=>{var{t:O}=T,M=[],D=n&&n[0],I=D.startAngle;return n.forEach(($,W)=>{var K=v&&v[W],J=W>0?kl($,"paddingAngle",0):0;if(K){var Z=rs(K.endAngle-K.startAngle,$.endAngle-$.startAngle),de=Jr(Jr({},$),{},{startAngle:I+J,endAngle:I+Z(O)+J});M.push(de),I=de.endAngle}else{var{endAngle:ce,startAngle:ee}=$,ue=rs(0,ce-ee),je=ue(O),pe=Jr(Jr({},$),{},{startAngle:I+J,endAngle:I+je+J});M.push(pe),I=pe.endAngle}}),r.current=M,j.createElement(Bn,null,j.createElement(GR,{sectors:M,activeShape:u,inactiveShape:d,allOtherPieProps:t,showLabels:!x}))})}function hte(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=j.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?j.createElement(fte,{props:e,previousSectorsRef:s}):j.createElement(GR,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function mte(e){var{hide:t,className:r,rootTabIndex:n}=e,i=fr("recharts-pie",r);return t?null:j.createElement(Bn,{tabIndex:n,className:i},j.createElement(hte,e))}var KR={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!nu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function pte(e){var t=Gs(e,KR),r=j.useMemo(()=>rm(e.children,rf),[e.children]),n=lr(t,!1),i=j.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),s=kt(a=>wee(a,i,r));return j.createElement(j.Fragment,null,j.createElement(Uj,{fn:nte,args:Jr(Jr({},t),{},{sectors:s})}),j.createElement(mte,eu({},t,{sectors:s})))}class Og extends j.PureComponent{constructor(){super(...arguments),Tg(this,"id",Yc("recharts-pie-"))}render(){return j.createElement(j.Fragment,null,j.createElement(Ree,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),j.createElement(rte,this.props),j.createElement(pte,this.props),this.props.children)}}Tg(Og,"displayName","Pie");Tg(Og,"defaultProps",KR);function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gte(e,t,r){return(t=vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xte=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=kP(kP({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},lr(i,!1)),n2(i)),l;return j.isValidElement(i)?l=j.cloneElement(i,a):typeof i=="function"?l=i(a):l=j.createElement(LR,a),j.createElement(Bn,{className:"recharts-active-dot"},l)};function bte(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=AR(),a=kt(Zc),l=kt(wR);if(!a)return null;var u,d=s.dataKey;if(d&&!s.allowDuplicatedCategory){var h=typeof d=="function"?m=>d(m.payload):"payload.".concat(d);u=t2(t,h,l)}else u=t==null?void 0:t[Number(a)];return kr(u)?null:xte({point:u,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var wte=()=>{var e=Br();return j.useEffect(()=>(e(Aee()),()=>{e(See())})),null},jte=["children"];function Ate(e,t){if(e==null)return{};var r,n,i=Ste(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NP=()=>{},HR=j.createContext({addErrorBar:NP,removeErrorBar:NP}),Cte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},YR=j.createContext(Cte);function QR(e){var{children:t}=e,r=Ate(e,jte);return j.createElement(YR.Provider,{value:r},t)}var kte=()=>j.useContext(YR),JR=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:s,data:a,stackId:l,hide:u,type:d,barSize:h}=e,[m,p]=j.useState([]),v=j.useCallback(A=>{p(N=>[...N,A])},[p]),x=j.useCallback(A=>{p(N=>N.filter(T=>T!==A))},[p]),C=vi();return j.createElement(HR.Provider,{value:{addErrorBar:v,removeErrorBar:x}},j.createElement(Mee,{type:d,data:a,xAxisId:r,yAxisId:n,zAxisId:i,dataKey:s,errorBars:m,stackId:l,hide:u,barSize:h,isPanorama:C}),t)};function Nte(e){var{addErrorBar:t,removeErrorBar:r}=j.useContext(HR);return j.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var Ete=e=>{var t=vi();return kt(r=>qa(r,"xAxis",e,t))},Pte=e=>{var t=vi();return kt(r=>qa(r,"yAxis",e,t))},_te=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function XR(e,t,r){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(null,arguments)}function Mte(e,t){if(e==null)return{};var r,n,i=Rte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ite(e){var{direction:t,width:r,dataKey:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l}=e,u=Mte(e,_te),d=lr(u,!1),{data:h,dataPointFormatter:m,xAxisId:p,yAxisId:v,errorBarOffset:x}=kte(),C=Ete(p),A=Pte(v);if((C==null?void 0:C.scale)==null||(A==null?void 0:A.scale)==null||h==null||t==="x"&&C.type!=="number")return null;var N=h.map(T=>{var{x:O,y:M,value:D,errorVal:I}=m(T,n,t);if(!I)return null;var $=[],W,K;if(Array.isArray(I)?[W,K]=I:W=K=I,t==="x"){var{scale:J}=C,Z=M+x,de=Z+r,ce=Z-r,ee=J(D-W),ue=J(D+K);$.push({x1:ue,y1:de,x2:ue,y2:ce}),$.push({x1:ee,y1:Z,x2:ue,y2:Z}),$.push({x1:ee,y1:de,x2:ee,y2:ce})}else if(t==="y"){var{scale:je}=A,pe=O+x,ie=pe-r,be=pe+r,me=je(D-W),Y=je(D+K);$.push({x1:ie,y1:Y,x2:be,y2:Y}),$.push({x1:pe,y1:me,x2:pe,y2:Y}),$.push({x1:ie,y1:me,x2:be,y2:me})}var re="".concat(O+x,"px ").concat(M+x,"px");return j.createElement(Bn,$h({className:"recharts-errorBar",key:"bar-".concat($.map(Se=>"".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2)))},d),$.map(Se=>{var Te=i?{transformOrigin:"".concat(Se.x1-5,"px")}:void 0;return j.createElement(Nl,{from:{transform:"scaleY(0)",transformOrigin:re},to:{transform:"scaleY(1)",transformOrigin:re},begin:s,easing:l,isActive:i,duration:a,key:"line-".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2),style:{transformOrigin:re}},j.createElement("line",$h({},Se,{style:Te})))}))});return j.createElement(Bn,{className:"recharts-errorBars"},N)}var ZR=j.createContext(void 0);function Dte(e){var t=j.useContext(ZR);return e??t??"x"}function eI(e){var{direction:t,children:r}=e;return j.createElement(ZR.Provider,{value:t},r)}var tI={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Lte(e){var t=Dte(e.direction),{width:r,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:a}=Gs(e,tI);return j.createElement(j.Fragment,null,j.createElement(Nte,{dataKey:e.dataKey,direction:t}),j.createElement(Ite,$h({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:a})))}class rI extends j.Component{render(){return j.createElement(Lte,this.props)}}XR(rI,"defaultProps",tI);XR(rI,"displayName","ErrorBar");var Bte="Invariant failed";function Fte(e,t){throw new Error(Bte)}var $te=["x","y"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(null,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zte(e,t,r){return(t=Vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qte(e,t){if(e==null)return{};var r,n,i=Wte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gte(e,t){var{x:r,y:n}=e,i=qte(e,$te),s="".concat(r),a=parseInt(s,10),l="".concat(n),u=parseInt(l,10),d="".concat(t.height||i.height),h=parseInt(d,10),m="".concat(t.width||i.width),p=parseInt(m,10);return Jf(Jf(Jf(Jf(Jf({},t),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function nI(e){return j.createElement(UR,C1({shapeType:"rectangle",propTransformer:Gte,activeClassName:"recharts-active-bar"},e))}var Kte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ht(t))return t;var s=ht(n)||kr(n);return s?t(n,i):(s||Fte(),r)}};function Wj(e,t){var r,n,i=kt(d=>Oo(d,e)),s=kt(d=>Dl(d,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Yi.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Qi.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function iI(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=im(),{needClipX:s,needClipY:a,needClip:l}=Wj(t,r);if(!l)return null;var{left:u,top:d,width:h,height:m}=i;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:s?u:u-h/2,y:a?d:d-m/2,width:s?h:h*2,height:a?m:m*2}))}var Hte=["onMouseEnter","onMouseLeave","onClick"],Yte=["value","background","tooltipPosition"],Qte=["onMouseEnter","onClick","onMouseLeave"];function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(null,arguments)}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){Mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mg(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=Xte(e,"string");return typeof t=="symbol"?t:t+""}function Xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k1(e,t){if(e==null)return{};var r,n,i=Zte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ere=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Gd(r,t),payload:e}]};function tre(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Gd(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function rre(e){var t=kt(Zc),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:u}=s,d=k1(s,Hte),h=$j(a,n),m=zj(l),p=Vj(u,n);if(!i||r==null)return null;var v=lr(i,!1);return j.createElement(j.Fragment,null,r.map((x,C)=>{var{value:A,background:N,tooltipPosition:T}=x,O=k1(x,Yte);if(!N)return null;var M=h(x,C),D=m(x,C),I=p(x,C),$=ti(ti(ti(ti(ti({option:i,isActive:String(C)===t},O),{},{fill:"#eee"},N),v),tm(d,x,C)),{},{onMouseEnter:M,onMouseLeave:D,onClick:I,dataKey:n,index:C,className:"recharts-bar-background-rectangle"});return j.createElement(nI,zh({key:"background-bar-".concat(C)},$))}))}function sI(e){var{data:t,props:r,showLabels:n}=e,i=lr(r,!1),{shape:s,dataKey:a,activeBar:l}=r,u=kt(Zc),d=kt(jR),{onMouseEnter:h,onClick:m,onMouseLeave:p}=r,v=k1(r,Qte),x=$j(h,a),C=zj(p),A=Vj(m,a);return t?j.createElement(j.Fragment,null,t.map((N,T)=>{var O=l&&String(T)===u&&(d==null||a===d),M=O?l:s,D=ti(ti(ti({},i),N),{},{isActive:O,option:M,index:T,dataKey:a});return j.createElement(Bn,zh({className:"recharts-bar-rectangle"},tm(v,N,T),{onMouseEnter:x(N,T),onMouseLeave:C(N,T),onClick:A(N,T),key:"rectangle-".concat(N==null?void 0:N.x,"-").concat(N==null?void 0:N.y,"-").concat(N==null?void 0:N.value,"-").concat(T)}),j.createElement(nI,D))}),n&&Al.renderCallByParent(r,t)):null}function nre(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:h}=t,m=r.current,p=qj(t,"recharts-bar-"),[v,x]=j.useState(!1),C=j.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),A=j.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);return j.createElement(Nl,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},onAnimationEnd:C,onAnimationStart:A,key:p},N=>{var{t:T}=N,O=T===1?n:n.map((M,D)=>{var I=m&&m[D];if(I){var $=rs(I.x,M.x),W=rs(I.y,M.y),K=rs(I.width,M.width),J=rs(I.height,M.height);return ti(ti({},M),{},{x:$(T),y:W(T),width:K(T),height:J(T)})}if(i==="horizontal"){var Z=rs(0,M.height),de=Z(T);return ti(ti({},M),{},{y:M.y+M.height-de,height:de})}var ce=rs(0,M.width),ee=ce(T);return ti(ti({},M),{},{width:ee})});return T>0&&(r.current=O),j.createElement(Bn,null,j.createElement(sI,{props:t,data:O,showLabels:!v}))})}function ire(e){var{data:t,isAnimationActive:r}=e,n=j.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?j.createElement(nre,{previousRectanglesRef:n,props:e}):j.createElement(sI,{props:e,data:t,showLabels:!0})}var aI=0,sre=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Rr(e,t)}};class are extends j.PureComponent{constructor(){super(...arguments),Mg(this,"id",Yc("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:u,id:d,layout:h}=this.props;if(t)return null;var m=fr("recharts-bar",i),p=kr(d)?this.id:d;return j.createElement(Bn,{className:m},l&&j.createElement("defs",null,j.createElement(iI,{clipPathId:p,xAxisId:s,yAxisId:a})),j.createElement(Bn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):null},j.createElement(rre,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),j.createElement(ire,this.props)),j.createElement(eI,{direction:h==="horizontal"?"y":"x"},this.props.children))}}var oI={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!nu.isSsr,legendType:"rect",minPointSize:aI,xAxisId:0,yAxisId:0};function ore(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:h}=Gs(e,oI),{needClip:m}=Wj(t,r),p=fg(),v=vi(),x=j.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:v5(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),C=rm(e.children,rf),A=kt(O=>Ire(O,t,r,v,x,C));if(p!=="vertical"&&p!=="horizontal")return null;var N,T=A==null?void 0:A[0];return T==null||T.height==null||T.width==null?N=0:N=p==="vertical"?T.height/2:T.width/2,j.createElement(QR,{xAxisId:t,yAxisId:r,data:A,dataPointFormatter:sre,errorBarOffset:N},j.createElement(are,zh({},e,{layout:p,needClip:m,data:A,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function lre(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:h,displayedData:m,offset:p,cells:v}=e,x=t==="horizontal"?l:a,C=h?x.scale.domain():null,A=HW({numericAxis:x});return m.map((N,T)=>{var O,M,D,I,$,W;h?O=UW(h[T],C):(O=Rr(N,r),Array.isArray(O)||(O=[A,O]));var K=Kte(n,aI)(O[1],T);if(t==="horizontal"){var J,[Z,de]=[l.scale(O[0]),l.scale(O[1])];M=hE({axis:a,ticks:u,bandSize:s,offset:i.offset,entry:N,index:T}),D=(J=de??Z)!==null&&J!==void 0?J:void 0,I=i.size;var ce=Z-de;if($=as(ce)?0:ce,W={x:M,y:p.top,width:I,height:p.height},Math.abs(K)>0&&Math.abs($)<Math.abs(K)){var ee=Ln($||K)*(Math.abs(K)-Math.abs($));D-=ee,$+=ee}}else{var[ue,je]=[a.scale(O[0]),a.scale(O[1])];if(M=ue,D=hE({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:N,index:T}),I=je-ue,$=i.size,W={x:p.left,y:D,width:p.width,height:$},Math.abs(K)>0&&Math.abs(I)<Math.abs(K)){var pe=Ln(I||K)*(Math.abs(K)-Math.abs(I));I+=pe}}return ti(ti({},N),{},{x:M,y:D,width:I,height:$,value:h?O:O[1],payload:N,background:W,tooltipPosition:{x:M+I/2,y:D+$/2}},v&&v[T]&&v[T].props)})}class ph extends j.PureComponent{render(){return j.createElement(JR,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},j.createElement(wte,null),j.createElement(WR,{legendPayload:ere(this.props)}),j.createElement(Uj,{fn:tre,args:this.props}),j.createElement(ore,this.props))}}Mg(ph,"displayName","Bar");Mg(ph,"defaultProps",oI);function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return(t=ure(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fre=(e,t)=>t,hre=(e,t,r)=>r,mre=(e,t,r,n)=>n,Gj=(e,t,r,n,i)=>i,pre=(e,t,r,n,i)=>i.maxBarSize,gre=(e,t,r,n,i,s)=>s,TP=(e,t,r)=>{var n=r??e;if(!kr(n))return gi(n,t,0)},vre=Me([pr,jg,fre,hre,mre],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),yre=(e,t,r,n)=>{var i=pr(e);return i==="horizontal"?v1(e,"yAxis",r,n):v1(e,"xAxis",t,n)},xre=(e,t,r)=>{var n=pr(e);return n==="horizontal"?O4(e,"xAxis",t):O4(e,"yAxis",r)};function bre(e){return e.stackId!=null&&e.dataKey!=null}var wre=(e,t,r)=>{var n={},i=e.filter(bre),s=e.filter(d=>d.stackId==null),a=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),n),l=Object.entries(a).map(d=>{var[h,m]=d,p=m.map(x=>x.dataKey),v=TP(t,r,m[0].barSize);return{stackId:h,dataKeys:p,barSize:v}}),u=s.map(d=>{var h=[d.dataKey].filter(p=>p!=null),m=TP(t,r,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...l,...u]},jre=Me([vre,OQ,xre],wre),Are=(e,t,r,n,i)=>{var s,a,l=pr(e),u=EM(e),{maxBarSize:d}=i,h=kr(d)?u:d,m,p;return l==="horizontal"?(m=qa(e,"xAxis",t,n),p=El(e,"xAxis",t,n)):(m=qa(e,"yAxis",r,n),p=El(e,"yAxis",r,n)),(s=(a=Oh(m,p,!0))!==null&&a!==void 0?a:h)!==null&&s!==void 0?s:0},lI=(e,t,r,n)=>{var i=pr(e),s,a;return i==="horizontal"?(s=qa(e,"xAxis",t,n),a=El(e,"xAxis",t,n)):(s=qa(e,"yAxis",r,n),a=El(e,"yAxis",r,n)),Oh(s,a)};function Sre(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=gi(e,r,0,!0),l,u=[];if(cs(n[0].barSize)){var d=!1,h=r/s,m=n.reduce((N,T)=>N+(T.barSize||0),0);m+=(s-1)*a,m>=r&&(m-=(s-1)*a,a=0),m>=r&&h>0&&(d=!0,h*=.9,m=s*h);var p=(r-m)/2>>0,v={offset:p-a,size:0};l=n.reduce((N,T)=>{var O,M={stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:v.offset+v.size+a,size:d?h:(O=T.barSize)!==null&&O!==void 0?O:0}},D=[...N,M];return v=D[D.length-1].position,D},u)}else{var x=gi(t,r,0,!0);r-2*x-(s-1)*a<=0&&(a=0);var C=(r-2*x-(s-1)*a)/s;C>1&&(C>>=0);var A=cs(i)?Math.min(C,i):C;l=n.reduce((N,T,O)=>[...N,{stackId:T.stackId,dataKeys:T.dataKeys,position:{offset:x+(C+a)*O+(C-A)/2,size:A}}],u)}return l}}var Cre=(e,t,r,n,i,s,a)=>{var l=kr(a)?t:a,u=Sre(r,n,i!==s?i:s,e,l);return i!==s&&u!=null&&(u=u.map(d=>yp(yp({},d),{},{position:yp(yp({},d.position),{},{offset:d.position.offset-i/2})}))),u},kre=Me([jre,EM,TQ,PM,Are,lI,pre],Cre),Nre=(e,t,r,n)=>qa(e,"xAxis",t,n),Ere=(e,t,r,n)=>qa(e,"yAxis",r,n),Pre=(e,t,r,n)=>El(e,"xAxis",t,n),_re=(e,t,r,n)=>El(e,"yAxis",r,n),Tre=Me([kre,Gj],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Ore=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:i}=n;if(i){var s=i.find(a=>a.key===t.dataKey);return s}}}}},Mre=Me([jg,Gj],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),Rre=Me([yre,Gj],Ore),Ire=Me([Fn,Nre,Ere,Pre,_re,Tre,pr,ej,lI,Rre,Mre,gre],(e,t,r,n,i,s,a,l,u,d,h,m)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:x}=l;if(!(h==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||u==null)){var{data:C}=h,A;if(C!=null&&C.length>0?A=C:A=p==null?void 0:p.slice(v,x+1),A!=null)return lre({layout:a,barSettings:h,pos:s,bandSize:u,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:d,displayedData:A,offset:e,cells:m})}}),cI=e=>{var{chartData:t}=e,r=Br(),n=vi();return j.useEffect(()=>n?()=>{}:(r(V4(t)),()=>{r(V4(void 0))}),[t,r,n]),null},OP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uI=Ws({name:"brush",initialState:OP,reducers:{setBrushSettings(e,t){return t.payload==null?OP:t.payload}}}),{setBrushSettings:uue}=uI.actions,Dre=uI.reducer;function Lre(e,t,r){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kj{static create(t){return new Kj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Lre(Kj,"EPS",1e-4);function $re(e){return(e%180+180)%180}var zre=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=$re(i),a=s*Math.PI/180,l=Math.atan(n/r),u=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(u)},Vre={dots:[],areas:[],lines:[]},dI=Ws({name:"referenceElements",initialState:Vre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=wl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=wl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=wl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:due,removeDot:fue,addArea:hue,removeArea:mue,addLine:pue,removeLine:gue}=dI.actions,Ure=dI.reducer,qre=j.createContext(void 0),Wre=e=>{var{children:t}=e,[r]=j.useState("".concat(Yc("recharts"),"-clip")),n=im();if(n==null)return null;var{left:i,top:s,height:a,width:l}=n;return j.createElement(qre.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:i,y:s,height:a,width:l}))),t)};function Gx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Gre(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zre(n,r)}function Kre(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function O0(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function Hre(e,t){return fI(e,t+1)}function Yre(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,u=0,d=1,h=a,m=function(){var x=n==null?void 0:n[u];if(x===void 0)return{v:fI(n,d)};var C=u,A,N=()=>(A===void 0&&(A=r(x,C)),A),T=x.coordinate,O=u===0||O0(e,T,N,h,l);O||(u=0,h=a,d+=1),O&&(h=T+e*(N()/2+i),u+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Qre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t,r){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=Xre(e,"string");return typeof t=="symbol"?t:t+""}function Xre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:u}=t,d=function(p){var v=s[p],x,C=()=>(x===void 0&&(x=r(v,p)),x);if(p===a-1){var A=e*(v.coordinate+e*C()/2-u);s[p]=v=ei(ei({},v),{},{tickCoord:A>0?v.coordinate-A*e:v.coordinate})}else s[p]=v=ei(ei({},v),{},{tickCoord:v.coordinate});var N=O0(e,v.tickCoord,C,l,u);N&&(u=v.tickCoord-e*(C()/2+i),s[p]=ei(ei({},v),{},{isShow:!0}))},h=a-1;h>=0;h--)d(h);return s}function ene(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:u,end:d}=t;if(s){var h=n[l-1],m=r(h,l-1),p=e*(h.coordinate+e*m/2-d);a[l-1]=h=ei(ei({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var v=O0(e,h.tickCoord,()=>m,u,d);v&&(d=h.tickCoord-e*(m/2+i),a[l-1]=ei(ei({},h),{},{isShow:!0}))}for(var x=s?l-1:l,C=function(T){var O=a[T],M,D=()=>(M===void 0&&(M=r(O,T)),M);if(T===0){var I=e*(O.coordinate-e*D()/2-u);a[T]=O=ei(ei({},O),{},{tickCoord:I<0?O.coordinate-I*e:O.coordinate})}else a[T]=O=ei(ei({},O),{},{tickCoord:O.coordinate});var $=O0(e,O.tickCoord,D,u,d);$&&(u=O.tickCoord+e*(D()/2+i),a[T]=ei(ei({},O),{},{isShow:!0}))},A=0;A<x;A++)C(A);return a}function Hj(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:u,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!n)return[];if(ht(u)||nu.isSsr){var p;return(p=Hre(i,ht(u)?u:0))!==null&&p!==void 0?p:[]}var v=[],x=l==="top"||l==="bottom"?"width":"height",C=h&&x==="width"?mh(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},A=(O,M)=>{var D=typeof d=="function"?d(O.value,M):O.value;return x==="width"?Gre(mh(D,{fontSize:t,letterSpacing:r}),C,m):mh(D,{fontSize:t,letterSpacing:r})[x]},N=i.length>=2?Ln(i[1].coordinate-i[0].coordinate):1,T=Kre(s,N,x);return u==="equidistantPreserveStart"?Yre(N,T,A,i,a):(u==="preserveStart"||u==="preserveStartEnd"?v=ene(N,T,A,i,a,u==="preserveStartEnd"):v=Zre(N,T,A,i,a),v.filter(O=>O.isShow))}var tne=["viewBox"],rne=["viewBox"];function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){Yj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IP(e,t){if(e==null)return{};var r,n,i=nne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yj(e,t,r){return(t=ine(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ine(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ll extends j.Component{constructor(t){super(t),this.tickRefs=j.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=IP(t,tne),s=this.props,{viewBox:a}=s,l=IP(s,rne);return!Gx(n,a)||!Gx(i,l)||!Gx(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:u,tickMargin:d}=this.props,h,m,p,v,x,C,A=u?-1:1,N=t.tickSize||l,T=ht(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=m=t.coordinate,v=n+ +!u*s,p=v-A*N,C=p-A*d,x=T;break;case"left":p=v=t.coordinate,m=r+ +!u*i,h=m-A*N,x=h-A*d,C=T;break;case"right":p=v=t.coordinate,m=r+ +u*i,h=m+A*N,x=h+A*d,C=T;break;default:h=m=t.coordinate,v=n+ +u*s,p=v+A*N,C=p+A*d,x=T;break}return{line:{x1:h,y1:p,x2:m,y2:v},tick:{x,y:C}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,u=An(An(An({},lr(this.props,!1)),lr(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=An(An({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=An(An({},u),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+i})}return j.createElement("line",jd({},u,{className:fr("recharts-cartesian-axis-line",kl(l,"className"))}))}static renderTickItem(t,r,n){var i,s=fr(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,An(An({},r),{},{className:s}));else if(typeof t=="function")i=t(An(An({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=fr(a,t.className)),i=j.createElement(_g,jd({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:u}=this.props,d=Hj(An(An({},this.props),{},{ticks:n}),t,r),h=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=lr(this.props,!1),v=lr(a,!1),x=An(An({},p),{},{fill:"none"},lr(i,!1)),C=d.map((A,N)=>{var{line:T,tick:O}=this.getTickLineCoord(A),M=An(An(An(An({textAnchor:h,verticalAnchor:m},p),{},{stroke:"none",fill:s},v),O),{},{index:N,payload:A,visibleTicksCount:d.length,tickFormatter:l});return j.createElement(Bn,jd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},tm(this.props,A,N)),i&&j.createElement("line",jd({},x,T,{className:fr("recharts-cartesian-axis-tick-line",kl(i,"className"))})),a&&Ll.renderTickItem(a,M,"".concat(typeof l=="function"?l(A.value,N):A.value).concat(u||"")))});return C.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:j.createElement(Bn,{className:fr("recharts-cartesian-axis",i),ref:l=>{if(l){var u=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var d=u[0];if(d){var h=window.getComputedStyle(d).fontSize,m=window.getComputedStyle(d).letterSpacing;(h!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ns.renderCallByParent(this.props))}}Yj(Ll,"displayName","CartesianAxis");Yj(Ll,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ane=["x1","y1","x2","y2","key"],one=["offset"],lne=["xAxisId","yAxisId"],cne=["xAxisId","yAxisId"];function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function une(e,t,r){return(t=dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(null,arguments)}function M0(e,t){if(e==null)return{};var r,n,i=hne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return j.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hI(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,u=M0(t,ane),d=lr(u,!1),{offset:h}=d,m=M0(d,one);r=j.createElement("line",$c({},m,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function pne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=M0(e,lne),u=i.map((d,h)=>{var m=ri(ri({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(h),index:h});return hI(n,m)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function gne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=M0(e,cne),u=i.map((d,h)=>{var m=ri(ri({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(h),index:h});return hI(n,m)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function vne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var d=l.map(m=>Math.round(m+i-i)).sort((m,p)=>m-p);i!==d[0]&&d.unshift(0);var h=d.map((m,p)=>{var v=!d[p+1],x=v?i+a-m:d[p+1]-m;if(x<=0)return null;var C=p%t.length;return j.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:x,width:s,stroke:"none",fill:t[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,p)=>m-p);i!==d[0]&&d.unshift(0);var h=d.map((m,p)=>{var v=!d[p+1],x=v?i+a-m:d[p+1]-m;if(x<=0)return null;var C=p%r.length;return j.createElement("rect",{key:"react-".concat(p),x:m,y:s,width:x,height:l,stroke:"none",fill:r[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xne=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return p5(Hj(ri(ri(ri({},Ll.defaultProps),r),{},{ticks:g5(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},bne=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return p5(Hj(ri(ri(ri({},Ll.defaultProps),r),{},{ticks:g5(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},wne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gh(e){var t=C2(),r=k2(),n=im(),i=ri(ri({},Gs(e,wne)),{},{x:ht(e.x)?e.x:n.left,y:ht(e.y)?e.y:n.top,width:ht(e.width)?e.width:n.width,height:ht(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:u,width:d,height:h,syncWithTicks:m,horizontalValues:p,verticalValues:v}=i,x=vi(),C=kt(K=>M4(K,"xAxis",s,x)),A=kt(K=>M4(K,"yAxis",a,x));if(!ht(d)||d<=0||!ht(h)||h<=0||!ht(l)||l!==+l||!ht(u)||u!==+u)return null;var N=i.verticalCoordinatesGenerator||xne,T=i.horizontalCoordinatesGenerator||bne,{horizontalPoints:O,verticalPoints:M}=i;if((!O||!O.length)&&typeof T=="function"){var D=p&&p.length,I=T({yAxis:A?ri(ri({},A),{},{ticks:D?p:A.ticks}):void 0,width:t,height:r,offset:n},D?!0:m);hh(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(O=I)}if((!M||!M.length)&&typeof N=="function"){var $=v&&v.length,W=N({xAxis:C?ri(ri({},C),{},{ticks:$?v:C.ticks}):void 0,width:t,height:r,offset:n},$?!0:m);hh(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof W,"]")),Array.isArray(W)&&(M=W)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(mne,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(vne,$c({},i,{horizontalPoints:O})),j.createElement(yne,$c({},i,{verticalPoints:M})),j.createElement(pne,$c({},i,{offset:n,horizontalPoints:O,xAxis:C,yAxis:A})),j.createElement(gne,$c({},i,{offset:n,verticalPoints:M,xAxis:C,yAxis:A})))}gh.displayName="CartesianGrid";var mI=(e,t,r,n)=>qa(e,"xAxis",t,n),pI=(e,t,r,n)=>El(e,"xAxis",t,n),gI=(e,t,r,n)=>qa(e,"yAxis",r,n),vI=(e,t,r,n)=>El(e,"yAxis",r,n),jne=Me([pr,mI,gI,pI,vI],(e,t,r,n,i)=>Tl(e,"xAxis")?Oh(t,n,!1):Oh(r,i,!1)),Ane=(e,t,r,n,i)=>i,Sne=Me([jg,Ane],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),Cne=Me([pr,mI,gI,pI,vI,Sne,jne,ej],(e,t,r,n,i,s,a,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=l;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:m,data:p}=s,v;if(p!=null&&p.length>0?v=p:v=u==null?void 0:u.slice(d,h+1),v!=null)return qne({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:v})}}),kne=["type","layout","connectNulls","needClip"],Nne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function yI(e,t){if(e==null)return{};var r,n,i=Ene(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){Rg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rg(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(null,arguments)}var Tne=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Gd(r,t),payload:e}]};function One(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:l,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Gd(a,t),hide:l,type:e.tooltipType,color:e.stroke,unit:u}}}var xI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Mne(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var Rne=(e,t,r)=>{var n=r.reduce((m,p)=>m+p);if(!n)return xI(t,e);for(var i=Math.floor(e/n),s=e%n,a=t-e,l=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>s){l=[...r.slice(0,u),s-d];break}var h=l.length%2===0?[0,a]:[a];return[...Mne(r,i),...l,...h].map(m=>"".concat(m,"px")).join(", ")};function Ine(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=fr("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(LR,$d({},t,{className:n}))}return r}function Dne(e,t){return e==null?!1:t?!0:e.length===1}function Lne(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:a}=n;if(!Dne(r,i))return null;var l=h3(i),u=lr(n,!1),d=lr(i,!0),h=r.map((p,v)=>{var x=da(da(da({key:"dot-".concat(v),r:3},u),d),{},{index:v,cx:p.x,cy:p.y,dataKey:s,value:p.value,payload:p.payload,points:r});return Ine(i,x)}),m={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return j.createElement(Bn,$d({className:"recharts-line-dots",key:"dots"},m),h)}function N1(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=e,{type:l,layout:u,connectNulls:d,needClip:h}=s,m=yI(s,kne),p=da(da({},lr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(E2,$d({},p,{pathRef:r})),j.createElement(Lne,{points:n,clipPathId:t,props:s}),a&&Al.renderCallByParent(s,n))}function Bne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Fne(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:p,width:v,height:x,onAnimationEnd:C,onAnimationStart:A}=r,N=i.current,T=qj(r,"recharts-line-"),[O,M]=j.useState(!1),D=j.useCallback(()=>{typeof C=="function"&&C(),M(!1)},[C]),I=j.useCallback(()=>{typeof A=="function"&&A(),M(!0)},[A]),$=Bne(n.current),W=s.current;return j.createElement(Nl,{begin:d,duration:h,isActive:u,easing:m,from:{t:0},to:{t:1},onAnimationEnd:D,onAnimationStart:I,key:T},K=>{var{t:J}=K,Z=rs(W,$+W),de=Math.min(Z(J),$),ce;if(l){var ee="".concat(l).split(/[,\s]+/gim).map(pe=>parseFloat(pe));ce=Rne(de,$,ee)}else ce=xI($,de);if(N){var ue=N.length/a.length,je=J===1?a:a.map((pe,ie)=>{var be=Math.floor(ie*ue);if(N[be]){var me=N[be],Y=rs(me.x,pe.x),re=rs(me.y,pe.y);return da(da({},pe),{},{x:Y(J),y:re(J)})}if(p){var Se=rs(v*2,pe.x),Te=rs(x/2,pe.y);return da(da({},pe),{},{x:Se(J),y:Te(J)})}return da(da({},pe),{},{x:pe.x,y:pe.y})});return i.current=je,j.createElement(N1,{props:r,points:je,clipPathId:t,pathRef:n,showLabels:!O,strokeDasharray:ce})}return J>0&&$>0&&(i.current=a,s.current=de),j.createElement(N1,{props:r,points:a,clipPathId:t,pathRef:n,showLabels:!O,strokeDasharray:ce})})}function $ne(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:i}=r,s=j.useRef(null),a=j.useRef(0),l=j.useRef(null),u=s.current;return i&&n&&n.length&&u!==n?j.createElement(Fne,{props:r,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:l}):j.createElement(N1,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var zne=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Rr(e.payload,t)});class Vne extends j.Component{constructor(){super(...arguments),Rg(this,"id",Yc("recharts-line-"))}render(){var t,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:l,top:u,left:d,width:h,height:m,id:p,needClip:v,layout:x}=this.props;if(r)return null;var C=fr("recharts-line",s),A=kr(p)?this.id:p,{r:N=3,strokeWidth:T=2}=(t=lr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},O=h3(n),M=N*2+T;return j.createElement(j.Fragment,null,j.createElement(Bn,{className:C},v&&j.createElement("defs",null,j.createElement(iI,{clipPathId:A,xAxisId:a,yAxisId:l}),!O&&j.createElement("clipPath",{id:"clipPath-dots-".concat(A)},j.createElement("rect",{x:d-M/2,y:u-M/2,width:h+M,height:m+M}))),j.createElement($ne,{props:this.props,clipPathId:A}),j.createElement(eI,{direction:x==="horizontal"?"y":"x"},j.createElement(QR,{xAxisId:a,yAxisId:l,data:i,dataPointFormatter:zne,errorBarOffset:0},this.props.children))),j.createElement(bte,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var bI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!nu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Une(e){var t=Gs(e,bI),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:u,hide:d,isAnimationActive:h,label:m,legendType:p,xAxisId:v,yAxisId:x}=t,C=yI(t,Nne),{needClip:A}=Wj(v,x),{height:N,width:T,left:O,top:M}=im(),D=fg(),I=vi(),$=j.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),W=kt(K=>Cne(K,v,x,I,$));return D!=="horizontal"&&D!=="vertical"?null:j.createElement(Vne,$d({},C,{connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:h,hide:d,label:m,legendType:p,xAxisId:v,yAxisId:x,points:W,layout:D,height:N,width:T,left:O,top:M,needClip:A}))}function qne(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:u}=e;return u.map((d,h)=>{var m=Rr(d,a);return t==="horizontal"?{x:fE({axis:r,ticks:i,bandSize:l,entry:d,index:h}),y:kr(m)?null:n.scale(m),value:m,payload:d}:{x:kr(m)?null:r.scale(m),y:fE({axis:n,ticks:s,bandSize:l,entry:d,index:h}),value:m,payload:d}})}class Ig extends j.PureComponent{render(){return j.createElement(JR,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},j.createElement(WR,{legendPayload:Tne(this.props)}),j.createElement(Uj,{fn:One,args:this.props}),j.createElement(Une,this.props))}}Rg(Ig,"displayName","Line");Rg(Ig,"defaultProps",bI);function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hne={xAxis:{},yAxis:{},zAxis:{}},wI=Ws({name:"cartesianAxis",initialState:Hne,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=FP(FP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Yne,removeXAxis:Qne,addYAxis:Jne,removeYAxis:Xne,addZAxis:vue,removeZAxis:yue,updateYAxisWidth:Zne}=wI.actions,eie=wI.reducer,tie=["children"],rie=["dangerouslySetInnerHTML","ticks"];function jI(e,t,r){return(t=nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(null,arguments)}function AI(e,t){if(e==null)return{};var r,n,i=sie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aie(e){var t=Br(),r=j.useMemo(()=>{var{children:s}=e,a=AI(e,tie);return a},[e]),n=kt(s=>Oo(s,r.id)),i=r===n;return j.useEffect(()=>(t(Yne(r)),()=>{t(Qne(r))}),[r,t]),i?e.children:null}var oie=e=>{var{xAxisId:t,className:r}=e,n=kt(w5),i=vi(),s="xAxis",a=kt(v=>Zd(v,s,t,i)),l=kt(v=>nR(v,s,t,i)),u=kt(v=>ZM(v,t)),d=kt(v=>SJ(v,t));if(u==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m}=e,p=AI(e,rie);return j.createElement(Ll,E1({},p,{scale:a,x:d.x,y:d.y,width:u.width,height:u.height,className:fr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},lie=e=>{var t,r,n,i,s;return j.createElement(aie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},j.createElement(oie,e))};class kd extends j.Component{render(){return j.createElement(lie,this.props)}}jI(kd,"displayName","XAxis");jI(kd,"defaultProps",{allowDataOverflow:Yi.allowDataOverflow,allowDecimals:Yi.allowDecimals,allowDuplicatedCategory:Yi.allowDuplicatedCategory,height:Yi.height,hide:!1,mirror:Yi.mirror,orientation:Yi.orientation,padding:Yi.padding,reversed:Yi.reversed,scale:Yi.scale,tickCount:Yi.tickCount,type:Yi.type,xAxisId:0});var cie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>a&&(a=m.width)}});var l=r?r.getBoundingClientRect().width:0,u=i+s,d=a+u+l+(r?n:0);return Math.round(d)}return 0},uie=["dangerouslySetInnerHTML","ticks"];function SI(e,t,r){return(t=die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(null,arguments)}function hie(e,t){if(e==null)return{};var r,n,i=mie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pie(e){var t=Br();return j.useEffect(()=>(t(Jne(e)),()=>{t(Xne(e))}),[e,t]),null}var gie=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=j.useRef(null),l=j.useRef(null),u=kt(w5),d=vi(),h=Br(),m="yAxis",p=kt(O=>Zd(O,m,r,d)),v=kt(O=>eR(O,r)),x=kt(O=>CJ(O,r)),C=kt(O=>nR(O,m,r,d));if(j.useLayoutEffect(()=>{var O;if(!(i!=="auto"||!v||Ij(s)||j.isValidElement(s))){var M=a.current,D=M==null||(O=M.tickRefs)===null||O===void 0?void 0:O.current,{tickSize:I,tickMargin:$}=M.props,W=cie({ticks:D,label:l.current,labelGapWithTick:5,tickSize:I,tickMargin:$});Math.round(v.width)!==Math.round(W)&&h(Zne({id:r,width:W}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,v==null?void 0:v.width,v,h,s,r,i]),v==null||x==null)return null;var{dangerouslySetInnerHTML:A,ticks:N}=e,T=hie(e,uie);return j.createElement(Ll,P1({},T,{ref:a,labelRef:l,scale:p,x:x.x,y:x.y,width:v.width,height:v.height,className:fr("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:C}))},vie=e=>{var t,r,n,i,s;return j.createElement(j.Fragment,null,j.createElement(pie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),j.createElement(gie,e))},yie={allowDataOverflow:Qi.allowDataOverflow,allowDecimals:Qi.allowDecimals,allowDuplicatedCategory:Qi.allowDuplicatedCategory,hide:!1,mirror:Qi.mirror,orientation:Qi.orientation,padding:Qi.padding,reversed:Qi.reversed,scale:Qi.scale,tickCount:Qi.tickCount,type:Qi.type,width:Qi.width,yAxisId:0};class Nd extends j.Component{render(){return j.createElement(vie,this.props)}}SI(Nd,"displayName","YAxis");SI(Nd,"defaultProps",yie);var Kx={exports:{}},Hx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P;function xie(){if($P)return Hx;$P=1;var e=Vd();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,l=e.useDebugValue;return Hx.useSyncExternalStoreWithSelector=function(u,d,h,m,p){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function A(D){if(!N){if(N=!0,T=D,D=m(D),p!==void 0&&x.hasValue){var I=x.value;if(p(I,D))return O=I}return O=D}if(I=O,r(T,D))return I;var $=m(D);return p!==void 0&&p(I,$)?(T=D,I):(T=D,O=$)}var N=!1,T,O,M=h===void 0?null:h;return[function(){return A(d())},M===null?void 0:function(){return A(M())}]},[d,h,m,p]);var C=n(u,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=C},[C]),l(C),C},Hx}var zP;function bie(){return zP||(zP=1,Kx.exports=xie()),Kx.exports}bie();function wie(e){e()}function jie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var VP={notify(){},get:()=>[]};function Aie(e,t){let r,n=VP,i=0,s=!1;function a(C){h();const A=n.subscribe(C);let N=!1;return()=>{N||(N=!0,A(),m())}}function l(){n.notify()}function u(){x.onStateChange&&x.onStateChange()}function d(){return s}function h(){i++,r||(r=e.subscribe(u),n=jie())}function m(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=VP)}function p(){s||(s=!0,h())}function v(){s&&(s=!1,m())}const x={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:p,tryUnsubscribe:v,getListeners:()=>n};return x}var Sie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cie=Sie(),kie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nie=kie(),Eie=()=>Cie||Nie?j.useLayoutEffect:j.useEffect,Pie=Eie(),Yx=Symbol.for("react-redux-context"),Qx=typeof globalThis<"u"?globalThis:{};function _ie(){if(!j.createContext)return{};const e=Qx[Yx]??(Qx[Yx]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Tie=_ie();function Oie(e){const{children:t,context:r,serverState:n,store:i}=e,s=j.useMemo(()=>{const u=Aie(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),a=j.useMemo(()=>i.getState(),[i]);Pie(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=r||Tie;return j.createElement(l.Provider,{value:s},t)}var Mie=Oie,Rie=(e,t)=>t,Qj=Me([Rie,pr,BQ,zn,vR,Mo,CX,Fn],OX),Jj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},CI=Us("mouseClick"),kI=nm();kI.startListening({actionCreator:CI,effect:(e,t)=>{var r=e.payload,n=Qj(t.getState(),Jj(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(BJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _1=Us("mouseMove"),NI=nm();NI.startListening({actionCreator:_1,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=kj(n,n.tooltip.settings.shared),s=Qj(n,Jj(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(dR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(uR()))}});function Iie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var UP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},EI=Ws({name:"rootProps",initialState:UP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:UP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Die=EI.reducer,{updateOptions:Lie}=EI.actions,PI=Ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Bie}=PI.actions,Fie=PI.reducer,_I=Us("keyDown"),TI=Us("focus"),Xj=nm();Xj.startListening({actionCreator:_I,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Nj(i,ou(r))),l=Mo(r);if(s==="Enter"){var u=E0(r,"axis","hover",String(i.index));t.dispatch(x1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=PJ(r),h=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,p=a+m*h;if(!(l==null||p>=l.length||p<0)){var v=E0(r,"axis","hover",String(p));t.dispatch(x1({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});Xj.startListening({actionCreator:TI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=E0(r,"axis","hover",String(s));t.dispatch(x1({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Is=Us("externalEvent"),OI=nm();OI.startListening({actionCreator:Is,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:mX(r),activeDataKey:jR(r),activeIndex:Zc(r),activeLabel:wR(r),activeTooltipIndex:Zc(r),isTooltipActive:pX(r)};e.payload.handler(n,e.payload.reactEvent)}}});var $ie=Me([ef],e=>e.tooltipItemPayloads),zie=Me([$ie,Ng,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),MI=Us("touchMove"),RI=nm();RI.startListening({actionCreator:MI,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=kj(n,n.tooltip.settings.shared);if(i==="axis"){var s=Qj(n,Jj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(dR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(x5),h=(a=u.getAttribute(b5))!==null&&a!==void 0?a:void 0,m=zie(t.getState(),d,h);t.dispatch(cR({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}});var Vie=W3({brush:Dre,cartesianAxis:eie,chartData:HX,graphicalItems:Pee,layout:NW,legend:hG,options:UX,polarAxis:mee,polarOptions:Fie,referenceElements:Ure,rootProps:Die,tooltip:FJ}),Uie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Xq({reducer:Vie,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([kI.middleware,NI.middleware,Xj.middleware,OI.middleware,RI.middleware]),devTools:{serialize:{replacer:Iie},name:"recharts-".concat(r)}})};function II(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=vi(),s=j.useRef(null);if(i)return r;s.current==null&&(s.current=Uie(t,n));var a=g2;return j.createElement(Mie,{context:a,store:s.current},r)}function DI(e){var{layout:t,width:r,height:n,margin:i}=e,s=Br(),a=vi();return j.useEffect(()=>{a||(s(SW(t)),s(CW({width:r,height:n})),s(AW(i)))},[s,a,t,r,n,i]),null}function LI(e){var t=Br();return j.useEffect(()=>{t(Lie(e))},[t,e]),null}var qie=["children"];function Wie(e,t){if(e==null)return{};var r,n,i=Gie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}var Kie={width:"100%",height:"100%"},Hie=j.forwardRef((e,t)=>{var r=C2(),n=k2(),i=C5();if(!Id(r)||!Id(n))return null;var{children:s,otherAttributes:a,title:l,desc:u}=e,d,h;return typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0,j.createElement(i2,R0({},a,{title:l,desc:u,role:h,tabIndex:d,width:r,height:n,style:Kie,ref:t}),s)}),Yie=e=>{var{children:t}=e,r=kt(dg);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return j.createElement(i2,{width:n,height:i,x:a,y:s},t)},qP=j.forwardRef((e,t)=>{var{children:r}=e,n=Wie(e,qie),i=vi();return i?j.createElement(Yie,null,r):j.createElement(Hie,R0({ref:t},n),r)});function Qie(){var e=Br(),[t,r]=j.useState(null),n=kt(tG);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;cs(s)&&s!==n&&e(kW(s))}},[t,e,n]),r}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){Xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xie(e,t,r){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=ese(e,"string");return typeof t=="symbol"?t:t+""}function ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tse=j.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:p,onTouchEnd:v,onTouchMove:x,onTouchStart:C,style:A,width:N}=e,T=Br(),[O,M]=j.useState(null),[D,I]=j.useState(null);JX();var $=Qie(),W=j.useCallback(re=>{$(re),typeof t=="function"&&t(re),M(re),I(re)},[$,t,M,I]),K=j.useCallback(re=>{T(CI(re)),T(Is({handler:s,reactEvent:re}))},[T,s]),J=j.useCallback(re=>{T(_1(re)),T(Is({handler:d,reactEvent:re}))},[T,d]),Z=j.useCallback(re=>{T(uR()),T(Is({handler:h,reactEvent:re}))},[T,h]),de=j.useCallback(re=>{T(_1(re)),T(Is({handler:m,reactEvent:re}))},[T,m]),ce=j.useCallback(()=>{T(TI())},[T]),ee=j.useCallback(re=>{T(_I(re.key))},[T]),ue=j.useCallback(re=>{T(Is({handler:a,reactEvent:re}))},[T,a]),je=j.useCallback(re=>{T(Is({handler:l,reactEvent:re}))},[T,l]),pe=j.useCallback(re=>{T(Is({handler:u,reactEvent:re}))},[T,u]),ie=j.useCallback(re=>{T(Is({handler:p,reactEvent:re}))},[T,p]),be=j.useCallback(re=>{T(Is({handler:C,reactEvent:re}))},[T,C]),me=j.useCallback(re=>{T(MI(re)),T(Is({handler:x,reactEvent:re}))},[T,x]),Y=j.useCallback(re=>{T(Is({handler:v,reactEvent:re}))},[T,v]);return j.createElement(ER.Provider,{value:O},j.createElement(m3.Provider,{value:D},j.createElement("div",{className:fr("recharts-wrapper",n),style:Jie({position:"relative",cursor:"default",width:N,height:i},A),role:"application",onClick:K,onContextMenu:ue,onDoubleClick:je,onFocus:ce,onKeyDown:ee,onMouseDown:pe,onMouseEnter:J,onMouseLeave:Z,onMouseMove:de,onMouseUp:ie,onTouchEnd:Y,onTouchMove:me,onTouchStart:be,ref:W},r)))}),rse=["children","className","width","height","style","compact","title","desc"];function nse(e,t){if(e==null)return{};var r,n,i=ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BI=j.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:u,desc:d}=e,h=nse(e,rse),m=lr(h,!1);return l?j.createElement(qP,{otherAttributes:m,title:u,desc:d},r):j.createElement(tse,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(qP,{otherAttributes:m,title:u,desc:d,ref:t},j.createElement(Wre,null,r)))}),sse=["width","height"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(null,arguments)}function ase(e,t){if(e==null)return{};var r,n,i=ose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lse={top:5,right:5,bottom:5,left:5},cse={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lse,reverseStackOrder:!1,syncMethod:"index"},FI=j.forwardRef(function(t,r){var n,i=Gs(t.categoricalChartProps,cse),{width:s,height:a}=i,l=ase(i,sse);if(!Id(s)||!Id(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,categoricalChartProps:p}=t,v={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return j.createElement(II,{preloadedState:{options:v},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:u},j.createElement(cI,{chartData:p.data}),j.createElement(DI,{width:s,height:a,layout:i.layout,margin:i.margin}),j.createElement(LI,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),j.createElement(BI,T1({},l,{width:s,height:a,ref:r})))}),use=["axis"],$I=j.forwardRef((e,t)=>j.createElement(FI,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:use,tooltipPayloadSearcher:Rj,categoricalChartProps:e,ref:t})),dse=["axis","item"],GP=j.forwardRef((e,t)=>j.createElement(FI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dse,tooltipPayloadSearcher:Rj,categoricalChartProps:e,ref:t}));function fse(e){var t=Br();return j.useEffect(()=>{t(Bie(e))},[t,e]),null}var hse=["width","height","layout"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(null,arguments)}function mse(e,t){if(e==null)return{};var r,n,i=pse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gse={top:5,right:5,bottom:5,left:5},vse={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gse,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yse=j.forwardRef(function(t,r){var n,i=Gs(t.categoricalChartProps,vse),{width:s,height:a,layout:l}=i,u=mse(i,hse);if(!Id(s)||!Id(a))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=t,v={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(II,{preloadedState:{options:v},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:d},j.createElement(cI,{chartData:i.data}),j.createElement(DI,{width:s,height:a,layout:l,margin:i.margin}),j.createElement(LI,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),j.createElement(fse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(BI,O1({width:s,height:a},u,{ref:r})))}),xse=["item"],bse={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zI=j.forwardRef((e,t)=>{var r=Gs(e,bse);return j.createElement(yse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xse,tooltipPayloadSearcher:Rj,categoricalChartProps:r,ref:t})});const wse=[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:o.jsxs("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]})},{id:"pos",label:"POS",path:"/pos",icon:o.jsxs("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),o.jsx("path",{d:"M16 3v4M8 3v4"})]})},{id:"cashiers",label:"Cashiers",path:"/cashiers",icon:o.jsxs("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("circle",{cx:"12",cy:"7",r:"4"}),o.jsx("path",{d:"M5.5 21a7.5 7.5 0 0 1 13 0"})]})},{id:"inventory",label:"Inventory",path:"/inventory",icon:o.jsxs("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),o.jsx("path",{d:"M16 3v4M8 3v4"})]})},{id:"logs",label:"Logs",path:"/logs",icon:o.jsxs("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("rect",{x:"5",y:"3",width:"14",height:"18",rx:"2"}),o.jsx("path",{d:"M9 7h6M9 11h6M9 15h2"})]})},{id:"profile",label:"Profile",path:"/profile",icon:o.jsxs("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}],ts={sidebar:"bg-white/20 backdrop-blur-md border-r border-white/30 shadow-xl flex flex-col py-4 px-4 w-48 h-screen fixed z-20",logoContainer:"mb-8 flex items-center gap-3 group cursor-pointer px-2",nav:"flex-col gap-10 w-full",navItem:"group flex items-center w-full py-3 px-3 rounded-lg transition-all duration-200 font-medium text-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 relative",navItemActive:"bg-blue-600/80 backdrop-blur-sm text-white shadow-lg",navItemInactive:"bg-transparent text-gray-700 hover:bg-white/30 hover:text-gray-900 hover:backdrop-blur-sm",iconContainer:"mr-3 relative flex-shrink-0",label:"leading-tight",tooltip:"absolute left-full ml-3 top-1/2 -translate-y-1/2 bg-gray-800 text-white text-xs rounded-md px-2 py-1 shadow-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 z-50 whitespace-nowrap",sectionHeader:"text-gray-600 text-xs font-semibold uppercase tracking-wider mb-2 mt-0 px-3",logoutButton:"mt-auto flex items-center w-full py-3 px-3 rounded-lg transition-all duration-200 font-medium text-sm text-gray-700 hover:bg-white/30 hover:text-gray-900 hover:backdrop-blur-sm",logoutIcon:"mr-3 flex-shrink-0"},KP={activeIcon:"#ffffff",inactiveIcon:"#4b5563"},jse=({item:e,isActive:t})=>{const r=t?KP.activeIcon:KP.inactiveIcon;return o.jsxs(uT,{to:e.path,"aria-label":e.label,className:`${ts.navItem} ${t?ts.navItemActive:ts.navItemInactive}`,tabIndex:0,children:[o.jsx("span",{className:ts.iconContainer,children:St.cloneElement(e.icon,{stroke:r,width:"20",height:"20"})}),o.jsx("span",{className:ts.label,children:e.label}),o.jsx("span",{className:ts.tooltip,children:e.label})]},e.id)},_o=({isMobile:e,onLogoutClick:t})=>{const r=gn(),[n,i]=j.useState(!1),{logout:s}=hw(),a=()=>{s(),i(!1)},l=()=>o.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2.2",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]});return o.jsxs(o.Fragment,{children:[o.jsxs("aside",{className:ts.sidebar,children:[o.jsx("div",{className:`${ts.logoContainer} logoContainer`,onClick:()=>r("/dashboard"),role:"button",tabIndex:0,children:o.jsx("div",{className:"transition-all duration-300 group-hover:scale-110",children:o.jsx(V0,{size:42})})}),o.jsxs("nav",{className:`${ts.nav} h-full flex flex-col overflow-y-auto overflow-x-hidden`,"aria-label":"Main navigation",children:[o.jsx("div",{className:ts.sectionHeader,children:"MENU"}),wse.map(u=>o.jsx(jse,{item:u,isActive:window.location.pathname===u.path},u.id)),o.jsx("div",{className:`${e?"block":"mt-auto"}`,children:o.jsxs("button",{onClick:()=>i(!0),className:ts.logoutButton,"aria-label":"Logout",children:[o.jsx("span",{className:ts.logoutIcon,children:o.jsx(l,{})}),o.jsx("span",{className:ts.label,children:"Logout"})]})})]})]}),n&&o.jsxs("div",{className:"fixed inset-0 z-90 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 z-90",onClick:()=>i(!1)}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-[92%] max-w-md p-6 z-100",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirm Logout"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you sure you want to log out?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>i(!1),className:"px-3 py-2 rounded-lg bg-gray-100 text-sm font-medium hover:bg-gray-200 transition",children:"Cancel"}),o.jsx("button",{onClick:a,className:"px-3 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-700 transition",children:"Logout"})]})]})]})]})};function VI({title:e,children:t,className:r="",...n}){return o.jsxs(Zt,{className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl hover:shadow-2xl hover:-translate-y-0.5 hover:scale-[1.01] transition-all duration-500 p-4 sm:p-6 md:p-7 group ${r}`,...n,children:[e&&o.jsx($s,{size:"md",align:"left",className:"text-gray-900 mb-6 font-bold group-hover:text-blue-600 transition-colors duration-300",children:e}),o.jsxs("div",{className:"relative",children:[t,o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-transparent to-blue-50/20 rounded-lg pointer-events-none"})]})]})}function Ase({stats:e,className:t="",...r}){return o.jsx(Zt,{className:`bg-white backdrop-blur-sm border border-gray-100 shadow-sm rounded-2xl ${t}`,...r,children:o.jsxs("div",{className:"grid grid-cols-1 divide-y divide-gray-200/60 p-6 md:p-8 space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-4 py-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:""}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Today's Sales"}),o.jsxs("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:["",Number(e.sales||0).toLocaleString()]})]})]}),o.jsxs("div",{className:"flex items-start gap-4 py-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:""}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Transactions"}),o.jsx("span",{className:"text-2xl md:text-xl font-bold text-gray-900 mt-0.5",children:Number(e.transactions||0).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-start gap-4 py-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600 text-xl font-bold",children:""}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-500 tracking-wide uppercase",children:"Top Product"}),o.jsx("span",{className:"text-xl md:text-lg font-bold text-gray-900 mt-0.5 leading-tight line-clamp-2",children:e.topProduct||"-"})]})]})]})})}const Sse=({trend:e})=>e==="up"?o.jsx("span",{className:"text-blue-600 font-semibold text-xl",children:""}):e==="down"?o.jsx("span",{className:"text-blue-400 font-semibold text-xl",children:""}):o.jsx("span",{className:"text-gray-400 font-semibold text-xl",children:""});function Cse(){const[e,t]=j.useState({revenue:0,expenses:0,netProfit:0,grossMargin:0}),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,l]=j.useState([]),[u,d]=j.useState([]),[h,m]=j.useState([]),[p,v]=j.useState({cashFlow:0,operatingCosts:0,profitGrowth:0});return j.useEffect(()=>{(async()=>{try{const[C,A,N,T,O,M,D]=await Promise.all([at("/api/stats/key-metrics"),at("/api/stats/sales-by-location"),at("/api/stats/revenue-vs-expenses"),at("/api/stats/profit-trend"),at("/api/stats/payment-methods"),at("/api/stats/product-performance"),at("/api/stats/business-stats")]);t(C||{}),n(A||[]),s(N||[]),l(T||[]),d(O||[]),m(M||[]),v(D||{})}catch(C){console.error("Error fetching business report data:",C)}})()},[]),o.jsxs("section",{className:"w-full px-5 md:px-8 py-6 bg-gray-50",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 w-full",children:[o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Total Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",e.revenue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-green-600 mt-2",children:" +11.2%"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Operating Expenses"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",e.expenses.toLocaleString()]}),o.jsx("p",{className:"text-xs text-orange-600 mt-2",children:" +8.5%"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Net Profit"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",e.netProfit.toLocaleString()]}),o.jsx("p",{className:"text-xs text-green-600 mt-2",children:" +13.5%"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-5 border border-gray-200 shadow-sm",children:[o.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Gross Margin"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[e.grossMargin,"%"]}),o.jsx("p",{className:"text-xs text-green-600 mt-2",children:" +2.1%"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[o.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Sales by Location"}),o.jsx(bd,{width:"100%",height:280,children:o.jsxs(GP,{data:r,margin:{top:10,right:10,left:0,bottom:10},children:[o.jsx(gh,{strokeDasharray:"3 3",stroke:"#cbd5e1"}),o.jsx(kd,{dataKey:"location",tick:{fontSize:13,fill:"#1e40af"},padding:{left:10,right:10}}),o.jsx(Nd,{tick:{fontSize:13,fill:"#1e40af"}}),o.jsx(xd,{contentStyle:{background:"#f0f9ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e3a8a"}}),o.jsx(ph,{dataKey:"sales",fill:"#3b82f6",radius:[10,10,0,0],barSize:40,background:{fill:"#c7d2fe"}})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[o.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Revenue vs Expenses"}),o.jsx(bd,{width:"100%",height:280,children:o.jsxs(GP,{data:i,margin:{top:10,right:10,left:0,bottom:10},children:[o.jsx(gh,{strokeDasharray:"3 3",stroke:"#cbd5e1"}),o.jsx(kd,{dataKey:"month",tick:{fontSize:13,fill:"#1e40af"},padding:{left:10,right:10}}),o.jsx(Nd,{tick:{fontSize:13,fill:"#1e40af"}}),o.jsx(xd,{contentStyle:{background:"#f0f9ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e3a8a"}}),o.jsx(Rd,{verticalAlign:"top",wrapperStyle:{paddingBottom:10}}),o.jsx(ph,{dataKey:"revenue",fill:"#2563eb",radius:[10,10,0,0],barSize:32,background:{fill:"#bfdbfe"}}),o.jsx(ph,{dataKey:"expenses",fill:"#93c5fd",radius:[10,10,0,0],barSize:32,background:{fill:"#dbeafe"}})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 w-full min-h-[350px]",children:[o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[o.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Profit Trends"}),o.jsx(bd,{width:"100%",height:280,children:o.jsxs($I,{data:a,margin:{top:10,right:10,left:0,bottom:10},children:[o.jsx(gh,{strokeDasharray:"3 3",stroke:"#cbd5e1"}),o.jsx(kd,{dataKey:"month",tick:{fontSize:13,fill:"#1e40af"},padding:{left:10,right:10}}),o.jsx(Nd,{tick:{fontSize:13,fill:"#1e40af"}}),o.jsx(xd,{contentStyle:{background:"#f0f9ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e3a8a"}}),o.jsx(Ig,{type:"monotone",dataKey:"profit",stroke:"#2563eb",strokeWidth:3,dot:{fill:"#2563eb",r:6}})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[o.jsx("h3",{className:"text-xl font-extrabold text-blue-700 mb-5 select-none",children:"Payment Methods"}),o.jsx(bd,{width:"100%",height:280,children:o.jsxs(zI,{margin:{top:20,right:20,left:20,bottom:20},children:[o.jsx(Og,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,value:C})=>`${x} ${C}%`,outerRadius:90,fill:"#2563eb",dataKey:"value",children:u.map((x,C)=>o.jsx(rf,{fill:x.fill},`cell-${C}`))}),o.jsx(xd,{formatter:(x,C,A)=>{var N;return[`${Number(x).toFixed(0)}%`,(N=A==null?void 0:A.payload)==null?void 0:N.name]},contentStyle:{background:"#eff6ff",borderColor:"#3b82f6",borderRadius:10,fontWeight:"600"},labelStyle:{fontWeight:"700",color:"#1e40af"}}),o.jsx(Rd,{verticalAlign:"bottom",height:36})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-md mb-8 w-full",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6 select-none",children:"Product Performance"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(()=>{const x=Math.max(...h.map(C=>C.sales||0));return h.map(C=>{const A=x?Math.round(C.sales/x*100):0;return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-150",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"font-semibold text-gray-800 text-sm",children:C.name}),o.jsx(Sse,{trend:C.trend})]}),o.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:[o.jsx("div",{className:"w-full bg-gray-300 rounded-full h-3 mb-3",role:"progressbar","aria-valuenow":A,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Sales progress for ${C.name}`,children:o.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${A}%`}})}),o.jsxs("p",{className:"text-sm text-gray-600 font-semibold",children:["",C.sales.toLocaleString()]})]})]},C.name)})})()})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-lg p-6 border border-green-300 shadow-md flex flex-col justify-center hover:shadow-lg transition-shadow duration-300",children:[o.jsx("p",{className:"text-xs font-semibold text-green-700 uppercase tracking-wider mb-2",children:"Cash Flow"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["",p.cashFlow.toLocaleString()]}),o.jsx("p",{className:"text-sm font-semibold text-green-700 mt-2",children:"Positive this month"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg p-6 border border-blue-300 shadow-md flex flex-col justify-center hover:shadow-lg transition-shadow duration-300",children:[o.jsx("p",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wider mb-2",children:"Operating Costs"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",p.operatingCosts.toLocaleString()]}),o.jsx("p",{className:"text-sm font-semibold text-blue-700 mt-2",children:"Controlled & optimized"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg p-6 border border-purple-300 shadow-md flex flex-col justify-center hover:shadow-lg transition-shadow duration-300",children:[o.jsx("p",{className:"text-xs font-semibold text-purple-700 uppercase tracking-wider mb-2",children:"Profit Growth"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["+",p.profitGrowth,"%"]}),o.jsx("p",{className:"text-sm font-semibold text-purple-700 mt-2",children:"vs. previous month"})]})]})]})}function Dp(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 13.586V10c0-3.217-2.185-5.927-5.145-6.742C13.562 2.52 12.846 2 12 2s-1.562.52-1.855 1.258C7.185 4.074 5 6.783 5 10v3.586l-1.707 1.707A.996.996 0 0 0 3 16v2a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-2a.996.996 0 0 0-.293-.707L19 13.586zM19 17H5v-.586l1.707-1.707A.996.996 0 0 0 7 14v-4c0-2.757 2.243-5 5-5s5 2.243 5 5v4c0 .266.105.52.293.707L19 16.414V17zm-7 5a2.98 2.98 0 0 0 2.818-2H9.182A2.98 2.98 0 0 0 12 22z"},child:[]}]})(e)}function UI(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z"},child:[]}]})(e)}function kse(e){return ya({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"},child:[]}]})(e)}function Cn({label:e,name:t,value:r,onChange:n,placeholder:i,type:s="text",error:a,required:l=!1,className:u="",...d}){return o.jsxs("div",{className:`mb-5 ${u}`,children:[o.jsxs("label",{className:"block mb-1 font-medium text-blue-800",children:[e,l&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),o.jsx(Bs,{name:t,value:r,onChange:n,placeholder:i,type:s,error:a,...d})]})}const Dg=({isOpen:e,onClose:t,userData:r})=>{const[n,i]=j.useState({username:(r==null?void 0:r.username)||"",email:(r==null?void 0:r.email)||"",contact_number:(r==null?void 0:r.contact_number)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[s,a]=j.useState(!1),[l,u]=j.useState(""),[d,h]=j.useState(""),[m,p]=j.useState({}),[v,x]=j.useState({}),[C,A]=j.useState("account");j.useEffect(()=>{r&&(i({username:(r==null?void 0:r.username)||"",email:(r==null?void 0:r.email)||"",contact_number:(r==null?void 0:r.contact_number)||"",currentPassword:"",newPassword:"",confirmPassword:""}),u(""),h(""),p({}),x({}),A("account"))},[r,e]);const N=(W,K)=>{const J={...m};switch(W){case"username":K.trim()?K.trim().length<2?J.username="Username must be at least 2 characters":delete J.username:J.username="Username is required";break;case"email":K.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(K.trim())?delete J.email:J.email="Please enter a valid email":J.email="Email is required";break;case"contact_number":K&&K.trim().length<7?J.contact_number="Phone number must be at least 7 digits":delete J.contact_number;break;case"currentPassword":n.newPassword&&!K?J.currentPassword="Current password is required to change password":delete J.currentPassword;break;case"newPassword":K&&K.length<6?J.newPassword="Password must be at least 6 characters":delete J.newPassword;break;case"confirmPassword":K&&K!==n.newPassword?J.confirmPassword="Passwords do not match":delete J.confirmPassword;break}p(J)},T=W=>{const{name:K,value:J}=W.target;i(Z=>({...Z,[K]:J})),v[K]&&N(K,J)},O=W=>{const{name:K,value:J}=W.target;x(Z=>({...Z,[K]:!0})),N(K,J)},M=async W=>{if(W.preventDefault(),a(!0),u(""),h(""),Object.keys(n).forEach(J=>{N(J,n[J])}),Object.keys(m).length>0){a(!1);return}try{const J=sessionStorage.getItem("auth_token"),Z={username:n.username,email:n.email,contact_number:n.contact_number};n.newPassword&&(Z.currentPassword=n.currentPassword,Z.newPassword=n.newPassword),await at("/api/auth/update-profile",{method:"PUT",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify(Z)}),u("Profile updated successfully!"),setTimeout(()=>{D(),window.location.reload()},2e3)}catch(J){console.error("Failed to update profile:",J),h(J.message||"Failed to update profile. Please try again.")}finally{a(!1)}},D=()=>{i({username:(r==null?void 0:r.username)||"",email:(r==null?void 0:r.email)||"",contact_number:(r==null?void 0:r.contact_number)||"",currentPassword:"",newPassword:"",confirmPassword:""}),p({}),x({}),u(""),h(""),A("account"),t()};if(!e)return null;const I=Object.keys(m).length===0&&n.username.trim()&&n.email.trim(),$=o.jsxs(o.Fragment,{children:[o.jsx(He,{label:"Cancel",variant:"secondary",onClick:D,type:"button",disabled:s,className:"px-6 py-2.5 rounded-xl font-medium transition-all duration-200"}),o.jsx(He,{label:s?"Saving...":"Save Changes",variant:"primary",type:"submit",onClick:M,disabled:!I||s,className:"px-6 py-2.5 rounded-xl font-medium transition-all duration-200 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl"})]});return o.jsxs(ds,{isOpen:e,onClose:D,title:"Edit Profile",subtitle:"Update your account details",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),footer:$,disabled:s,contentClassName:"space-y-5",children:[l&&o.jsxs("div",{className:"p-4 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200/50 rounded-2xl flex items-start gap-3 animate-in slide-in-from-top duration-300",children:[o.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:l}),o.jsx("p",{className:"text-xs text-emerald-700 mt-0.5",children:"Your profile has been updated successfully"})]})]}),d&&o.jsxs("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border border-red-200/50 rounded-2xl flex items-start gap-3 animate-in slide-in-from-top duration-300",children:[o.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-red-900",children:d}),o.jsx("p",{className:"text-xs text-red-700 mt-0.5",children:"Please check your information and try again"})]})]}),o.jsxs("div",{className:"flex gap-1 border-b border-slate-200/10 -mx-6 px-6",children:[o.jsxs("button",{onClick:()=>A("account"),className:`px-4 py-2 rounded-t-xl font-medium transition-all duration-200 relative ${C==="account"?"text-blue-600 bg-blue-50/30":"text-slate-500 hover:text-slate-700"}`,children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Account"]}),C==="account"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full"})]}),o.jsxs("button",{onClick:()=>A("security"),className:`px-4 py-2 rounded-t-xl font-medium transition-all duration-200 relative ${C==="security"?"text-blue-600 bg-blue-50/30":"text-slate-500 hover:text-slate-700"}`,children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Security"]}),C==="security"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full"})]})]}),o.jsxs("form",{onSubmit:M,children:[C==="account"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Personal Information"}),o.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-slate-200 to-transparent"})]}),o.jsx(Cn,{label:"Username",name:"username",value:n.username,onChange:T,onBlur:O,placeholder:"Enter username",error:v.username&&m.username?m.username:null,required:!0}),o.jsx(Cn,{label:"Email Address",name:"email",type:"email",value:n.email,onChange:T,onBlur:O,placeholder:"Enter email address",error:v.email&&m.email?m.email:null,required:!0}),o.jsx(Cn,{label:"Contact Number",name:"contact_number",type:"tel",value:n.contact_number,onChange:T,onBlur:O,placeholder:"Enter phone number",error:v.contact_number&&m.contact_number?m.contact_number:null})]}),C==="security"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Change Password"}),o.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-slate-200 to-transparent"})]}),o.jsx("p",{className:"text-xs text-slate-500 bg-amber-50 border border-amber-100/50 rounded-xl px-3 py-2",children:"Leave blank to keep your current password"}),o.jsx(Cn,{label:"Current Password",name:"currentPassword",type:"password",value:n.currentPassword,onChange:T,onBlur:O,placeholder:"Enter current password",error:v.currentPassword&&m.currentPassword?m.currentPassword:null}),n.newPassword&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs font-semibold text-slate-700",children:"Password Strength"}),o.jsx("div",{className:"w-full h-1.5 bg-slate-200 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${n.newPassword.length>=12?"w-full bg-gradient-to-r from-green-500 to-emerald-500":n.newPassword.length>=8?"w-2/3 bg-gradient-to-r from-yellow-500 to-amber-500":"w-1/3 bg-gradient-to-r from-red-500 to-orange-500"}`})})]}),o.jsx(Cn,{label:"New Password",name:"newPassword",type:"password",value:n.newPassword,onChange:T,onBlur:O,placeholder:"Min. 6 characters",error:v.newPassword&&m.newPassword?m.newPassword:null}),o.jsx(Cn,{label:"Confirm Password",name:"confirmPassword",type:"password",value:n.confirmPassword,onChange:T,onBlur:O,placeholder:"Re-enter new password",error:v.confirmPassword&&m.confirmPassword?m.confirmPassword:null})]})]})]})};function HP(e){return ya({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(e)}function qI({notifications:e=[],unreadCount:t=0,onMarkAsRead:r,onMarkAsUnread:n,onDelete:i,onSelectAll:s,onDeselectAll:a,isOpen:l,onToggle:u,containerRef:d}){const[h,m]=j.useState(new Set),[p,v]=j.useState("all"),x=j.useMemo(()=>p==="unread"?e.filter($=>!$.isRead):p==="read"?e.filter($=>$.isRead):e,[e,p]),C=$=>{m(W=>{const K=new Set(W);return K.has($)?K.delete($):K.add($),K})},A=()=>{h.size===x.length?m(new Set):m(new Set(x.map($=>$.id)))},N=()=>{h.forEach($=>{const W=e.find(K=>K.id===$);W&&!W.isRead&&r($)}),m(new Set)},T=()=>{h.forEach($=>{const W=e.find(K=>K.id===$);W&&W.isRead&&n($)}),m(new Set)},O=()=>{window.confirm(`Delete ${h.size} notification(s)?`)&&(h.forEach($=>i($)),m(new Set))},M=($,W)=>{W.stopPropagation(),window.confirm("Delete this notification?")&&i($)},D=h.size===x.length&&x.length>0,I=h.size>0;return o.jsxs("div",{className:"relative",ref:d,children:[o.jsxs("button",{onClick:u,className:"p-2 rounded-full hover:bg-gray-100 transition-colors relative group",title:"Notifications",children:[o.jsx(Dp,{className:"w-5 h-5 text-gray-700 group-hover:text-gray-900"}),t>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:t>99?"99+":t})]}),l&&o.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-3 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(Dp,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:"Notifications"}),o.jsxs("p",{className:"text-xs text-gray-500",children:[t," unread"]})]})]}),o.jsx("button",{onClick:u,className:"p-1 hover:bg-gray-200 rounded-lg transition-colors",children:o.jsx(s3,{className:"w-5 h-5 text-gray-500"})})]})}),e.length>0&&o.jsx("div",{className:"flex gap-1 px-4 pt-3 border-b border-gray-100 bg-gray-50",children:["all","unread","read"].map($=>o.jsx("button",{onClick:()=>{v($),m(new Set)},className:`px-3 py-2 text-sm font-medium rounded-t-lg transition-colors ${p===$?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$))}),I&&o.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b border-blue-200 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[h.size," selected"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:N,className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900 text-xs",title:"Mark as read",children:o.jsx(zk,{className:"w-4 h-4"})}),o.jsx("button",{onClick:T,className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-gray-900 text-xs",title:"Mark as unread",children:o.jsx($k,{className:"w-4 h-4"})}),o.jsx("button",{onClick:O,className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-red-600 hover:text-red-700 text-xs",title:"Delete selected",children:o.jsx(HP,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:x.length>0?o.jsxs(o.Fragment,{children:[x.length>1&&o.jsx("div",{className:"px-4 py-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-100 p-2 -m-2 rounded transition-colors",children:[o.jsx("input",{type:"checkbox",checked:D,onChange:A,className:"w-4 h-4 rounded border-gray-300 text-blue-600 cursor-pointer"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:D?"Deselect All":"Select All"})]})}),x.map($=>o.jsx("div",{className:`border-b border-gray-100 transition-all duration-200 hover:bg-gray-50 group ${$.isRead?"":"bg-blue-50/50"}`,children:o.jsxs("div",{className:"px-4 py-3 flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0 pt-1",children:o.jsx("input",{type:"checkbox",checked:h.has($.id),onChange:()=>C($.id),className:"w-4 h-4 rounded border-gray-300 text-blue-600 cursor-pointer"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:$.title}),!$.isRead&&o.jsx("span",{className:"inline-flex w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),o.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:$.message}),o.jsx("p",{className:"text-xs text-gray-400 mt-1.5",children:$.time})]}),o.jsxs("div",{className:"flex-shrink-0 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[$.isRead?o.jsx("button",{onClick:()=>n($.id),className:"p-1.5 hover:bg-gray-200 rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:"Mark as unread",children:o.jsx($k,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>r($.id),className:"p-1.5 hover:bg-blue-100 rounded-lg transition-colors text-gray-600 hover:text-blue-600",title:"Mark as read",children:o.jsx(zk,{className:"w-4 h-4"})}),o.jsx("button",{onClick:W=>M($.id,W),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors text-gray-600 hover:text-red-600",title:"Delete",children:o.jsx(HP,{className:"w-4 h-4"})})]})]})})]})},$.id))]}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Dp,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-500 text-sm font-medium",children:p==="unread"?"No unread notifications":p==="read"?"No read notifications":"No notifications yet"})]})}),e.length>0&&o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 flex gap-2",children:[o.jsx("button",{onClick:()=>{e.filter(W=>!W.isRead).map(W=>W.id).forEach(W=>r(W)),m(new Set)},className:"flex-1 px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Mark All as Read"}),o.jsx("button",{onClick:()=>{window.confirm("Delete all notifications?")&&(e.forEach($=>i($.id)),m(new Set))},className:"flex-1 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Clear All"})]})]})]})}const M1="#93c5fd",Nse="#1e2cecff",Jx="#3e209bff";function Ese({data:e,className:t=""}){return o.jsx(VI,{title:o.jsx("span",{className:"text-blue-700",children:"Visitors for the last 6 months"}),className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl hover:shadow-2xl p-6 ${t}`,children:o.jsx("div",{className:"h-72",children:o.jsx(bd,{width:"100%",height:"100%",children:o.jsxs($I,{data:e,margin:{top:20,right:20,left:0,bottom:5},children:[o.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(kd,{dataKey:"name",tick:{fill:"#374151",fontSize:14}}),o.jsx(Nd,{tick:{fill:"#374151",fontSize:14}}),o.jsx(xd,{contentStyle:{background:"#fff",borderColor:"#e5e7eb",borderRadius:8}}),o.jsx(Ig,{type:"monotone",dataKey:"value",stroke:M1,strokeWidth:3,dot:{r:5,fill:M1}})]})})})})}function Pse({data:e,className:t=""}){return o.jsx(VI,{title:o.jsx("span",{className:"text-blue-700",children:"Sales by Product Category"}),className:`bg-white/80 backdrop-blur-md border border-white/60 shadow-xl hover:shadow-2xl p-6 ${t}`,children:o.jsx("div",{className:"h-72",children:o.jsx(bd,{width:"100%",height:"100%",children:o.jsxs(zI,{children:[o.jsx(Og,{data:e,dataKey:"percent",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:r=>`${r.name} (${Number(r.percent||0).toFixed(1)}%)`,fill:Jx,children:e.map((r,n)=>{const i=[M1,Nse,Jx];return o.jsx(rf,{fill:i[n%i.length]},`cell-${n}`)})}),o.jsx(Rd,{}),o.jsx(xd,{formatter:(r,n,i)=>{var s;return[`${Number(r).toFixed(1)}%`,(s=i==null?void 0:i.payload)==null?void 0:s.name]},contentStyle:{background:"#fafafa",borderColor:Jx,borderRadius:8}})]})})})})}function _se(){var ie,be;const[e,t]=j.useState([]),[r,n]=j.useState("month"),[i,s]=j.useState(!1),[a,l]=j.useState([]),[u,d]=j.useState([]),[h,m]=j.useState({sales:0,transactions:0,topProduct:"-"}),[p,v]=j.useState([]),[x,C]=j.useState(!1),[A,N]=j.useState([]),[T,O]=j.useState(0),[M,D]=j.useState(!1),I=St.useRef(null),{logout:$}=hw(),[W,K]=j.useState(!1),J=j.useMemo(()=>{try{return JSON.parse(sessionStorage.getItem("user")||"{}")}catch{return{}}},[]);j.useEffect(()=>{const me=Y=>{I.current&&!I.current.contains(Y.target)&&D(!1)};return document.addEventListener("mousedown",me),()=>document.removeEventListener("mousedown",me)},[]);const Z=async()=>{var me,Y;try{s(!0);const re=sessionStorage.getItem("auth_token"),[Se,Te,Ie,tt,qe]=await Promise.all([at("/api/dashboard/overview",{headers:en(re)}),at(`/api/stats/customers-timeseries?days=${r==="week"?7:r==="month"?30:r==="year"?365:180}`,{headers:en(re)}),at("/api/stats/sales-by-category",{headers:en(re)}),at("/api/dashboard/inventory-movement",{headers:en(re)}),at("/api/products/low-stock",{headers:en(re)})]),Fe=(Te||[]).map(ae=>({...ae,value:Number(ae.customers||ae.total||ae.value||0)})),Re=(Ie||[]).reduce((ae,_e)=>ae+Number(_e.value||0),0)||1,Ke=(Ie||[]).map(ae=>({...ae,percent:Number(ae.value||0)/Re*100}));Se&&Se.totalSales!==void 0&&(t([{label:"Total Revenue",value:Se.totalSales,change:0},{label:"Total Transactions",value:Se.totalTransactions,change:0},{label:"Total Items Sold",value:Se.totalItemsSold,change:0},{label:"Avg TX Value",value:Se.averageTransactionValue,change:0}]),m({sales:Number(Se.totalSales||0),transactions:Number(Se.totalTransactions||0),topProduct:Se.topProducts&&((me=Se.topProducts[0])==null?void 0:me.product_name)||((Y=Ke[0])==null?void 0:Y.name)||"-"})),l(Fe),d(Ke);const Pe=(tt||[]).filter(ae=>Number(ae.quantity_in_stock||0)<=10);v(Pe.length?Pe:qe||[])}catch(re){console.error("Failed to fetch dashboard data",re)}finally{s(!1)}},de=async()=>{try{const me=sessionStorage.getItem("auth_token"),Y=await at("/api/logs",{headers:en(me)}),re=new Set(JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]")),Se=new Set(JSON.parse(sessionStorage.getItem("deleted_notif_ids")||"[]")),Te=(Y||[]).filter(Ie=>!Se.has(Ie.log_id)).map(Ie=>({id:Ie.log_id,title:Ie.action,message:`${Ie.username} (${Ie.role}) did an action: ${Ie.action}`,time:new Date(Ie.date_time).toLocaleString(),isRead:re.has(Ie.log_id)}));N(Te),O(Te.filter(Ie=>!Ie.isRead).length)}catch(me){console.error("Failed to fetch notifications",me)}},ce=me=>{const Y=JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]");Y.includes(me)||sessionStorage.setItem("read_notif_ids",JSON.stringify([...Y,me])),N(re=>re.map(Se=>Se.id===me?{...Se,isRead:!0}:Se)),O(re=>Math.max(0,re-1))},ee=me=>{const re=JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]").filter(Se=>Se!==me);sessionStorage.setItem("read_notif_ids",JSON.stringify(re)),N(Se=>Se.map(Te=>Te.id===me?{...Te,isRead:!1}:Te)),O(Se=>Se+1)},ue=me=>{const Y=JSON.parse(sessionStorage.getItem("deleted_notif_ids")||"[]");sessionStorage.setItem("deleted_notif_ids",JSON.stringify([...Y,me])),N(Se=>Se.filter(Te=>Te.id!==me));const re=A.find(Se=>Se.id===me);re&&!re.isRead&&O(Se=>Math.max(0,Se-1))},je=()=>{const me=["Label","Value","Change"],Y=e.map(Ie=>[Ie.label,Ie.value,Ie.change]);p.length>0&&(Y.push(["","",""]),Y.push(["Low Stock Products","",""]),Y.push(["Product Name","Quantity Left",""]),p.forEach(Ie=>Y.push([Ie.product_name,Ie.quantity_in_stock,""])));const re=[me,...Y].map(Ie=>Ie.join(",")).join(`
`),Se=new Blob([re],{type:"text/csv;charset=utf-8;"}),Te=document.createElement("a");Te.href=URL.createObjectURL(Se),Te.download="dashboard-data.csv",Te.click()};j.useEffect(()=>{Z(),de()},[r]);const pe=o.jsxs("div",{className:"flex flex-nowrap items-center justify-end -gap-3 sm:gap-2",children:[o.jsx("button",{onClick:Z,disabled:i,title:"Refresh Data",className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 p-2 rounded-lg border border-gray-200/80 text-sm font-medium transition-all duration-200 hover:shadow-md hover:scale-[1.02]",children:o.jsx(UI,{className:`w-5 h-5 ${i?"animate-spin":""}`})}),o.jsxs("select",{className:"bg-white/80 backdrop-blur-sm hover:bg-white text-gray-700 px-2 sm:px-3 py-2 rounded-lg border border-gray-200/80 text-sm font-medium transition-all duration-200 outline-none cursor-pointer hover:shadow-md",value:r,onChange:me=>n(me.target.value),disabled:i,children:[o.jsx("option",{value:"week",children:"Week"}),o.jsx("option",{value:"month",children:"Month"}),o.jsx("option",{value:"year",children:"Year"})]}),o.jsx("div",{className:"relative",ref:I,children:o.jsx(qI,{notifications:A,unreadCount:T,onMarkAsRead:ce,onMarkAsUnread:ee,onDelete:ue,isOpen:M,onToggle:()=>D(!M),containerRef:I})}),o.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm p-1 sm:p-1.5 sm:px-3 sm:py-2 rounded-lg border border-gray-200/80 hover:bg-white transition-all duration-200 hover:shadow-md hover:scale-[1.02]",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full flex items-center justify-center text-sm font-medium shadow-lg",children:((be=(ie=J.username)==null?void 0:ie[0])==null?void 0:be.toUpperCase())||"A"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:J.username||"Admin"})]})]});return o.jsxs(za,{title:"DASHBOARD",subtitle:"",sidebar:o.jsx(_o,{onLogoutClick:$}),headerActions:pe,isSidebarOpen:W,setSidebarOpen:K,className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"-mt-2 -mb-11 py-8 px-8 flex justify-end",children:o.jsxs(He,{onClick:je,size:"lg",variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto shrink-0",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"hidden sm:inline",children:"Export"}),o.jsx("span",{className:"sm:hidden",children:"Export"})]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 lg:hidden",children:i?Array.from({length:4}).map((me,Y)=>o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"})]},Y)):e.map((me,Y)=>o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-500",children:me.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:typeof me.value=="number"?me.value.toLocaleString():me.value}),me.change?o.jsxs("p",{className:`text-xs font-medium mt-1 ${me.change>0?"text-green-600":"text-red-600"}`,children:[me.change>0?"+":"",me.change.toFixed(2),"%"]}):null]},Y))}),o.jsx("div",{className:"p-4 lg:hidden",children:i?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]}):o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Low Stock Products"})}),o.jsx(Tse,{lowStockProducts:p})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 p-6 pb-10 lg:pb-6",children:[o.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-[336px] animate-pulse flex items-center justify-center",children:o.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-lg"})}),o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 h-[336px] animate-pulse flex items-center justify-center",children:o.jsx("div",{className:"w-64 h-64 bg-gray-200 rounded-full"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ese,{data:a}),o.jsx(Pse,{data:u})]})}),o.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-6",children:[i?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),o.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2 mb-6"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),o.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2 mb-6"}),o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),o.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"})]}):o.jsx("div",{className:"hidden lg:block",children:o.jsx(Ase,{stats:h})}),i?o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 animate-pulse hidden lg:block",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/5"})]}):o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md hidden lg:block",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Low Stock Products"})}),p.length>0?o.jsx("ul",{className:"divide-y divide-gray-200",children:p.map(me=>o.jsxs("li",{className:"py-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-800",children:me.product_name}),o.jsxs("span",{className:"text-sm font-bold text-red-600",children:[me.quantity_in_stock," left"]})]},me.product_id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No products with low stock."})]})]})]}),o.jsx("div",{className:"max-w-10lx mx-auto w-full px-6",children:o.jsx(Cse,{})}),o.jsx(Dg,{isOpen:x,onClose:()=>C(!1),userData:J})]})}function Tse({lowStockProducts:e}){return e.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No products with low stock."}):o.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(t=>o.jsxs("li",{className:"py-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-800",children:t.product_name}),o.jsxs("span",{className:"text-sm font-bold text-red-600",children:[t.quantity_in_stock," left"]})]},t.product_id))})}let WI=!0,GI=!0;function ih(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseFloat(n[r],10)}function lu(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(a,l){if(a!==t)return i.apply(this,arguments);const u=d=>{const h=r(d);h&&(l.handleEvent?l.handleEvent(h):l(h))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,u),i.apply(this,[a,u])};const s=n.removeEventListener;n.removeEventListener=function(a,l){if(a!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(l))return s.apply(this,arguments);const u=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[a,u])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(a){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),a&&this.addEventListener(t,this["_on"+t]=a)},enumerable:!0,configurable:!0})}function Ose(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(WI=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Mse(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(GI=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function KI(){if(typeof window=="object"){if(WI)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Zj(e,t){GI&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Rse(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.userAgentData&&r.userAgentData.brands){const n=r.userAgentData.brands.find(i=>i.brand==="Chromium");if(n)return{browser:"chrome",version:parseInt(n.version,10)}}if(r.mozGetUserMedia)t.browser="firefox",t.version=parseInt(ih(r.userAgent,/Firefox\/(\d+)\./,1));else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(ih(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(ih(r.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=ih(r.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function YP(e){return Object.prototype.toString.call(e)==="[object Object]"}function HI(e){return YP(e)?Object.keys(e).reduce(function(t,r){const n=YP(e[r]),i=n?HI(e[r]):e[r],s=n&&!Object.keys(i).length;return i===void 0||s?t:Object.assign(t,{[r]:i})},{}):e}function R1(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?R1(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(i=>{R1(e,e.get(i),r)})}))}function QP(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const s=[];return e.forEach(a=>{a.type==="track"&&a.trackIdentifier===t.id&&s.push(a)}),s.forEach(a=>{e.forEach(l=>{l.type===n&&l.trackId===a.id&&R1(e,l,i)})}),i}const JP=KI;function YI(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const u={};return Object.keys(l).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;const h=typeof l[d]=="object"?l[d]:{ideal:l[d]};h.exact!==void 0&&typeof h.exact=="number"&&(h.min=h.max=h.exact);const m=function(p,v){return p?p+v.charAt(0).toUpperCase()+v.slice(1):v==="deviceId"?"sourceId":v};if(h.ideal!==void 0){u.optional=u.optional||[];let p={};typeof h.ideal=="number"?(p[m("min",d)]=h.ideal,u.optional.push(p),p={},p[m("max",d)]=h.ideal,u.optional.push(p)):(p[m("",d)]=h.ideal,u.optional.push(p))}h.exact!==void 0&&typeof h.exact!="number"?(u.mandatory=u.mandatory||{},u.mandatory[m("",d)]=h.exact):["min","max"].forEach(p=>{h[p]!==void 0&&(u.mandatory=u.mandatory||{},u.mandatory[m(p,d)]=h[p])})}),l.advanced&&(u.optional=(u.optional||[]).concat(l.advanced)),u},i=function(l,u){if(t.version>=61)return u(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const d=function(h,m,p){m in h&&!(p in h)&&(h[p]=h[m],delete h[m])};l=JSON.parse(JSON.stringify(l)),d(l.audio,"autoGainControl","googAutoGainControl"),d(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=n(l.audio)}if(l&&typeof l.video=="object"){let d=l.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});const h=t.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!h)){delete l.video.facingMode;let m;if(d.exact==="environment"||d.ideal==="environment"?m=["back","rear"]:(d.exact==="user"||d.ideal==="user")&&(m=["front"]),m)return r.mediaDevices.enumerateDevices().then(p=>{p=p.filter(x=>x.kind==="videoinput");let v=p.find(x=>m.some(C=>x.label.toLowerCase().includes(C)));return!v&&p.length&&m.includes("back")&&(v=p[p.length-1]),v&&(l.video.deviceId=d.exact?{exact:v.deviceId}:{ideal:v.deviceId}),l.video=n(l.video),JP("chrome: "+JSON.stringify(l)),u(l)})}l.video=n(l.video)}return JP("chrome: "+JSON.stringify(l)),u(l)},s=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},a=function(l,u,d){i(l,h=>{r.webkitGetUserMedia(h,u,m=>{d&&d(s(m))})})};if(r.getUserMedia=a.bind(r),r.mediaDevices.getUserMedia){const l=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(u){return i(u,d=>l(d).then(h=>{if(d.audio&&!h.getAudioTracks().length||d.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(m=>{m.stop()}),new DOMException("","NotFoundError");return h},h=>Promise.reject(s(h))))}}}function QI(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function JI(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):s={track:i.track};const a=new Event("track");a.track=i.track,a.receiver=s,a.transceiver={receiver:s},a.streams=[n.stream],this.dispatchEvent(a)}),n.stream.getTracks().forEach(i=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(l=>l.track&&l.track.id===i.id):s={track:i};const a=new Event("track");a.track=i,a.receiver=s,a.transceiver={receiver:s},a.streams=[n.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else lu(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function XI(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,u){let d=i.apply(this,arguments);return d||(d=t(this,l),this._senders.push(d)),d};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){s.apply(this,arguments);const u=this._senders.indexOf(l);u!==-1&&this._senders.splice(u,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(a=>{this._senders.push(t(this,a))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(a=>{const l=this._senders.find(u=>u.track===a);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ZI(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=r.apply(this,[]);return s.forEach(a=>a._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(a=>QP(a,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(s=>s._pc=this),i}),lu(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>QP(s,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let i,s,a;return this.getSenders().forEach(l=>{l.track===n&&(i?a=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===n&&(s?a=!0:s=l),l.track===n)),a||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function eD(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(a=>this._shimmedLocalStreams[a][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const u=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(u)===-1&&this._shimmedLocalStreams[l.id].push(u):this._shimmedLocalStreams[l.id]=[l,u],u};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._shimmedLocalStreams=this._shimmedLocalStreams||{},a.getTracks().forEach(d=>{if(this.getSenders().find(m=>m.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();r.apply(this,arguments);const u=this.getSenders().filter(d=>l.indexOf(d)===-1);this._shimmedLocalStreams[a.id]=[a].concat(u)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[a.id],n.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},a&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const u=this._shimmedLocalStreams[l].indexOf(a);u!==-1&&this._shimmedLocalStreams[l].splice(u,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function tD(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return eD(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const h=r.apply(this);return this._reverseStreams=this._reverseStreams||{},h.map(m=>this._reverseStreams[m.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(h){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.getTracks().forEach(m=>{if(this.getSenders().find(v=>v.track===m))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[h.id]){const m=new e.MediaStream(h.getTracks());this._streams[h.id]=m,this._reverseStreams[m.id]=h,h=m}n.apply(this,[h])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(h){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[h.id]||h]),delete this._reverseStreams[this._streams[h.id]?this._streams[h.id].id:h.id],delete this._streams[h.id]},e.RTCPeerConnection.prototype.addTrack=function(h,m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(C=>C===h))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(C=>C.track===h))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const x=this._streams[m.id];if(x)x.addTrack(h),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const C=new e.MediaStream([h]);this._streams[m.id]=C,this._reverseStreams[C.id]=m,this.addStream(C)}return this.getSenders().find(C=>C.track===h)};function s(d,h){let m=h.sdp;return Object.keys(d._reverseStreams||[]).forEach(p=>{const v=d._reverseStreams[p],x=d._streams[v.id];m=m.replace(new RegExp(x.id,"g"),v.id)}),new RTCSessionDescription({type:h.type,sdp:m})}function a(d,h){let m=h.sdp;return Object.keys(d._reverseStreams||[]).forEach(p=>{const v=d._reverseStreams[p],x=d._streams[v.id];m=m.replace(new RegExp(v.id,"g"),x.id)}),new RTCSessionDescription({type:h.type,sdp:m})}["createOffer","createAnswer"].forEach(function(d){const h=e.RTCPeerConnection.prototype[d],m={[d](){const p=arguments;return arguments.length&&typeof arguments[0]=="function"?h.apply(this,[x=>{const C=s(this,x);p[0].apply(null,[C])},x=>{p[1]&&p[1].apply(null,x)},arguments[2]]):h.apply(this,arguments).then(x=>s(this,x))}};e.RTCPeerConnection.prototype[d]=m[d]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=a(this,arguments[0]),l.apply(this,arguments))};const u=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const d=u.get.apply(this);return d.type===""?d:s(this,d)}}),e.RTCPeerConnection.prototype.removeTrack=function(h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!h._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(h._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(v=>{this._streams[v].getTracks().find(C=>h.track===C)&&(p=this._streams[v])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(h.track),this.dispatchEvent(new Event("negotiationneeded")))}}function I1(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=e.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=i[r]})}function rD(e,t){lu(e,"negotiationneeded",r=>{const n=r.target;if(!((t.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const XP=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:rD,shimAddTrackRemoveTrack:tD,shimAddTrackRemoveTrackWithNative:eD,shimGetSendersWithDtmf:XI,shimGetUserMedia:YI,shimMediaStream:QI,shimOnTrack:JI,shimPeerConnection:I1,shimSenderReceiverGetStats:ZI},Symbol.toStringTag,{value:"Module"}));function nD(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(i,s,a){Zj("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(s,a)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(a,l,u){l in a&&!(u in a)&&(a[u]=a[l],delete a[l])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(a){return typeof a=="object"&&typeof a.audio=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a.audio,"autoGainControl","mozAutoGainControl"),i(a.audio,"noiseSuppression","mozNoiseSuppression")),s(a)},n&&n.prototype.getSettings){const a=n.prototype.getSettings;n.prototype.getSettings=function(){const l=a.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(n&&n.prototype.applyConstraints){const a=n.prototype.applyConstraints;n.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),a.apply(this,[l])}}}}function Ise(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function iD(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function D1(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=e.RTCPeerConnection.prototype[i],a={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=a[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,a,l]=arguments;return n.apply(this,[s||null]).then(u=>{if(t.version<53&&!a)try{u.forEach(d=>{d.type=r[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;u.forEach((h,m)=>{u.set(m,Object.assign({},h,{type:r[h.type]||h.type}))})}return u}).then(a,l)}}function sD(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function aD(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n}),lu(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function oD(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){Zj("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function lD(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function cD(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(a=>{if("rid"in a&&!/^[a-z0-9]{0,16}$/i.test(a.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in a&&!(parseFloat(a.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in a&&!(parseFloat(a.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(i){const{sender:a}=s,l=a.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=n,a.sendEncodings=n,this.setParametersPromises.push(a.setParameters(l).then(()=>{delete a.sendEncodings}).catch(()=>{delete a.sendEncodings})))}return s})}function uD(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function dD(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function fD(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const ZP=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:cD,shimCreateAnswer:fD,shimCreateOffer:dD,shimGetDisplayMedia:Ise,shimGetParameters:uD,shimGetUserMedia:nD,shimOnTrack:iD,shimPeerConnection:D1,shimRTCDataChannel:lD,shimReceiverGetStats:aD,shimRemoveStream:oD,shimSenderGetStats:sD},Symbol.toStringTag,{value:"Module"}));function hD(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>t.call(this,i,n)),n.getVideoTracks().forEach(i=>t.call(this,i,n))},e.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function mD(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const a=new Event("addstream");a.stream=s,n.dispatchEvent(a)})}),t.apply(n,arguments)}}}function pD(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(d,h){const m=arguments.length>=2?arguments[2]:arguments[0],p=r.apply(this,[m]);return h?(p.then(d,h),Promise.resolve()):p},t.createAnswer=function(d,h){const m=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[m]);return h?(p.then(d,h),Promise.resolve()):p};let l=function(u,d,h){const m=i.apply(this,[u]);return h?(m.then(d,h),Promise.resolve()):m};t.setLocalDescription=l,l=function(u,d,h){const m=s.apply(this,[u]);return h?(m.then(d,h),Promise.resolve()):m},t.setRemoteDescription=l,l=function(u,d,h){const m=a.apply(this,[u]);return h?(m.then(d,h),Promise.resolve()):m},t.addIceCandidate=l}function gD(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=i=>n(vD(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(n,i,s){t.mediaDevices.getUserMedia(n).then(i,s)}).bind(t))}function vD(e){return e&&e.video!==void 0?Object.assign({},e,{video:HI(e.video)}):e}function yD(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const s=[];for(let a=0;a<n.iceServers.length;a++){let l=n.iceServers[a];l.urls===void 0&&l.url?(Zj("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,s.push(l)):s.push(n.iceServers[a])}n.iceServers=s}return new t(n,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function xD(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function bD(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(a=>a.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(a=>a.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function wD(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const e_=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:wD,shimCallbacksAPI:pD,shimConstraints:vD,shimCreateOfferLegacy:bD,shimGetUserMedia:gD,shimLocalStreamsAPI:hD,shimRTCIceServerUrls:yD,shimRemoteStreamsAPI:mD,shimTrackEventTransceiver:xD},Symbol.toStringTag,{value:"Module"}));var Xx={exports:{}},t_;function Dse(){return t_||(t_=1,function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},t.splitSections=function(r){return r.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(r){const n=t.splitSections(r);return n&&n[0]},t.getMediaSections=function(r){const n=t.splitSections(r);return n.shift(),n},t.matchPrefix=function(r,n){return t.splitLines(r).filter(i=>i.indexOf(n)===0)},t.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":i.relatedAddress=n[s+1];break;case"rport":i.relatedPort=parseInt(n[s+1],10);break;case"tcptype":i.tcpType=n[s+1];break;case"ufrag":i.ufrag=n[s+1],i.usernameFragment=n[s+1];break;default:i[n[s]]===void 0&&(i[n[s]]=n[s+1]);break}return i},t.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const s=r.type;return n.push("typ"),n.push(s),s!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},t.parseIceOptions=function(r){return r.substring(14).split(" ")},t.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},t.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},t.parseFmtp=function(r){const n={};let i;const s=r.substring(r.indexOf(" ")+1).split(";");for(let a=0;a<s.length;a++)i=s[a].trim().split("="),n[i[0].trim()]=i[1];return n},t.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const s=[];Object.keys(r.parameters).forEach(a=>{r.parameters[a]!==void 0?s.push(a+"="+r.parameters[a]):s.push(a)}),n+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return n},t.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},t.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},t.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},s=r.indexOf(":",n);return s>-1?(i.attribute=r.substring(n+1,s),i.value=r.substring(s+1)):i.attribute=r.substring(n+1),i},t.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},t.getMid=function(r){const n=t.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},t.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:t.matchPrefix(r+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},t.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},t.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?t.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},t.getCryptoParameters=function(r,n){return t.matchPrefix(r+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(r,n){const i=t.matchPrefix(r+n,"a=ice-ufrag:")[0],s=t.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},t.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(r)[0].split(" ");n.profile=s[2];for(let l=3;l<s.length;l++){const u=s[l],d=t.matchPrefix(r,"a=rtpmap:"+u+" ")[0];if(d){const h=t.parseRtpMap(d),m=t.matchPrefix(r,"a=fmtp:"+u+" ");switch(h.parameters=m.length?t.parseFmtp(m[0]):{},h.rtcpFeedback=t.matchPrefix(r,"a=rtcp-fb:"+u+" ").map(t.parseRtcpFb),n.codecs.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(h.name.toUpperCase());break}}}t.matchPrefix(r,"a=extmap:").forEach(l=>{n.headerExtensions.push(t.parseExtmap(l))});const a=t.matchPrefix(r,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(l=>{a.forEach(u=>{l.rtcpFeedback.find(h=>h.type===u.type&&h.parameter===u.parameter)||l.rtcpFeedback.push(u)})}),n},t.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(a=>a.preferredPayloadType!==void 0?a.preferredPayloadType:a.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(a=>{i+=t.writeRtpMap(a),i+=t.writeFmtp(a),i+=t.writeRtcpFb(a)});let s=0;return n.codecs.forEach(a=>{a.maxptime>s&&(s=a.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(a=>{i+=t.writeExtmap(a)}),i},t.parseRtpEncodingParameters=function(r){const n=[],i=t.parseRtpParameters(r),s=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(r,"a=ssrc:").map(p=>t.parseSsrcMedia(p)).filter(p=>p.attribute==="cname"),u=l.length>0&&l[0].ssrc;let d;const h=t.matchPrefix(r,"a=ssrc-group:FID").map(p=>p.substring(17).split(" ").map(x=>parseInt(x,10)));h.length>0&&h[0].length>1&&h[0][0]===u&&(d=h[0][1]),i.codecs.forEach(p=>{if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){let v={ssrc:u,codecPayloadType:parseInt(p.parameters.apt,10)};u&&d&&(v.rtx={ssrc:d}),n.push(v),s&&(v=JSON.parse(JSON.stringify(v)),v.fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},n.push(v))}}),n.length===0&&u&&n.push({ssrc:u});let m=t.matchPrefix(r,"b=");return m.length&&(m[0].indexOf("b=TIAS:")===0?m=parseInt(m[0].substring(7),10):m[0].indexOf("b=AS:")===0?m=parseInt(m[0].substring(5),10)*1e3*.95-50*40*8:m=void 0,n.forEach(p=>{p.maxBitrate=m})),n},t.parseRtcpParameters=function(r){const n={},i=t.matchPrefix(r,"a=ssrc:").map(l=>t.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const s=t.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const a=t.matchPrefix(r,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},t.parseMsid=function(r){let n;const i=t.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const s=t.matchPrefix(r,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},t.parseSctpDescription=function(r){const n=t.parseMLine(r),i=t.matchPrefix(r,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const a=t.matchPrefix(r,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:s};const l=t.matchPrefix(r,"a=sctpmap:");if(l.length>0){const u=l[0].substring(10).split(" ");return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:s}}},t.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(r,n,i){let s;const a=n!==void 0?n:2;return r?s=r:s=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+a+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(r,n){const i=t.splitLines(r);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(r){return t.splitLines(r)[0].split(" ")[0].substring(2)},t.isRejected=function(r){return r.split(" ",2)[1]==="0"},t.parseMLine=function(r){const i=t.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(r){const i=t.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=t.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},e.exports=t}(Xx)),Xx.exports}var jD=Dse();const Ed=us(jD),Lse=Q6({__proto__:null,default:Ed},[jD]);function Lp(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new t(n),s=Ed.parseCandidate(n.candidate);for(const a in s)a in i||Object.defineProperty(i,a,{value:s[a]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,lu(e,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new e.RTCIceCandidate(r.candidate),writable:"false"}),r))}function L1(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||lu(e,"icecandidate",t=>{if(t.candidate){const r=Ed.parseCandidate(t.candidate.candidate);r.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return t})}function Bp(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(l){if(!l||!l.sdp)return!1;const u=Ed.splitSections(l.sdp);return u.shift(),u.some(d=>{const h=Ed.parseMLine(d);return h&&h.kind==="application"&&h.protocol.indexOf("SCTP")!==-1})},n=function(l){const u=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(u===null||u.length<2)return-1;const d=parseInt(u[1],10);return d!==d?-1:d},i=function(l){let u=65536;return t.browser==="firefox"&&(t.version<57?l===-1?u=16384:u=2147483637:t.version<60?u=t.version===57?65535:65536:u=2147483637),u},s=function(l,u){let d=65536;t.browser==="firefox"&&t.version===57&&(d=65535);const h=Ed.matchPrefix(l.sdp,"a=max-message-size:");return h.length>0?d=parseInt(h[0].substring(19),10):t.browser==="firefox"&&u!==-1&&(d=2147483637),d},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const u=n(arguments[0]),d=i(u),h=s(arguments[0],u);let m;d===0&&h===0?m=Number.POSITIVE_INFINITY:d===0||h===0?m=Math.max(d,h):m=Math.min(d,h);const p={};Object.defineProperty(p,"maxMessageSize",{get(){return m}}),this._sctp=p}return a.apply(this,arguments)}}function Fp(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(n,i){const s=n.send;n.send=function(){const l=arguments[0],u=l.length||l.size||l.byteLength;if(n.readyState==="open"&&i.sctp&&u>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return t(i,this),i},lu(e,"datachannel",n=>(t(n.channel,n.target),n))}function B1(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=t[r];t[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const a=new Event("connectionstatechange",i);s.dispatchEvent(a)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function F1(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(a=>a.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return r.apply(this,arguments)}}function $p(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function zp(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(a=>r.apply(this,[a]))})}const Bse=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:F1,shimAddIceCandidateNullOrEmpty:$p,shimConnectionState:B1,shimMaxMessageSize:Bp,shimParameterlessSetLocalDescription:zp,shimRTCIceCandidate:Lp,shimRTCIceCandidateRelayProtocol:L1,shimSendThrowTypeError:Fp},Symbol.toStringTag,{value:"Module"}));function Fse({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=KI,n=Rse(e),i={browserDetails:n,commonShim:Bse,extractVersion:ih,disableLog:Ose,disableWarnings:Mse,sdp:Lse};switch(n.browser){case"chrome":if(!XP||!I1||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=XP,$p(e,n),zp(e),YI(e,n),QI(e),I1(e,n),JI(e),tD(e,n),XI(e),ZI(e),rD(e,n),Lp(e),L1(e),B1(e),Bp(e,n),Fp(e),F1(e,n);break;case"firefox":if(!ZP||!D1||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=ZP,$p(e,n),zp(e),nD(e,n),D1(e,n),iD(e),oD(e),sD(e),aD(e),lD(e),cD(e),uD(e),dD(e),fD(e),Lp(e),B1(e),Bp(e,n),Fp(e);break;case"safari":if(!e_||!t.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=e_,$p(e,n),zp(e),yD(e),bD(e),pD(e),hD(e),mD(e),xD(e),gD(e),wD(e),Lp(e),L1(e),Bp(e,n),Fp(e),F1(e,n);break;default:r("Unsupported browser!");break}return i}Fse({window:typeof window>"u"?void 0:window});var AD=e=>{throw TypeError(e)},SD=(e,t,r)=>t.has(e)||AD("Cannot "+r),$se=(e,t,r)=>(SD(e,t,"read from private field"),r?r.call(e):t.get(e)),zse=(e,t,r)=>t.has(e)?AD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Vse=(e,t,r,n)=>(SD(e,t,"write to private field"),t.set(e,r),r);const Lg=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Bg=Lg.map(([e])=>e),Use=Bg.filter((e,t)=>Lg[t][1]==="L"),qse=Bg.filter((e,t)=>Lg[t][1]==="M");function $1(e){switch(e){case"Linear-Codes":return Use.reduce((t,r)=>t|$1(r),0);case"Matrix-Codes":return qse.reduce((t,r)=>t|$1(r),0);case"Any":return(1<<Lg.length)-1;case"None":return 0;default:return 1<<Bg.indexOf(e)}}function Wse(e){if(e===0)return"None";const t=31-Math.clz32(e);return Bg[t]}function Gse(e){return e.reduce((t,r)=>t|$1(r),0)}const Kse=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function Hse(e){return Kse.indexOf(e)}const r_=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function Yse(e){return e==="UnicodeBig"?r_.indexOf("UTF16BE"):r_.indexOf(e)}const Qse=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Jse(e){return Qse[e]}const Xse=["Ignore","Read","Require"];function Zse(e){return Xse.indexOf(e)}const eae=["Plain","ECI","HRI","Hex","Escaped"];function tae(e){return eae.indexOf(e)}const I0={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function n_(e){return{...e,formats:Gse(e.formats),binarizer:Hse(e.binarizer),eanAddOnSymbol:Zse(e.eanAddOnSymbol),textMode:tae(e.textMode),characterSet:Yse(e.characterSet)}}function rae(e){return{...e,format:Wse(e.format),contentType:Jse(e.contentType),eccLevel:e.ecLevel}}const nae={locateFile:(e,t)=>{const r=e.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.1.2/dist/${r[1]}/${e}`:t+e}},Zx=new WeakMap;function iae(e,t){return Object.is(e,t)||Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>Object.prototype.hasOwnProperty.call(t,r)&&e[r]===t[r])}function CD(e,{overrides:t,equalityFn:r=iae,fireImmediately:n=!1}={}){var i;const[s,a]=(i=Zx.get(e))!=null?i:[nae],l=t??s;let u;if(n){if(a&&(u=r(s,l)))return a;const d=e({...l});return Zx.set(e,[l,d]),d}(u??r(s,l))||Zx.set(e,[l])}async function sae(e,t,r=I0){const n={...I0,...r},i=await CD(e,{fireImmediately:!0});let s,a;if("width"in t&&"height"in t&&"data"in t){const{data:u,data:{byteLength:d},width:h,height:m}=t;a=i._malloc(d),i.HEAPU8.set(u,a),s=i.readBarcodesFromPixmap(a,h,m,n_(n))}else{let u,d;if("buffer"in t)[u,d]=[t.byteLength,t];else if("byteLength"in t)[u,d]=[t.byteLength,new Uint8Array(t)];else if("size"in t)[u,d]=[t.size,new Uint8Array(await t.arrayBuffer())];else throw new TypeError("Invalid input type");a=i._malloc(u),i.HEAPU8.set(d,a),s=i.readBarcodesFromImage(a,u,n_(n))}i._free(a);const l=[];for(let u=0;u<s.size();++u)l.push(rae(s.get(u)));return l}({...I0,formats:[...I0.formats]});var kD=async function(e={}){var t,r=e,n,i,s=new Promise((F,B)=>{n=F,i=B}),a=typeof window=="object",l=typeof Bun<"u",u=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var d="./this.program",h="";function m(F){return r.locateFile?r.locateFile(F,h):h+F}var p,v;(a||u||l)&&(u?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),h.startsWith("blob:")?h="":h=h.slice(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(v=F=>{var B=new XMLHttpRequest;return B.open("GET",F,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),p=async F=>{var B=await fetch(F,{credentials:"same-origin"});if(B.ok)return B.arrayBuffer();throw new Error(B.status+" : "+B.url)});var x=console.log.bind(console),C=console.error.bind(console),A,N,T=!1,O,M,D,I,$,W,K,J;function Z(){var F=N.buffer;O=new Int8Array(F),D=new Int16Array(F),r.HEAPU8=M=new Uint8Array(F),I=new Uint16Array(F),$=new Int32Array(F),W=new Uint32Array(F),K=new Float32Array(F),J=new Float64Array(F)}function de(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ae(r.preRun.shift());Fe(Pe)}function ce(){wr.ya()}function ee(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Ke(r.postRun.shift());Fe(Re)}var ue=0,je=null;function pe(F){var B;ue++,(B=r.monitorRunDependencies)===null||B===void 0||B.call(r,ue)}function ie(F){var B;if(ue--,(B=r.monitorRunDependencies)===null||B===void 0||B.call(r,ue),ue==0&&je){var G=je;je=null,G()}}function be(F){var B;(B=r.onAbort)===null||B===void 0||B.call(r,F),F="Aborted("+F+")",C(F),T=!0,F+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(F);throw i(G),G}var me;function Y(){return m("zxing_reader.wasm")}function re(F){if(F==me&&A)return new Uint8Array(A);if(v)return v(F);throw"both async and sync fetching of the wasm failed"}async function Se(F){if(!A)try{var B=await p(F);return new Uint8Array(B)}catch{}return re(F)}async function Te(F,B){try{var G=await Se(F),Q=await WebAssembly.instantiate(G,B);return Q}catch(se){C(`failed to asynchronously prepare wasm: ${se}`),be(se)}}async function Ie(F,B,G){if(!F&&typeof WebAssembly.instantiateStreaming=="function")try{var Q=fetch(B,{credentials:"same-origin"}),se=await WebAssembly.instantiateStreaming(Q,G);return se}catch(le){C(`wasm streaming compile failed: ${le}`),C("falling back to ArrayBuffer instantiation")}return Te(B,G)}function tt(){return{a:wu}}async function qe(){function F(le,Ae){return wr=le.exports,N=wr.xa,Z(),Ha=wr.Ba,ie(),wr}pe();function B(le){return F(le.instance)}var G=tt();if(r.instantiateWasm)return new Promise((le,Ae)=>{r.instantiateWasm(G,(xe,$e)=>{le(F(xe))})});me!=null||(me=Y());try{var Q=await Ie(A,me,G),se=B(Q);return se}catch(le){return i(le),Promise.reject(le)}}var Fe=F=>{for(;F.length>0;)F.shift()(r)},Re=[],Ke=F=>Re.push(F),Pe=[],ae=F=>Pe.push(F),_e=F=>Au(F),fe=()=>Su(),Ve=[],lt=0,yt=F=>{var B=new _t(F);return B.get_caught()||(B.set_caught(!0),lt--),B.set_rethrown(!1),Ve.push(B),nc(F),hf(F)},et=0,nn=()=>{Vt(0,0);var F=Ve.pop();rc(F.excPtr),et=0};class _t{constructor(B){this.excPtr=B,this.ptr=B-24}set_type(B){W[this.ptr+4>>2]=B}get_type(){return W[this.ptr+4>>2]}set_destructor(B){W[this.ptr+8>>2]=B}get_destructor(){return W[this.ptr+8>>2]}set_caught(B){B=B?1:0,O[this.ptr+12]=B}get_caught(){return O[this.ptr+12]!=0}set_rethrown(B){B=B?1:0,O[this.ptr+13]=B}get_rethrown(){return O[this.ptr+13]!=0}init(B,G){this.set_adjusted_ptr(0),this.set_type(B),this.set_destructor(G)}set_adjusted_ptr(B){W[this.ptr+16>>2]=B}get_adjusted_ptr(){return W[this.ptr+16>>2]}}var Ct=F=>ju(F),dt=F=>{var B=et;if(!B)return Ct(0),0;var G=new _t(B);G.set_adjusted_ptr(B);var Q=G.get_type();if(!Q)return Ct(0),B;for(var se of F){if(se===0||se===Q)break;var le=G.ptr+16;if(io(se,Q,le))return Ct(se),B}return Ct(Q),B},it=()=>dt([]),Rt=F=>dt([F]),Jt=(F,B)=>dt([F,B]),ze=()=>{var F=Ve.pop();F||be("no exception to throw");var B=F.excPtr;throw F.get_rethrown()||(Ve.push(F),F.set_rethrown(!0),F.set_caught(!1),lt++),et=B,et},Ye=(F,B,G)=>{var Q=new _t(F);throw Q.init(B,G),et=F,lt++,et},st=()=>lt,rt=F=>{throw et||(et=F),et},It=()=>be(""),sr={},Ht=F=>{for(;F.length;){var B=F.pop(),G=F.pop();G(B)}};function er(F){return this.fromWireType(W[F>>2])}var Nn={},Di={},Li={},fs=r.InternalError=class extends Error{constructor(F){super(F),this.name="InternalError"}},Bi=F=>{throw new fs(F)},Vn=(F,B,G)=>{F.forEach(xe=>Li[xe]=B);function Q(xe){var $e=G(xe);$e.length!==F.length&&Bi("Mismatched type converter count");for(var Ze=0;Ze<F.length;++Ze)ne(F[Ze],$e[Ze])}var se=new Array(B.length),le=[],Ae=0;B.forEach((xe,$e)=>{Di.hasOwnProperty(xe)?se[$e]=Di[xe]:(le.push(xe),Nn.hasOwnProperty(xe)||(Nn[xe]=[]),Nn[xe].push(()=>{se[$e]=Di[xe],++Ae,Ae===le.length&&Q(se)}))}),le.length===0&&Q(se)},Ka=F=>{var B=sr[F];delete sr[F];var G=B.rawConstructor,Q=B.rawDestructor,se=B.fields,le=se.map(Ae=>Ae.getterReturnType).concat(se.map(Ae=>Ae.setterArgumentType));Vn([F],le,Ae=>{var xe={};return se.forEach(($e,Ze)=>{var nt=$e.fieldName,Pt=Ae[Ze],Wt=Ae[Ze].optional,nr=$e.getter,or=$e.getterContext,Or=Ae[Ze+se.length],Nr=$e.setter,Gr=$e.setterContext;xe[nt]={read:Vi=>Pt.fromWireType(nr(or,Vi)),write:(Vi,Vr)=>{var Hn=[];Nr(Gr,Vi,Or.toWireType(Hn,Vr)),Ht(Hn)},optional:Wt}}),[{name:B.name,fromWireType:$e=>{var Ze={};for(var nt in xe)Ze[nt]=xe[nt].read($e);return Q($e),Ze},toWireType:($e,Ze)=>{for(var nt in xe)if(!(nt in Ze)&&!xe[nt].optional)throw new TypeError(`Missing field: "${nt}"`);var Pt=G();for(nt in xe)xe[nt].write(Pt,Ze[nt]);return $e!==null&&$e.push(Q,Pt),Pt},argPackAdvance:ve,readValueFromPointer:er,destructorFunction:Q}]})},Fi=(F,B,G,Q,se)=>{},hs=()=>{for(var F=new Array(256),B=0;B<256;++B)F[B]=String.fromCharCode(B);ba=F},ba,_r=F=>{for(var B="",G=F;M[G];)B+=ba[M[G++]];return B},ii=r.BindingError=class extends Error{constructor(F){super(F),this.name="BindingError"}},tr=F=>{throw new ii(F)};function Ro(F,B){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var Q=B.name;if(F||tr(`type "${Q}" must have a positive integer typeid pointer`),Di.hasOwnProperty(F)){if(G.ignoreDuplicateRegistrations)return;tr(`Cannot register type '${Q}' twice`)}if(Di[F]=B,delete Li[F],Nn.hasOwnProperty(F)){var se=Nn[F];delete Nn[F],se.forEach(le=>le())}}function ne(F,B){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ro(F,B,G)}var ve=8,Ne=(F,B,G,Q)=>{B=_r(B),ne(F,{name:B,fromWireType:function(se){return!!se},toWireType:function(se,le){return le?G:Q},argPackAdvance:ve,readValueFromPointer:function(se){return this.fromWireType(M[se])},destructorFunction:null})},We=F=>({count:F.count,deleteScheduled:F.deleteScheduled,preservePointerOnDelete:F.preservePointerOnDelete,ptr:F.ptr,ptrType:F.ptrType,smartPtr:F.smartPtr,smartPtrType:F.smartPtrType}),Je=F=>{function B(G){return G.$$.ptrType.registeredClass.name}tr(B(F)+" instance already deleted")},xt=!1,Et=F=>{},ot=F=>{F.smartPtr?F.smartPtrType.rawDestructor(F.smartPtr):F.ptrType.registeredClass.rawDestructor(F.ptr)},bt=F=>{F.count.value-=1;var B=F.count.value===0;B&&ot(F)},pt=F=>typeof FinalizationRegistry>"u"?(pt=B=>B,F):(xt=new FinalizationRegistry(B=>{bt(B.$$)}),pt=B=>{var G=B.$$,Q=!!G.smartPtr;if(Q){var se={$$:G};xt.register(B,se,B)}return B},Et=B=>xt.unregister(B),pt(F)),Dt=()=>{let F=jt.prototype;Object.assign(F,{isAliasOf(G){if(!(this instanceof jt)||!(G instanceof jt))return!1;var Q=this.$$.ptrType.registeredClass,se=this.$$.ptr;G.$$=G.$$;for(var le=G.$$.ptrType.registeredClass,Ae=G.$$.ptr;Q.baseClass;)se=Q.upcast(se),Q=Q.baseClass;for(;le.baseClass;)Ae=le.upcast(Ae),le=le.baseClass;return Q===le&&se===Ae},clone(){if(this.$$.ptr||Je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var G=pt(Object.create(Object.getPrototypeOf(this),{$$:{value:We(this.$$)}}));return G.$$.count.value+=1,G.$$.deleteScheduled=!1,G},delete(){this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&tr("Object already scheduled for deletion"),Et(this),bt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&tr("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const B=Symbol.dispose;B&&(F[B]=F.delete)};function jt(){}var Lt=(F,B)=>Object.defineProperty(B,"name",{value:F}),Kt={},Ar=(F,B,G)=>{if(F[B].overloadTable===void 0){var Q=F[B];F[B]=function(){for(var se=arguments.length,le=new Array(se),Ae=0;Ae<se;Ae++)le[Ae]=arguments[Ae];return F[B].overloadTable.hasOwnProperty(le.length)||tr(`Function '${G}' called with an invalid number of arguments (${le.length}) - expects one of (${F[B].overloadTable})!`),F[B].overloadTable[le.length].apply(this,le)},F[B].overloadTable=[],F[B].overloadTable[Q.argCount]=Q}},Tr=(F,B,G)=>{r.hasOwnProperty(F)?((G===void 0||r[F].overloadTable!==void 0&&r[F].overloadTable[G]!==void 0)&&tr(`Cannot register public name '${F}' twice`),Ar(r,F,F),r[F].overloadTable.hasOwnProperty(G)&&tr(`Cannot register multiple overloads of a function with the same number of arguments (${G})!`),r[F].overloadTable[G]=B):(r[F]=B,r[F].argCount=G)},vn=48,Yt=57,ms=F=>{F=F.replace(/[^a-zA-Z0-9_]/g,"$");var B=F.charCodeAt(0);return B>=vn&&B<=Yt?`_${F}`:F};function yi(F,B,G,Q,se,le,Ae,xe){this.name=F,this.constructor=B,this.instancePrototype=G,this.rawDestructor=Q,this.baseClass=se,this.getActualType=le,this.upcast=Ae,this.downcast=xe,this.pureVirtualFunctions=[]}var si=(F,B,G)=>{for(;B!==G;)B.upcast||tr(`Expected null or instance of ${G.name}, got an instance of ${B.name}`),F=B.upcast(F),B=B.baseClass;return F};function yn(F,B){if(B===null)return this.isReference&&tr(`null is not a valid ${this.name}`),0;B.$$||tr(`Cannot pass "${embindRepr(B)}" as a ${this.name}`),B.$$.ptr||tr(`Cannot pass deleted object as a pointer of type ${this.name}`);var G=B.$$.ptrType.registeredClass,Q=si(B.$$.ptr,G,this.registeredClass);return Q}function ps(F,B){var G;if(B===null)return this.isReference&&tr(`null is not a valid ${this.name}`),this.isSmartPointer?(G=this.rawConstructor(),F!==null&&F.push(this.rawDestructor,G),G):0;(!B||!B.$$)&&tr(`Cannot pass "${embindRepr(B)}" as a ${this.name}`),B.$$.ptr||tr(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&B.$$.ptrType.isConst&&tr(`Cannot convert argument of type ${B.$$.smartPtrType?B.$$.smartPtrType.name:B.$$.ptrType.name} to parameter type ${this.name}`);var Q=B.$$.ptrType.registeredClass;if(G=si(B.$$.ptr,Q,this.registeredClass),this.isSmartPointer)switch(B.$$.smartPtr===void 0&&tr("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:B.$$.smartPtrType===this?G=B.$$.smartPtr:tr(`Cannot convert argument of type ${B.$$.smartPtrType?B.$$.smartPtrType.name:B.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:G=B.$$.smartPtr;break;case 2:if(B.$$.smartPtrType===this)G=B.$$.smartPtr;else{var se=B.clone();G=this.rawShare(G,wi.toHandle(()=>se.delete())),F!==null&&F.push(this.rawDestructor,G)}break;default:tr("Unsupporting sharing policy")}return G}function mr(F,B){if(B===null)return this.isReference&&tr(`null is not a valid ${this.name}`),0;B.$$||tr(`Cannot pass "${embindRepr(B)}" as a ${this.name}`),B.$$.ptr||tr(`Cannot pass deleted object as a pointer of type ${this.name}`),B.$$.ptrType.isConst&&tr(`Cannot convert argument of type ${B.$$.ptrType.name} to parameter type ${this.name}`);var G=B.$$.ptrType.registeredClass,Q=si(B.$$.ptr,G,this.registeredClass);return Q}var wa=(F,B,G)=>{if(B===G)return F;if(G.baseClass===void 0)return null;var Q=wa(F,B,G.baseClass);return Q===null?null:G.downcast(Q)},ai={},Hs=(F,B)=>{for(B===void 0&&tr("ptr should not be undefined");F.baseClass;)B=F.upcast(B),F=F.baseClass;return B},rr=(F,B)=>(B=Hs(F,B),ai[B]),Xr=(F,B)=>{(!B.ptrType||!B.ptr)&&Bi("makeClassHandle requires ptr and ptrType");var G=!!B.smartPtrType,Q=!!B.smartPtr;return G!==Q&&Bi("Both smartPtrType and smartPtr must be specified"),B.count={value:1},pt(Object.create(F,{$$:{value:B,writable:!0}}))};function oi(F){var B=this.getPointee(F);if(!B)return this.destructor(F),null;var G=rr(this.registeredClass,B);if(G!==void 0){if(G.$$.count.value===0)return G.$$.ptr=B,G.$$.smartPtr=F,G.clone();var Q=G.clone();return this.destructor(F),Q}function se(){return this.isSmartPointer?Xr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:B,smartPtrType:this,smartPtr:F}):Xr(this.registeredClass.instancePrototype,{ptrType:this,ptr:F})}var le=this.registeredClass.getActualType(B),Ae=Kt[le];if(!Ae)return se.call(this);var xe;this.isConst?xe=Ae.constPointerType:xe=Ae.pointerType;var $e=wa(B,this.registeredClass,xe.registeredClass);return $e===null?se.call(this):this.isSmartPointer?Xr(xe.registeredClass.instancePrototype,{ptrType:xe,ptr:$e,smartPtrType:this,smartPtr:F}):Xr(xe.registeredClass.instancePrototype,{ptrType:xe,ptr:$e})}var xi=()=>{Object.assign(Wr.prototype,{getPointee(F){return this.rawGetPointee&&(F=this.rawGetPointee(F)),F},destructor(F){var B;(B=this.rawDestructor)===null||B===void 0||B.call(this,F)},argPackAdvance:ve,readValueFromPointer:er,fromWireType:oi})};function Wr(F,B,G,Q,se,le,Ae,xe,$e,Ze,nt){this.name=F,this.registeredClass=B,this.isReference=G,this.isConst=Q,this.isSmartPointer=se,this.pointeeType=le,this.sharingPolicy=Ae,this.rawGetPointee=xe,this.rawConstructor=$e,this.rawShare=Ze,this.rawDestructor=nt,!se&&B.baseClass===void 0?Q?(this.toWireType=yn,this.destructorFunction=null):(this.toWireType=mr,this.destructorFunction=null):this.toWireType=ps}var br=(F,B,G)=>{r.hasOwnProperty(F)||Bi("Replacing nonexistent public symbol"),r[F].overloadTable!==void 0&&G!==void 0?r[F].overloadTable[G]=B:(r[F]=B,r[F].argCount=G)},Fr=[],Ha,Ut=F=>{var B=Fr[F];return B||(Fr[F]=B=Ha.get(F)),B},$l=function(F,B){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(F.includes("j"))return dynCallLegacy(F,B,G);var Q=Ut(B),se=Q(...G);return se},Io=function(F,B){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var Q=arguments.length,se=new Array(Q),le=0;le<Q;le++)se[le]=arguments[le];return $l(F,B,se,G)}},En=function(F,B){F=_r(F);function G(){if(F.includes("j"))return Io(F,B);var se=Ut(B);return se}var Q=G();return typeof Q!="function"&&tr(`unknown function pointer with signature ${F}: ${B}`),Q};class Ya extends Error{}var Qa=F=>{var B=ff(F),G=_r(B);return ws(B),G},Do=(F,B)=>{var G=[],Q={};function se(le){if(!Q[le]&&!Di[le]){if(Li[le]){Li[le].forEach(se);return}G.push(le),Q[le]=!0}}throw B.forEach(se),new Ya(`${F}: `+G.map(Qa).join([", "]))},sf=(F,B,G,Q,se,le,Ae,xe,$e,Ze,nt,Pt,Wt)=>{nt=_r(nt),le=En(se,le),xe&&(xe=En(Ae,xe)),Ze&&(Ze=En($e,Ze)),Wt=En(Pt,Wt);var nr=ms(nt);Tr(nr,function(){Do(`Cannot construct ${nt} due to unbound types`,[Q])}),Vn([F,B,G],Q?[Q]:[],or=>{or=or[0];var Or,Nr;Q?(Or=or.registeredClass,Nr=Or.instancePrototype):Nr=jt.prototype;var Gr=Lt(nt,function(){if(Object.getPrototypeOf(this)!==Vi)throw new ii(`Use 'new' to construct ${nt}`);if(Vr.constructor_body===void 0)throw new ii(`${nt} has no accessible constructor`);for(var Kr=arguments.length,As=new Array(Kr),ui=0;ui<Kr;ui++)As[ui]=arguments[ui];var Yn=Vr.constructor_body[As.length];if(Yn===void 0)throw new ii(`Tried to invoke ctor of ${nt} with invalid number of parameters (${As.length}) - expected (${Object.keys(Vr.constructor_body).toString()}) parameters instead!`);return Yn.apply(this,As)}),Vi=Object.create(Nr,{constructor:{value:Gr}});Gr.prototype=Vi;var Vr=new yi(nt,Gr,Vi,Wt,Or,le,xe,Ze);if(Vr.baseClass){var Hn,uo;(uo=(Hn=Vr.baseClass).__derivedClasses)!==null&&uo!==void 0||(Hn.__derivedClasses=[]),Vr.baseClass.__derivedClasses.push(Vr)}var fc=new Wr(nt,Vr,!0,!1,!1),gr=new Wr(nt+"*",Vr,!1,!1,!1),Xs=new Wr(nt+" const*",Vr,!1,!0,!1);return Kt[F]={pointerType:gr,constPointerType:Xs},br(nr,Gr),[fc,gr,Xs]})},Ja=(F,B)=>{for(var G=[],Q=0;Q<F;Q++)G.push(W[B+Q*4>>2]);return G};function uu(F){for(var B=1;B<F.length;++B)if(F[B]!==null&&F[B].destructorFunction===void 0)return!0;return!1}function Xa(F,B,G,Q,se,le){var Ae=B.length;Ae<2&&tr("argTypes array size mismatch! Must at least get return value and 'this' types!");var xe=B[1]!==null&&G!==null,$e=uu(B),Ze=B[0].name!=="void",nt=Ae-2,Pt=new Array(nt),Wt=[],nr=[],or=function(){nr.length=0;var Or;Wt.length=xe?2:1,Wt[0]=se,xe&&(Or=B[1].toWireType(nr,this),Wt[1]=Or);for(var Nr=0;Nr<nt;++Nr)Pt[Nr]=B[Nr+2].toWireType(nr,Nr<0||arguments.length<=Nr?void 0:arguments[Nr]),Wt.push(Pt[Nr]);var Gr=Q(...Wt);function Vi(Vr){if($e)Ht(nr);else for(var Hn=xe?1:2;Hn<B.length;Hn++){var uo=Hn===1?Or:Pt[Hn-2];B[Hn].destructorFunction!==null&&B[Hn].destructorFunction(uo)}if(Ze)return B[0].fromWireType(Vr)}return Vi(Gr)};return Lt(F,or)}var Za=(F,B,G,Q,se,le)=>{var Ae=Ja(B,G);se=En(Q,se),Vn([],[F],xe=>{xe=xe[0];var $e=`constructor ${xe.name}`;if(xe.registeredClass.constructor_body===void 0&&(xe.registeredClass.constructor_body=[]),xe.registeredClass.constructor_body[B-1]!==void 0)throw new ii(`Cannot register multiple constructors with identical number of parameters (${B-1}) for class '${xe.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return xe.registeredClass.constructor_body[B-1]=()=>{Do(`Cannot construct ${xe.name} due to unbound types`,Ae)},Vn([],Ae,Ze=>(Ze.splice(1,0,null),xe.registeredClass.constructor_body[B-1]=Xa($e,Ze,null,se,le),[])),[]})},du=F=>{F=F.trim();const B=F.indexOf("(");return B===-1?F:F.slice(0,B)},zl=(F,B,G,Q,se,le,Ae,xe,$e,Ze)=>{var nt=Ja(G,Q);B=_r(B),B=du(B),le=En(se,le),Vn([],[F],Pt=>{Pt=Pt[0];var Wt=`${Pt.name}.${B}`;B.startsWith("@@")&&(B=Symbol[B.substring(2)]),xe&&Pt.registeredClass.pureVirtualFunctions.push(B);function nr(){Do(`Cannot call ${Wt} due to unbound types`,nt)}var or=Pt.registeredClass.instancePrototype,Or=or[B];return Or===void 0||Or.overloadTable===void 0&&Or.className!==Pt.name&&Or.argCount===G-2?(nr.argCount=G-2,nr.className=Pt.name,or[B]=nr):(Ar(or,B,Wt),or[B].overloadTable[G-2]=nr),Vn([],nt,Nr=>{var Gr=Xa(Wt,Nr,Pt,le,Ae);return or[B].overloadTable===void 0?(Gr.argCount=G-2,or[B]=Gr):or[B].overloadTable[G-2]=Gr,[]}),[]})},ar=[],bi=[],Lo=F=>{F>9&&--bi[F+1]===0&&(bi[F]=void 0,ar.push(F))},Vl=()=>bi.length/2-5-ar.length,fu=()=>{bi.push(0,1,void 0,1,null,1,!0,1,!1,1),r.count_emval_handles=Vl},wi={toValue:F=>(F||tr(`Cannot use deleted val. handle = ${F}`),bi[F]),toHandle:F=>{switch(F){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const B=ar.pop()||bi.length;return bi[B]=F,bi[B+1]=1,B}}}},Ul={name:"emscripten::val",fromWireType:F=>{var B=wi.toValue(F);return Lo(F),B},toWireType:(F,B)=>wi.toHandle(B),argPackAdvance:ve,readValueFromPointer:er,destructorFunction:null},ql=F=>ne(F,Ul),Bo=(F,B)=>{switch(B){case 4:return function(G){return this.fromWireType(K[G>>2])};case 8:return function(G){return this.fromWireType(J[G>>3])};default:throw new TypeError(`invalid float width (${B}): ${F}`)}},gs=(F,B,G)=>{B=_r(B),ne(F,{name:B,fromWireType:Q=>Q,toWireType:(Q,se)=>se,argPackAdvance:ve,readValueFromPointer:Bo(B,G),destructorFunction:null})},vs=(F,B,G,Q,se,le,Ae,xe)=>{var $e=Ja(B,G);F=_r(F),F=du(F),se=En(Q,se),Tr(F,function(){Do(`Cannot call ${F} due to unbound types`,$e)},B-1),Vn([],$e,Ze=>{var nt=[Ze[0],null].concat(Ze.slice(1));return br(F,Xa(F,nt,null,se,le),B-1),[]})},ys=(F,B,G)=>{switch(B){case 1:return G?Q=>O[Q]:Q=>M[Q];case 2:return G?Q=>D[Q>>1]:Q=>I[Q>>1];case 4:return G?Q=>$[Q>>2]:Q=>W[Q>>2];default:throw new TypeError(`invalid integer width (${B}): ${F}`)}},eo=(F,B,G,Q,se)=>{B=_r(B);var le=nt=>nt;if(Q===0){var Ae=32-8*G;le=nt=>nt<<Ae>>>Ae}var xe=B.includes("unsigned"),$e=(nt,Pt)=>{},Ze;xe?Ze=function(nt,Pt){return $e(Pt,this.name),Pt>>>0}:Ze=function(nt,Pt){return $e(Pt,this.name),Pt},ne(F,{name:B,fromWireType:le,toWireType:Ze,argPackAdvance:ve,readValueFromPointer:ys(B,G,Q!==0),destructorFunction:null})},ji=(F,B,G)=>{var Q=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],se=Q[B];function le(Ae){var xe=W[Ae>>2],$e=W[Ae+4>>2];return new se(O.buffer,$e,xe)}G=_r(G),ne(F,{name:G,fromWireType:le,argPackAdvance:ve,readValueFromPointer:le},{ignoreDuplicateRegistrations:!0})},xs=Object.assign({optional:!0},Ul),Wl=(F,B)=>{ne(F,xs)},hu=(F,B,G,Q)=>{if(!(Q>0))return 0;for(var se=G,le=G+Q-1,Ae=0;Ae<F.length;++Ae){var xe=F.charCodeAt(Ae);if(xe>=55296&&xe<=57343){var $e=F.charCodeAt(++Ae);xe=65536+((xe&1023)<<10)|$e&1023}if(xe<=127){if(G>=le)break;B[G++]=xe}else if(xe<=2047){if(G+1>=le)break;B[G++]=192|xe>>6,B[G++]=128|xe&63}else if(xe<=65535){if(G+2>=le)break;B[G++]=224|xe>>12,B[G++]=128|xe>>6&63,B[G++]=128|xe&63}else{if(G+3>=le)break;B[G++]=240|xe>>18,B[G++]=128|xe>>12&63,B[G++]=128|xe>>6&63,B[G++]=128|xe&63}}return B[G]=0,G-se},Ai=(F,B,G)=>hu(F,M,B,G),Fo=F=>{for(var B=0,G=0;G<F.length;++G){var Q=F.charCodeAt(G);Q<=127?B++:Q<=2047?B+=2:Q>=55296&&Q<=57343?(B+=4,++G):B+=3}return B},Gl=typeof TextDecoder<"u"?new TextDecoder:void 0,to=function(F){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var Q=B+G,se=B;F[se]&&!(se>=Q);)++se;if(se-B>16&&F.buffer&&Gl)return Gl.decode(F.subarray(B,se));for(var le="";B<se;){var Ae=F[B++];if(!(Ae&128)){le+=String.fromCharCode(Ae);continue}var xe=F[B++]&63;if((Ae&224)==192){le+=String.fromCharCode((Ae&31)<<6|xe);continue}var $e=F[B++]&63;if((Ae&240)==224?Ae=(Ae&15)<<12|xe<<6|$e:Ae=(Ae&7)<<18|xe<<12|$e<<6|F[B++]&63,Ae<65536)le+=String.fromCharCode(Ae);else{var Ze=Ae-65536;le+=String.fromCharCode(55296|Ze>>10,56320|Ze&1023)}}return le},mu=(F,B)=>F?to(M,F,B):"",af=(F,B)=>{B=_r(B),ne(F,{name:B,fromWireType(G){for(var Q=W[G>>2],se=G+4,le,xe,Ae=se,xe=0;xe<=Q;++xe){var $e=se+xe;if(xe==Q||M[$e]==0){var Ze=$e-Ae,nt=mu(Ae,Ze);le===void 0?le=nt:(le+="\0",le+=nt),Ae=$e+1}}return ws(G),le},toWireType(G,Q){Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q));var se,le=typeof Q=="string";le||ArrayBuffer.isView(Q)&&Q.BYTES_PER_ELEMENT==1||tr("Cannot pass non-string to std::string"),le?se=Fo(Q):se=Q.length;var Ae=tc(4+se+1),xe=Ae+4;return W[Ae>>2]=se,le?Ai(Q,xe,se+1):M.set(Q,xe),G!==null&&G.push(ws,Ae),Ae},argPackAdvance:ve,readValueFromPointer:er,destructorFunction(G){ws(G)}})},$i=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ja=(F,B)=>{for(var G=F,Q=G>>1,se=Q+B/2;!(Q>=se)&&I[Q];)++Q;if(G=Q<<1,G-F>32&&$i)return $i.decode(M.subarray(F,G));for(var le="",Ae=0;!(Ae>=B/2);++Ae){var xe=D[F+Ae*2>>1];if(xe==0)break;le+=String.fromCharCode(xe)}return le},Aa=(F,B,G)=>{if(G!=null||(G=2147483647),G<2)return 0;G-=2;for(var Q=B,se=G<F.length*2?G/2:F.length,le=0;le<se;++le){var Ae=F.charCodeAt(le);D[B>>1]=Ae,B+=2}return D[B>>1]=0,B-Q},$o=F=>F.length*2,Kl=(F,B)=>{for(var G=0,Q="";!(G>=B/4);){var se=$[F+G*4>>2];if(se==0)break;if(++G,se>=65536){var le=se-65536;Q+=String.fromCharCode(55296|le>>10,56320|le&1023)}else Q+=String.fromCharCode(se)}return Q},li=(F,B,G)=>{if(G!=null||(G=2147483647),G<4)return 0;for(var Q=B,se=Q+G-4,le=0;le<F.length;++le){var Ae=F.charCodeAt(le);if(Ae>=55296&&Ae<=57343){var xe=F.charCodeAt(++le);Ae=65536+((Ae&1023)<<10)|xe&1023}if($[B>>2]=Ae,B+=4,B+4>se)break}return $[B>>2]=0,B-Q},Hl=F=>{for(var B=0,G=0;G<F.length;++G){var Q=F.charCodeAt(G);Q>=55296&&Q<=57343&&++G,B+=4}return B},Kn=(F,B,G)=>{G=_r(G);var Q,se,le,Ae;B===2?(Q=ja,se=Aa,Ae=$o,le=xe=>I[xe>>1]):B===4&&(Q=Kl,se=li,Ae=Hl,le=xe=>W[xe>>2]),ne(F,{name:G,fromWireType:xe=>{for(var $e=W[xe>>2],Ze,nt=xe+4,Pt=0;Pt<=$e;++Pt){var Wt=xe+4+Pt*B;if(Pt==$e||le(Wt)==0){var nr=Wt-nt,or=Q(nt,nr);Ze===void 0?Ze=or:(Ze+="\0",Ze+=or),nt=Wt+B}}return ws(xe),Ze},toWireType:(xe,$e)=>{typeof $e!="string"&&tr(`Cannot pass non-string to C++ string type ${G}`);var Ze=Ae($e),nt=tc(4+Ze+B);return W[nt>>2]=Ze/B,se($e,nt+4,Ze+B),xe!==null&&xe.push(ws,nt),nt},argPackAdvance:ve,readValueFromPointer:er,destructorFunction(xe){ws(xe)}})},Yl=(F,B,G,Q,se,le)=>{sr[F]={name:_r(B),rawConstructor:En(G,Q),rawDestructor:En(se,le),fields:[]}},$r=(F,B,G,Q,se,le,Ae,xe,$e,Ze)=>{sr[F].fields.push({fieldName:_r(B),getterReturnType:G,getter:En(Q,se),getterContext:le,setterArgumentType:Ae,setter:En(xe,$e),setterContext:Ze})},Si=(F,B)=>{B=_r(B),ne(F,{isVoid:!0,name:B,argPackAdvance:0,fromWireType:()=>{},toWireType:(G,Q)=>{}})},ro=[],zr=(F,B,G,Q)=>(F=ro[F],B=wi.toValue(B),F(null,B,G,Q)),pu={},qt=F=>{var B=pu[F];return B===void 0?_r(F):B},no=()=>{if(typeof globalThis=="object")return globalThis;function F(B){B.$$$embind_global$$$=B;var G=typeof $$$embind_global$$$=="object"&&B.$$$embind_global$$$==B;return G||delete B.$$$embind_global$$$,G}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&F(global)?$$$embind_global$$$=global:typeof self=="object"&&F(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},sn=F=>F===0?wi.toHandle(no()):(F=qt(F),wi.toHandle(no()[F])),Pn=F=>{var B=ro.length;return ro.push(F),B},_n=(F,B)=>{var G=Di[F];return G===void 0&&tr(`${B} has unknown type ${Qa(F)}`),G},Ql=(F,B)=>{for(var G=new Array(F),Q=0;Q<F;++Q)G[Q]=_n(W[B+Q*4>>2],`parameter ${Q}`);return G},Sa=(F,B,G)=>{var Q=[],se=F.toWireType(Q,G);return Q.length&&(W[B>>2]=wi.toHandle(Q)),se},of=Reflect.construct,zo=(F,B,G)=>{var Q=Ql(F,B),se=Q.shift();F--;var le=new Array(F),Ae=($e,Ze,nt,Pt)=>{for(var Wt=0,nr=0;nr<F;++nr)le[nr]=Q[nr].readValueFromPointer(Pt+Wt),Wt+=Q[nr].argPackAdvance;var or=G===1?of(Ze,le):Ze.apply($e,le);return Sa(se,nt,or)},xe=`methodCaller<(${Q.map($e=>$e.name).join(", ")}) => ${se.name}>`;return Pn(Lt(xe,Ae))},Jl=F=>{F>9&&(bi[F+1]+=1)},Ca=F=>{var B=wi.toValue(F);Ht(B),Lo(F)},Vo=(F,B)=>{F=_n(F,"_emval_take_value");var G=F.readValueFromPointer(B);return wi.toHandle(G)},Uo=(F,B,G,Q)=>{var se=new Date().getFullYear(),le=new Date(se,0,1),Ae=new Date(se,6,1),xe=le.getTimezoneOffset(),$e=Ae.getTimezoneOffset(),Ze=Math.max(xe,$e);W[F>>2]=Ze*60,$[B>>2]=+(xe!=$e);var nt=nr=>{var or=nr>=0?"-":"+",Or=Math.abs(nr),Nr=String(Math.floor(Or/60)).padStart(2,"0"),Gr=String(Or%60).padStart(2,"0");return`UTC${or}${Nr}${Gr}`},Pt=nt(xe),Wt=nt($e);$e<xe?(Ai(Pt,G,17),Ai(Wt,Q,17)):(Ai(Pt,Q,17),Ai(Wt,G,17))},Xl=()=>2147483648,gu=(F,B)=>Math.ceil(F/B)*B,vu=F=>{var B=N.buffer,G=(F-B.byteLength+65535)/65536|0;try{return N.grow(G),Z(),1}catch{}},Zl=F=>{var B=M.length;F>>>=0;var G=Xl();if(F>G)return!1;for(var Q=1;Q<=4;Q*=2){var se=B*(1+.2/Q);se=Math.min(se,F+100663296);var le=Math.min(G,gu(Math.max(F,se),65536)),Ae=vu(le);if(Ae)return!0}return!1},qo={},lf=()=>d||"./this.program",bs=()=>{if(!bs.strings){var F=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:F,_:lf()};for(var G in qo)qo[G]===void 0?delete B[G]:B[G]=qo[G];var Q=[];for(var G in B)Q.push(`${G}=${B[G]}`);bs.strings=Q}return bs.strings},cf=(F,B)=>{var G=0,Q=0;for(var se of bs()){var le=B+G;W[F+Q>>2]=le,G+=Ai(se,le,1/0)+1,Q+=4}return 0},yu=(F,B)=>{var G=bs();W[F>>2]=G.length;var Q=0;for(var se of G)Q+=Fo(se)+1;return W[B>>2]=Q,0},xu=F=>52;function uf(F,B,G,Q,se){return 70}var bu=[null,[],[]],Wo=(F,B)=>{var G=bu[F];B===0||B===10?((F===1?x:C)(to(G)),G.length=0):G.push(B)},df=(F,B,G,Q)=>{for(var se=0,le=0;le<G;le++){var Ae=W[B>>2],xe=W[B+4>>2];B+=8;for(var $e=0;$e<xe;$e++)Wo(F,M[Ae+$e]);se+=xe}return W[Q>>2]=se,0},ec=F=>F;hs(),Dt(),xi(),fu(),r.noExitRuntime&&r.noExitRuntime,r.print&&(x=r.print),r.printErr&&(C=r.printErr),r.wasmBinary&&(A=r.wasmBinary),r.arguments&&r.arguments,r.thisProgram&&(d=r.thisProgram);var wu={s:yt,w:nn,a:it,j:Rt,m:Jt,N:ze,p:Ye,da:st,d:rt,_:It,sa:Ka,Z:Fi,na:Ne,qa:sf,pa:Za,F:zl,la:ql,R:gs,S:vs,y:eo,t:ji,ra:Wl,ma:af,O:Kn,K:Yl,ta:$r,oa:Si,V:zr,ua:Lo,wa:sn,$:zo,T:Jl,va:Ca,ka:Vo,aa:Uo,ea:Zl,ba:cf,ca:yu,fa:xu,X:uf,Q:df,I:gf,C:lo,U:mf,P:Js,q:Ko,b:sc,D:cc,ia:Qs,c:Nu,ha:ci,h:Ys,i:so,r:_u,M:oo,v:Tu,E:lc,J:ao,A:uc,H:Ho,W:yf,k:Eu,f:pf,e:zi,g:ic,L:Ru,l:ac,ja:Ou,o:Go,x:ka,u:oc,ga:Mu,B:co,n:Pu,G:Yo,Y:vf,z:ec},wr=await qe();wr.ya;var ff=wr.za,ws=r._free=wr.Aa,tc=r._malloc=wr.Ca,hf=wr.Da,Vt=wr.Ea,ju=wr.Fa,Au=wr.Ga,Su=wr.Ha,rc=wr.Ia,nc=wr.Ja,io=wr.Ka;r.dynCall_viijii=wr.La;var Cu=r.dynCall_vij=wr.Ma;r.dynCall_jiji=wr.Na;var ku=r.dynCall_jiiii=wr.Oa;r.dynCall_iiiiij=wr.Pa,r.dynCall_iiiiijj=wr.Qa,r.dynCall_iiiiiijj=wr.Ra;function ic(F,B,G,Q){var se=fe();try{Ut(F)(B,G,Q)}catch(le){if(_e(se),le!==le+0)throw le;Vt(1,0)}}function sc(F,B){var G=fe();try{return Ut(F)(B)}catch(Q){if(_e(G),Q!==Q+0)throw Q;Vt(1,0)}}function zi(F,B,G){var Q=fe();try{Ut(F)(B,G)}catch(se){if(_e(Q),se!==se+0)throw se;Vt(1,0)}}function Nu(F,B,G){var Q=fe();try{return Ut(F)(B,G)}catch(se){if(_e(Q),se!==se+0)throw se;Vt(1,0)}}function Ys(F,B,G,Q){var se=fe();try{return Ut(F)(B,G,Q)}catch(le){if(_e(se),le!==le+0)throw le;Vt(1,0)}}function mf(F,B,G,Q,se){var le=fe();try{return Ut(F)(B,G,Q,se)}catch(Ae){if(_e(le),Ae!==Ae+0)throw Ae;Vt(1,0)}}function pf(F,B){var G=fe();try{Ut(F)(B)}catch(Q){if(_e(G),Q!==Q+0)throw Q;Vt(1,0)}}function Eu(F){var B=fe();try{Ut(F)()}catch(G){if(_e(B),G!==G+0)throw G;Vt(1,0)}}function Pu(F,B,G,Q,se,le,Ae,xe,$e,Ze,nt){var Pt=fe();try{Ut(F)(B,G,Q,se,le,Ae,xe,$e,Ze,nt)}catch(Wt){if(_e(Pt),Wt!==Wt+0)throw Wt;Vt(1,0)}}function ac(F,B,G,Q,se){var le=fe();try{Ut(F)(B,G,Q,se)}catch(Ae){if(_e(le),Ae!==Ae+0)throw Ae;Vt(1,0)}}function so(F,B,G,Q,se){var le=fe();try{return Ut(F)(B,G,Q,se)}catch(Ae){if(_e(le),Ae!==Ae+0)throw Ae;Vt(1,0)}}function ka(F,B,G,Q,se,le,Ae){var xe=fe();try{Ut(F)(B,G,Q,se,le,Ae)}catch($e){if(_e(xe),$e!==$e+0)throw $e;Vt(1,0)}}function _u(F,B,G,Q,se,le){var Ae=fe();try{return Ut(F)(B,G,Q,se,le)}catch(xe){if(_e(Ae),xe!==xe+0)throw xe;Vt(1,0)}}function Go(F,B,G,Q,se,le){var Ae=fe();try{Ut(F)(B,G,Q,se,le)}catch(xe){if(_e(Ae),xe!==xe+0)throw xe;Vt(1,0)}}function Tu(F,B,G,Q,se,le,Ae){var xe=fe();try{return Ut(F)(B,G,Q,se,le,Ae)}catch($e){if(_e(xe),$e!==$e+0)throw $e;Vt(1,0)}}function oc(F,B,G,Q,se,le,Ae,xe){var $e=fe();try{Ut(F)(B,G,Q,se,le,Ae,xe)}catch(Ze){if(_e($e),Ze!==Ze+0)throw Ze;Vt(1,0)}}function lc(F,B,G,Q,se,le,Ae,xe){var $e=fe();try{return Ut(F)(B,G,Q,se,le,Ae,xe)}catch(Ze){if(_e($e),Ze!==Ze+0)throw Ze;Vt(1,0)}}function Ko(F){var B=fe();try{return Ut(F)()}catch(G){if(_e(B),G!==G+0)throw G;Vt(1,0)}}function ao(F,B,G,Q,se,le,Ae,xe,$e){var Ze=fe();try{return Ut(F)(B,G,Q,se,le,Ae,xe,$e)}catch(nt){if(_e(Ze),nt!==nt+0)throw nt;Vt(1,0)}}function oo(F,B,G,Q,se,le,Ae){var xe=fe();try{return Ut(F)(B,G,Q,se,le,Ae)}catch($e){if(_e(xe),$e!==$e+0)throw $e;Vt(1,0)}}function cc(F,B,G,Q){var se=fe();try{return Ut(F)(B,G,Q)}catch(le){if(_e(se),le!==le+0)throw le;Vt(1,0)}}function gf(F,B,G,Q){var se=fe();try{return Ut(F)(B,G,Q)}catch(le){if(_e(se),le!==le+0)throw le;Vt(1,0)}}function Ou(F,B,G,Q,se,le,Ae,xe){var $e=fe();try{Ut(F)(B,G,Q,se,le,Ae,xe)}catch(Ze){if(_e($e),Ze!==Ze+0)throw Ze;Vt(1,0)}}function lo(F,B,G,Q,se,le){var Ae=fe();try{return Ut(F)(B,G,Q,se,le)}catch(xe){if(_e(Ae),xe!==xe+0)throw xe;Vt(1,0)}}function uc(F,B,G,Q,se,le,Ae,xe,$e,Ze){var nt=fe();try{return Ut(F)(B,G,Q,se,le,Ae,xe,$e,Ze)}catch(Pt){if(_e(nt),Pt!==Pt+0)throw Pt;Vt(1,0)}}function Qs(F,B,G){var Q=fe();try{return Ut(F)(B,G)}catch(se){if(_e(Q),se!==se+0)throw se;Vt(1,0)}}function ci(F,B,G,Q,se){var le=fe();try{return Ut(F)(B,G,Q,se)}catch(Ae){if(_e(le),Ae!==Ae+0)throw Ae;Vt(1,0)}}function co(F,B,G,Q,se,le,Ae,xe,$e,Ze){var nt=fe();try{Ut(F)(B,G,Q,se,le,Ae,xe,$e,Ze)}catch(Pt){if(_e(nt),Pt!==Pt+0)throw Pt;Vt(1,0)}}function Mu(F,B,G,Q,se,le,Ae,xe,$e){var Ze=fe();try{Ut(F)(B,G,Q,se,le,Ae,xe,$e)}catch(nt){if(_e(Ze),nt!==nt+0)throw nt;Vt(1,0)}}function Ru(F,B,G,Q,se,le,Ae){var xe=fe();try{Ut(F)(B,G,Q,se,le,Ae)}catch($e){if(_e(xe),$e!==$e+0)throw $e;Vt(1,0)}}function Js(F,B,G,Q){var se=fe();try{return Ut(F)(B,G,Q)}catch(le){if(_e(se),le!==le+0)throw le;Vt(1,0)}}function Ho(F,B,G,Q,se,le,Ae,xe,$e,Ze,nt,Pt){var Wt=fe();try{return Ut(F)(B,G,Q,se,le,Ae,xe,$e,Ze,nt,Pt)}catch(nr){if(_e(Wt),nr!==nr+0)throw nr;Vt(1,0)}}function Yo(F,B,G,Q,se,le,Ae,xe,$e,Ze,nt,Pt,Wt,nr,or,Or){var Nr=fe();try{Ut(F)(B,G,Q,se,le,Ae,xe,$e,Ze,nt,Pt,Wt,nr,or,Or)}catch(Gr){if(_e(Nr),Gr!==Gr+0)throw Gr;Vt(1,0)}}function vf(F,B,G,Q){var se=fe();try{Cu(F,B,G,Q)}catch(le){if(_e(se),le!==le+0)throw le;Vt(1,0)}}function yf(F,B,G,Q,se){var le=fe();try{return ku(F,B,G,Q,se)}catch(Ae){if(_e(le),Ae!==Ae+0)throw Ae;Vt(1,0)}}function js(){if(ue>0){je=js;return}if(de(),ue>0){je=js;return}function F(){var B;r.calledRun=!0,!T&&(ce(),n(r),(B=r.onRuntimeInitialized)===null||B===void 0||B.call(r),ee())}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),F()},1)):F()}function dc(){if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.shift()()}return dc(),js(),t=s,t};function aae(e){return CD(kD,e)}async function oae(e,t){return sae(kD,e,t)}const ND=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"],["any","Any"]],lae=[...ND,["unknown"]].map(e=>e[0]),z1=new Map(ND);function cae(e){for(const[t,r]of z1)if(e===r)return t;return"unknown"}function uae(e){if(ED(e))return{width:e.naturalWidth,height:e.naturalHeight};if(PD(e))return{width:e.width.baseVal.value,height:e.height.baseVal.value};if(_D(e))return{width:e.videoWidth,height:e.videoHeight};if(OD(e))return{width:e.width,height:e.height};if(RD(e))return{width:e.displayWidth,height:e.displayHeight};if(TD(e))return{width:e.width,height:e.height};if(MD(e))return{width:e.width,height:e.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function ED(e){var t,r;try{return e instanceof((r=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:r.HTMLImageElement)}catch{return!1}}function PD(e){var t,r;try{return e instanceof((r=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:r.SVGImageElement)}catch{return!1}}function _D(e){var t,r;try{return e instanceof((r=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:r.HTMLVideoElement)}catch{return!1}}function TD(e){var t,r;try{return e instanceof((r=(t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)==null?void 0:r.HTMLCanvasElement)}catch{return!1}}function OD(e){try{return e instanceof ImageBitmap||Object.prototype.toString.call(e)==="[object ImageBitmap]"}catch{return!1}}function MD(e){try{return e instanceof OffscreenCanvas||Object.prototype.toString.call(e)==="[object OffscreenCanvas]"}catch{return!1}}function RD(e){try{return e instanceof VideoFrame||Object.prototype.toString.call(e)==="[object VideoFrame]"}catch{return!1}}function dae(e){try{return e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"}catch{return!1}}function fae(e){try{return e instanceof ImageData||Object.prototype.toString.call(e)==="[object ImageData]"}catch{return!1}}function hae(e,t){try{const r=new OffscreenCanvas(e,t);if(r.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return r;throw void 0}catch{const r=document.createElement("canvas");return r.width=e,r.height=t,r}}async function ID(e){if(ED(e)&&!await vae(e))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(PD(e)&&!await yae(e))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(RD(e)&&xae(e))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(_D(e)&&(e.readyState===0||e.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(OD(e)&&wae(e))throw new DOMException("The image source is detached.","InvalidStateError");const{width:t,height:r}=uae(e);if(t===0||r===0)return null;const n=hae(t,r).getContext("2d");n.drawImage(e,0,0);try{return n.getImageData(0,0,t,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function mae(e){let t;try{t=await createImageBitmap(e)}catch{try{if(globalThis.Image){t=new Image;let r="";try{r=URL.createObjectURL(e),t.src=r,await t.decode()}finally{URL.revokeObjectURL(r)}}else return e}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}}return await ID(t)}function pae(e){const{width:t,height:r}=e;if(t===0||r===0)return null;const n=e.getContext("2d");try{return n.getImageData(0,0,t,r)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function gae(e){if(dae(e))return await mae(e);if(fae(e)){if(bae(e))throw new DOMException("The image data has been detached.","InvalidStateError");return e}return TD(e)||MD(e)?pae(e):await ID(e)}async function vae(e){try{return await e.decode(),!0}catch{return!1}}async function yae(e){var t;try{return await((t=e.decode)==null?void 0:t.call(e)),!0}catch{return!1}}function xae(e){return e.format===null}function bae(e){return e.data.buffer.byteLength===0}function wae(e){return e.width===0&&e.height===0}function i_(e,t){return jae(e)?new DOMException(`${t}: ${e.message}`,e.name):Aae(e)?new e.constructor(`${t}: ${e.message}`):new Error(`${t}: ${e}`)}function jae(e){return e instanceof DOMException||Object.prototype.toString.call(e)==="[object DOMException]"}function Aae(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}var Vp;class V1{constructor(t={}){zse(this,Vp);var r;try{const n=(r=t==null?void 0:t.formats)==null?void 0:r.filter(i=>i!=="unknown");if((n==null?void 0:n.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const i of n??[])if(!z1.has(i))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${i}' is not a valid enum value of type BarcodeFormat.`);Vse(this,Vp,n??[]),aae({fireImmediately:!0}).catch(()=>{})}catch(n){throw i_(n,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return lae.filter(t=>t!=="unknown")}async detect(t){try{const r=await gae(t);if(r===null)return[];let n;const i={tryCode39ExtendedMode:!1,textMode:"Plain",formats:$se(this,Vp).map(s=>z1.get(s))};try{n=await oae(r,i)}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return n.map(s=>{const{topLeft:{x:a,y:l},topRight:{x:u,y:d},bottomLeft:{x:h,y:m},bottomRight:{x:p,y:v}}=s.position,x=Math.min(a,u,h,p),C=Math.min(l,d,m,v),A=Math.max(a,u,h,p),N=Math.max(l,d,m,v);return{boundingBox:new DOMRectReadOnly(x,C,A-x,N-C),rawValue:s.text,format:cae(s.format),cornerPoints:[{x:a,y:l},{x:u,y:d},{x:p,y:v},{x:h,y:m}]}})}catch(r){throw i_(r,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Vp=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=V1);function Sae(e){const{onClick:t,disabled:r,className:n}=e,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...e.style};return St.createElement("svg",{onClick:r?void 0:t,className:n,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{d:"M3 3L6.00007 6.00007M21 21L19.8455 19.8221M9.74194 4.06811C9.83646 4.04279 9.93334 4.02428 10.0319 4.01299C10.1453 4 10.2683 4 10.5141 4H13.5327C13.7786 4 13.9015 4 14.015 4.01299C14.6068 4.08078 15.1375 4.40882 15.4628 4.90782C15.5252 5.00345 15.5802 5.11345 15.6901 5.33333C15.7451 5.44329 15.7726 5.49827 15.8037 5.54609C15.9664 5.79559 16.2318 5.95961 16.5277 5.9935C16.5844 6 16.6459 6 16.7688 6H17.8234C18.9435 6 19.5036 6 19.9314 6.21799C20.3077 6.40973 20.6137 6.71569 20.8055 7.09202C21.0234 7.51984 21.0234 8.0799 21.0234 9.2V15.3496M19.8455 19.8221C19.4278 20 18.8702 20 17.8234 20H6.22344C5.10333 20 4.54328 20 4.11546 19.782C3.73913 19.5903 3.43317 19.2843 3.24142 18.908C3.02344 18.4802 3.02344 17.9201 3.02344 16.8V9.2C3.02344 8.0799 3.02344 7.51984 3.24142 7.09202C3.43317 6.71569 3.73913 6.40973 4.11546 6.21799C4.51385 6.015 5.0269 6.00103 6.00007 6.00007M19.8455 19.8221L14.5619 14.5619M14.5619 14.5619C14.0349 15.4243 13.0847 16 12 16C10.3431 16 9 14.6569 9 13C9 11.9153 9.57566 10.9651 10.4381 10.4381M14.5619 14.5619L10.4381 10.4381M10.4381 10.4381L6.00007 6.00007"}))}function Cae(e){const{onClick:t,disabled:r,className:n}=e,i={cursor:r?"default":"pointer",stroke:r?"grey":"yellow",strokeLineJoin:"round",strokeLineCap:"round",strokeWidth:1.5,...e.style};return St.createElement("svg",{onClick:r?void 0:t,className:n,style:i,width:"28px",height:"28px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{d:"M12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16Z"}),St.createElement("path",{d:"M3 16.8V9.2C3 8.0799 3 7.51984 3.21799 7.09202C3.40973 6.71569 3.71569 6.40973 4.09202 6.21799C4.51984 6 5.0799 6 6.2 6H7.25464C7.37758 6 7.43905 6 7.49576 5.9935C7.79166 5.95961 8.05705 5.79559 8.21969 5.54609C8.25086 5.49827 8.27836 5.44328 8.33333 5.33333C8.44329 5.11342 8.49827 5.00346 8.56062 4.90782C8.8859 4.40882 9.41668 4.08078 10.0085 4.01299C10.1219 4 10.2448 4 10.4907 4H13.5093C13.7552 4 13.8781 4 13.9915 4.01299C14.5833 4.08078 15.1141 4.40882 15.4394 4.90782C15.5017 5.00345 15.5567 5.11345 15.6667 5.33333C15.7216 5.44329 15.7491 5.49827 15.7803 5.54609C15.943 5.79559 16.2083 5.95961 16.5042 5.9935C16.561 6 16.6224 6 16.7454 6H17.8C18.9201 6 19.4802 6 19.908 6.21799C20.2843 6.40973 20.5903 6.71569 20.782 7.09202C21 7.51984 21 8.0799 21 9.2V16.8C21 17.9201 21 18.4802 20.782 18.908C20.5903 19.2843 20.2843 19.5903 19.908 19.782C19.4802 20 18.9201 20 17.8 20H6.2C5.0799 20 4.51984 20 4.09202 19.782C3.71569 19.5903 3.40973 19.2843 3.21799 18.908C3 18.4802 3 17.9201 3 16.8Z"}))}function kae(e){const{scanning:t,startScanning:r,stopScanning:n}=e,[i,s]=j.useState(!1);function a(){s(!0),t?n():r(),setTimeout(()=>s(!1),1e3)}return St.createElement("div",{style:{bottom:85,right:8,position:"absolute",zIndex:2,cursor:i?"default":"pointer"}},t?St.createElement(Sae,{disabled:i,onClick:a}):St.createElement(Cae,{disabled:i,onClick:a}))}function Nae(e){const{onClick:t,className:r,style:n}=e;return St.createElement("svg",{onClick:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:r,style:n,xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M13.225 9l5.025-7h-7.972l-3.3 11h5.359l-2.452 8.648.75.364L20.374 9zm.438 3H8.322l2.7-9H16.3l-5.025 7h7.101l-6.7 8.953z"}))}function Eae(e){const{onClick:t,className:r,style:n}=e;return St.createElement("svg",{onClick:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:r,style:n,xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{strokeWidth:.2,stroke:"yellow",fill:"yellow",d:"M14.516 15.158l.714.714-4.595 6.14-.75-.364L12.337 13H6.978L8.22 8.861l.803.803L8.322 12h3.036l1.793 1.792-1.475 5.16zm5.984 4.05L4.793 3.5l.707-.707 3.492 3.492L10.278 2h7.972l-5.025 7h7.149l-3.71 4.957 4.543 4.543zM12.707 10l3.243 3.243L18.376 10zM9.795 7.088l2.079 2.079L16.3 3h-5.278z"}))}function Pae(e){const{status:t,scanning:r,torchToggle:n}=e;function i(s){n(s)}return r&&n?St.createElement("div",{style:{bottom:35,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},t?St.createElement(Eae,{onClick:()=>i(!1)}):St.createElement(Nae,{onClick:()=>i(!0)})):null}function _ae(e){const{onClick:t,className:r,disabled:n=!1}=e,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",fill:n?"grey":"yellow",...e.style};return St.createElement("svg",{onClick:n?void 0:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:r,style:i,xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-7.46,0.5l-1.5,0c-0.645,0 -0.643,-1 -0,-1l1.5,0l-0,-1.5c-0,-0.645 1,-0.643 1,0l-0,1.5l1.5,0c0.645,0 0.643,1 -0,1l-1.5,0l-0,1.5c-0,0.645 -1,0.643 -1,0l-0,-1.5Z"}))}function Tae(e){const{onClick:t,className:r,disabled:n=!1}=e,i={cursor:n?"default":"pointer",stroke:n?"grey":"yellow",fill:n?"grey":"yellow",...e.style};return St.createElement("svg",{onClick:n?void 0:t,width:"30px",height:"30px",viewBox:"0 0 24 24",className:r,style:i,xmlns:"http://www.w3.org/2000/svg"},St.createElement("path",{strokeWidth:.3,d:"M16.279,17.039c-1.396,1.209 -3.216,1.941 -5.206,1.941c-4.393,0 -7.96,-3.567 -7.96,-7.96c-0,-4.393 3.567,-7.96 7.96,-7.96c4.393,0 7.96,3.567 7.96,7.96c-0,2.044 -0.772,3.909 -2.04,5.319l0.165,0.165c1.194,1.194 2.388,2.388 3.583,3.582c0.455,0.456 -0.252,1.163 -0.707,0.708l-3.755,-3.755Zm1.754,-6.019c-0,-3.841 -3.119,-6.96 -6.96,-6.96c-3.842,0 -6.96,3.119 -6.96,6.96c-0,3.841 3.118,6.96 6.96,6.96c3.841,0 6.96,-3.119 6.96,-6.96Zm-4.96,-0.5c0.645,0 0.643,1 -0,1l-4,0c-0.645,0 -0.643,-1 -0,-1l4,0Z"}))}function Oae(e){const{scanning:t,capabilities:r,onZoom:n,value:i}=e;if(!t||!n)return null;const s=(r.max-r.min)/3;return St.createElement(j.Fragment,null,St.createElement("div",{style:{bottom:130,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},St.createElement(Tae,{disabled:i<=r.min,onClick:function(){n(Math.max(i-s,r.min))}})),St.createElement("div",{style:{bottom:180,right:8,position:"absolute",zIndex:2,cursor:"pointer"}},St.createElement(_ae,{disabled:i>=r.max,onClick:function(){n(Math.min(i+s,r.max))}})))}const cl={fullContainer:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},innerContainer:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},borderBox:{position:"relative",width:"70%",aspectRatio:"1 / 1",border:"2px dashed rgba(239, 68, 68, 0.4)",borderRadius:"0.5rem"},cornerTopLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,left:0,borderBottomColor:"transparent",borderRightColor:"transparent",borderTopLeftRadius:"0.5rem"},cornerTopRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",top:0,right:0,borderBottomColor:"transparent",borderLeftColor:"transparent",borderTopRightRadius:"0.5rem"},cornerBottomLeft:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",borderBottomLeftRadius:"0.5rem"},cornerBottomRight:{position:"absolute",width:"15%",height:"15%",border:"4px solid #ef4444",bottom:0,right:0,borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomRightRadius:"0.5rem"}};function Mae(e){const{scanning:t,capabilities:r,onOff:n,torch:i,zoom:s,startScanning:a,stopScanning:l}=e;return St.createElement("div",{style:cl.fullContainer},St.createElement("div",{style:cl.innerContainer},St.createElement("div",{style:cl.overlay},St.createElement("div",{style:cl.borderBox},St.createElement("div",{style:cl.cornerTopLeft}),St.createElement("div",{style:cl.cornerTopRight}),St.createElement("div",{style:cl.cornerBottomLeft}),St.createElement("div",{style:cl.cornerBottomRight}))),n&&St.createElement(kae,{scanning:t,startScanning:a,stopScanning:l}),i&&r.torch&&St.createElement(Pae,{scanning:t,status:i.status,torchToggle:i.toggle}),s&&r.zoom&&St.createElement(Oae,{scanning:t,capabilities:r.zoom,value:s.value,onZoom:s.onChange})))}const Rae="data:audio/mp3;base64,//PkZAAhghE0AKToAJra/n0FQygAAAGIkYJgmCYXBMAAGCTJz3zhCEM//z//1hz//8MMMMN08ssV6e5DDWIQreAgCvFKy8bXgIKMkUDDBgzJwIBtkRMQAocxIFdxghQGKDoEziAzQxOBOdH92i/iGi+zDCAEIX46a73HrSybZw1x3JZjXp7dSNy/P68rjcbt7p7fakMP5LVMyzCaj1pjvejYYAIDgDGzECjEAk1Jl3559HIon8hzlfPVTCvGJZzfcKSxXfyMWM88//9VKSxXdtnb9vomOuuRyiWVYbf+X8zp6fKGHIdycuWMMMMMMKSnp+6wsYc/9f/7z7rPPWHN556p6fP8MMMP///PPP/7+GHK9PT6p7f/unldP2np7YeHjweiYA4GLNAgAiI7u57n5//oc5/yfk6znOcPhwOBwggHCMpA4HA4KEyHOc5znO+hPIc5//+fqJh8XQPh90JU5xQinOf//87/zvP+ggAYuhCKHxdA+Hxd0EA4KKHA4ciB3kOXfXB/gmf8p/B96lAMKAgAADU+BujARHgwdisgHMfAUHAiceBg4ASBgZBiBIBH4ZaHOJsLhf8R+HYEciIgYSwj/+Bi7EqBh+AcBn5P6Bh4TuBmrAMBiZH7gaLEWgew//PkZFMlyek60MpYAShzqqZhm6gCUWeEUWAewEWYGN4X4GDEPwGE8S4GDoOIGAYKgIQOkz//gGARAUB+CwGxTwMAACAEgyAwdAlAxKhzAxXiZ///AxcEwAwJjDAziCAAwQgdAwRgdAsJQDAmAcGzYDwAhZIAKAcIQB4GT9TQMJ9/4Gi1Fv/AcAYUqKBAwGgNAwVBAAwGhwAwdBlAxFg1AwlgzAwNBuAkJQDBgEEDEqGECgChFgBgL//CIswYYH//+HKCpk4K0C9AaKKCAOBeMcR4X9C44BwABCgGAsGYCgTwHAcAwXAiAwSAQV///CJP9lwMBQAwAAAWGo5lVLCcaeneVhJAVGai3//ioaUEf//gaTAYGCj8BnEwfrIqDcsIQb/vmhU/8fAs0G8YGGwKST8Igj4GCATipksVzY8p//90FWJwh45AkX//4fCF9wMEgkL3uQc+gbGJ8t4MBAMBP/hEXf9FRuWBcAfIFjYzQdoLCBwh7IWVlxaX/w8oMCP/+EQT5poGB1Ir90DhiV6af/jFYBpT2BgoQyyt2M0ToBdEaZyzt8nTo3xdNDCTSd//o6F06CjooxRr4jVF/0bOKD6OMUNDRxiMUVFR0FFQPhGXRjDpr4MAEA4wIQUhYOIw//PkZE4nrg08sOx4ACQ0CopD2aAAlwTTBxQeMcwd8w8gZTAgABXwGABOkzpI0wAQAExnWfP4x8ZjKunWdZ1o1Qe6lFGKCNULORQCELAAPnRUf/GIx/0FHGfo3SdZ0qP2cukXKLlRtBKFgAQwCkwJgFRYBEEATmDsLSY2QiQYCEnEra+UZo6F1aKMRr6GhoaP/+j//ov+i+hjLqBgMkYoqChoo1GqCjoY06TpRqjjLOYzRRmMuizmgdKhdF8kjTAAAPMCwGswzglgwAJfzqxmioKH/////////////+ijLOAwFmN0f/////////Q///8ZjP/9DGYyFwIDBeB3MA4AlBWidKM5spykAUAQOCakK+udGqN8VDYjTRuN//0bVX//6Kio4xQFv//nf//kKOoAEIB6SY6hcxenp85///4/DEPf/84Xvl4vF4dwtxfEJgCYQHMSgKCROp4+fn////L4tQf0unz89OecLxeL0ul09y6enzp4dIhKAQFA5hKfLu1nU7/Wr71rRKJUBQSUVt////l08GUPVWgAAYAeNKsxbQNAAhQx3/oKGMM6dZ1Yy6sajMbfKio7lNcv0sScZ47lNcw32ekVFMP9fp/f+mklI6at6u/dBMQuW6y+C5BcgwAA//PkZEomGg1HYGe0riWsCqbEwiY0BJFJMxrCcxGgQ2VK8xxCF1wsABgQBBgQBAYAFCkYCgALkK4fJ00E5ctJN1Uxy5au3XoGcM4dSN0EYZwzhW0WCh1PZwzhnFFQxtnbO2d0Kt6CdXbruggkTEX5Rs4TEQUVsdVXaCcuWXIBQUGmwmgoAGcJiM4dSioHQdBnEY+hjcbov//jcb/43G43G/jCRibfxugdBnDqULO2duvQumztncbo4xGKKNxugooxGIxQULoOgFgUMTA/jbrxiMDmETL+eLhcPThzOeeOZfL5fIcBYuXD/OHv8t//LJFxjxQYHHKDGFkZMtlmKM0RgQfbVtxFIHbQBDRuzRguEI1c9XZ/rWmrZfVU3Oc/9utNNygRQkCoHlAYstNN6DJ1IINpoINppv+WG/+g2mmnUmmmpBAoJIJhnwB5xkymn606Df/t000xhU03UXC5Ol8uFyXy+Xy/l8v5w4cLk4XAvwAYUvl/QL5fTdlKZkEEEEGumaKaX00zIOemf6CH///ywI3LKpiQ2Ef4xYWMSDyI0XwzikpL0ajVHZ3j9DGIjeuXcNfjn96/S/TUz/X/vX////5K/r+v7Jn+LlAoGZOIQIwMKBQM/yppKYURmhGZkR2b//PkZE0mHg1HEG8wyiD7mlwAyDU8nJHi5htakZmZGNiRcpkJhBmUmZYQcM1VDEEBggNDV/ASEZRYKFZIhkXKLlKmk7IVTKmZNJ5KhiqVUqpX+k7+qlVKyV/ZIqZDFDWTJlFyi5TJpKhiXKBQyZzIS5JhBoayV/AQWVpGWkcYTV5O/rIVSv8/0nkr+v6/vyR/X9f1/ZN8kf5/n99/n+f5/lTKmf9/mRP8yFUqpWSv4yJUqpX9kj/MmZNJ5K/z/P9J5P/v6yFUz/CEoywgUMqZkz/FssECIsVq0aPRrRRatFFFykQZJ2Ukl///5KjmksOaA7ALROJLDnEsLbq3GTMVrwb/0dGzmM0DlfBlHQOmrdR0MYi92TX6b/cmDHLclyUVYO/4O8sFTKFTKFf8yhUyhUyhXzKlDKlCsr/+ZUoVlSsr/+ZQqZUoZUoceMfcoZUoZUoVlfOPGcmDHKcpynKg9yXJcr3JclyXJclyYO+DXJclyfgxFZVb3KcqD/g2MxzsY72L9LubPR0dCyf5K5NNd+Tv9GXRdV0XJclyfcl/n+k8kf6SX/iVynvXf///4Mg/1OkxguYzmM5jMcLHMxwwGhgNCwXMLAcwMXTLi1MD7w7tmTdBvMmE0xQFzCwHMDAd//PkZGMpigkmAGOUvCfTgcgAuC+ITswMFzC4oMLhYMByn0xvU+p9Tr0xUxf/0xv///1PBYDhgNTFTFTGTGTGTGTGTGTGTGC4GTFMDAcLAdMVMVMULAcMBpgYDhcDGFwsYXFBikLGFwMGA4MBxgcDKfTEMUoAx2BisD+mKp5Tv1OkxkxkxkxkxkxkxkxlO0xVPJi/6nv////U7CwHTFTFTGTGTGTGU+p71PpjJipihYDpipi/6n1Ov//C4GC4GTGTGTGTFU8WBSZdLhWB//yKlotyLZFiLf8tyyRUipFSKkVGRBZQMiWC3yx//wxUGKsSvDFQGHUAL3QMsHDFIYpCYy2Bmagy6BjLgy6Bh3od58DCLAizBgRb+EQiyEQiwGBFuDAi3/////20QqSBJf/qcumv/////wMZdGXAYMu1gYy6MuBEZdBgy4BjLgy6BjLgy6BjLgy6BjLQy6DBlz2cJDLgRGXAMZdGXAYMuhMZcCIy6sJGaoGMuppwNRl3WBjLgy63wiEWAwIt/+EQi0IhFsDCLAi0GBFkGBFgMJCqaqYAgAYIhBBvwf7kwcqRq7V3IctacvlN6NxqgooxRRuNRiijEZjMGRuMvz9FGozQ+1X2qe1T1S//+VhaWAtKwtML//PkZEIkbgcaAHc1xCJrjeAAtfuUAtLAWf///mWePH95ZFgsyssvM88+jzO6K+z7OM48sH+WDiweZx5YOK+zxWLGJWsa6xadAv02fTZLSpsFpvLSga0tMgWgUgWmwgUmyWl8tMgWWmLSoFJsoFlpSwsmyBg4HhEdgwHAYPBwGDgeBg8HwMHg4DB4PBgOAwcOwMHLwDn5lAwcDgiDgYDwMHA/4MB3//+EQeDAdwiDwYLPhEWQYLODBYERZBgt8Ii34GLBaB5pfAZ0FvEAQ/UfwxULlx+IXx+8f5CELH8fxKhAIDFoHBEDRc3////gwHgaRXgMHYMB2EU/gwZ/gYbw3gY3QbgYNgbgYiAbgwN3/+EQbBEG4MBuDAbAwG4RBtAwbg2////+B9B6F//////////hEdD//////////8DRahEQGCInMNg3LBElgNjDciCwG/lgNiwGxWG///mG4bf/+WA3Kw3KyIMNw2Kw3MNg3MNg3MNiIMiQ2OK0xMiA3KyJLAEZgRARmBEDEYFwBBgEgEeomowol5YAJKwCDAIAJ8sAE+gGBgCJYAQUZ/13LubMu5dyiYOAhKwEFGf9AOoz/g4CFAIol/lgAjysAgsAElYBP////lgJksBM//lgRUxF//PkZGApggsIAHt2wiNLoggAqCz8RFSwIqYioipkjEjHCCSN/+WJg5iYOYmPK5krmTmZk5mZ8sTJYmf8yJiNiIisi/ywRmRkZkZGZGRmRERkREZERGRERkREZERGxEf///hETIMEyBiZEyBiZEzwiJgDEwU4DV2gQGFOBgmP8GAiAwRAiBgIgYCIGAi/4MBHAwRgjAwRgjwMEQIgMcgY8DBGCMDBGCMDEyJn///+BiYQIBlObj4eYLIwsjAOBGFkYBoEQ84eULIw88LIA88PKHnw8sPKFkeHlANAiAaFUDAiMYPIHmDzBZBhZB///8GBOA1sH/Awni7AwnhPCITwYE/CKzBgt8Ig8GA4Ig6EQdww4Yb+F1sIgtwYCwGAsAwWAsBgLAYCwDBYCwDBaHUDF+VEDKgC2BgtBaDAWgYLQW////gYLAWQMFgLAMFoLcGAt////4RMABmBSj4NgwMOGHBsHhdcLrwbB4XXC6+F14YcLrww4Ng8MOGHBsHww4Ng8AUC4AoMQMC4fgw3wutV4QIsAgFYIBWCCVgHeVgHeWABCwAIVgH+YBwB5aRAstKgV6Ba1oMg9avtUVN/qdLWciD/cqD3Jg6DFPuTB/////lYAn//mC8C+YLwL5gvgvGC//PkZFEpLgMKYXt2xB5LogAArbdc+C8VgvlYL/mC8C+YLwL5YBfMNgNkwXixDWoHPMc4VUxVA2TBeDZPYXzXl815fK14sLxYXvK1//NeXzXl815fMtdDLSw3UsMtLCstMtLDLSwsFhWWlgt//8sFhW6f/////+WF7zXl8sL5ry+Vrxry+WF/wMLwX4MC+EQv/AwvBfAxsjYAyqpKA0lpLAwvBfBgXv///4RA2DANAYGgNgYGgNgYGwN+EQvf/BgXwYF//8DC+F4Dd6NgGBf4AgFwbB0MMF1wuuDYMBsGwusDYOBsHA2Dvg2DQuuDYOhdcMMF14YYDGYDEGwfhhgbB0MN///4RBaEQWgZByoYRWYMFvwiDsGwaF1gbB34GDwdC64XW/w1aKxDVgatir4YcLrQbBwNg7////////////+ESfgZPyff/////////4MFmBvvMAERZ8CC5adNj02E2S0qbCBSBZaYtN///oFlpU2QMXIFAYuQK9AtAo7IxLTpsIFJs/5aZRxQawaxGfIg9CsrI+PUqkWdOHp7ODsOl6cOHZ4dsulfLI9/8BAAgMBACsBLACVgBjoAWAE5OTM6WDAR0zodMdHCsJLASWAjzCQgsBJhASWAjysI8wkJMICU//PkZFkeqgcaYDd1th6DogAAqCuIxQwtDA5MdMULgyY6YqnXqdep5TpMdMVRNRL/UT9AN6jCiSjKAZRNRhAMomgFQDfCIJwYCQiCAiCMGAkGAgDBJUA3eVAMEgj////8SrDFIYqh5g8kPMHkDzB5OFkYeYPJ+HlDzB5+AYVQDibCyIPLLEZIsjIliWS0WywWyyWuWCyWJaLZbLJYDHgLAItFvy3///4eYPKBlQTh5QYEODBb//hhoNg7/C62DYPFUKwKsVgNWBq8VkVcVkVUVYrH//hGff/8Iz8GT7//////wiX4ML3gwvgwvf4ML3gZeqoHVGyBl4vgZfL2F1oNg4Lrg2DcLrg2DQw0Lrhh8Lr4YcMNBsGhdcGBcMOGGAFGAGMQsF1guuGG4XXV/4uQXOLmF1kL/8lCXkuSk4O8/FzHzuP0hIucf/CIFAMCgFPgYFAKAwCgGBQCgGHYO4GBVM4GgQI4RCMEQKQOtQjUI1CNcI14MqDKwDIAGQDzh5wsjDyw8uHmDzYeUPN+DEYRRhFEIowYgDQgIhWDApgwKAwKQYFAYFQMKkYDOxHAzsRgMKBUGBX/h5v+Hm4ecPNh5A8wBwjhZHhZAHlDzBZAFkAeQPKHnCyILIAsih5QsgDz//PkZLQgIgsMAFp1xCGLogAAA2rkB5w8oeYLIQ8kPMHkCyGHnAMKoGmAgFkUPMHmDYAtfHPHNkr/JYl8c8lCWHPHMkqSo5onMAkBDnfJX//8IgDBgBhEdAaxSQMHUGAEIgAV4risCcipBOMVRVBO////hEvAxsAwvf////8MPDDww4XWC64XXDDww4YcMPC6wYb/wYGgiGwMplMDYhTCIaCIaBga/////8GA+EQdgYPB4MB4GDwdhEH8Ig8Ig8GA6EQcEQf8DBxlBjoAweDuFwgCQXiL//iLiKCKCL4XCiKRFwEgoRT4iqpMQU1FMy4xMDCqqqqqqqr////xuDd8fv/DVwrArEIg6EQdhEHAYPBwMB+ERYBi0WAwWAZ0FoGLYOB+JfgZ0FoGdBaDBYbn+WHm9xW7/Nzzc83PLDzc8reWlA7S0oHamx//6BflpU2C0qbBaf/8yk/ysn+VkMhTKQrKVk8yE8rIVkKyYsAn/5WC+YICmCApWCGTkxtKMcVWlgFMEBTBAX////0C0C0C/////////LTFpvTZLTlpv/0Ci0xaYtOgWmymyWkAxcWmTZTYTY8tMmygUWmLTIFpsFpv9NnywLmLCx2RgWmQKTZ98UjnzZ1/++D4M6/////3//PkZOgjIg8IAFcbxCaTogAAoCuIzfJ8vfJ8Wcs5fBnD5//++L5f////////6nCKv//+o0o0FUYwqDNGCwgUMKC0VVGkVv//4Yf8LrxVCriqDVoasDVuKsNWw1bisBqwVkVkVX//gy/4YYMMGGhhgwwNg4LrhdcLrAYWGAA0zBsH4Ng3C6/////4MAoGBQIDAKBgUCAwCgYEAsDAoEAwKBAYBYMAoGBQIBgUCYGBQIBgUCwiBAYBYMAoRAgRAoGBBMBooCAYFAkIgTEUxFv/EWxFxFhFoi0LhQuFiLCL/EWqTEFNRTMuMTAwqqqq//////8TWJriV/hERAwRgYiEYGIhGBmIRgYiEYMEQMEcDMSiA1GYwMR+UDMTkA7KIgMRGIGGM0SIrRGjRlhEV4jxov8rR/5YRFhEdQSViCsR5iRJWIKxPlgQYgSViSsR5WJMQJLC78IiKERF4REeERGEREERHwMRGOBmIRhERhERAwRAYiEQGIhGBmIRAajkgG5TEEREDBHwYIwYI4REXCIV/4MCmDArgwKAYUO/gYVCkGBUGBTgYUCsGBUIhUDCoUCIVBgVBgVBgUhEKQMKhUDCoUBgVAwoFAYFcGBQDI6oA5+qQiFAMjBUGBXCyEPIFkOH//PkZPMj6gr6AFdVwifkBdwAoC2Ilh5/8PPh5Qsih5IeUA0TAZrE8PP////wMRiIIqID8piAxEIwMxCMDEQjCIj//BiIDRo8Iogii/4MKwYVhEoESkDEiIGJEgYlfBgmDBIMEAYgSBiBIREAwSERH/8I7wPfuCO4I7v/8GBvAw3Bv/////gwN34RBuBg2BuBg2BuBg2BuEQbhEG+EQbAwG4MBtwiDaDAbhEGwMBuDAbAwG4GDYG8DBsDcDBuNwDRWDcIg2AwbA34RBv///CINvCINgMRIN/////wiG4DDeG+TEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq/zB4OLAP8rBxWDisHlYOKxb5WLTFgsMWiw18LDOnjPxZoxadDOgsLAtLAbKymVhsrDZWG/LAb8w2GywGysNlgNFgNGFwuBQuWnTZLToFFpisLJsFp0Cy0voFAQLFZkMCAQwIBCsC/5WBCwBCwBCwBCsCeVgUwIBCwBDEwEMCAQrAhgUClgCFgTlgCGJgJ5gQTGJwKWAKYFApgQTGBQL5kY0HMjQYnAhWJvKwIWAIVgQrApYAhWBPBgECIEBgE/8IgXhECQiBAMCkcDEwEwMCAQGAQIhoIhsGBsIhvgwN//PkZN4irgr2AAOVqiUThegAnCtMgwNwiG/8IhuDA1hENhENgYbKYHb2IBhoNhENAwN////8IhsDKZS////8IhuBhspgc0KQRDWEQ3///CNf4GAIMDAwgAwAAwhAwAwYAIgwiHBgAMAYGAAGHv///CIBqBqESDEIgRYGoGHBiDEIgGoGgMAYgxgwgxCIETwYFYMCoMCuDApBgU8DCoU//gY3G//wYFOBhUKBEKQYFfBgV8IhSEQoBkYK8IhT/wMKhXBgUCIU4RCoRCvgYVCsDCp3A1SqAYFAiFP////gY3G1TEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgwCAwCBEC///////8IgUIgWEQIBgUCAwTQMCAQDAoEhECAYFIwGaRMBotWAasdwH/KqBmhFgaKI4GRgKVpjCBTCBPMJHNMFMIFKwnlgJ5hUxhUwGWlpAMuMuWLTFpvQKQLQKLTIFJsoFIFFZb/8woQwoT///MIF8rC+WAphAphAppgpYClgsmwBC6bHoFFpUCi0wGXFguWCwFLgUsgX6BZaVNj0Ci03//+EQKEQKEQLCIFAxMBcDAgFAwIBQYBODAKBgUCAYEAuDAKBgUCAYFAgRAngwCgwCwiBIRAmE//PkZN4iogj2AFdVxiUrhewAhOkwQIBgQ0gbOI4GRhOBiYCgYEAv////CIFAyMBQYBf///CIF8IgUDAgFBgEAwIRwMCCcDEwFAwIBf///CIEQGMDGEXCKBpCIDCEQDCAsYInDFQMMAuYSoTQMVfBlf//+DKfBgAiGDAQMIMIgCIQYADAEGAgwP////8ItgNu2/8DAAAiABgHhECBgQGEQARA8GAeEQIMABECEQIMAwYBBgCDAARA4GAAgYACDAARAwiAgwDhED4RABEBCIGBgDoH2dgZwCBgAP//BhX/+DCiTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqF1ww////////hdeGGDDBhwjeF102E2fTYAowMLjE0zTDfyyMYjEDJTwMLSwFi0/gQLoFIFpsegWmyBQsWlQL9ApNgtIWn8tMgX6BaBX+WmQL9Nn02f9NktIgUgWmwWl9Avy06bCBSbJaUtImyWkQKLTIFgYWoFFpAKFwMLzZgwAwvLTIFlpU2fQLQK///4Yf4YaF1sLrg2DAuuDYNDDQw4NgwLrhh4XXC64Ng3C60MNwbB4XWC64YcMODYPCJYDlMQBlwRLg2DOF1v/////PkZM0eKgz0AE+UuCnLFfAAk3Fsg2DAYX/ww//4YaGGDDhdbDDACFwMuXA2DADlygusDYOBsGhhv//wNU/CKQusF1oXX+F1wuuGGC6wXWDDBdbC6wXXhHv//4AHIFgC0BZAA4Ba4FkADwFsC3AtQAOcC0BYAtgAcAA9+BYAsgW4FvgWOABwC1oq+it4RT0VVG0VFGkVywo1/RWU4U59TlFb1GvRX////QK9Nj/9AtNn02fTY9NhNlAr/QK//TYTZLSJsIFemx///oF/5aZNj02U2C0yBaBfoFAS6bKBfoFVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQiA8GAO/4RAf//////wYA4GAO+EQHAwB4GDoB4GA4HQRB0BhlDIBpEAcBgPDIBgPAeDAHIFAYuLTpspsJsFpi0haRApAtAstIYKClgF/ysF/ysE/ysF//LAJ6plTlYC1ZUypmqtWVK1VqyplSFgBaqqcwAAVIqcrEBAAKmMBERCQhwD5iICIQEyABMAABBVGXF4gIA4DLAAWAEQgLVSsBaq1ZUv+YKClgELAJ////5YBP//LAL5WC+Vgn+WAX/LT+gW//PkZMIhLgrsAFt1yiD7FiB6A9qwmwViybCbCbCBSBabCBSBabPpsegWmwWn9ApApApNgCGBmEwWlLSpsf////hEHgYOB3////4GDkiBxMHhEdgYOB4GDwcBg4HW23gooFYHd/+BnAz8O8Vv//FaBm4rBWh38es2zbAtD1m2PVBqBrBqBrAF7AF3/5el84MkuHTgyy+dL0dRnEajMIyOn8RsZ5HGG/kbIpHIkYUiD0y2WctlZaWSwrKx6FZbxnL54ul04eLhw9Ol84dl86cOHT3Ipb5Z8qKpVx6/j0EkLctVTEFNRTMuMTAwgWQLQAHgLf/////4Fn+EQESEcIgInCIRW9TkrCzH0YIjjWtI+YeCD0woLCBQwsKRWUaRVCBZFZRtRtFRTlTlThRtAr0C0C//02E2fTZQK/0Ck2f9TlFRTlTlFT/9TlFVFRFb/9ThThynIQbWkAREue5S11rKdlkDEVABh61ExYPU+tOD4MQgcn4iwigivxFRFoXDcRQLhoiwioXCeAkFBcNiL8RURQBIKEVEWiLBcKIqIpEXC4QReIoIpCIKAQMxFAFAsIuIr/4YYLr//ww4XWBgwC64XX/hhgw3hhwuv8MNhhguvhdcAUYgaYTAAoWDDg2DQbBg//PkZPYe6gzuADd1uDKsBhBAe89cYYdGjtDT2hDmlD2leaOv9oX0OX/0NNLplNf8ewakNWGrTfTRpphNJtfaeh7T1/tStdtTpqN532lpX/1/kmQ5eaf2hoaV9paGleJAvd0rer2pWu1ar2vk56vVrV5Hj1Nop+/lfv5Zpkem5kX/2vtata2rq783nbvtbW6VjW6a2rq13+rO6VysV58K7tbp0ru6Vrtqa1a67tr6sau1ulYrnfa2v927Vrt21NSuN5X927/D4diAQANh4gEIfxB+IQG/D/4gDw/iGIRD+HRATEFNRTMuMTAwqqqqqqqqqqqqqqqqqiIEK/ititFX///8VcVuK38VsVhXBOQTpq/qm8QCAcBmIxgdfFZCHECpxFBFAuFEUC4cLhsRTEVEUDVoDQD+KrFYirFX+KwKoVgVUVUVeKwGrhWRWBViqFYDV4rMViKyGroauBg/A0YThVgNAEVQqw1fisis4quKxxWYrAatxWIqoqg1dFYxVxWIrAavAaAArIrAqoqhWYrIqvxWMVYrARCADhcKoVYavDVgqhV4qorIrHFWKuKxFViscVUVYasAaAfFY/4YcMNhdfwuuGGC64YfDDA2DwusANygbBwAxhAECwNg8MOF1hD4//PkZOkc4g7yBjd1sDNkDhgqYwtcYoUyiQ0NCkxQ0NCQkSIbGKIyRGEo5mUaNEhGKEHMmaGhI0UokORvMmZmZSZSiMZQkRnKKZkzRoSNCQpQ0NEZoaNFJkhh3KOUJEhIcoSJCQkIzlDlEjMDMyMpQ0JCQzNCRGaNCRISEZoZihoaIwlEHKNGiMzFEjRmSIwlHMyZmcyiGyMxRyhIkIxRSZokSEYGBkiRojAPESNGjQxvKHMmMoSKTJCQkIwlFKLDYWGhoZhYWAAUGBsAwsMDYUAcK4XDPhQVwwLAH/DfgHC6TEFNRaqqBgjwYI//wYI/8GCL///+DBFhERgwRcIiPAzGYgMRKIDcskBgjAxEIwYI4GiRwNEjhFH4MRwYjA0aOEUf8Io/BiLgxGEUYRRQij/BiKDEYMR+DBGBiMRQiIgYIwiIwYIgiIgMRGIDUSjhEReEREBiIRAwR/wYI/8IiP4MEcGCIIiOERH8GCIIiMIiIIiODBHBgjBgjwiIoREcIiOEREDBFCKiAxHJcIiMGCMGCLwYI8IiPhERgwRAwRAYjEUIiIGCP/AxGIgiIsGCL//4REYMEXhERBERhExhExAzyAZiEWDBGERGeKsVsVRVFcVwTnFcVxVgnYqipFUV//PkZPkcfgzeAFaVxDgUBgAgatvIYrgnYqgnQJyK4riqK4rwTsVor4rQAjABAgnQritFSKoqQTsE5C1haxfF7F4XQtULSFqC1i4LwWkXIWkXRdF+LwqAnME4iqCdwToVuK+HAERWAkAlgJB0OB3Doc8OYc8VCsVgIB3DuHAERUAkAkHMOBwOAIisO4dwEAEAEg6AkAl4CeHA4AkKhXioBIOiv8OB3F+LgWkXxeF8XouxcF0XBeF8XBdF8XhdAdouC8AEsXYWsXOKsVBU/FaKmK/FTxXFbFUVPiv/8VfxXitVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVAXX/8MN/wwwYf//DDBh4Yf/+DYODDfCIFAwKBQiaANFgUDAgFAwIBcADwFuBY/At8C1wLfgAdAtwLGBawLcC3AsgWeBYwLX4XW8LrBhgiFgMlhYLrhh4XWhdb8MOGGhdcMP4YaF1gw8LrwuvhhoYYLrYXWDDBdcGwfC60MN/ww8GwZ4XXC64GZQsF1wbBnDD4XXg2DcLrBdaDYPhhgusF1uGGC64YfhhoNg0LrQwwYcMNC62F1/g2DYXW4XXC6+GH8DTIW4YeB/wR/wjwR+DP/y06bJaRAtAtAtAs//PkZNwY2grqBFW1xDhTRegABLBstL6BRaVAstN5aYtN/psIFf5aQtIgWgUWk8tImyWkQL9Avy0qbKbKbJaf02f/0CkCy05adAsC3K7+mx5aVAv0C/TZ8tOmymwB2pspsFpPLSlpy0qbCBSBXlpk2E2E2C0paUtP6Bfpslp0CkCy0ibJaZAosWQLLTJsemwgUmz6BZaYtOgUWmLTpsJsoFJslpPLT+mwmz//6Bfpsf6BSBSbCBXoFeWk9NhNhAr0Cy0/+WnTZ8tJ/oFf6bP+myWn//8tMmz/lpf//////8sPTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVBgJwiCYMBP//gwE//////wiCAMEgkIggIqIDKpUCIIgwE8IzA4j+EYhGAZMIyDJA5gGRhGcIyDIhEQiIGAgwIRDwiAGAAwYMHBghGAZMGRCMhGYRgGRA5gIyDIwZPBk/wZIRmEY/gyOBxIMgIzCMgcTgwRBgjwYJBgngwTwYJhEQBiBGERMIrwOouAxAgGCQYIhERhEQDBGDBAREgwTCIgGCQYJgwSDBHwiI4MEAwSBiRHCIkGCYGJEQiI/Bgn4REYREeBiBIH6XhERhETwogoy04mpZibFmJuWYmx8n//PkZN4ZrgrkAFZUyDcjofgAA9qc0HafZ8HwNrjaG3xtjaDtJwTo+D55Ow7fxNRNSyLPlqJsAr/lmA/FmWYm5acTQVgTkVQTnBOQTgVxVBOBVFWK4J3FUE7gBABOwToVQTsVhUFcVRXBOhUBORWiuKkVYrCqK+KoqgnQrAnEV+K8E7FQE5xWBOQToVQTsVRW8V4qRUFYVgTsVhXioKgrCqKwqAnYqCtBOhUioK+CcisK8VRUFSKnirFQVBVFcE6FcVoJwKoqCrFXFUE7gnAqiuCcQTsE7xU8VP8VYrgnYrCuTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqn3/l/J/8vHL5f/BhwCETgGpIDOATgEIOFoDcHzgEIDgC+pG7eve1S/6tat7rXupDXSStWoIpGS4TSMQNIySMwpIyAaRkkZ8GJGdBtbwYkZ63tCKRkoIpGWDEjLCKRmEkjOvsEUjJOsIpGa6bOrgxIzsEkjIGJGYUkZVKCKRmqoDkgEjMJJGSYMSMAikZJ3qhp0dq9ru3X1I36FujPbXuxwKbr//waABfg0AC6DUDUDXBqBoAmQawJiGrhqDUGoN//PkZL8USgKcAAblrroTgfQAbhtQAag1QawaYNIAuQa12Lv9si7F2NnXa2Vsi7i/DZl2tlL9l+vL8tlUTUTUTUYQDIBlGUAyifqJKJqJ+p5Mf/U7TETEU7CxkxVO1PKdqeU8u4vq2ddnrsbM2Zs/tl9s67V2NlbIu5sgaA1Q14ExAmAaA0BrDVDXhpgTPDQGuBMA0gTKGgCYgTHDQGrDUGgNcNQaw1hoAmcNIaRIAtALVEgC1gteI8FpBaBIAtcRwkAWgFpBaILVBaIkAWgRwjhIiPEeDXwa/4NUGr+DRwaKBgX/8IhP//wiF8GBMGBP/wYEhEKEQmEQuDAoGFTAwLgwLhG/4MvCM8GSDJCNwZQOXg2DwbB8MPDDhhuGGBsHhh8Lrf4MCQYFCIUGJgiE8GBQMIFhELDDhdaGHhdYGwaGGDDhhuDYMBsHg2D8MMGHBsH8GwYDYMhEKEQgMCeDAsIhAiFBgQIhAYFhEKDAkGBMIhYGEC4GFCBELgYUKDAuEQsGBQMKEwiEBgUGBcIhQYFwYFAwgWDAoRC8GBAYE4RCgwKEQvhEJgYUIBhQkIhAiECIUGBIMC4RCgwJCIUGBAiFgaYLwiEA5cGXCNhGBGwZAw4Ng0MPBkqNqcoqorlh//PkZP8cygrkAFI0wjo7lfAAjhq4SnPor//psoFemygWmwWm/0C0Ci05adApNn/TZQLU5RU9FRFVFdTn1OFG1Gywv/UbUa9Ff0VoFgCwBbAtQLUCzAtgAchHAN8ImAbgBvwDd4RwjQDeAN8I0ImEQEQAbwRgiQjBHhHAN0A3vgG6Ab/CIhEgG5AN6EQESAbmEYI4RABvYRoRABuYRgDehEQiAiIRABvcA3QiQDfwjwDfCICPCJCJCJ4RwiYRwjBEwDehEYRgDfCNCOEQEQEcI+BagAd4FrAscCxAswLfwLAFgC1wLNVMQU1FMy4xMDBVVVVVVVVVBlBkwO3wZAZMIz//////+DJwO0IwI0DsA7cGUI34Rn4RgMuEZgywZQjAZP/hGAcmDKEYDIB28GQGQGXhGgcgRoMgRoHYBywZAZYMmBygyQYFCIUDChQYE4MCgaYJ/gwKEQsGBAiEBgXAwgQLrhdcGwcGHBsGA2Dgw4YYGwZC6/hdYMMF14YcLrYYcMPDDhdYGweF1oYb4MCwYEwYEgwJBgTCIQGBIRC/BgQDCBcIhAMKFhEKDAsGBQYFAwgTgwKDAoMCQiEgwIBhAnCIUGBQiFwiEBicIhAiFhEIgIoBooGieDPA+4GeDPCP//PkZOobXgrkAEY0jjazieQgBKKIBGgyBGhGhGgyAdoMmEaDIB2gyhGwZYMsI0GSDIEaDKB2QOWEaDKB2hGgygcoHYBygdkDtgygcngyAyhG4MgMgRgRmDJCNBkA7QjAZIRoRoMuByhGgyAyAyhGwZYHKByAcgMgRoHIEbCNCNA7fCNA7AZAO0GSEYEaDLA7cDthGgyAyAyQjAOwGUIyDKEYEaEYEYEaEbA5AZQZAZAZIMgRkGXBlBkCMgyAyQZYMngcmEb8GUGQIyDIBywZAZOEZhGBGwO2EbwjcI3hGYMqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqquDqz8GMDQIvBj///+DGDEGAMAifBj8IuEThFCIEQGPCLwiQYBFCKESDCETBhhGAZGEZ4MjgcSEY4GoRQigxCIEQGPCKBiBrgxwiBEwMIRAY4MQNMIkImDEGIRYMIRYRAYhFBjwYwNQYgwBgBh4GAMQiwYgxA0gahFBgBjgYBFhFhFCKEWBgEWEUGEIgMQYQMYRAMQigxhFBh4GkIgRIRYRAY4RIMQYgYhFA18IoMQYQihFhEgwhFCIDEGIRQieBiEUIoRQYhEwYDAFwGrBog0waAaQawacGsGiDQp9MZMVT3piJjJjK//PkZOYZBgjoaUJQ0DprofQgbhq0dep71PqeU69TpMdMVT6n1OlPKdJjpiKdFZkxlPKdJiJj+mKp/0xFPBoAmYaw0BpwJhDSBMQ1BqAmIEzDSGgNXDRDRhp+GsNMNAEyAmYagJkBMA1BpDXAmECZhoDXhqAmYawJjgTICZBrDSGsNAExDVDQGqGgNHDWBMIaQ0BrAmcCYgTHAmIEzDWGgNYaOBMw0BqDSBMYaA04aA1hqwJhw0ATKGqBM8NYEz4aQJkGoNMNIag1+GsCY+BMQJlDVw0cCYfDXw1ho4aQ0gTCTEFNRTMuMTAwqqoD37wjuhHf/////hGf////hHf/gycEZwRn4MnYMncIzsGTwOdOA507A507hGeEZ8GTuDJ4Rn4HPn4Mn4RnhGcDJwM3YM3gzdBm6DNwR3QjvA927Bm//Bm7Bm/Bm8GbgZvBm4GboR3gzeEd+DN8GbvBm6EZ+Bzp4Mn4HOnBGfA588IzsDnTgZPCM8Iz+EZ/CM4DnTgOdPBk8Iz4RJwGTidBi7AycTgiT4RJ8GE6ESdhEngZPJwGTieDCcESfwYToMJ3AycTwiTsDJ5OhEnwibwYb+ETdwibwibvCJuwYb/4RN/Btf/jYGyNv8bHLUtSzE0/LQBW//PkZPQcHgjQAFKVrjfDmgAge1eMLITcshNy1LX8si0LUTQtCyLQTUteWQmvLItSz4mgmnTJops0umEymDSPsnR9HwfB8k7Pvn0fAvwtcLXF/F+L4vQtQWuFoC0BaReF7AeBfwtcXBdF4XheFwXAtAui9C1haRdi6LwvirgnUE6FcVBVisKgrCvioK+KoqiqAhh3AQFXhwVYrFYCWHMOioVAI4dFWHPDgCAdDgdDmHcBIBEO+HRWAiKsBMO4dFQCAdATw6HBWHBWAgHBUHMOf/gICsOCoV4qw7+KxWHA6KhVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVC11Fz1+NP+/Xkqpr9OfuhQ6lZNWf+XsZc/si+KNoOj/Ntai9j7IISgZAklTqQhjToNTeQoreRdaSDODWvYAVFaWWkQmVuZPP8bRUzq896vc+XS6mm5gnnW7JLnV4z9N5XnW4k86x+uyHyxnWkmdborzraff2SvOtvljOtjd/5XRW8MivOsry/K3gUzrFPS1eFTOttTsul1+lLGdbV3c53h51mdbK7xPOr1SpnWlM63kedZnV4XPK86onnW7myrnWTmRTOqascoabXd/L+yuzS95dv1efjhl92ntYyTuIb6wuWRZFmWRa//PkZOcb/gqMACDf1LTLofggA9qc/gKRZiblqWYm3E24moSQnR9BJj6JwfBaFqWZZFoWvLUshNPxNuWn6bTZHgozRTSaNAY5oGjFQVgTkE6FUVorioK8VBXBO8VRUioAhxVioK4qAnIrYrCqKsVRVBORXBORVFcVcVwTgVBUBORUisK4rCoKwrxXFYE4FYVATjFcVhX4rcVBVFQV4rxVFSKwqCpFcV+K8VhXFYV4qivFUE4FaCdivBORUBOfBOgToE6FUVYqisKgqCtxWFbFQVxXisKgqRU4qioKuKwqCvxVBkH/4Mgf4Rg4RgfgxZBizhFYEVuDFvhFbBi3CKyEVsGLf/4MgAxaDFoGsWYMWgaxYBrFngxaDFnCKwIrAYswNas+DFgRWYGtWYMWBFZgxbgaxbgxZCKwGLIRWgxZCK2EVmDFmDFgMW4GtW8IrAYtBi3Bi0GLAYsCK0IrQit4MWeEVgRW+DFsI9cDW9AYtgxZhFaBrVgMWgxaDFvCKwIrIGtWhFaBrFuEVvBi3hFZA1i0IrYMWYMWAxaEVkGLAisCKzBizCK0DWrIRg+EYIRgQjABkHwODABkDhGDwODBgyAEYIRoRvww4YcKILYKILfhRg5htjY4OQbQ2hNAH8su//PkZP8cRgjWAFAUYjwDofQAi9pcJry1E1LUsuWvE2E0LQTcB+E2LMTctQFEEcWnFYVwTkAI4rRWFYE6BOhWwToBBAQgnIrisETANwIiAb/COEQEbgG+EcA38A3wjhGCMEeEaEeKoJwK4J2KoARBVBOIJ1FWKoJ0CcCuCdRWFcV4rioK4rAnYJ2K0V8VYr8E4xWFUVBVFQE6FXBORWFSKorxVFcVwToE5wTvBOoqwToVIJziuKwJxAQgnUVBUgnAqQCaCdxWirFaKwrRWFcE7FfFeK4rgnIrAnYrCoKoqgnAqCrip4qgnCr/////8Iu8BjvP4Ry5/8Izggc4Zw4RnD/hGcP8GThBk4eDJwgycIMnDwjOD4MnBA3eu9hF3kGO8gx3vBjvAN3jvMGO8CLvAY72DHeAbvXe+DHehF3kGO8gbvHeBF3oG713gG713vgx3oMd5BjvAi7wGO9A3eu8BjvMDd470Iu9wN3jvQY7wGO9wN3jvIRd4Bu9d6Bu9d6DHeAbvHewi7yEXecGO9BjvQN3rvIG7zykGO9A3eO9CLvYMd6EXegx3gG7x3kDd470Dd472DHewY7yDHeAKomwmhZFkAof8tCy4m5aCbcTUswFYsy0/LQTX9NBqBgJgYaY//PkZPcaTdCuAFgWlkI0DfQAe9r8Jxz6CShr8++JsArgjxNBNC0LQsyyLMsgRxallyyLIsi0LUTUtS0AVwFPia8si0LMTXiacsxNizLMTYTcsi1LMsy0E2LUsuJqJvxNyy/E1LMteWgm4mpZlkJuWRZFmWnLQTfgncVATkVcVQTsVIqQToVxWFeK4rwTmATCsCcAnQJyKoriqKwrxWiqKoqwToVRWBORWBOBVFSKgq4qAnAqAnArRVgnIJ3FYVQAgCriqK4qYqivBOsVoJwKgJ3FYVBWFfBOIqCoCcivipxUFSCd4qRV4rCvFaCc/BOhW8VxWFUVhX4r1eX/+DHgaYMOEX/CJgwwYQY8GODH/wYf4RAiQiAxCKBj4GAMYRQiwYcGEGMIoMfhECIBgEXAwCJhEA1BjhF+BhCIDEGARYGoRAYgxCLwYeESEUGMDEIoGAMAiAwBiBrCJ8GMGGEWEUGIRYMAYAxCKBiBgBqDDA1wiBEBiDAIsGIMANANMIoMAYhEBh4GMGMGARfAxBj8GAMANYRAYBFAwCIBhgYhEwNQMYGIRAMAiwNYRQi4RQYwYgahEBiBqBgESEUIqa6Z6bTBpGkmUwmkwaZpJlNCkifmkaaaBymgm0wmRPxSDTTa//PkZOYYTgboZUAQIkCEFgAAe898YTZpJtMJhNilphNdMJhMGgmemDSNJNmkaX6aNJN9MJhMc0E2mzSNJMpg0umU2mDS5oJlNJtNJnpg0DSTBoml0wmzTE8TRpGgm00mkzzRNNMJg0jQTSb/NFNdNGl02KTzRTfTPTSbTKZNLphNJpNmgmUymkwaaaTKZ/TSYTBoJr/ifptMpr9MJlNptMpg0kymumEwmf+mEwmOmkymTT5ppv80eaHTCYTHTSaNBNJtN80/0yaBoJo0k2aPTPNA0OaSaTJoplMJv9MgBAB4MBUGwbwVwUBkFAYDAU4NBoMBqhAELk//h/y1/vz6/6zMnEglwqnIsVSHBzAMMIqXiLgxS8ucoLCKl7VwipeupwYpeAxS8Z22hSl4U+qE1L2goKUva1GUJqXqwkpeAxS81IQpS8smBqXql6E1LyEVLxdEJqXoSUvAmpeJhFS8rpH3CKl6EVLxPWFKXgDUvVL1LCal4kuDFL2EVLxFlPClLyEVL2FKXhdwYpeswGpeqXkGKXqLAxS8wYpeqWk8KUvATUvQYpehJS9Bil6yoUpegipeZT2x1vN5NR2X3KrRuXjFmaS0AUCyE1BHflmWZacTYsvy05ZgAIs+WQCqJoWZ//PkZOwZ+gaYBgbm6EQMAfQAe9r8ZCbiaFkWv5ZibialoArlryyDtCSnyfR8hrE7PpNmiaIxDTGKafTJalqJoJoWQm4mnLUtSzE1LUsxNyy4mpZlqJpy14mgD8WpagKvLIEcJuWnLItBNhNhNxNgH8tSyLMTflmA/iaCaFqJqWf4mxZFmCdCvFWKwqivgnQJzFfwToAIwqgnOKgqCoK4J2KwqisKwJwKwqCqKgJwK4rYqirgnIJ2K8VhVwTmKorYrioK4JwKwrRWFQE5FUE6BOwTgV4qYqiuCdAnYqAnMVBVFUVATkVBVirioKoqCviuK8VwTjxWFfivFUVxXBOcVuKvFaKoqiuCdeEW3Bjb/gxvhFvCLYGN8GNwi3CLf8DbtuEW//CM7+DG+EW+DG8DbNgi3CLfA2zYItwY3gbZuDG8GT/Bk+DJ+DJ/hGdCM+EZwMnQZP8GT8GToRngc6dBk4IzwZOBk8GTvhGdBk+DG8Dbt8DbtgY2CLbBjYGNwi2A2zYDbN4RbhFtA2zcDbNwNu3CLaEW4RbeEW2DG8DbNwY3BjYDbNgY3A2zYItwi3CLbgbdvA27YGN/CLaDG4RbgxsDG4Rb8ItsI7oR3cGb00m0wmTT6aTZoJgUpMc0kwaa//PkZNcYqeLUAAAUHjw8DgQAe88cYTXTXNBpXiQdfLVpLJoaCSJs0TQNAbRpJpDWleaGlDmlfQ9fQ7tBZoa0IeOw3Ccq44TcHgrufDVzQNA0Om0wmDTNE0EymkymumU2mU0aSY6ZE8NFMmiaaYNDptMGn+aJpdNptNps0OmU0J50wNtMGmmEz/zQTJpppNplMJlM9M8FAYCoKAAApgqDIMACwAQbBsAMGQAQaCkGg0GgyCkGeCgNABwAAUgrwA+CoAQNAeHCAOAeAyIQHBwgDg4QYDAGgMEEOEAeA0Q4DxAHh0PEMGYMBsFQYDPgoDMGQV4NBqryAZfhGfwjMDl4Rv/wjcGT/4R/CPBH//hH4H3gzv4M7A+/gzoR4GdBnAf+DPBnwj4M7BnwivA1QIpCKcIpgaqDFgaqBogMWBqgGqgxQinA0XBi8IqEUCKBFcD7/CPwj0I+DPA/8GfBnQZ8I+EeCPwZ4R6EfhGcI0GSDIDJCNCMBkgdsIwGQDkBk4HIEZgy4RoHZwZQjcDtCMgcoRgRoRgHKDJBl4RgHIDKDIEYEaEZgyYMoRsIwGQGQIwGUGUI3A5AZMI2EaDLBlwjQZQjAjAZQoqIqqN+pypx/qNIqoqqNKNKcqchwGrCAPqN//PkZOsaCgjiBUZRnkhEBfAgw9tw+iu1RUqp2qNUNalOVG1GkV/U58sLU48sLLCiwFU4hAYA+qQQgasVhVIYQNWKwmAKpvasNoHIDm4OQHIDlGwNgbH4D+JuWQm4mhZFoJsWgm4I4TcbA2xtA5ODnGyNoHJ+NgHKDl/LMBXLUtS04mvLQteAqCaCbFoWQmha8bQ2Acg2ht8bI2RsjaGyNrjYGwNvjbByja/GxFYE4ipBOIrwTiK4J2KuK8BAK4rAnAJwKkE4FYE7FUVgEIqgIRVBO4qRXFQVBVBOMVwCcE5itBOoqAnQqCpBOIrxVBOoJ0KwJxgnQrCuKsVBXioCcCqCdAnYJyKsVYqipBOgjwiAj/8InhH4RMIkIioAC4RiJCMRP////CNk//Blkv4M6F8I9C/8GWT/8I2SwjZOEbJQZZIGWShGyYMsnwj0P///CPQ/hGyQRsn8I2SCNkgOyVkoMsnhGyQMslCNkoMsl4MsnhGyXCNk4MsmEbJ/wZZP8I2SA7JWTgyyQMiKDIieEYiAcRIihGIkIxFwZEUIxEA4iREgcRYihGIoHESIkDiJEUIxFwjEQIxEwZEWDIihGIoRiKEYiHcYJRIr9kzDmO5cIaApXE/NA0TTTKZGym/0//PkZMQWjdCsAwAWCsQ8Cfwoe89cyaXTKZACgKxsmybQFQCyPQPUbRtA9x6QAoegHKmRtClpk0RSkwaCYE/GyaaZ6ZFJTaaTCbTabTBomgmk2mxS0x0waSaTI2gcgOcT0T5MiedM9M9NCfCeGgNhMJlNJoT1MdNJhMjaNPptNGkmhtpnmgmv+KQmRSE0aaY6ZTKZTRoJg0U0aBopg0emU1/xPzTTaa5o80DRTZoJs0TRNEUhMikJs0P0x0wmkwmUymkwaKb5pppNJg0OaInhpGgmeaSbTBp9N/ptNJo0DTNAbOCkGAwGABgA4NgwAAAMAPBgAQKAyDAZgoCkFINAABWAEDAUBTAABgMBTgqACDcGAAQYDAUqLUlVt///+Bj4MIRcGH/hE//hEwY/wi8GPBj8GH8IgRcIv4RYMQi+DAIsIsIn8GHCLCJCJ/BhBgBpgwwifhFhEhF/gwCIDAGIMIMAMQYBFhFBgDH4GAMQiQNAYAwwYBECIAMIAMAAiHBgAMIAiAIg4MABgABhADAhEAGAARCBhCEQhEIMABh6EQAwIMABgCEQwMAQYD4MDCIcGACIQiHwYGDAhEOEQ4MAENB8hJD7PsnXJ0fZ98+D6LItQR3PgnZHmgPYYRopk0xj//PkZMkU/gLsKkITrkL0CfzIetvgJtNdNGkmkwCPLITf8s+WpaFmApAjgFUsyz49jSTCaGMmkyaRZlkJsWpaiagKBZlmWomh8c+CdcnROj4Pk+Akh9E6DsJ0fJ8c+OTs+idk4J2Tg+j7Pr8nB9nwfAa59k7598+D74Sk+eEkFQdDmKsOhwBEVYCeAiAmAiHcBEV4CYCIWmCHF6FqC0haRcF4XYvxfF2LwvC+FqC0xcC0C/FwLSFoF0XBfi7C0xei8LwvcLQLoWoXheC0BaIWoXBdiNiMY6cZ8RkZxnjqOojAz4zx0HUdBGozjoMw6iMjpxdi+L4uC5F/xd/haIui/bZ/+DGBp4RYMQYgw8Ivgw/CJ4RfBh/hECKBgEUGODH8InhFwY4GoMcIgRIMcInCIBrBhCIESESBp+DEGARfhEA1gxBjBj4RAYQYgxgYwiYRcIgMAiAwBjCJgYAawYYRQMQMAYhFgagYhEA0AxA1A1CJBhBgEXwMQNAihFhFAxwYAwgaYMPCJA1hEBiBrwYQiwYwiBFwYhFgxgawihFCLA0gYAwCKESBoBpCJ4MIRcGOEVB9ALR8BJj7/PonB9HyEoJwfZ9E4Dt5OeTnlqJtxNAH7nwfHPonJ8E759E6PoJI//PkZOAWKgjoZUAQYka0Ffgge9VcfZOCdE7J0To+Cc8JWTo+D7J0EqPoO0+T5PsJSfJ9n0TkJUfJOeTknPPo+z6J2Ts+ycE759/k7Pg+z5J2TonBOeTkJUTg+T5DtJ0Tvk5Pjk5DXPg+idH2HYfR9E6PgnR9k5JyfZ9cnR9cNYJSfROidE6Ps+Cdn0fB8E6DtPs+CdHwfH5OAlR8nyfB98+SdE4J0ff5OidH2TknfPkJMfYSg+Cd8+D6PsnP/JwTk++fYSQO0+D5J0fZ8HwTjn2AWDgdAL8ApALQCkO8GACwMgyAVBiAVhzwY4BeDIMgFMOh0ArDgc4BeAV4cgFsOhz/wP225HGw7wCsO4M8AqHP/+DEGQ7/8OgzgFoM4Bf4MhwO4BT4cDmHcGfDnw78GcVhUFTFXFeKoqYJ3isKuKkVgTsVoqCsKwrCoKsVQTqKorYWoXhfxeF/xdi58XOL4WmLnFYVQToE4FXiuK0VwTnFQVRVFcVhU4JzFfDgdhzBnDuHfALgyDAMQZBgGQCgBUAoDAMh3BkAsDMGcGAYgxBn+HAC0ArwCwMAS5adAry0yBSBfoFBVaKqKwVUVrRXUa9FUOEqVUjV3ySPLkvkzlNlNn02E2S06pvVKWACECpW//PkZN8VDgj+zymq5krb1ewAxJvkqe1XysDVFSqlVIo2o0ispyFVoqKNIrKcqNKcKcFhSjaKiKyKhYWiv6nCnCKijajSnPorKNKcKcqcIrqNoqKNqcKNoqKNKNqNKcIqKN//orf6BSbKbKBSBXlp0CvQKTYTZ/0C/LTxFxFoigioigCLC4cRYRWItEXC4cRcI0IoFwwXCiKwjQXC8LhRFcRcRQRSFwoikRcLhxFRFguHiKRF8E7FYVhVBOgCYVRUACKKgqgE0E6ACJFYVoJ0CcgnQrAnMVwTgE6ioKoRwDdhHhG4RARgDcCMEaEYIiAbwRIRuESEcIwRwiYRwjQjBEgWoFuBa4FngWkIQQigwhEwigx/CL/4RfCKEQGP/wYiEUwYHwYGDAwYAGA4RCEQBEGB0rCNcGU4RrBlcIsGGDCESBiEWDCBhCIEWBiDAGHCKEUGEGEGMIgMAiwigxCIDADQGIRfCIEQDXgYYRfBgBoESEXwY/CJCKEQIsGIRODEGIRQYgw8IgRYMMGAGGDEDGDAIoMcDQIkGMGGBrgwCKDAIsIkDUDWDGDDA1hE4RQMQYgwBhhFBhBh4MAMYRMIoRAiAxBjhF4mhZFpxNBNy0LQTUTXhKglR9FqWpaAP5Zi//PkZNYXkgTkGEJwlkXcDfQAe9r8bCa/k5JwTriacsizBHE6CSH1w7efHLPgjuJqWnLITYTX8tRNAH/ialqJuJuWZaFkCO4m5aE7J2TonB8E559nyEnJyfB8FmJrxNxNhNS1E3LT8sxNC0E0LTlqJuWQm3E15ZiaFqWRZiaCagP5aCblkKoqCsCdioKoqwToE6FcVwAhRWBOIrCpFbgnEVRVFUVIJ2K4rAnIqioKgrcV4riuK0E4FcVQTsVxUBOoJ3FUE7itFYE7FYVRXFUVwTkVoqAnYJxBO4rReF4XYWsLWLoui4LwuC9AdsLQL0LQA9C8Lgvi6LguBahfFwXAtIvQQ4vCqKwrxX/8E5xXit4JwKzBnwj+DF+F1guvBiQYkDRIR8I/gz8Gd4R/wYsGLBi8I8DPBneDPBnwZ/8I8DP8I8B/0Gd+DPA+8I/+Ef+DOgzvwj4R/hHoM+Ee4M4D74M+Ef/A/7gfcDPBn4R7BnfCPgz4M7Bngf8DPwjwR6B/3CPwj0Gfgz+EfBnhH8GfwioRQGIBqgRUDVAYoGiBFcIoBqoMWEUA1UDRYRUIqEUA1WBooGiAaqBogRUGJwigM8I/gz+DOCPwj/Bnwj3BnBHgZ4M4I+DOhHhNCz5aiaCb//PkZM0YugrgAAASBEUEBfQAe9rclmWompZ8shNyzLMsy1LMBUAfhNxNicBJCcE5J0JpyyLMTcBVLXloCO5aCagKACiAqflqWYmvE3E3BHlmArFnxNRNC1LUBS5aFoWhZFmWR8k5CTnxz4PonZ8E5Pg+j4LUshNQH4TYtSzLMshNBNhNSyAViyE0FQE4FYVoJ0CcRUgnYqisKoJxFWAhiuKgrCtFUE7FQE5iqKgqRVFWKorwTsVxVFYE7FTFTBOxVgnAqRXBOPisK4BOK0VoriuK0E5BOxUivFcE5FYE5FQVBXFQE6FQVBVFYVxWioCcCoLovi4LoWiL0LSL+LouBaIvBahdi6LoWgEMFoC1hacXxdC14uipiqKn8VPFbiqKsVb//Bm/+EXgx4RdhFb///hE1/8GLP//CKwIrQjoGa/wPewZqEdYM1wZqDNAetgzWEd8GagzYM2DN4M1wjoI7Bm+DNhHcD3rA9awZuEdwZvCOwjsGaA964M1A978I7hHQR0DNge98I6hHYR1wZrBmwPWgPWwZsI7wjqB63COvgzQR3BmwZsGaget8D3rCOgZoGa4R1gzYM0EdwZsI6CO+DN4R1wZsD3oGaBmwjqEdAzXCO/4R0DNAzYR0WgI8TQT//PkZL4XFgTcAE6Tekf8EfQAe9t8YTXiagKwCsJuWXLMTUtC1LMTT8TYTUJP+fAdomomoD8JuWoCgWoI7iaFkJqJqfZ8hrk4CSE5Pk+Cdk5PgnBOT7JwTg+uWZaiaCbcsgFAsy0LPlmJsWYmom5ZFmWpaibiaAjy15ZFkWQm5Zll+JsJqJvy1E0CThJz65OQlJ8H2TknZOT759k6J3z4PgTQTcsy0LITflmWfLUsiyLITYTcTT8syzLQsi0LMEcWZa8tSyE1LTibibFqWYI/8shNCyE1LQsy1LUTUBTLLloWXLUsiyLUtBN+JqJvy1E05Z8TcsxNeWn/LTnxydHwfZ9n1ydk4PsnHJyfR9E4JwTgnB8k4588nB9cnR8c+D7PjxV4q4r8VsVgTgE4/itFShX/xV4rirxVFWKoq4qfxX8E6xVxUBOYrCtwTvwTj/xV8E5/irBOsVuKwqRXFTFQVorCrFf/xWioKwrCtioCcxUFUVAToE4FUVxWFQVhUBO4rgnUVIJyKkVgToE4ipFUVoq4qisKsE64qCoCdxUFUVxXFUE78VxWFQV4qiuKgqiuK4CCK2KoqirBOATsE4FWK4qxVFUVhVFYE4gnIriuCcQTiK4rCoCdCtirBORUiqK2//PkZLAWsgzuADQNNkZj/fjIe9r8K/FXFUVwSE5aiaAKgmhaFpxNQkp8n3z5PsJOGsffLQsyyE1LItS1E1Af+CPLMTUTfibFmJoWQmxanzydHwTsnASknBaCalqWom5ZcsxNyc8nASsnHDt59BrhJgkpOicBKg7D7JyfZ8E5Pk+Cd8EeWXE0LQsiyLQtSyLIsi0LUTYsy0E3LITQshNiyLUsiy4I78shNy0LMVcE6ipgnArRVgncE4wTsVIrCqCcCtBOYrwTgE7iuKwqCoKwrcE7BOQTqKgqiqFpBEC1gPYD3F0X4WoLTF0Xxei6FqC0BaAtQWgXxdwtWFqC0haBW/FQVRUBOBUFcE6ioCcAnEVRX4rYrxWFUVBViuLsXgtAuC6FoBDBaYvi7F8XxexdF8XhcFyI//gx//CJBhgxhEwY/+EXwYgx8ImDH8GPhE8GPhEwigwhFwNQNQNfhE+DGDAGHCIBrhEhEBh4RQMAY/gYBFBhhEAxCIDCEUDEDHBiEUIoRQY+DCBp4McGEIgGgMcGIGMGIGIGgRQYgxCKBiBjBgDGESDADWBgEUDEIuDADWBpBiEUDEDDgYgwBgDEDQDUGIGgRAYQYAxCKBhCKEThEBgBiEUGIRQMQiQiwNAY//PkZKwWNgjoZUAQREakFfQAe9t8YMfwi4GBaFoJsWpaFlyyBHctCzE25ZiaFoAocsy1E24Sk+idk6LMTYTYTQsyyLUtCyLQTUswFYJMGuTg+CdHwErPotAFAsuJtxNCz4m4mvBHiafloWZZ8YppBqzTNI0jTNBMpg0jTTZZFqWfE3Af/xNf+WomhZ8suWZZCb8tC1LQtS14m/LQtBNhNOfR8hKCc8nHJ2EqCUE5CSHxydk6Pg+D7Ps+Sdk6LUTQTcTcTctSz4mwmha8TXlmJvyy5ZiaFl+WpZFoWZa8TQshNCz4mhalmJsWfLQsuWRactBNRNC1E1LLlly0E2PgJWfR8h2H2fJOSdnx+fXPs+T5PgNbnzz6Po+T7JwTk+z4PonROglJ84qCvxXxUirFX4q4qeCd1f8InCI/4R/CP//4RMI/CMEYI4RAR8I8IjCJ4REI/gG8ESEfCOERCP4R/+EaERCPCNCNCI4BvQjYRMHINobIOfjZBzDZG3xtja42gcw2PwcvG2Nng5+NgbY2wcn42htDYGwNrjYGwNsbX42vxscbI2gc3Bzg5Qcg2uNvjaGwNgbI2+Dl4OUbI2Qc42RsjbBy//g5eAboR4RwjQDeCP+EcI8IwBuwjwjBEBEA//PkZKoZMgrqADXt9EV8FfQAe9scG+EThEBGCMESESEbhEQjwjwjwjBHCIwiQDcCNCI/hHE0/LQBSLITf/lqWoSvk7LT8BWLMtRNAk58E7Po+CyLQTcsyyLUsi0Afi1LUTUTUtBNS05aFkWpZHzwkoSgnB9HwfQSsTYsizLQtRNRNgFf/8NcJWEmAWCdn0To+T4CUHyGtxNiyLT/lmJqJqJqWgmpZFqJsWgmwmwmwmv5ZiaibiactBNv/yyLTiaFkWZagKgCmJqWQmgmom3E0LTibAKfE0LLiuKgrYqipBO4JzFUE5BORXBOhVioKwqRWBOYJyKkE6BOIrYqCqCcxVxVFUV8E4FSCdcVgAgCuKkLTBDC6CHi+LwuRfha4uC+FpF8XQtAWgB2wtAWoXBchaBfwtQWnFSCdxVxXFUVhUFYV4rgnOK3wTiKir//1eDCsf//7/+wOYd///ei/f6lmiqGXpyOlCSRm+yP3UtDhFIzqBhwCFHAGFHABYGcAnAAMOAAYcAAw4BYKOAIROANgicAQYcABE4AAzgE4B+1wmcAwYcAK+sDOADgFLCJwAlWBnABwABnABwDWraETgEDOADgDBiRkgoJpGaP+64RSMoRSMGBiRkkwMSMlq7AxIy4//PkZJUYEgieBFw3fkL8FgAied8AROAAicA8DOATgAGHAAROAFwM4BOAGBhwADDgAGHANQUcAgicAYROAfgw4AIkbPNNNpo0TSNBNJgUs0l7lomEwmRSOaRp80zQFK4nvTInnTEGgwGwAwYmOmkyaInppJpMJg0k1+KUaaaTCb42U0mBsGiaSaNNNpo0OaKZNE0jTTSY5oGmaZpJrphM9MGkmDQTCZBzpg0OKR+mBtdMJobfTSbTfG2KSaBpGgaZomiaBomn02mOmkwmjSNPpjmmaKZNA0zSNFNCeClJkT40DTTCY5oJk0kyaJpdMppMdMdN80TR6ZTXTfNJNmimumem+aKZTKaTaaTRops0kwaZppk0+aSa6ZTKYTfTfTPTHTKa5omgmEyaJo9NmkaRp/pnmmaf6aNNMplMplMdMpv8TxMJlNplNJn9MdM1OM6hWa/EjiRiRiO/xIcSP+GgCZQ1+GvDRDV//4aP///4I8EwTwTBLwS/4AHgnBHBHgiwR4JgAgS4IwAYPA8ADg+AAAAFwfB4L4WADC2AGAGFwsFwuD2FgAcAPC+F/B8L4X/B7B4L4WwuD+AGDwXACAAC2D2AEFgfCwAAAAXB8LhcLeDwXCwPYPA+ACACD+AH4XwA//PkZJMVIgb2ejVLxkBMEgTIe898vwv4X/ACB/C4WwtgBg/gA4PA9gBeFhLRTXTRomkmP0yJ6J+mPy0NA0OvibNDQmfzTNNMjaFKNATxMiemiaRoGkmE2mkwmTRTHNBMGiaCZTSZTZomh0PaV9fX2hoX14kzSmOaCY5pJr80U0aPTfNFMps0jSNJMmiaSaTKb6aTKYNLphMpg0eaJoGkJ8aBoppMppMJg00xzTTabNFNJpNJpNpnpg0DT6bTRoppoJMWrSh/690NQ5paV5D2le/LND2hoQxDF/rzR1/r/aWhfaWleQxfXmheaevNDS0tLQ0ryGoch/X15D+vLy+0oc0ry/19DUOXuvIc0oav9oXkNX1/r3X18QCGHQGQHB8PiAPAaHgPDsBgcH+Hqv//+DJ0GNuEW4MbQY2wZO4Rn///4R34R3Qjv//8Gbv//8GbgZuwZvCO4GbsD37+Ed3A586DJ4Rn8DnToRn8GTsGT8GToRn4HOngyf4HOnBGeDJ0IzgjOCM8DnTwjOgydwOdP4RnYMncDbtwY2A27cItgNs3CLeDGwMbwY3CLaEWwRbQi3A27eDG0GN4G2bBFvA2zcItgY3A27YGN4G2bAxtA58/gc6eDJwHOnAyfCM7A588//PkZLMYngTSAFAUhEYcDfggw9V8DnzwOdOBk8IzuEZ4MnAyfgychsy7F3oE13Nl9sy7myrsL6qqOU5anCqkHqNDI3KVUTEU8GNU7U6gxyHKchyVV/Xa2Zspfds3rubK2VsjZmztk9djZi/TZV2NnXYu0vsm0yaBoDZNEbA2k0aKZNjmwbH/Nvm2bRtGyBVArD1G0bQPUevg9h6/+PRzZNkCrzZNgesegesermyPQPXzbHpNvm0PQPUPSbJs82TaHqAtj082h6DaNn8eo2DbHrHpNjj1m1zYHqNo2jYNnmwbPNgek2ja5sj0D1m0bJs80xtJlMdMCeps0U0meaaa6b5p/mmmU3zRTfNFN/pgHPzQNPmkaaaTXTKbTRoJk0zS6b/NBNdNJlNGj02aH6Z4IgAEEYJ4I+CMEQJcEUEXBOpHDX/w1Q0Q1Q1cNWGvw0Q0/hp/AmIaA0cCYhow0w1/w0hoDRhpw1w1BrgTLDXw1BrhrDQGgNQEzAmOGuGiGgNfgTHDQGoCZw1w0BrDWBMIEzDVDTDUGgNfAFwGjBrg1A1YNcGsAXAaQaABcBqg1g1QagaINYaoEyw1Bow1YaA1hoDSBMw1gTICYQJkGrDQGoNGGmGsNcNQawJkGuBM4aIa//PkZKAYngTsATQNQkKMFgDifh7AYagJkGsCZ+GkNWGiGsNAaYaOGgCYgTENQaw0Yaw1Q1Q0/hqw1BkAfmkaCb6ZTCY6bNBNLwmqGA5fzSTCb/lgwXOmMmMmTQ5pmkmUwmkymfzRTaZFJ6aNM002NrppMpg0kwKQmE2m0yKUaKaE95o9MJj9N9NJk0UymOaSaE/TabNNNmmmk2mU2aHTKZTCaNDjaTJoGimkyNvpk0TRTHTf6bTRopg001+mU0aXNBMjYNA0k2mjR5pfps0U100mUz0ym02mDRTHTaaTRpplMc0kz0ySA000mDSTKbNI002mzQTHTaYTf//NA0zQTBodNJk0UyKSaaZNJMprmkaP5oGmKUmEymUyaCbTHNBMJlN80DRNBMmkm/00mUwaZpprplNpvmiaJo80+aSa//TaY/6ZaH//wY4ReEX4RIMfwiAxBh/BhCJ/+ESDDwYcIn+EQIoMAiQYAw8IsGIGGETBj4MP4MQiAxhEAwAxAxBjBiEUIgMIMcDCDAGIMcGMDEGGBgEUDTwNfAx4MAiwiQYgwBgEUIgMIRAiQYhFwYAwBhA1CKDEIoGoGgMQi4MeDADGEQIkIgGMDCDAIoMAiQiAYwYYMQNQigwCJBiDEGAR//PkZJwV+gzoZUAQRkZsCfQAe9tcQYgx8GEGIMQiwMAY4MANAMcIoMSyE1E1/LMTUtCz5OD5PkJJz5Pk+uA/FqWRaib8TUTUTQtC05alqWYm4momgI8TYsxNCzE3LUtQFEsgFM+z6J0fB8nz+TsNcnB9BK+Tk+g7CdhJT6LTiaFqWYI7lqWoCvy05ZlnxNy0/LUshNBNvwR4moCj+Wv5ZlkJqWpalkCOE1E1LQsiyLITUBULLlqWZZlmJsWhZcsi1/4CiWpalkJqJuWvLXlkJsJpyy4mwm5ZlmJuWXLUTQteWgmgmwCsJoWfE3LMsiyLP8TTlkJuAolqJryzE1LTibCbloJuWhZFoWYmxZ8TcXIvxeC0i+FrF0B2i4L8LSL4uBaIDyCHF8XRfF6FqgiwtIuYWoXIrYqAncVvxVip8VIqCvUxPqtFbFf/4q/8V/8V/iririr8VATjxXipxWgnYq+KwqfFTFQVoq+KsVBW8VhUisKuK0VRXivFYE4FTBOhVFcVRV4riuCdCuCdCtwTiCcCqCcgnYqxWFcVIJwKsVxWisK8VxVgnArYqRWFeK0V4qgnQrgnYrfBOoqAnAq4J0CciqKviuK3BOoJyKsE4FUVoqisK2KwrAnArgBAFSK4//PkZJ0VagjyJgGtbkOkFfwAbh4AqRViuK4J0KgrCrFUVxVjOEeDQgjlcT4T40xtjaNI0uaI2QciGNJIl4kJZtCGIaSckIm6GL3TQ2zRTY2UwmjSNE0fxS02aY2BsJs0/+mzSE8TQpHTKZTaaG0aQpApZp/mmm+aHTfTCZGwNgUk0E0aRp/ilJlNJgT5MmkJ9zQNA0TQTH6ZG2mk0mk0mk3zQTKY/G3zQTHTabTBpGgmU0aKaTJpJpNJtMphNjYTfNE0emkymE2mEyaCbNBNfmkaJpdNJnpg0k0mDTTCbTaZTBp80k2aCbTfNE00yaCb6bTZoplMmmaKZTKaTJpmiaHTXNJNdMDbTab6Y6Z6ZNNMJhMJhN9NJrmim02m0ymU300aPTSa6Y//5pJpNdN/9NppxWxU4Jx/xWxU/xU4qcV/ipiuKwqxWFbioK/8VIqivFTwTkVgTkVor4JxFXxX8VcVxUFQE4FaCcwTvBOIqwToVuKwqCtFUVYqxXxWFeK0E7FQVYrwTnwTsV4rCqCcfFaCcRVFQE5gnAr4JyK4r4Jz4J0Koqip4rCvisKoJ3xWBOME7iuKgriuKgrAnAqgnArxXiqCcgnYJzFQVQTmAEIVYrwToAIYrwTiKkVQTkE5//PkZK4XGgzsADQNAkIcCfwAe898FXFTFYVxXxUFQVkzzS5oilg5TTTY2kyaJpJtNGgJ8aKaTQ2k2aCaNI0eaSYNJM/tKHEiQxfJG09MmgaSYTRppg0TRNNMJlMptMCfppNprmiaA2jQNLmmaRppk0jRFLNP9NJhMGmaQpZpJhNCkGkmE0J+mxSk0m0x02mjRTKbTCZ42EwaQpJpptNprmgaRpmim00J4mzSNM0kymkyKWmE0muaKYGwNjmgafTPNE0U0mUwJ7+mem01+J8mhSk2mjRTSb6aTCbNBM9MpjpjppMpk0E2mE2mE2mjSTfTaZ6YNFMcT1MpnprptNmim0wmE100aSaTRo9MGjzTTHTaaTfTSaNLpoFMAAFYNBQGwAvwAYM4NgqqkjaAN3d3d3etERNK5CZ/3Ctf8AaiAc/u7vaIn/+8XPv//+GDKv8W1/+AC8K4Yw+94xe940jgceOBwOcRaxGwH4EuNIjBfxazB8HhkwVjIAII/vDkjG/wAcJPeF5e98hNgSYLWMFvhZ73pX06aoehpmh01hMJtM9K3TKY9E10x+memvlIpZM9MUTCbShbUrtM+n5ophNZuXK+0wmemumMCemkmvc0Uwm/lJJlLe5oJZI0SyW6R0mE//PkZLcXlgrzECFvrEmMEfgAfh7k2aORpbTYUo9SBNsekGYNVKgqg6hrUXK4Q42DOwPWbILEzBSumEgkWJPU8S72G5wUuGDwguEKa1Q0UykS3Bn7FJNgg5qoEgpsGabBtGabZt7NrKCNgLYes1idmabBtm2bZsBRm0PQbF9mwPSPUBbMwzB6QojYM42ePTzbMwzR6TaNs1eBVNv81yDUJ2QYhJtD0m0PVe+x6T2M8HsbFwsh6B6D7HpugT2uZhO6HqZhmE7ISZhhkFNcghtmybBnnsD1Ho49ZtG2bZs5PVBc2EEepCaEHNjj1EJHq5smabZtmwbNEEPR+bJse9z2PY2T1SN0rdNJq6yXI06COvNJj9MGmkkGmUj7pI0TToNGlEsNEnCW10ymi5FtNFKpvps0kz0uW3aaTF00mTSzdNJu0KFYz1KjaGAhyoQCFGM//zFARgIUZ/oZpdCttay6M5drW1joSj6Ekk1b7J7R7aoQNlPrWBKLTTzOsGT5yYxLrtHTy2iUxEkES0HIBVD066VjGj31odPkkSjJtbWs6OIjKmlXHR9K5MTv5pdZolE10kk2lly74TFx5KTXeTGLrS6ExiucvJSSDUdXZm3NLn1rtYBCUEoRj77WOhCPc+g5//PkZJ8XPgzoAABMTrz8BfQyY9ONGxJULutaa1TE5LHxWEo+XecmMa3p0kqBCR6qOFaFUGpNJIIjqVi0ylBqJIkiSJIkmJj605EkSRJPetWAyVacmodBUVhGfrAZPF0AUrgRLNiqDU4VHo8h6HRObJJNdqlRBMFT0qdNE0WZhmay2tCuOY6oieWieianCnVSbzjd7SGhrLi6eUSeLcZTWqdML5PM50uOGJms9VqtYU6hrgrm4V0frUzTvYsiegR2FOkqUxSKdVCpmRCSkIAUZ4VPhqEKgFDU2VhUiIhUaIg0RAkTBYEjYBUbBMuCJgLAkCUBUinABgBE3/9EQqFRM0s0qzktk9ZFqqFC6RULE11JVDkd8Y1vVFOx9oUIpZ8Vnq5klkxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";var sh=e=>e instanceof Date,DD=e=>e==null;const LD=e=>typeof e=="object";var s_=e=>!DD(e)&&!Array.isArray(e)&&LD(e)&&!sh(e),a_=e=>DD(e)||!LD(e);function BD(e,t){if(a_(e)||a_(t))return e===t;if(sh(e)&&sh(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=t[i];if(sh(s)&&sh(a)||s_(s)&&s_(a)||Array.isArray(s)&&Array.isArray(a)?!BD(s,a):s!==a)return!1}}return!0}const Iae={facingMode:"environment",width:{min:640,ideal:720,max:1920},height:{min:640,ideal:720,max:1080}},Dae={finder:!0,torch:!0,tracker:void 0,onOff:!1,zoom:!1},Lae={width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",aspectRatio:"1/1"},Bae={width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"};function xp(e){if(e===null)throw new Error("Canvas should always be defined when component is mounted.");const t=e.getContext("2d");if(t===null)throw new Error("Canvas 2D context should be non-null");t.clearRect(0,0,e.width,e.height)}function Fae(e){var t;const{onScan:r,constraints:n,formats:i=["qr_code"],paused:s=!1,components:a,children:l,styles:u,classNames:d,allowMultiple:h,scanDelay:m,onError:p,sound:v}=e,x=j.useRef(null),C=j.useRef(null),A=j.useRef(null),N=j.useMemo(()=>({...Iae,...n}),[n]),T=j.useMemo(()=>({...Dae,...a}),[a]),[O,M]=j.useState(!1),[D,I]=j.useState(!0),[$,W]=j.useState(N),K=function(){const ue=j.useRef(Promise.resolve({type:"stop",data:{}})),je=j.useRef(null),pe=j.useRef(null),[ie,be]=j.useState({}),[me,Y]=j.useState({}),re=j.useCallback(async(qe,Fe)=>{var Re,Ke,Pe;if(!window.isSecureContext)throw new Error("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.");if(((Re=navigator==null?void 0:navigator.mediaDevices)===null||Re===void 0?void 0:Re.getUserMedia)===void 0)throw new Error("this browser has no Stream API support");const ae=await navigator.mediaDevices.getUserMedia({audio:!1,video:Fe});qe.srcObject!==void 0?qe.srcObject=ae:qe.mozSrcObject!==void 0?qe.mozSrcObject=ae:window.URL.createObjectURL?qe.src=window.URL.createObjectURL(ae):window.webkitURL?qe.src=window.webkitURL.createObjectURL(ae):qe.src=ae.id,await Promise.race([qe.play(),new Promise(fe=>setTimeout(fe,3e3)).then(()=>{throw new Error("Loading camera stream timed out after 3 seconds.")})]),await new Promise(fe=>setTimeout(fe,500));const[_e]=ae.getVideoTracks();return Y(_e.getSettings()),be((Pe=(Ke=_e==null?void 0:_e.getCapabilities)===null||Ke===void 0?void 0:Ke.call(_e))!==null&&Pe!==void 0?Pe:{}),je.current=ae,pe.current=_e,{type:"start",data:{videoEl:qe,stream:ae,constraints:Fe}}},[]),Se=j.useCallback(async(qe,Fe)=>{qe.src="",qe.srcObject=null,qe.load();for(const Re of Fe.getTracks())Fe.removeTrack(Re),Re.stop();return je.current=null,pe.current=null,Y({}),{type:"stop",data:{}}},[]),Te=j.useCallback(async(qe,{constraints:Fe,restart:Re=!1})=>{if(ue.current=ue.current.then(Ke=>{if(Ke.type==="start"){const{data:{videoEl:Pe,stream:ae,constraints:_e}}=Ke;return Re||qe!==Pe||Fe!==_e?Se(Pe,ae).then(()=>re(qe,Fe)):Ke}return re(qe,Fe)}),(await ue.current).type==="stop")throw new Error("Something went wrong with the camera task queue (start task).")},[re,Se]),Ie=j.useCallback(async()=>{if(ue.current=ue.current.then(qe=>{if(qe.type==="stop")return qe;const{data:{videoEl:Fe,stream:Re}}=qe;return Se(Fe,Re)}),(await ue.current).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")},[Se]),tt=j.useCallback(async qe=>{const Fe=pe.current;if(!Fe)throw new Error("No active video track found.");{qe.advanced&&qe.advanced[0].zoom&&Fe.getCapabilities().torch&&await Fe.applyConstraints({advanced:[{torch:!1}]}),await Fe.applyConstraints(qe);const Re=Fe.getCapabilities(),Ke=Fe.getSettings();be(Re),Y(Ke)}},[]);return j.useEffect(()=>()=>{(async()=>await Ie())()},[Ie]),{capabilities:ie,settings:me,startCamera:Te,stopCamera:Ie,updateConstraints:tt}}(),{startScanning:J,stopScanning:Z}=function(ue){const{videoElementRef:je,onScan:pe,onFound:ie,retryDelay:be=100,scanDelay:me=0,formats:Y=[],allowMultiple:re=!1,sound:Se=!0}=ue,Te=j.useRef(new V1({formats:Y})),Ie=j.useRef(null),tt=j.useRef(null);j.useEffect(()=>{Te.current=new V1({formats:Y})},[Y]),j.useEffect(()=>{typeof window<"u"&&Se&&(Ie.current=new Audio(typeof Se=="string"?Se:Rae))},[Se]);const qe=j.useCallback(Fe=>async Re=>{if(je.current!==null&&je.current.readyState>1){const{lastScan:Ke,contentBefore:Pe,lastScanHadContent:ae}=Fe;if(Re-Ke<be)tt.current=window.requestAnimationFrame(qe(Fe));else{const _e=await Te.current.detect(je.current),fe=_e.some(et=>!Pe.includes(et.rawValue)),Ve=_e.length>0;let lt=Fe.lastOnScan;(fe||re&&Ve&&Re-lt>=me)&&(Se&&Ie.current&&Ie.current.paused&&Ie.current.play().catch(et=>console.error("Error playing the sound",et)),lt=Re,pe(_e)),Ve&&ie(_e),!Ve&&ae&&ie(_e);const yt={lastScan:Re,lastOnScan:lt,lastScanHadContent:Ve,contentBefore:fe?_e.map(et=>et.rawValue):Pe};tt.current=window.requestAnimationFrame(qe(yt))}}},[je.current,pe,ie,be]);return{startScanning:j.useCallback(()=>{const Fe=performance.now(),Re={lastScan:Fe,lastOnScan:Fe,contentBefore:[],lastScanHadContent:!1};tt.current=window.requestAnimationFrame(qe(Re))},[qe]),stopScanning:j.useCallback(()=>{tt.current!==null&&(window.cancelAnimationFrame(tt.current),tt.current=null)},[])}}({videoElementRef:x,onScan:r,onFound:ue=>function(je,pe,ie,be){const me=ie;if(me==null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas is always defined.");const Y=pe;if(Y==null)throw new Error("onFound handler should only be called when component is mounted. Thus video element is always defined.");if(je.length===0||be===void 0)xp(me);else{const re=Y.offsetWidth,Se=Y.offsetHeight,Te=Y.videoWidth,Ie=Y.videoHeight,tt=Math.max(re/Te,Se/Ie),qe=Te*tt,Fe=Ie*tt,Re=qe/Te,Ke=Fe/Ie,Pe=(re-qe)/2,ae=(Se-Fe)/2,_e=({x:yt,y:et})=>({x:Math.floor(yt*Re),y:Math.floor(et*Ke)}),fe=({x:yt,y:et})=>({x:Math.floor(yt+Pe),y:Math.floor(et+ae)}),Ve=je.map(yt=>{const{boundingBox:et,cornerPoints:nn}=yt,{x:_t,y:Ct}=fe(_e({x:et.x,y:et.y})),{x:dt,y:it}=_e({x:et.width,y:et.height});return{...yt,cornerPoints:nn.map(Rt=>fe(_e(Rt))),boundingBox:DOMRectReadOnly.fromRect({x:_t,y:Ct,width:dt,height:it})}});me.width=Y.offsetWidth,me.height=Y.offsetHeight;const lt=me.getContext("2d");if(lt===null)throw new Error("onFound handler should only be called when component is mounted. Thus tracking canvas 2D context is always defined.");be(Ve,lt)}}(ue,x.current,A.current,T.tracker),formats:i,retryDelay:T.tracker===void 0?500:10,scanDelay:m,allowMultiple:h,sound:v});j.useEffect(()=>(M(!0),()=>{M(!1)}),[]),j.useEffect(()=>{O&&(Z(),J())},[a==null?void 0:a.tracker]),j.useEffect(()=>{if(!BD(N,$)){const ue=N;n!=null&&n.deviceId&&delete ue.facingMode,W(ue)}},[n]);const de=j.useMemo(()=>({constraints:$,shouldStream:O&&!s}),[$,O,s]),ce=async()=>{const ue=x.current;if(ue==null)throw new Error("Video should be defined when component is mounted.");const je=C.current;if(je==null)throw new Error("Canvas should be defined when component is mounted.");const pe=je.getContext("2d");if(pe==null)throw new Error("Canvas should be defined when component is mounted.");if(de.shouldStream){await K.stopCamera(),I(!1);try{await K.startCamera(ue,de),ue?I(!0):await K.stopCamera()}catch(ie){p==null||p(ie),console.error("error",ie)}}else je.width=ue.videoWidth,je.height=ue.videoHeight,pe.drawImage(ue,0,0,ue.videoWidth,ue.videoHeight),await K.stopCamera(),I(!1)};j.useEffect(()=>{(async()=>await ce())()},[de]);const ee=j.useMemo(()=>de.shouldStream&&D,[de.shouldStream,D]);return j.useEffect(()=>{if(ee){if(C.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus pause frame canvas is defined");if(xp(C.current),A.current===void 0)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus tracking canvas is defined");if(xp(A.current),x.current==null)throw new Error("shouldScan effect should only be triggered when component is mounted. Thus video element is defined");J()}},[ee]),St.createElement("div",{style:{...Lae,...u==null?void 0:u.container},className:d==null?void 0:d.container},St.createElement("video",{ref:x,style:{...Bae,...u==null?void 0:u.video,visibility:s?"hidden":"visible"},className:d==null?void 0:d.video,autoPlay:!0,muted:!0,playsInline:!0}),St.createElement("canvas",{ref:C,style:{display:s?"block":"none",position:"absolute",width:"100%",height:"100%"}}),St.createElement("canvas",{ref:A,style:{position:"absolute",width:"100%",height:"100%"}}),St.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},T.finder&&St.createElement(Mae,{scanning:D,capabilities:K.capabilities,onOff:T.onOff,zoom:T.zoom&&K.settings.zoom?{value:K.settings.zoom,onChange:async ue=>{const je={...$,advanced:[{zoom:ue}]};await K.updateConstraints(je)}}:void 0,torch:T.torch?{status:(t=K.settings.torch)!==null&&t!==void 0&&t,toggle:async ue=>{const je={...$,advanced:[{torch:ue}]};await K.updateConstraints(je)}}:void 0,startScanning:async()=>await ce(),stopScanning:async()=>{await K.stopCamera(),xp(A.current),I(!1)}}),l))}var eb={exports:{}},o_;function $ae(){return o_||(o_=1,function(e,t){(function(r,n){e.exports=n()})(window,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var a=n[s]={i:s,l:!1,exports:{}};return r[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(s,a,l){i.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:l})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,a){if(1&a&&(s=i(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var u in s)i.d(l,u,(function(d){return s[d]}).bind(null,u));return l},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="/",i(i.s=67)}([function(r,n,i){var s=i(52);r.exports=function(a,l,u){return(l=s(l))in a?Object.defineProperty(a,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[l]=u,a},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){function i(s){return r.exports=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},r.exports.__esModule=!0,r.exports.default=r.exports,i(s)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i,s){if(!(i instanceof s))throw new TypeError("Cannot call a class as a function")},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(52);function a(l,u){for(var d=0;d<u.length;d++){var h=u[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,s(h.key),h)}}r.exports=function(l,u,d){return u&&a(l.prototype,u),d&&a(l,d),Object.defineProperty(l,"prototype",{writable:!1}),l},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(8).default,a=i(140);r.exports=function(l,u){if(u&&(s(u)=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(l)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(32);r.exports=function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),l&&s(a,l)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(136)();r.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},function(r,n){function i(s,a,l,u,d,h,m){try{var p=s[h](m),v=p.value}catch(x){return void l(x)}p.done?a(v):Promise.resolve(v).then(u,d)}r.exports=function(s){return function(){var a=this,l=arguments;return new Promise(function(u,d){var h=s.apply(a,l);function m(v){i(h,u,d,m,p,"next",v)}function p(v){i(h,u,d,m,p,"throw",v)}m(void 0)})}},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){function i(s){return r.exports=i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r.exports.__esModule=!0,r.exports.default=r.exports,i(s)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}},function(r,n,i){var s=i(141);function a(){return r.exports=a=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(l,u,d){var h=s(l,u);if(h){var m=Object.getOwnPropertyDescriptor(h,u);return m.get?m.get.call(arguments.length<3?l:d):m.value}},r.exports.__esModule=!0,r.exports.default=r.exports,a.apply(null,arguments)}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){var i=Array.isArray;r.exports=i},function(r,n,i){var s=i(68),a=i(124)(function(l,u,d){s(l,u,d)});r.exports=a},function(r,n,i){var s=i(36),a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")();r.exports=l},function(r,n){r.exports=function(i){return i!=null&&typeof i=="object"}},function(r,n,i){var s=i(19),a=i(82),l=i(83),u=s?s.toStringTag:void 0;r.exports=function(d){return d==null?d===void 0?"[object Undefined]":"[object Null]":u&&u in Object(d)?a(d):l(d)}},function(r,n,i){var s=i(70),a=i(71),l=i(72),u=i(73),d=i(74);function h(m){var p=-1,v=m==null?0:m.length;for(this.clear();++p<v;){var x=m[p];this.set(x[0],x[1])}}h.prototype.clear=s,h.prototype.delete=a,h.prototype.get=l,h.prototype.has=u,h.prototype.set=d,r.exports=h},function(r,n,i){var s=i(18);r.exports=function(a,l){for(var u=a.length;u--;)if(s(a[u][0],l))return u;return-1}},function(r,n){r.exports=function(i,s){return i===s||i!=i&&s!=s}},function(r,n,i){var s=i(13).Symbol;r.exports=s},function(r,n,i){var s=i(26)(Object,"create");r.exports=s},function(r,n,i){var s=i(96);r.exports=function(a,l){var u=a.__data__;return s(l)?u[typeof l=="string"?"string":"hash"]:u.map}},function(r,n,i){var s=i(111),a=i(14),l=Object.prototype,u=l.hasOwnProperty,d=l.propertyIsEnumerable,h=s(function(){return arguments}())?s:function(m){return a(m)&&u.call(m,"callee")&&!d.call(m,"callee")};r.exports=h},function(r,n){var i=/^(?:0|[1-9]\d*)$/;r.exports=function(s,a){var l=typeof s;return!!(a=a??9007199254740991)&&(l=="number"||l!="symbol"&&i.test(s))&&s>-1&&s%1==0&&s<a}},function(r,n,i){var s=i(11),a=i(148),l=i(149),u=i(152);r.exports=function(d,h){return s(d)?d:a(d,h)?[d]:l(u(d))}},function(r,n,i){var s=i(142),a=i(143),l=i(50),u=i(144);r.exports=function(d){return s(d)||a(d)||l(d)||u()},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(80),a=i(87);r.exports=function(l,u){var d=a(l,u);return s(d)?d:void 0}},function(r,n,i){var s=i(15),a=i(9);r.exports=function(l){if(!a(l))return!1;var u=s(l);return u=="[object Function]"||u=="[object GeneratorFunction]"||u=="[object AsyncFunction]"||u=="[object Proxy]"}},function(r,n,i){var s=i(39);r.exports=function(a,l,u){l=="__proto__"&&s?s(a,l,{configurable:!0,enumerable:!0,value:u,writable:!0}):a[l]=u}},function(r,n){r.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(r,n,i){var s=i(27),a=i(31);r.exports=function(l){return l!=null&&a(l.length)&&!s(l)}},function(r,n){r.exports=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991}},function(r,n){function i(s,a){return r.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,u){return l.__proto__=u,l},r.exports.__esModule=!0,r.exports.default=r.exports,i(s,a)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(15),a=i(14);r.exports=function(l){return typeof l=="symbol"||a(l)&&s(l)=="[object Symbol]"}},function(r,n,i){var s=i(33);r.exports=function(a){if(typeof a=="string"||s(a))return a;var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}},function(r,n,i){var s=i(26)(i(13),"Map");r.exports=s},function(r,n,i){(function(s){var a=typeof s=="object"&&s&&s.Object===Object&&s;r.exports=a}).call(this,i(81))},function(r,n,i){var s=i(88),a=i(95),l=i(97),u=i(98),d=i(99);function h(m){var p=-1,v=m==null?0:m.length;for(this.clear();++p<v;){var x=m[p];this.set(x[0],x[1])}}h.prototype.clear=s,h.prototype.delete=a,h.prototype.get=l,h.prototype.has=u,h.prototype.set=d,r.exports=h},function(r,n,i){var s=i(28),a=i(18);r.exports=function(l,u,d){(d!==void 0&&!a(l[u],d)||d===void 0&&!(u in l))&&s(l,u,d)}},function(r,n,i){var s=i(26),a=function(){try{var l=s(Object,"defineProperty");return l({},"",{}),l}catch{}}();r.exports=a},function(r,n,i){var s=i(110)(Object.getPrototypeOf,Object);r.exports=s},function(r,n){var i=Object.prototype;r.exports=function(s){var a=s&&s.constructor;return s===(typeof a=="function"&&a.prototype||i)}},function(r,n,i){(function(s){var a=i(13),l=i(113),u=n&&!n.nodeType&&n,d=u&&typeof s=="object"&&s&&!s.nodeType&&s,h=d&&d.exports===u?a.Buffer:void 0,m=(h?h.isBuffer:void 0)||l;s.exports=m}).call(this,i(29)(r))},function(r,n,i){var s=i(115),a=i(116),l=i(117),u=l&&l.isTypedArray,d=u?a(u):s;r.exports=d},function(r,n){r.exports=function(i,s){if((s!=="constructor"||typeof i[s]!="function")&&s!="__proto__")return i[s]}},function(r,n,i){var s=i(28),a=i(18),l=Object.prototype.hasOwnProperty;r.exports=function(u,d,h){var m=u[d];l.call(u,d)&&a(m,h)&&(h!==void 0||d in u)||s(u,d,h)}},function(r,n,i){var s=i(120),a=i(122),l=i(30);r.exports=function(u){return l(u)?s(u,!0):a(u)}},function(r,n){r.exports=function(i){return i}},function(r,n,i){var s=i(126),a=Math.max;r.exports=function(l,u,d){return u=a(u===void 0?l.length-1:u,0),function(){for(var h=arguments,m=-1,p=a(h.length-u,0),v=Array(p);++m<p;)v[m]=h[u+m];m=-1;for(var x=Array(u+1);++m<u;)x[m]=h[m];return x[u]=d(v),s(l,this,x)}}},function(r,n,i){var s=i(127),a=i(129)(s);r.exports=a},function(r,n,i){var s=i(51);r.exports=function(a,l){if(a){if(typeof a=="string")return s(a,l);var u={}.toString.call(a).slice(8,-1);return u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set"?Array.from(a):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?s(a,l):void 0}},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i,s){(s==null||s>i.length)&&(s=i.length);for(var a=0,l=Array(s);a<s;a++)l[a]=i[a];return l},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(8).default,a=i(135);r.exports=function(l){var u=a(l,"string");return s(u)=="symbol"?u:u+""},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i,s){this.v=i,this.k=s},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(55);function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var l,u,d=typeof Symbol=="function"?Symbol:{},h=d.iterator||"@@iterator",m=d.toStringTag||"@@toStringTag";function p(M,D,I,$){var W=D&&D.prototype instanceof x?D:x,K=Object.create(W.prototype);return s(K,"_invoke",function(J,Z,de){var ce,ee,ue,je=0,pe=de||[],ie=!1,be={p:0,n:0,v:l,a:me,f:me.bind(l,4),d:function(Y,re){return ce=Y,ee=0,ue=l,be.n=re,v}};function me(Y,re){for(ee=Y,ue=re,u=0;!ie&&je&&!Se&&u<pe.length;u++){var Se,Te=pe[u],Ie=be.p,tt=Te[2];Y>3?(Se=tt===re)&&(ue=Te[(ee=Te[4])?5:(ee=3,3)],Te[4]=Te[5]=l):Te[0]<=Ie&&((Se=Y<2&&Ie<Te[1])?(ee=0,be.v=re,be.n=Te[1]):Ie<tt&&(Se=Y<3||Te[0]>re||re>tt)&&(Te[4]=Y,Te[5]=re,be.n=tt,ee=0))}if(Se||Y>1)return v;throw ie=!0,re}return function(Y,re,Se){if(je>1)throw TypeError("Generator is already running");for(ie&&re===1&&me(re,Se),ee=re,ue=Se;(u=ee<2?l:ue)||!ie;){ce||(ee?ee<3?(ee>1&&(be.n=-1),me(ee,ue)):be.n=ue:be.v=ue);try{if(je=2,ce){if(ee||(Y="next"),u=ce[Y]){if(!(u=u.call(ce,ue)))throw TypeError("iterator result is not an object");if(!u.done)return u;ue=u.value,ee<2&&(ee=0)}else ee===1&&(u=ce.return)&&u.call(ce),ee<2&&(ue=TypeError("The iterator does not provide a '"+Y+"' method"),ee=1);ce=l}else if((u=(ie=be.n<0)?ue:J.call(Z,be))!==v)break}catch(Te){ce=l,ee=1,ue=Te}finally{je=1}}return{value:u,done:ie}}}(M,I,$),!0),K}var v={};function x(){}function C(){}function A(){}u=Object.getPrototypeOf;var N=[][h]?u(u([][h]())):(s(u={},h,function(){return this}),u),T=A.prototype=x.prototype=Object.create(N);function O(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,A):(M.__proto__=A,s(M,m,"GeneratorFunction")),M.prototype=Object.create(T),M}return C.prototype=A,s(T,"constructor",A),s(A,"constructor",C),C.displayName="GeneratorFunction",s(A,m,"GeneratorFunction"),s(T),s(T,m,"Generator"),s(T,h,function(){return this}),s(T,"toString",function(){return"[object Generator]"}),(r.exports=a=function(){return{w:p,m:O}},r.exports.__esModule=!0,r.exports.default=r.exports)()}r.exports=a,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){function i(s,a,l,u){var d=Object.defineProperty;try{d({},"",{})}catch{d=0}r.exports=i=function(h,m,p,v){function x(C,A){i(h,C,function(N){return this._invoke(C,A,N)})}m?d?d(h,m,{value:p,enumerable:!v,configurable:!v,writable:!v}):h[m]=p:(x("next",0),x("throw",1),x("return",2))},r.exports.__esModule=!0,r.exports.default=r.exports,i(s,a,l,u)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(54),a=i(57);r.exports=function(l,u,d,h,m){return new a(s().w(l,u,d,h),m||Promise)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(53),a=i(55);r.exports=function l(u,d){function h(p,v,x,C){try{var A=u[p](v),N=A.value;return N instanceof s?d.resolve(N.v).then(function(T){h("next",T,x,C)},function(T){h("throw",T,x,C)}):d.resolve(N).then(function(T){A.value=T,x(A)},function(T){return h("throw",T,x,C)})}catch(T){C(T)}}var m;this.next||(a(l.prototype),a(l.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(p,v,x){function C(){return new d(function(A,N){h(p,x,A,N)})}return m=m?m.then(C,C):C()},!0)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(132),a=i(133),l=i(50),u=i(134);r.exports=function(d,h){return s(d)||a(d,h)||l(d,h)||u()},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(145),a=i(159)(function(l,u){return l==null?{}:s(l,u)});r.exports=a},function(r,n,i){var s=i(1),a=i(32),l=i(164),u=i(165);function d(h){var m=typeof Map=="function"?new Map:void 0;return r.exports=d=function(p){if(p===null||!l(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(p))return m.get(p);m.set(p,v)}function v(){return u(p,arguments,s(this).constructor)}return v.prototype=Object.create(p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),a(v,p)},r.exports.__esModule=!0,r.exports.default=r.exports,d(h)}r.exports=d,r.exports.__esModule=!0,r.exports.default=r.exports},,,,,,,function(r,n,i){r.exports=i(167)},function(r,n,i){var s=i(69),a=i(38),l=i(100),u=i(102),d=i(9),h=i(46),m=i(44);r.exports=function p(v,x,C,A,N){v!==x&&l(x,function(T,O){if(N||(N=new s),d(T))u(v,x,O,C,p,A,N);else{var M=A?A(m(v,O),T,O+"",v,x,N):void 0;M===void 0&&(M=T),a(v,O,M)}},h)}},function(r,n,i){var s=i(16),a=i(75),l=i(76),u=i(77),d=i(78),h=i(79);function m(p){var v=this.__data__=new s(p);this.size=v.size}m.prototype.clear=a,m.prototype.delete=l,m.prototype.get=u,m.prototype.has=d,m.prototype.set=h,r.exports=m},function(r,n){r.exports=function(){this.__data__=[],this.size=0}},function(r,n,i){var s=i(17),a=Array.prototype.splice;r.exports=function(l){var u=this.__data__,d=s(u,l);return!(d<0)&&(d==u.length-1?u.pop():a.call(u,d,1),--this.size,!0)}},function(r,n,i){var s=i(17);r.exports=function(a){var l=this.__data__,u=s(l,a);return u<0?void 0:l[u][1]}},function(r,n,i){var s=i(17);r.exports=function(a){return s(this.__data__,a)>-1}},function(r,n,i){var s=i(17);r.exports=function(a,l){var u=this.__data__,d=s(u,a);return d<0?(++this.size,u.push([a,l])):u[d][1]=l,this}},function(r,n,i){var s=i(16);r.exports=function(){this.__data__=new s,this.size=0}},function(r,n){r.exports=function(i){var s=this.__data__,a=s.delete(i);return this.size=s.size,a}},function(r,n){r.exports=function(i){return this.__data__.get(i)}},function(r,n){r.exports=function(i){return this.__data__.has(i)}},function(r,n,i){var s=i(16),a=i(35),l=i(37);r.exports=function(u,d){var h=this.__data__;if(h instanceof s){var m=h.__data__;if(!a||m.length<199)return m.push([u,d]),this.size=++h.size,this;h=this.__data__=new l(m)}return h.set(u,d),this.size=h.size,this}},function(r,n,i){var s=i(27),a=i(84),l=i(9),u=i(86),d=/^\[object .+?Constructor\]$/,h=Function.prototype,m=Object.prototype,p=h.toString,v=m.hasOwnProperty,x=RegExp("^"+p.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");r.exports=function(C){return!(!l(C)||a(C))&&(s(C)?x:d).test(u(C))}},function(r,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){var s=i(19),a=Object.prototype,l=a.hasOwnProperty,u=a.toString,d=s?s.toStringTag:void 0;r.exports=function(h){var m=l.call(h,d),p=h[d];try{h[d]=void 0;var v=!0}catch{}var x=u.call(h);return v&&(m?h[d]=p:delete h[d]),x}},function(r,n){var i=Object.prototype.toString;r.exports=function(s){return i.call(s)}},function(r,n,i){var s,a=i(85),l=(s=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";r.exports=function(u){return!!l&&l in u}},function(r,n,i){var s=i(13)["__core-js_shared__"];r.exports=s},function(r,n){var i=Function.prototype.toString;r.exports=function(s){if(s!=null){try{return i.call(s)}catch{}try{return s+""}catch{}}return""}},function(r,n){r.exports=function(i,s){return i==null?void 0:i[s]}},function(r,n,i){var s=i(89),a=i(16),l=i(35);r.exports=function(){this.size=0,this.__data__={hash:new s,map:new(l||a),string:new s}}},function(r,n,i){var s=i(90),a=i(91),l=i(92),u=i(93),d=i(94);function h(m){var p=-1,v=m==null?0:m.length;for(this.clear();++p<v;){var x=m[p];this.set(x[0],x[1])}}h.prototype.clear=s,h.prototype.delete=a,h.prototype.get=l,h.prototype.has=u,h.prototype.set=d,r.exports=h},function(r,n,i){var s=i(20);r.exports=function(){this.__data__=s?s(null):{},this.size=0}},function(r,n){r.exports=function(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}},function(r,n,i){var s=i(20),a=Object.prototype.hasOwnProperty;r.exports=function(l){var u=this.__data__;if(s){var d=u[l];return d==="__lodash_hash_undefined__"?void 0:d}return a.call(u,l)?u[l]:void 0}},function(r,n,i){var s=i(20),a=Object.prototype.hasOwnProperty;r.exports=function(l){var u=this.__data__;return s?u[l]!==void 0:a.call(u,l)}},function(r,n,i){var s=i(20);r.exports=function(a,l){var u=this.__data__;return this.size+=this.has(a)?0:1,u[a]=s&&l===void 0?"__lodash_hash_undefined__":l,this}},function(r,n,i){var s=i(21);r.exports=function(a){var l=s(this,a).delete(a);return this.size-=l?1:0,l}},function(r,n){r.exports=function(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}},function(r,n,i){var s=i(21);r.exports=function(a){return s(this,a).get(a)}},function(r,n,i){var s=i(21);r.exports=function(a){return s(this,a).has(a)}},function(r,n,i){var s=i(21);r.exports=function(a,l){var u=s(this,a),d=u.size;return u.set(a,l),this.size+=u.size==d?0:1,this}},function(r,n,i){var s=i(101)();r.exports=s},function(r,n){r.exports=function(i){return function(s,a,l){for(var u=-1,d=Object(s),h=l(s),m=h.length;m--;){var p=h[i?m:++u];if(a(d[p],p,d)===!1)break}return s}}},function(r,n,i){var s=i(38),a=i(103),l=i(104),u=i(107),d=i(108),h=i(22),m=i(11),p=i(112),v=i(42),x=i(27),C=i(9),A=i(114),N=i(43),T=i(44),O=i(118);r.exports=function(M,D,I,$,W,K,J){var Z=T(M,I),de=T(D,I),ce=J.get(de);if(ce)s(M,I,ce);else{var ee=K?K(Z,de,I+"",M,D,J):void 0,ue=ee===void 0;if(ue){var je=m(de),pe=!je&&v(de),ie=!je&&!pe&&N(de);ee=de,je||pe||ie?m(Z)?ee=Z:p(Z)?ee=u(Z):pe?(ue=!1,ee=a(de,!0)):ie?(ue=!1,ee=l(de,!0)):ee=[]:A(de)||h(de)?(ee=Z,h(Z)?ee=O(Z):C(Z)&&!x(Z)||(ee=d(de))):ue=!1}ue&&(J.set(de,ee),W(ee,de,$,K,J),J.delete(de)),s(M,I,ee)}}},function(r,n,i){(function(s){var a=i(13),l=n&&!n.nodeType&&n,u=l&&typeof s=="object"&&s&&!s.nodeType&&s,d=u&&u.exports===l?a.Buffer:void 0,h=d?d.allocUnsafe:void 0;s.exports=function(m,p){if(p)return m.slice();var v=m.length,x=h?h(v):new m.constructor(v);return m.copy(x),x}}).call(this,i(29)(r))},function(r,n,i){var s=i(105);r.exports=function(a,l){var u=l?s(a.buffer):a.buffer;return new a.constructor(u,a.byteOffset,a.length)}},function(r,n,i){var s=i(106);r.exports=function(a){var l=new a.constructor(a.byteLength);return new s(l).set(new s(a)),l}},function(r,n,i){var s=i(13).Uint8Array;r.exports=s},function(r,n){r.exports=function(i,s){var a=-1,l=i.length;for(s||(s=Array(l));++a<l;)s[a]=i[a];return s}},function(r,n,i){var s=i(109),a=i(40),l=i(41);r.exports=function(u){return typeof u.constructor!="function"||l(u)?{}:s(a(u))}},function(r,n,i){var s=i(9),a=Object.create,l=function(){function u(){}return function(d){if(!s(d))return{};if(a)return a(d);u.prototype=d;var h=new u;return u.prototype=void 0,h}}();r.exports=l},function(r,n){r.exports=function(i,s){return function(a){return i(s(a))}}},function(r,n,i){var s=i(15),a=i(14);r.exports=function(l){return a(l)&&s(l)=="[object Arguments]"}},function(r,n,i){var s=i(30),a=i(14);r.exports=function(l){return a(l)&&s(l)}},function(r,n){r.exports=function(){return!1}},function(r,n,i){var s=i(15),a=i(40),l=i(14),u=Function.prototype,d=Object.prototype,h=u.toString,m=d.hasOwnProperty,p=h.call(Object);r.exports=function(v){if(!l(v)||s(v)!="[object Object]")return!1;var x=a(v);if(x===null)return!0;var C=m.call(x,"constructor")&&x.constructor;return typeof C=="function"&&C instanceof C&&h.call(C)==p}},function(r,n,i){var s=i(15),a=i(31),l=i(14),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,r.exports=function(d){return l(d)&&a(d.length)&&!!u[s(d)]}},function(r,n){r.exports=function(i){return function(s){return i(s)}}},function(r,n,i){(function(s){var a=i(36),l=n&&!n.nodeType&&n,u=l&&typeof s=="object"&&s&&!s.nodeType&&s,d=u&&u.exports===l&&a.process,h=function(){try{var m=u&&u.require&&u.require("util").types;return m||d&&d.binding&&d.binding("util")}catch{}}();s.exports=h}).call(this,i(29)(r))},function(r,n,i){var s=i(119),a=i(46);r.exports=function(l){return s(l,a(l))}},function(r,n,i){var s=i(45),a=i(28);r.exports=function(l,u,d,h){var m=!d;d||(d={});for(var p=-1,v=u.length;++p<v;){var x=u[p],C=h?h(d[x],l[x],x,d,l):void 0;C===void 0&&(C=l[x]),m?a(d,x,C):s(d,x,C)}return d}},function(r,n,i){var s=i(121),a=i(22),l=i(11),u=i(42),d=i(23),h=i(43),m=Object.prototype.hasOwnProperty;r.exports=function(p,v){var x=l(p),C=!x&&a(p),A=!x&&!C&&u(p),N=!x&&!C&&!A&&h(p),T=x||C||A||N,O=T?s(p.length,String):[],M=O.length;for(var D in p)!v&&!m.call(p,D)||T&&(D=="length"||A&&(D=="offset"||D=="parent")||N&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||d(D,M))||O.push(D);return O}},function(r,n){r.exports=function(i,s){for(var a=-1,l=Array(i);++a<i;)l[a]=s(a);return l}},function(r,n,i){var s=i(9),a=i(41),l=i(123),u=Object.prototype.hasOwnProperty;r.exports=function(d){if(!s(d))return l(d);var h=a(d),m=[];for(var p in d)(p!="constructor"||!h&&u.call(d,p))&&m.push(p);return m}},function(r,n){r.exports=function(i){var s=[];if(i!=null)for(var a in Object(i))s.push(a);return s}},function(r,n,i){var s=i(125),a=i(130);r.exports=function(l){return s(function(u,d){var h=-1,m=d.length,p=m>1?d[m-1]:void 0,v=m>2?d[2]:void 0;for(p=l.length>3&&typeof p=="function"?(m--,p):void 0,v&&a(d[0],d[1],v)&&(p=m<3?void 0:p,m=1),u=Object(u);++h<m;){var x=d[h];x&&l(u,x,h,p)}return u})}},function(r,n,i){var s=i(47),a=i(48),l=i(49);r.exports=function(u,d){return l(a(u,d,s),u+"")}},function(r,n){r.exports=function(i,s,a){switch(a.length){case 0:return i.call(s);case 1:return i.call(s,a[0]);case 2:return i.call(s,a[0],a[1]);case 3:return i.call(s,a[0],a[1],a[2])}return i.apply(s,a)}},function(r,n,i){var s=i(128),a=i(39),l=i(47),u=a?function(d,h){return a(d,"toString",{configurable:!0,enumerable:!1,value:s(h),writable:!0})}:l;r.exports=u},function(r,n){r.exports=function(i){return function(){return i}}},function(r,n){var i=Date.now;r.exports=function(s){var a=0,l=0;return function(){var u=i(),d=16-(u-l);if(l=u,d>0){if(++a>=800)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}},function(r,n,i){var s=i(18),a=i(30),l=i(23),u=i(9);r.exports=function(d,h,m){if(!u(m))return!1;var p=typeof h;return!!(p=="number"?a(m)&&l(h,m.length):p=="string"&&h in m)&&s(m[h],d)}},function(r,n){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){window.setTimeout(i,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(i,s){var a=65535&i,l=65535&s;return a*l+((i>>>16&65535)*l+a*(s>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(i){if(i===null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(i),a=1;a<arguments.length;a++){var l=arguments[a];if(l!==null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s})},function(r,n){r.exports=function(i){if(Array.isArray(i))return i},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i,s){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var l,u,d,h,m=[],p=!0,v=!1;try{if(d=(a=a.call(i)).next,s===0){if(Object(a)!==a)return;p=!1}else for(;!(p=(l=d.call(a)).done)&&(m.push(l.value),m.length!==s);p=!0);}catch(x){v=!0,u=x}finally{try{if(!p&&a.return!=null&&(h=a.return(),Object(h)!==h))return}finally{if(v)throw u}}return m}},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(8).default;r.exports=function(a,l){if(s(a)!="object"||!a)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var d=u.call(a,l||"default");if(s(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(53),a=i(54),l=i(137),u=i(56),d=i(57),h=i(138),m=i(139);function p(){var v=a(),x=v.m(p),C=(Object.getPrototypeOf?Object.getPrototypeOf(x):x.__proto__).constructor;function A(O){var M=typeof O=="function"&&O.constructor;return!!M&&(M===C||(M.displayName||M.name)==="GeneratorFunction")}var N={throw:1,return:2,break:3,continue:3};function T(O){var M,D;return function(I){M||(M={stop:function(){return D(I.a,2)},catch:function(){return I.v},abrupt:function($,W){return D(I.a,N[$],W)},delegateYield:function($,W,K){return M.resultName=W,D(I.d,m($),K)},finish:function($){return D(I.f,$)}},D=function($,W,K){I.p=M.prev,I.n=M.next;try{return $(W,K)}finally{M.next=I.n}}),M.resultName&&(M[M.resultName]=I.v,M.resultName=void 0),M.sent=I.v,M.next=I.n;try{return O.call(this,M)}finally{I.p=M.prev,I.n=M.next}}}return(r.exports=p=function(){return{wrap:function(O,M,D,I){return v.w(T(O),M,D,I&&I.reverse())},isGeneratorFunction:A,mark:v.m,awrap:function(O,M){return new s(O,M)},AsyncIterator:d,async:function(O,M,D,I,$){return(A(M)?u:l)(T(O),M,D,I,$)},keys:h,values:m}},r.exports.__esModule=!0,r.exports.default=r.exports)()}r.exports=p,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(56);r.exports=function(a,l,u,d,h){var m=s(a,l,u,d,h);return m.next().then(function(p){return p.done?p.value:m.next()})},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i){var s=Object(i),a=[];for(var l in s)a.unshift(l);return function u(){for(;a.length;)if((l=a.pop())in s)return u.value=l,u.done=!1,u;return u.done=!0,u}},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(8).default;r.exports=function(a){if(a!=null){var l=a[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],u=0;if(l)return l.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length))return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}}}throw new TypeError(s(a)+" is not iterable")},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(1);r.exports=function(a,l){for(;!{}.hasOwnProperty.call(a,l)&&(a=s(a))!==null;);return a},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(51);r.exports=function(a){if(Array.isArray(a))return s(a)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){r.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(146),a=i(156);r.exports=function(l,u){return s(l,u,function(d,h){return a(l,h)})}},function(r,n,i){var s=i(147),a=i(155),l=i(24);r.exports=function(u,d,h){for(var m=-1,p=d.length,v={};++m<p;){var x=d[m],C=s(u,x);h(C,x)&&a(v,l(x,u),C)}return v}},function(r,n,i){var s=i(24),a=i(34);r.exports=function(l,u){for(var d=0,h=(u=s(u,l)).length;l!=null&&d<h;)l=l[a(u[d++])];return d&&d==h?l:void 0}},function(r,n,i){var s=i(11),a=i(33),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;r.exports=function(d,h){if(s(d))return!1;var m=typeof d;return!(m!="number"&&m!="symbol"&&m!="boolean"&&d!=null&&!a(d))||u.test(d)||!l.test(d)||h!=null&&d in Object(h)}},function(r,n,i){var s=i(150),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,u=s(function(d){var h=[];return d.charCodeAt(0)===46&&h.push(""),d.replace(a,function(m,p,v,x){h.push(v?x.replace(l,"$1"):p||m)}),h});r.exports=u},function(r,n,i){var s=i(151);r.exports=function(a){var l=s(a,function(d){return u.size===500&&u.clear(),d}),u=l.cache;return l}},function(r,n,i){var s=i(37);function a(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new TypeError("Expected a function");var d=function(){var h=arguments,m=u?u.apply(this,h):h[0],p=d.cache;if(p.has(m))return p.get(m);var v=l.apply(this,h);return d.cache=p.set(m,v)||p,v};return d.cache=new(a.Cache||s),d}a.Cache=s,r.exports=a},function(r,n,i){var s=i(153);r.exports=function(a){return a==null?"":s(a)}},function(r,n,i){var s=i(19),a=i(154),l=i(11),u=i(33),d=s?s.prototype:void 0,h=d?d.toString:void 0;r.exports=function m(p){if(typeof p=="string")return p;if(l(p))return a(p,m)+"";if(u(p))return h?h.call(p):"";var v=p+"";return v=="0"&&1/p==-1/0?"-0":v}},function(r,n){r.exports=function(i,s){for(var a=-1,l=i==null?0:i.length,u=Array(l);++a<l;)u[a]=s(i[a],a,i);return u}},function(r,n,i){var s=i(45),a=i(24),l=i(23),u=i(9),d=i(34);r.exports=function(h,m,p,v){if(!u(h))return h;for(var x=-1,C=(m=a(m,h)).length,A=C-1,N=h;N!=null&&++x<C;){var T=d(m[x]),O=p;if(T==="__proto__"||T==="constructor"||T==="prototype")return h;if(x!=A){var M=N[T];(O=v?v(M,T,N):void 0)===void 0&&(O=u(M)?M:l(m[x+1])?[]:{})}s(N,T,O),N=N[T]}return h}},function(r,n,i){var s=i(157),a=i(158);r.exports=function(l,u){return l!=null&&a(l,u,s)}},function(r,n){r.exports=function(i,s){return i!=null&&s in Object(i)}},function(r,n,i){var s=i(24),a=i(22),l=i(11),u=i(23),d=i(31),h=i(34);r.exports=function(m,p,v){for(var x=-1,C=(p=s(p,m)).length,A=!1;++x<C;){var N=h(p[x]);if(!(A=m!=null&&v(m,N)))break;m=m[N]}return A||++x!=C?A:!!(C=m==null?0:m.length)&&d(C)&&u(N,C)&&(l(m)||a(m))}},function(r,n,i){var s=i(160),a=i(48),l=i(49);r.exports=function(u){return l(a(u,void 0,s),u+"")}},function(r,n,i){var s=i(161);r.exports=function(a){return a!=null&&a.length?s(a,1):[]}},function(r,n,i){var s=i(162),a=i(163);r.exports=function l(u,d,h,m,p){var v=-1,x=u.length;for(h||(h=a),p||(p=[]);++v<x;){var C=u[v];d>0&&h(C)?d>1?l(C,d-1,h,m,p):s(p,C):m||(p[p.length]=C)}return p}},function(r,n){r.exports=function(i,s){for(var a=-1,l=s.length,u=i.length;++a<l;)i[u+a]=s[a];return i}},function(r,n,i){var s=i(19),a=i(22),l=i(11),u=s?s.isConcatSpreadable:void 0;r.exports=function(d){return l(d)||a(d)||!!(u&&d&&d[u])}},function(r,n){r.exports=function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){var s=i(166),a=i(32);r.exports=function(l,u,d){if(s())return Reflect.construct.apply(null,arguments);var h=[null];h.push.apply(h,u);var m=new(l.bind.apply(l,h));return d&&a(m,d.prototype),m},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n){function i(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r.exports=i=function(){return!!s},r.exports.__esModule=!0,r.exports.default=r.exports)()}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,n,i){i.r(n),i.d(n,"BarcodeDecoder",function(){return uc}),i.d(n,"Readers",function(){return u}),i.d(n,"CameraAccess",function(){return Ae}),i.d(n,"ImageDebug",function(){return Si}),i.d(n,"ImageWrapper",function(){return li}),i.d(n,"ResultCollector",function(){return xe});var s={};i.r(s),i.d(s,"create",function(){return W}),i.d(s,"clone",function(){return K}),i.d(s,"copy",function(){return J}),i.d(s,"identity",function(){return Z}),i.d(s,"fromValues",function(){return de}),i.d(s,"set",function(){return ce}),i.d(s,"transpose",function(){return ee}),i.d(s,"invert",function(){return ue}),i.d(s,"adjoint",function(){return je}),i.d(s,"determinant",function(){return pe}),i.d(s,"multiply",function(){return ie}),i.d(s,"rotate",function(){return be}),i.d(s,"scale",function(){return me}),i.d(s,"fromRotation",function(){return Y}),i.d(s,"fromScaling",function(){return re}),i.d(s,"str",function(){return Se}),i.d(s,"frob",function(){return Te}),i.d(s,"LDU",function(){return Ie}),i.d(s,"add",function(){return tt}),i.d(s,"subtract",function(){return qe}),i.d(s,"exactEquals",function(){return Fe}),i.d(s,"equals",function(){return Re}),i.d(s,"multiplyScalar",function(){return Ke}),i.d(s,"multiplyScalarAndAdd",function(){return Pe}),i.d(s,"mul",function(){return ae}),i.d(s,"sub",function(){return _e});var a={};i.r(a),i.d(a,"create",function(){return fe}),i.d(a,"clone",function(){return Ve}),i.d(a,"fromValues",function(){return lt}),i.d(a,"copy",function(){return yt}),i.d(a,"set",function(){return et}),i.d(a,"add",function(){return nn}),i.d(a,"subtract",function(){return _t}),i.d(a,"multiply",function(){return Ct}),i.d(a,"divide",function(){return dt}),i.d(a,"ceil",function(){return it}),i.d(a,"floor",function(){return Rt}),i.d(a,"min",function(){return Jt}),i.d(a,"max",function(){return ze}),i.d(a,"round",function(){return Ye}),i.d(a,"scale",function(){return st}),i.d(a,"scaleAndAdd",function(){return rt}),i.d(a,"distance",function(){return It}),i.d(a,"squaredDistance",function(){return sr}),i.d(a,"length",function(){return Ht}),i.d(a,"squaredLength",function(){return er}),i.d(a,"negate",function(){return Nn}),i.d(a,"inverse",function(){return Di}),i.d(a,"normalize",function(){return Li}),i.d(a,"dot",function(){return fs}),i.d(a,"cross",function(){return Bi}),i.d(a,"lerp",function(){return Vn}),i.d(a,"random",function(){return Ka}),i.d(a,"transformMat2",function(){return Fi}),i.d(a,"transformMat2d",function(){return hs}),i.d(a,"transformMat3",function(){return ba}),i.d(a,"transformMat4",function(){return _r}),i.d(a,"rotate",function(){return ii}),i.d(a,"angle",function(){return tr}),i.d(a,"signedAngle",function(){return Ro}),i.d(a,"zero",function(){return ne}),i.d(a,"str",function(){return ve}),i.d(a,"exactEquals",function(){return Ne}),i.d(a,"equals",function(){return We}),i.d(a,"len",function(){return xt}),i.d(a,"sub",function(){return Et}),i.d(a,"mul",function(){return ot}),i.d(a,"div",function(){return bt}),i.d(a,"dist",function(){return pt}),i.d(a,"sqrDist",function(){return Dt}),i.d(a,"sqrLen",function(){return jt}),i.d(a,"forEach",function(){return Lt});var l={};i.r(l),i.d(l,"create",function(){return Kt}),i.d(l,"clone",function(){return Ar}),i.d(l,"length",function(){return Tr}),i.d(l,"fromValues",function(){return vn}),i.d(l,"copy",function(){return Yt}),i.d(l,"set",function(){return ms}),i.d(l,"add",function(){return yi}),i.d(l,"subtract",function(){return si}),i.d(l,"multiply",function(){return yn}),i.d(l,"divide",function(){return ps}),i.d(l,"ceil",function(){return mr}),i.d(l,"floor",function(){return wa}),i.d(l,"min",function(){return ai}),i.d(l,"max",function(){return Hs}),i.d(l,"round",function(){return rr}),i.d(l,"scale",function(){return Xr}),i.d(l,"scaleAndAdd",function(){return oi}),i.d(l,"distance",function(){return xi}),i.d(l,"squaredDistance",function(){return Wr}),i.d(l,"squaredLength",function(){return br}),i.d(l,"negate",function(){return Fr}),i.d(l,"inverse",function(){return Ha}),i.d(l,"normalize",function(){return Ut}),i.d(l,"dot",function(){return $l}),i.d(l,"cross",function(){return Io}),i.d(l,"lerp",function(){return En}),i.d(l,"slerp",function(){return Ya}),i.d(l,"hermite",function(){return Qa}),i.d(l,"bezier",function(){return Do}),i.d(l,"random",function(){return sf}),i.d(l,"transformMat4",function(){return Ja}),i.d(l,"transformMat3",function(){return uu}),i.d(l,"transformQuat",function(){return Xa}),i.d(l,"rotateX",function(){return Za}),i.d(l,"rotateY",function(){return du}),i.d(l,"rotateZ",function(){return zl}),i.d(l,"angle",function(){return ar}),i.d(l,"zero",function(){return bi}),i.d(l,"str",function(){return Lo}),i.d(l,"exactEquals",function(){return Vl}),i.d(l,"equals",function(){return fu}),i.d(l,"sub",function(){return wi}),i.d(l,"mul",function(){return Ul}),i.d(l,"div",function(){return ql}),i.d(l,"dist",function(){return Bo}),i.d(l,"sqrDist",function(){return gs}),i.d(l,"len",function(){return vs}),i.d(l,"sqrLen",function(){return ys}),i.d(l,"forEach",function(){return eo});var u={};i.r(u),i.d(u,"BarcodeReader",function(){return _n}),i.d(u,"TwoOfFiveReader",function(){return Ca}),i.d(u,"NewCodabarReader",function(){return vu}),i.d(u,"Code128Reader",function(){return qo}),i.d(u,"Code32Reader",function(){return wu}),i.d(u,"Code39Reader",function(){return Wo}),i.d(u,"Code39VINReader",function(){return tc}),i.d(u,"Code93Reader",function(){return Au}),i.d(u,"EAN2Reader",function(){return Ys}),i.d(u,"EAN5Reader",function(){return Eu}),i.d(u,"EAN8Reader",function(){return ac}),i.d(u,"EANReader",function(){return zi}),i.d(u,"I2of5Reader",function(){return ka}),i.d(u,"UPCEReader",function(){return oc}),i.d(u,"UPCReader",function(){return Ko});var d=i(8),h=i.n(d),m=i(12),p=i.n(m),v=(i(131),i(58)),x=i.n(v),C=i(2),A=i.n(C),N=i(3),T=i.n(N),O=i(0),M=i.n(O),D=typeof Float32Array<"u"?Float32Array:Array,I=Math.random;function $(b){return b>=0?Math.round(b):b%.5==0?Math.floor(b):Math.round(b)}function W(){var b=new D(4);return D!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b}function K(b){var k=new D(4);return k[0]=b[0],k[1]=b[1],k[2]=b[2],k[3]=b[3],k}function J(b,k){return b[0]=k[0],b[1]=k[1],b[2]=k[2],b[3]=k[3],b}function Z(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=1,b}function de(b,k,y,S){var E=new D(4);return E[0]=b,E[1]=k,E[2]=y,E[3]=S,E}function ce(b,k,y,S,E){return b[0]=k,b[1]=y,b[2]=S,b[3]=E,b}function ee(b,k){if(b===k){var y=k[1];b[1]=k[2],b[2]=y}else b[0]=k[0],b[1]=k[2],b[2]=k[1],b[3]=k[3];return b}function ue(b,k){var y=k[0],S=k[1],E=k[2],_=k[3],L=y*_-E*S;return L?(L=1/L,b[0]=_*L,b[1]=-S*L,b[2]=-E*L,b[3]=y*L,b):null}function je(b,k){var y=k[0];return b[0]=k[3],b[1]=-k[1],b[2]=-k[2],b[3]=y,b}function pe(b){return b[0]*b[3]-b[2]*b[1]}function ie(b,k,y){var S=k[0],E=k[1],_=k[2],L=k[3],z=y[0],U=y[1],V=y[2],H=y[3];return b[0]=S*z+_*U,b[1]=E*z+L*U,b[2]=S*V+_*H,b[3]=E*V+L*H,b}function be(b,k,y){var S=k[0],E=k[1],_=k[2],L=k[3],z=Math.sin(y),U=Math.cos(y);return b[0]=S*U+_*z,b[1]=E*U+L*z,b[2]=S*-z+_*U,b[3]=E*-z+L*U,b}function me(b,k,y){var S=k[0],E=k[1],_=k[2],L=k[3],z=y[0],U=y[1];return b[0]=S*z,b[1]=E*z,b[2]=_*U,b[3]=L*U,b}function Y(b,k){var y=Math.sin(k),S=Math.cos(k);return b[0]=S,b[1]=y,b[2]=-y,b[3]=S,b}function re(b,k){return b[0]=k[0],b[1]=0,b[2]=0,b[3]=k[1],b}function Se(b){return"mat2("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"}function Te(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]+b[3]*b[3])}function Ie(b,k,y,S){return b[2]=S[2]/S[0],y[0]=S[0],y[1]=S[1],y[3]=S[3]-b[2]*y[1],[b,k,y]}function tt(b,k,y){return b[0]=k[0]+y[0],b[1]=k[1]+y[1],b[2]=k[2]+y[2],b[3]=k[3]+y[3],b}function qe(b,k,y){return b[0]=k[0]-y[0],b[1]=k[1]-y[1],b[2]=k[2]-y[2],b[3]=k[3]-y[3],b}function Fe(b,k){return b[0]===k[0]&&b[1]===k[1]&&b[2]===k[2]&&b[3]===k[3]}function Re(b,k){var y=b[0],S=b[1],E=b[2],_=b[3],L=k[0],z=k[1],U=k[2],V=k[3];return Math.abs(y-L)<=1e-6*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(S-z)<=1e-6*Math.max(1,Math.abs(S),Math.abs(z))&&Math.abs(E-U)<=1e-6*Math.max(1,Math.abs(E),Math.abs(U))&&Math.abs(_-V)<=1e-6*Math.max(1,Math.abs(_),Math.abs(V))}function Ke(b,k,y){return b[0]=k[0]*y,b[1]=k[1]*y,b[2]=k[2]*y,b[3]=k[3]*y,b}function Pe(b,k,y,S){return b[0]=k[0]+y[0]*S,b[1]=k[1]+y[1]*S,b[2]=k[2]+y[2]*S,b[3]=k[3]+y[3]*S,b}var ae=ie,_e=qe;function fe(){var b=new D(2);return D!=Float32Array&&(b[0]=0,b[1]=0),b}function Ve(b){var k=new D(2);return k[0]=b[0],k[1]=b[1],k}function lt(b,k){var y=new D(2);return y[0]=b,y[1]=k,y}function yt(b,k){return b[0]=k[0],b[1]=k[1],b}function et(b,k,y){return b[0]=k,b[1]=y,b}function nn(b,k,y){return b[0]=k[0]+y[0],b[1]=k[1]+y[1],b}function _t(b,k,y){return b[0]=k[0]-y[0],b[1]=k[1]-y[1],b}function Ct(b,k,y){return b[0]=k[0]*y[0],b[1]=k[1]*y[1],b}function dt(b,k,y){return b[0]=k[0]/y[0],b[1]=k[1]/y[1],b}function it(b,k){return b[0]=Math.ceil(k[0]),b[1]=Math.ceil(k[1]),b}function Rt(b,k){return b[0]=Math.floor(k[0]),b[1]=Math.floor(k[1]),b}function Jt(b,k,y){return b[0]=Math.min(k[0],y[0]),b[1]=Math.min(k[1],y[1]),b}function ze(b,k,y){return b[0]=Math.max(k[0],y[0]),b[1]=Math.max(k[1],y[1]),b}function Ye(b,k){return b[0]=$(k[0]),b[1]=$(k[1]),b}function st(b,k,y){return b[0]=k[0]*y,b[1]=k[1]*y,b}function rt(b,k,y,S){return b[0]=k[0]+y[0]*S,b[1]=k[1]+y[1]*S,b}function It(b,k){var y=k[0]-b[0],S=k[1]-b[1];return Math.sqrt(y*y+S*S)}function sr(b,k){var y=k[0]-b[0],S=k[1]-b[1];return y*y+S*S}function Ht(b){var k=b[0],y=b[1];return Math.sqrt(k*k+y*y)}function er(b){var k=b[0],y=b[1];return k*k+y*y}function Nn(b,k){return b[0]=-k[0],b[1]=-k[1],b}function Di(b,k){return b[0]=1/k[0],b[1]=1/k[1],b}function Li(b,k){var y=k[0],S=k[1],E=y*y+S*S;return E>0&&(E=1/Math.sqrt(E)),b[0]=k[0]*E,b[1]=k[1]*E,b}function fs(b,k){return b[0]*k[0]+b[1]*k[1]}function Bi(b,k,y){var S=k[0]*y[1]-k[1]*y[0];return b[0]=b[1]=0,b[2]=S,b}function Vn(b,k,y,S){var E=k[0],_=k[1];return b[0]=E+S*(y[0]-E),b[1]=_+S*(y[1]-_),b}function Ka(b,k){k=k===void 0?1:k;var y=2*I()*Math.PI;return b[0]=Math.cos(y)*k,b[1]=Math.sin(y)*k,b}function Fi(b,k,y){var S=k[0],E=k[1];return b[0]=y[0]*S+y[2]*E,b[1]=y[1]*S+y[3]*E,b}function hs(b,k,y){var S=k[0],E=k[1];return b[0]=y[0]*S+y[2]*E+y[4],b[1]=y[1]*S+y[3]*E+y[5],b}function ba(b,k,y){var S=k[0],E=k[1];return b[0]=y[0]*S+y[3]*E+y[6],b[1]=y[1]*S+y[4]*E+y[7],b}function _r(b,k,y){var S=k[0],E=k[1];return b[0]=y[0]*S+y[4]*E+y[12],b[1]=y[1]*S+y[5]*E+y[13],b}function ii(b,k,y,S){var E=k[0]-y[0],_=k[1]-y[1],L=Math.sin(S),z=Math.cos(S);return b[0]=E*z-_*L+y[0],b[1]=E*L+_*z+y[1],b}function tr(b,k){var y=b[0],S=b[1],E=k[0],_=k[1];return Math.abs(Math.atan2(S*E-y*_,y*E+S*_))}function Ro(b,k){var y=b[0],S=b[1],E=k[0],_=k[1];return Math.atan2(y*_-S*E,y*E+S*_)}function ne(b){return b[0]=0,b[1]=0,b}function ve(b){return"vec2("+b[0]+", "+b[1]+")"}function Ne(b,k){return b[0]===k[0]&&b[1]===k[1]}function We(b,k){var y=b[0],S=b[1],E=k[0],_=k[1];return Math.abs(y-E)<=1e-6*Math.max(1,Math.abs(y),Math.abs(E))&&Math.abs(S-_)<=1e-6*Math.max(1,Math.abs(S),Math.abs(_))}var Je,xt=Ht,Et=_t,ot=Ct,bt=dt,pt=It,Dt=sr,jt=er,Lt=(Je=fe(),function(b,k,y,S,E,_){var L,z;for(k||(k=2),y||(y=0),z=S?Math.min(S*k+y,b.length):b.length,L=y;L<z;L+=k)Je[0]=b[L],Je[1]=b[L+1],E(Je,Je,_),b[L]=Je[0],b[L+1]=Je[1];return b});function Kt(){var b=new D(3);return D!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0),b}function Ar(b){var k=new D(3);return k[0]=b[0],k[1]=b[1],k[2]=b[2],k}function Tr(b){var k=b[0],y=b[1],S=b[2];return Math.sqrt(k*k+y*y+S*S)}function vn(b,k,y){var S=new D(3);return S[0]=b,S[1]=k,S[2]=y,S}function Yt(b,k){return b[0]=k[0],b[1]=k[1],b[2]=k[2],b}function ms(b,k,y,S){return b[0]=k,b[1]=y,b[2]=S,b}function yi(b,k,y){return b[0]=k[0]+y[0],b[1]=k[1]+y[1],b[2]=k[2]+y[2],b}function si(b,k,y){return b[0]=k[0]-y[0],b[1]=k[1]-y[1],b[2]=k[2]-y[2],b}function yn(b,k,y){return b[0]=k[0]*y[0],b[1]=k[1]*y[1],b[2]=k[2]*y[2],b}function ps(b,k,y){return b[0]=k[0]/y[0],b[1]=k[1]/y[1],b[2]=k[2]/y[2],b}function mr(b,k){return b[0]=Math.ceil(k[0]),b[1]=Math.ceil(k[1]),b[2]=Math.ceil(k[2]),b}function wa(b,k){return b[0]=Math.floor(k[0]),b[1]=Math.floor(k[1]),b[2]=Math.floor(k[2]),b}function ai(b,k,y){return b[0]=Math.min(k[0],y[0]),b[1]=Math.min(k[1],y[1]),b[2]=Math.min(k[2],y[2]),b}function Hs(b,k,y){return b[0]=Math.max(k[0],y[0]),b[1]=Math.max(k[1],y[1]),b[2]=Math.max(k[2],y[2]),b}function rr(b,k){return b[0]=$(k[0]),b[1]=$(k[1]),b[2]=$(k[2]),b}function Xr(b,k,y){return b[0]=k[0]*y,b[1]=k[1]*y,b[2]=k[2]*y,b}function oi(b,k,y,S){return b[0]=k[0]+y[0]*S,b[1]=k[1]+y[1]*S,b[2]=k[2]+y[2]*S,b}function xi(b,k){var y=k[0]-b[0],S=k[1]-b[1],E=k[2]-b[2];return Math.sqrt(y*y+S*S+E*E)}function Wr(b,k){var y=k[0]-b[0],S=k[1]-b[1],E=k[2]-b[2];return y*y+S*S+E*E}function br(b){var k=b[0],y=b[1],S=b[2];return k*k+y*y+S*S}function Fr(b,k){return b[0]=-k[0],b[1]=-k[1],b[2]=-k[2],b}function Ha(b,k){return b[0]=1/k[0],b[1]=1/k[1],b[2]=1/k[2],b}function Ut(b,k){var y=k[0],S=k[1],E=k[2],_=y*y+S*S+E*E;return _>0&&(_=1/Math.sqrt(_)),b[0]=k[0]*_,b[1]=k[1]*_,b[2]=k[2]*_,b}function $l(b,k){return b[0]*k[0]+b[1]*k[1]+b[2]*k[2]}function Io(b,k,y){var S=k[0],E=k[1],_=k[2],L=y[0],z=y[1],U=y[2];return b[0]=E*U-_*z,b[1]=_*L-S*U,b[2]=S*z-E*L,b}function En(b,k,y,S){var E=k[0],_=k[1],L=k[2];return b[0]=E+S*(y[0]-E),b[1]=_+S*(y[1]-_),b[2]=L+S*(y[2]-L),b}function Ya(b,k,y,S){var E=Math.acos(Math.min(Math.max($l(k,y),-1),1)),_=Math.sin(E),L=Math.sin((1-S)*E)/_,z=Math.sin(S*E)/_;return b[0]=L*k[0]+z*y[0],b[1]=L*k[1]+z*y[1],b[2]=L*k[2]+z*y[2],b}function Qa(b,k,y,S,E,_){var L=_*_,z=L*(2*_-3)+1,U=L*(_-2)+_,V=L*(_-1),H=L*(3-2*_);return b[0]=k[0]*z+y[0]*U+S[0]*V+E[0]*H,b[1]=k[1]*z+y[1]*U+S[1]*V+E[1]*H,b[2]=k[2]*z+y[2]*U+S[2]*V+E[2]*H,b}function Do(b,k,y,S,E,_){var L=1-_,z=L*L,U=_*_,V=z*L,H=3*_*z,te=3*U*L,Ce=U*_;return b[0]=k[0]*V+y[0]*H+S[0]*te+E[0]*Ce,b[1]=k[1]*V+y[1]*H+S[1]*te+E[1]*Ce,b[2]=k[2]*V+y[2]*H+S[2]*te+E[2]*Ce,b}function sf(b,k){k=k===void 0?1:k;var y=2*I()*Math.PI,S=2*I()-1,E=Math.sqrt(1-S*S)*k;return b[0]=Math.cos(y)*E,b[1]=Math.sin(y)*E,b[2]=S*k,b}function Ja(b,k,y){var S=k[0],E=k[1],_=k[2],L=y[3]*S+y[7]*E+y[11]*_+y[15];return L=L||1,b[0]=(y[0]*S+y[4]*E+y[8]*_+y[12])/L,b[1]=(y[1]*S+y[5]*E+y[9]*_+y[13])/L,b[2]=(y[2]*S+y[6]*E+y[10]*_+y[14])/L,b}function uu(b,k,y){var S=k[0],E=k[1],_=k[2];return b[0]=S*y[0]+E*y[3]+_*y[6],b[1]=S*y[1]+E*y[4]+_*y[7],b[2]=S*y[2]+E*y[5]+_*y[8],b}function Xa(b,k,y){var S=y[0],E=y[1],_=y[2],L=y[3],z=k[0],U=k[1],V=k[2],H=E*V-_*U,te=_*z-S*V,Ce=S*U-E*z;return H+=H,te+=te,Ce+=Ce,b[0]=z+L*H+E*Ce-_*te,b[1]=U+L*te+_*H-S*Ce,b[2]=V+L*Ce+S*te-E*H,b}function Za(b,k,y,S){var E=[],_=[];return E[0]=k[0]-y[0],E[1]=k[1]-y[1],E[2]=k[2]-y[2],_[0]=E[0],_[1]=E[1]*Math.cos(S)-E[2]*Math.sin(S),_[2]=E[1]*Math.sin(S)+E[2]*Math.cos(S),b[0]=_[0]+y[0],b[1]=_[1]+y[1],b[2]=_[2]+y[2],b}function du(b,k,y,S){var E=[],_=[];return E[0]=k[0]-y[0],E[1]=k[1]-y[1],E[2]=k[2]-y[2],_[0]=E[2]*Math.sin(S)+E[0]*Math.cos(S),_[1]=E[1],_[2]=E[2]*Math.cos(S)-E[0]*Math.sin(S),b[0]=_[0]+y[0],b[1]=_[1]+y[1],b[2]=_[2]+y[2],b}function zl(b,k,y,S){var E=[],_=[];return E[0]=k[0]-y[0],E[1]=k[1]-y[1],E[2]=k[2]-y[2],_[0]=E[0]*Math.cos(S)-E[1]*Math.sin(S),_[1]=E[0]*Math.sin(S)+E[1]*Math.cos(S),_[2]=E[2],b[0]=_[0]+y[0],b[1]=_[1]+y[1],b[2]=_[2]+y[2],b}function ar(b,k){var y=b[0],S=b[1],E=b[2],_=k[0],L=k[1],z=k[2],U=Math.sqrt((y*y+S*S+E*E)*(_*_+L*L+z*z)),V=U&&$l(b,k)/U;return Math.acos(Math.min(Math.max(V,-1),1))}function bi(b){return b[0]=0,b[1]=0,b[2]=0,b}function Lo(b){return"vec3("+b[0]+", "+b[1]+", "+b[2]+")"}function Vl(b,k){return b[0]===k[0]&&b[1]===k[1]&&b[2]===k[2]}function fu(b,k){var y=b[0],S=b[1],E=b[2],_=k[0],L=k[1],z=k[2];return Math.abs(y-_)<=1e-6*Math.max(1,Math.abs(y),Math.abs(_))&&Math.abs(S-L)<=1e-6*Math.max(1,Math.abs(S),Math.abs(L))&&Math.abs(E-z)<=1e-6*Math.max(1,Math.abs(E),Math.abs(z))}var wi=si,Ul=yn,ql=ps,Bo=xi,gs=Wr,vs=Tr,ys=br,eo=function(){var b=Kt();return function(k,y,S,E,_,L){var z,U;for(y||(y=3),S||(S=0),U=E?Math.min(E*y+S,k.length):k.length,z=S;z<U;z+=y)b[0]=k[z],b[1]=k[z+1],b[2]=k[z+2],_(b,b,L),k[z]=b[0],k[z+1]=b[1],k[z+2]=b[2];return k}}(),ji=function(b,k){b.fill(k)},xs=function(b){for(var k=0,y=0;y<b.length;y++)b[y]>b[k]&&(k=y);return k},Wl=function(b){for(var k=b.length,y=0;k--;)y+=b[k];return y},hu=function(b,k){var y=[],S={rad:0,vec:a.clone([0,0])},E={};function _(z){E[z.id]=z,y.push(z)}function L(){var z,U=0;for(z=0;z<y.length;z++)U+=y[z].rad;S.rad=U/y.length,S.vec=a.clone([Math.cos(S.rad),Math.sin(S.rad)])}return _(b),L(),{add:function(z){E[z.id]||(_(z),L())},fits:function(z){return Math.abs(a.dot(z.point.vec,S.vec))>k},getPoints:function(){return y},getCenter:function(){return S}}},Ai=function(b,k,y){return{rad:b[y],point:b,id:k}};function Fo(b,k){return{x:b,y:k,toVec2:function(){return a.clone([this.x,this.y])},toVec3:function(){return l.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function Gl(b,k){k||(k=8);for(var y=b.data,S=y.length,E=8-k,_=new Int32Array(1<<k);S--;)_[y[S]>>E]++;return _}function to(b,k){var y=function(S){var E,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,L=8-_;function z(te,Ce){for(var ye=0,De=te;De<=Ce;De++)ye+=E[De];return ye}function U(te,Ce){for(var ye=0,De=te;De<=Ce;De++)ye+=De*E[De];return ye}function V(){var te,Ce,ye,De,ge=[0],Oe=(1<<_)-1;E=Gl(S,_);for(var Le=1;Le<Oe;Le++)(ye=(te=z(0,Le))*(Ce=z(Le+1,Oe)))===0&&(ye=1),De=U(0,Le)*Ce-U(Le+1,Oe)*te,ge[Le]=De*De/ye;return xs(ge)}var H=V();return H<<L}(b);return function(S,E,_){_||(_=S);for(var L=S.data,z=L.length,U=_.data;z--;)U[z]=L[z]<E?1:0}(b,y,k),y}function mu(b,k,y){var S=b.length/4|0;if(y&&y.singleChannel===!0)for(var E=0;E<S;E++)k[E]=b[4*E+0];else for(var _=0;_<S;_++)k[_]=.299*b[4*_+0]+.587*b[4*_+1]+.114*b[4*_+2]}function af(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],y=b[0],S=b[1],E=b[2],_=E*S,L=_*(1-Math.abs(y/60%2-1)),z=E-_,U=0,V=0,H=0;return y<60?(U=_,V=L):y<120?(U=L,V=_):y<180?(V=_,H=L):y<240?(V=L,H=_):y<300?(U=L,H=_):y<360&&(U=_,H=L),k[0]=255*(U+z)|0,k[1]=255*(V+z)|0,k[2]=255*(H+z)|0,k}function $i(b){for(var k=[],y=[],S=1;S<Math.sqrt(b)+1;S++)b%S==0&&(y.push(S),S!==b/S&&k.unshift(Math.floor(b/S)));return y.concat(k)}function ja(b,k){var y,S=$i(k.x),E=$i(k.y),_=Math.max(k.x,k.y),L=function(ye,De){for(var ge=0,Oe=0,Le=[];ge<ye.length&&Oe<De.length;)ye[ge]===De[Oe]?(Le.push(ye[ge]),ge++,Oe++):ye[ge]>De[Oe]?Oe++:ge++;return Le}(S,E),z=[8,10,15,20,32,60,80],U={"x-small":5,small:4,medium:3,large:2,"x-large":1},V=U[b]||U.medium,H=z[V],te=Math.floor(_/H);function Ce(ye){for(var De=0,ge=ye[Math.floor(ye.length/2)];De<ye.length-1&&ye[De]<te;)De++;return De>0&&(ge=Math.abs(ye[De]-te)>Math.abs(ye[De-1]-te)?ye[De-1]:ye[De]),te/ge<z[V+1]/z[V]&&te/ge>z[V-1]/z[V]?{x:ge,y:ge}:null}return(y=Ce(L))||(y=Ce($i(_)))||(y=Ce($i(te*H))),y}var Aa={top:function(b,k){return b.unit==="%"?Math.floor(k.height*(b.value/100)):null},right:function(b,k){return b.unit==="%"?Math.floor(k.width-k.width*(b.value/100)):null},bottom:function(b,k){return b.unit==="%"?Math.floor(k.height-k.height*(b.value/100)):null},left:function(b,k){return b.unit==="%"?Math.floor(k.width*(b.value/100)):null}};function $o(b,k,y){var S={width:b,height:k},E=Object.keys(y).reduce(function(_,L){var z=function(V){return{value:parseFloat(V),unit:(V.indexOf("%"),V.length,"%")}}(y[L]),U=Aa[L](z,S);return _[L]=U,_},{});return{sx:E.left,sy:E.top,sw:E.right-E.left,sh:E.bottom-E.top}}function Kl(b){if(b<0)throw new Error("expected positive number, received ".concat(b))}var li=function(){return T()(function b(k,y){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,E=arguments.length>3?arguments[3]:void 0;A()(this,b),M()(this,"data",void 0),M()(this,"size",void 0),M()(this,"indexMapping",void 0),y?this.data=y:(this.data=new S(k.x*k.y),E&&ji(this.data,0)),this.size=k},[{key:"inImageWithBorder",value:function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Kl(k),b.x>=0&&b.y>=0&&b.x<this.size.x+2*k&&b.y<this.size.y+2*k}},{key:"subImageAsCopy",value:function(b,k){Kl(k.x),Kl(k.y);for(var y=b.size,S=y.x,E=y.y,_=0;_<S;_++)for(var L=0;L<E;L++)b.data[L*S+_]=this.data[(k.y+L)*this.size.x+k.x+_];return b}},{key:"get",value:function(b,k){return this.data[k*this.size.x+b]}},{key:"getSafe",value:function(b,k){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var y=0;y<this.size.x;y++)this.indexMapping.x[y]=y,this.indexMapping.x[y+this.size.x]=y;for(var S=0;S<this.size.y;S++)this.indexMapping.y[S]=S,this.indexMapping.y[S+this.size.y]=S}return this.data[this.indexMapping.y[k+this.size.y]*this.size.x+this.indexMapping.x[b+this.size.x]]}},{key:"set",value:function(b,k,y){return this.data[k*this.size.x+b]=y,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var b=this.size,k=b.x,y=b.y,S=0;S<k;S++)this.data[S]=this.data[(y-1)*k+S]=0;for(var E=1;E<y-1;E++)this.data[E*k]=this.data[E*k+(k-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(b){var k,y,S,E,_,L,z,U,V,H,te=this.data,Ce=this.size.y,ye=this.size.x,De=[],ge=[],Oe=Math.PI,Le=Oe/4;if(b<=0)return ge;for(_=0;_<b;_++)De[_]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(y=0;y<Ce;y++)for(E=y*y,k=0;k<ye;k++)(S=te[y*ye+k])>0&&((L=De[S-1]).m00+=1,L.m01+=y,L.m10+=k,L.m11+=k*y,L.m02+=E,L.m20+=k*k);for(_=0;_<b;_++)L=De[_],isNaN(L.m00)||L.m00===0||(U=L.m10/L.m00,V=L.m01/L.m00,z=L.m11/L.m00-U*V,H=(L.m02/L.m00-V*V-(L.m20/L.m00-U*U))/(2*z),H=.5*Math.atan(H)+(z>=0?Le:-Le)+Oe,L.theta=(180*H/Oe+90)%180-90,L.theta<0&&(L.theta+=180),L.rad=H>Oe?H-Oe:H,L.vec=a.clone([Math.cos(H),Math.sin(H)]),ge.push(L));return ge}},{key:"getAsRGBA",value:function(){for(var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,k=new Uint8ClampedArray(4*this.size.x*this.size.y),y=0;y<this.size.y;y++)for(var S=0;S<this.size.x;S++){var E=y*this.size.x+S,_=this.get(S,y)*b;k[4*E+0]=_,k[4*E+1]=_,k[4*E+2]=_,k[4*E+3]=255}return k}},{key:"show",value:function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var y=b.getContext("2d");if(!y)throw new Error("Unable to get canvas context");var S=y.getImageData(0,0,b.width,b.height),E=this.getAsRGBA(k);b.width=this.size.x,b.height=this.size.y;var _=new ImageData(E,S.width,S.height);y.putImageData(_,0,0)}},{key:"overlay",value:function(b,k,y){var S=k<0||k>360?360:k,E=[0,1,1],_=[0,0,0],L=[255,255,255],z=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var U=b.getContext("2d");if(!U)throw new Error("Unable to get canvas context");for(var V=U.getImageData(y.x,y.y,this.size.x,this.size.y),H=V.data,te=this.data.length;te--;){E[0]=this.data[te]*S;var Ce=4*te,ye=E[0]<=0?L:E[0]>=360?z:af(E,_),De=x()(ye,3);H[Ce]=De[0],H[Ce+1]=De[1],H[Ce+2]=De[2],H[Ce+3]=255}U.putImageData(V,y.x,y.y)}}])}(),Hl=i(7),Kn=i.n(Hl),Yl=i(6),$r=i.n(Yl),Si={drawRect:function(b,k,y,S){y.strokeStyle=S.color,y.fillStyle=S.color,y.lineWidth=S.lineWidth||1,y.beginPath(),y.strokeRect(b.x,b.y,k.x,k.y)},drawPath:function(b,k,y,S){y.strokeStyle=S.color,y.fillStyle=S.color,y.lineWidth=S.lineWidth,y.beginPath(),y.moveTo(b[0][k.x],b[0][k.y]);for(var E=1;E<b.length;E++)y.lineTo(b[E][k.x],b[E][k.y]);y.closePath(),y.stroke()},drawImage:function(b,k,y){var S=y.getImageData(0,0,k.x,k.y),E=S.data,_=E.length,L=b.length;if(_/L!=4)return!1;for(;L--;){var z=b[L];E[--_]=255,E[--_]=z,E[--_]=z,E[--_]=z}return y.putImageData(S,0,0),!0}},ro=i(4),zr=i.n(ro),pu=i(1),qt=i.n(pu),no=i(5),sn=i.n(no),Pn=function(b){return b[b.Forward=1]="Forward",b[b.Reverse=-1]="Reverse",b}({}),_n=function(){return T()(function b(k,y){A()(this,b),M()(this,"_row",[]),M()(this,"config",{}),M()(this,"supplements",[]),M()(this,"SINGLE_CODE_ERROR",0),M()(this,"FORMAT","unknown"),M()(this,"CONFIG_KEYS",{}),this._row=[],this.config=k||{},y&&(this.supplements=y)},[{key:"_nextUnset",value:function(b){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=k;y<b.length;y++)if(!b[y])return y;return b.length}},{key:"_matchPattern",value:function(b,k){for(var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,S=0,E=0,_=0,L=0,z=0,U=0,V=0,H=0;H<b.length;H++)_+=b[H],L+=k[H];if(_<L)return Number.MAX_VALUE;y*=z=_/L;for(var te=0;te<b.length;te++){if(U=b[te],V=k[te]*z,(E=Math.abs(U-V)/V)>y)return Number.MAX_VALUE;S+=E}return S/L}},{key:"_nextSet",value:function(b){for(var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=k;y<b.length;y++)if(b[y])return y;return b.length}},{key:"_correctBars",value:function(b,k,y){for(var S=y.length,E=0;S--;)(E=b[y[S]]*(1-(1-k)/2))>1&&(b[y[S]]=E)}},{key:"decodePattern",value:function(b){this._row=b;var k=this.decode();return k===null?(this._row.reverse(),(k=this.decode())&&(k.direction=Pn.Reverse,k.start=this._row.length-k.start,k.end=this._row.length-k.end)):k.direction=Pn.Forward,k&&(k.format=this.FORMAT),k}},{key:"_matchRange",value:function(b,k,y){var S;for(S=b=b<0?0:b;S<k;S++)if(this._row[S]!==y)return!1;return!0}},{key:"_fillCounters",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],S=[],E=0;S[E]=0;for(var _=b;_<k;_++)this._row[_]^(y?1:0)?S[E]++:(S[++E]=1,y=!y);return S}},{key:"_toCounters",value:function(b,k){var y=k.length,S=this._row.length,E=!this._row[b],_=0;ji(k,0);for(var L=b;L<S;L++)if(this._row[L]^(E?1:0))k[_]++;else{if(++_===y)break;k[_]=1,E=!E}return k}},{key:"decodeImage",value:function(b){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])}();function Ql(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var Sa=[3,1,3,1,1,1],of=[3,1,1,1,3],zo=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Jl=Sa.reduce(function(b,k){return b+k},0),Ca=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=Ql(this,k,[].concat(E)),M()(y,"barSpaceRatio",[1,1]),M()(y,"FORMAT","2of5"),M()(y,"SINGLE_CODE_ERROR",.78),M()(y,"AVG_CODE_ERROR",.3),y}return sn()(k,b),T()(k,[{key:"_findPattern",value:function(y,S){var E=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=arguments.length>3&&arguments[3]!==void 0&&arguments[3],L=[],z=0,U={error:Number.MAX_VALUE,code:-1,start:0,end:0},V=0,H=0,te=this.AVG_CODE_ERROR;S||(S=this._nextSet(this._row));for(var Ce=0;Ce<y.length;Ce++)L[Ce]=0;for(var ye=S;ye<this._row.length;ye++)if(this._row[ye]^(E?1:0))L[z]++;else{if(z===L.length-1){V=0;for(var De=0;De<L.length;De++)V+=L[De];if((H=this._matchPattern(L,y))<te)return U.error=H,U.start=ye-V,U.end=ye,U;if(!_)return null;for(var ge=0;ge<L.length-2;ge++)L[ge]=L[ge+2];L[L.length-2]=0,L[L.length-1]=0,z--}else z++;L[z]=1,E=!E}return null}},{key:"_findStart",value:function(){for(var y=null,S=this._nextSet(this._row),E=1,_=0;!y;){if(!(y=this._findPattern(Sa,S,!1,!0)))return null;if(E=Math.floor((y.end-y.start)/Jl),(_=y.start-5*E)>=0&&this._matchRange(_,y.start,0))return y;S=y.end,y=null}return y}},{key:"_verifyTrailingWhitespace",value:function(y){var S=y.end+(y.end-y.start)/2;return S<this._row.length&&this._matchRange(y.end,S,0)?y:null}},{key:"_findEnd",value:function(){this._row.reverse();var y=this._nextSet(this._row),S=this._findPattern(of,y,!1,!0);if(this._row.reverse(),S===null)return null;var E=S.start;return S.start=this._row.length-S.end,S.end=this._row.length-E,S!==null?this._verifyTrailingWhitespace(S):null}},{key:"_verifyCounterLength",value:function(y){return y.length%10==0}},{key:"_decodeCode",value:function(y){for(var S=this.AVG_CODE_ERROR,E={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0;_<zo.length;_++){var L=this._matchPattern(y,zo[_]);L<E.error&&(E.code=_,E.error=L)}return E.error<S?E:null}},{key:"_decodePayload",value:function(y,S,E){for(var _=0,L=y.length,z=[0,0,0,0,0],U=null;_<L;){for(var V=0;V<5;V++)z[V]=y[_]*this.barSpaceRatio[0],_+=2;if(!(U=this._decodeCode(z)))return null;S.push("".concat(U.code)),E.push(U)}return U}},{key:"decode",value:function(y,S){var E=this._findStart();if(!E)return null;var _=this._findEnd();if(!_)return null;var L=this._fillCounters(E.end,_.start,!1);if(!this._verifyCounterLength(L))return null;var z=[];z.push(E);var U=[];return this._decodePayload(L,U,z)?U.length<5?null:(z.push(_),{code:U.join(""),start:E.start,end:_.end,startInfo:E,decodedCodes:z,format:this.FORMAT}):null}}])}(_n);function Vo(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var Uo=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Xl=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],gu=[26,41,11,14],vu=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=Vo(this,k,[].concat(E)),M()(y,"_counters",[]),M()(y,"FORMAT","codabar"),y}return sn()(k,b),T()(k,[{key:"_computeAlternatingThreshold",value:function(y,S){for(var E=Number.MAX_VALUE,_=0,L=0,z=y;z<S;z+=2)(L=this._counters[z])>_&&(_=L),L<E&&(E=L);return(E+_)/2|0}},{key:"_toPattern",value:function(y){var S=y+7;if(S>this._counters.length)return-1;for(var E=this._computeAlternatingThreshold(y,S),_=this._computeAlternatingThreshold(y+1,S),L=64,z=0,U=0,V=0;V<7;V++)z=(1&V)==0?E:_,this._counters[y+V]>z&&(U|=L),L>>=1;return U}},{key:"_isStartEnd",value:function(y){for(var S=0;S<gu.length;S++)if(gu[S]===y)return!0;return!1}},{key:"_sumCounters",value:function(y,S){for(var E=0,_=y;_<S;_++)E+=this._counters[_];return E}},{key:"_findStart",value:function(){for(var y=this._nextUnset(this._row),S=1;S<this._counters.length;S++){var E=this._toPattern(S);if(E!==-1&&this._isStartEnd(E))return{start:y+=this._sumCounters(0,S),end:y+this._sumCounters(S,S+8),startCounter:S,endCounter:S+8}}return null}},{key:"_patternToChar",value:function(y){for(var S=0;S<Xl.length;S++)if(Xl[S]===y)return String.fromCharCode(Uo[S]);return null}},{key:"_calculatePatternLength",value:function(y){for(var S=0,E=y;E<y+7;E++)S+=this._counters[E];return S}},{key:"_verifyWhitespace",value:function(y,S){return(y-1<=0||this._counters[y-1]>=this._calculatePatternLength(y)/2)&&(S+8>=this._counters.length||this._counters[S+7]>=this._calculatePatternLength(S)/2)}},{key:"_charToPattern",value:function(y){for(var S=y.charCodeAt(0),E=0;E<Uo.length;E++)if(Uo[E]===S)return Xl[E];return 0}},{key:"_thresholdResultPattern",value:function(y,S){for(var E,_={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},L=S,z=0;z<y.length;z++){E=this._charToPattern(y[z]);for(var U=6;U>=0;U--){var V=(1&U)==2?_.bar:_.space,H=(1&E)==1?V.wide:V.narrow;H.size+=this._counters[L+U],H.counts++,E>>=1}L+=8}return["space","bar"].forEach(function(te){var Ce=_[te];Ce.wide.min=Math.floor((Ce.narrow.size/Ce.narrow.counts+Ce.wide.size/Ce.wide.counts)/2),Ce.narrow.max=Math.ceil(Ce.wide.min),Ce.wide.max=Math.ceil((2*Ce.wide.size+1.5)/Ce.wide.counts)}),_}},{key:"_validateResult",value:function(y,S){for(var E,_=this._thresholdResultPattern(y,S),L=S,z=0;z<y.length;z++){E=this._charToPattern(y[z]);for(var U=6;U>=0;U--){var V=(1&U)==0?_.bar:_.space,H=(1&E)==1?V.wide:V.narrow,te=this._counters[L+U];if(te<H.min||te>H.max)return!1;E>>=1}L+=8}return!0}},{key:"decode",value:function(y,S){if(this._counters=this._fillCounters(),!(S=this._findStart()))return null;var E,_=S.startCounter,L=[];do{if((E=this._toPattern(_))<0)return null;var z=this._patternToChar(E);if(z===null)return null;if(L.push(z),_+=8,L.length>1&&this._isStartEnd(E))break}while(_<this._counters.length);if(L.length-2<4||!this._isStartEnd(E)||!this._verifyWhitespace(S.startCounter,_-8)||!this._validateResult(L,S.startCounter))return null;_=_>this._counters.length?this._counters.length:_;var U=S.start+this._sumCounters(S.startCounter,_-8);return{code:L.join(""),start:S.start,end:U,startInfo:S,decodedCodes:L,format:this.FORMAT}}}])}(_n);function Zl(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var qo=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=Zl(this,k,[].concat(E)),M()(y,"CODE_SHIFT",98),M()(y,"CODE_C",99),M()(y,"CODE_B",100),M()(y,"CODE_A",101),M()(y,"START_CODE_A",103),M()(y,"START_CODE_B",104),M()(y,"START_CODE_C",105),M()(y,"STOP_CODE",106),M()(y,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),M()(y,"SINGLE_CODE_ERROR",.64),M()(y,"AVG_CODE_ERROR",.3),M()(y,"FORMAT","code_128"),M()(y,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),y}return sn()(k,b),T()(k,[{key:"_decodeCode",value:function(y,S){for(var E={error:Number.MAX_VALUE,code:-1,start:y,end:y,correction:{bar:1,space:1}},_=[0,0,0,0,0,0],L=y,z=!this._row[L],U=0,V=L;V<this._row.length;V++)if(this._row[V]^(z?1:0))_[U]++;else{if(U===_.length-1){S&&this._correct(_,S);for(var H=0;H<this.CODE_PATTERN.length;H++){var te=this._matchPattern(_,this.CODE_PATTERN[H]);te<E.error&&(E.code=H,E.error=te)}return E.end=V,E.code===-1||E.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[E.code]&&(E.correction.bar=this.calculateCorrection(this.CODE_PATTERN[E.code],_,this.MODULE_INDICES.bar),E.correction.space=this.calculateCorrection(this.CODE_PATTERN[E.code],_,this.MODULE_INDICES.space)),E)}_[++U]=1,z=!z}return null}},{key:"_correct",value:function(y,S){this._correctBars(y,S.bar,this.MODULE_INDICES.bar),this._correctBars(y,S.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var y=[0,0,0,0,0,0],S=this._nextSet(this._row),E={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},_=!1,L=0,z=S;z<this._row.length;z++)if(this._row[z]^(_?1:0))y[L]++;else{if(L===y.length-1){for(var U=y.reduce(function(Ce,ye){return Ce+ye},0),V=this.START_CODE_A;V<=this.START_CODE_C;V++){var H=this._matchPattern(y,this.CODE_PATTERN[V]);H<E.error&&(E.code=V,E.error=H)}if(E.error<this.AVG_CODE_ERROR)return E.start=z-U,E.end=z,E.correction.bar=this.calculateCorrection(this.CODE_PATTERN[E.code],y,this.MODULE_INDICES.bar),E.correction.space=this.calculateCorrection(this.CODE_PATTERN[E.code],y,this.MODULE_INDICES.space),E;for(var te=0;te<4;te++)y[te]=y[te+2];y[4]=0,y[5]=0,L--}else L++;y[L]=1,_=!_}return null}},{key:"decode",value:function(y,S){var E=this,_=this._findStart();if(_===null)return null;var L={code:_.code,start:_.start,end:_.end,correction:{bar:_.correction.bar,space:_.correction.space}},z=[];z.push(L);for(var U=L.code,V=function(Le){switch(Le){case E.START_CODE_A:return E.CODE_A;case E.START_CODE_B:return E.CODE_B;case E.START_CODE_C:return E.CODE_C;default:return null}}(L.code),H=!1,te=!1,Ce=te,ye=!0,De=0,ge=[],Oe=[];!H;){if(Ce=te,te=!1,(L=this._decodeCode(L.end,L.correction))!==null)switch(L.code!==this.STOP_CODE&&(ye=!0),L.code!==this.STOP_CODE&&(ge.push(L.code),U+=++De*L.code),z.push(L),V){case this.CODE_A:if(L.code<64)Oe.push(String.fromCharCode(32+L.code));else if(L.code<96)Oe.push(String.fromCharCode(L.code-64));else switch(L.code!==this.STOP_CODE&&(ye=!1),L.code){case this.CODE_SHIFT:te=!0,V=this.CODE_B;break;case this.CODE_B:V=this.CODE_B;break;case this.CODE_C:V=this.CODE_C;break;case this.STOP_CODE:H=!0}break;case this.CODE_B:if(L.code<96)Oe.push(String.fromCharCode(32+L.code));else switch(L.code!==this.STOP_CODE&&(ye=!1),L.code){case this.CODE_SHIFT:te=!0,V=this.CODE_A;break;case this.CODE_A:V=this.CODE_A;break;case this.CODE_C:V=this.CODE_C;break;case this.STOP_CODE:H=!0}break;case this.CODE_C:if(L.code<100)Oe.push(L.code<10?"0"+L.code:L.code);else switch(L.code!==this.STOP_CODE&&(ye=!1),L.code){case this.CODE_A:V=this.CODE_A;break;case this.CODE_B:V=this.CODE_B;break;case this.STOP_CODE:H=!0}}else H=!0;Ce&&(V=V===this.CODE_A?this.CODE_B:this.CODE_A)}return L===null?null:(L.end=this._nextUnset(this._row,L.end),this._verifyTrailingWhitespace(L)?(U-=De*ge[ge.length-1])%103!==ge[ge.length-1]?null:Oe.length?(ye&&Oe.splice(Oe.length-1,1),{code:Oe.join(""),start:_.start,end:L.end,codeset:V,startInfo:_,decodedCodes:z,endInfo:L,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(y){var S;return(S=y.end+(y.end-y.start)/2)<this._row.length&&this._matchRange(y.end,S,0)?y:null}},{key:"calculateCorrection",value:function(y,S,E){for(var _=E.length,L=0,z=0;_--;)z+=y[E[_]],L+=S[E[_]];return z/L}}])}(_n),lf=i(10),bs=i.n(lf),cf=i(25),yu=i.n(cf);function xu(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var uf=new Uint16Array(yu()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(b){return b.charCodeAt(0)})),bu=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Wo=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=xu(this,k,[].concat(E)),M()(y,"FORMAT","code_39"),y}return sn()(k,b),T()(k,[{key:"_findStart",value:function(){for(var y=this._nextSet(this._row),S=y,E=new Uint16Array([0,0,0,0,0,0,0,0,0]),_=0,L=!1,z=y;z<this._row.length;z++)if(this._row[z]^(L?1:0))E[_]++;else{if(_===E.length-1){if(this._toPattern(E)===148){var U=Math.floor(Math.max(0,S-(z-S)/4));if(this._matchRange(U,S,0))return{start:S,end:z}}S+=E[0]+E[1];for(var V=0;V<7;V++)E[V]=E[V+2];E[7]=0,E[8]=0,_--}else _++;E[_]=1,L=!L}return null}},{key:"_toPattern",value:function(y){for(var S=y.length,E=0,_=S,L=0;_>3;){E=this._findNextWidth(y,E),_=0;for(var z=0,U=0;U<S;U++)y[U]>E&&(z|=1<<S-1-U,_++,L+=y[U]);if(_===3){for(var V=0;V<S&&_>0;V++)if(y[V]>E&&(_--,2*y[V]>=L))return-1;return z}}return-1}},{key:"_findNextWidth",value:function(y,S){for(var E=Number.MAX_VALUE,_=0;_<y.length;_++)y[_]<E&&y[_]>S&&(E=y[_]);return E}},{key:"_patternToChar",value:function(y){for(var S=0;S<bu.length;S++)if(bu[S]===y)return String.fromCharCode(uf[S]);return null}},{key:"_verifyTrailingWhitespace",value:function(y,S,E){var _=Wl(E);return 3*(S-y-_)>=_}},{key:"decode",value:function(){var y=new Uint16Array([0,0,0,0,0,0,0,0,0]),S=[],E=this._findStart();if(!E)return null;var _,L,z=this._nextSet(this._row,E.end);do{y=this._toCounters(z,y);var U=this._toPattern(y);if(U<0||(_=this._patternToChar(U))===null)return null;S.push(_),L=z,z+=Wl(y),z=this._nextSet(this._row,z)}while(_!=="*");return S.pop(),S.length&&this._verifyTrailingWhitespace(L,z,y)?{code:S.join(""),start:E.start,end:z,startInfo:E,decodedCodes:S,format:this.FORMAT}:null}}])}(_n);function df(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var ec=/[AEIO]/g,wu=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=df(this,k,[].concat(E)),M()(y,"FORMAT","code_32_reader"),y}return sn()(k,b),T()(k,[{key:"_decodeCode32",value:function(y){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(y))return null;for(var S=0,E=0;E<y.length;E++)S=32*S+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(y[E]);var _="".concat(S);return _.length<9&&(_=("000000000"+_).slice(-9)),"A"+_}},{key:"_checkChecksum",value:function(y){return!!y}},{key:"decode",value:function(){var y,S,E,_,L,z=(y=k,S="decode",E=this,_=3,L=bs()(qt()(1&_?y.prototype:y),S,E),2&_&&typeof L=="function"?function(H){return L.apply(E,H)}:L)([]);if(!z)return null;var U=z.code;if(!U||(U=U.replace(ec,""),!this._checkChecksum(U)))return null;var V=this._decodeCode32(U);return V?(z.code=V,z):null}}])}(Wo);function wr(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var ff=/[IOQ]/g,ws=/[A-Z0-9]{17}/,tc=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=wr(this,k,[].concat(E)),M()(y,"FORMAT","code_39_vin"),y}return sn()(k,b),T()(k,[{key:"_checkChecksum",value:function(y){return!!y}},{key:"decode",value:function(){var y,S,E,_,L,z=(y=k,S="decode",E=this,_=3,L=bs()(qt()(1&_?y.prototype:y),S,E),2&_&&typeof L=="function"?function(V){return L.apply(E,V)}:L)([]);if(!z)return null;var U=z.code;return U&&(U=U.replace(ff,"")).match(ws)&&this._checkChecksum(U)?(z.code=U,z):null}}])}(Wo);function hf(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var Vt=new Uint16Array(yu()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(b){return b.charCodeAt(0)})),ju=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),Au=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=hf(this,k,[].concat(E)),M()(y,"FORMAT","code_93"),y}return sn()(k,b),T()(k,[{key:"_patternToChar",value:function(y){for(var S=0;S<ju.length;S++)if(ju[S]===y)return String.fromCharCode(Vt[S]);return null}},{key:"_toPattern",value:function(y){for(var S=y.length,E=y.reduce(function(V,H){return V+H},0),_=0,L=0;L<S;L++){var z=Math.round(9*y[L]/E);if(z<1||z>4)return-1;if((1&L)==0)for(var U=0;U<z;U++)_=_<<1|1;else _<<=z}return _}},{key:"_findStart",value:function(){for(var y=this._nextSet(this._row),S=y,E=new Uint16Array([0,0,0,0,0,0]),_=0,L=!1,z=y;z<this._row.length;z++)if(this._row[z]^(L?1:0))E[_]++;else{if(_===E.length-1){if(this._toPattern(E)===350){var U=Math.floor(Math.max(0,S-(z-S)/4));if(this._matchRange(U,S,0))return{start:S,end:z}}S+=E[0]+E[1];for(var V=0;V<4;V++)E[V]=E[V+2];E[4]=0,E[5]=0,_--}else _++;E[_]=1,L=!L}return null}},{key:"_verifyEnd",value:function(y,S){return!(y===S||!this._row[S])}},{key:"_decodeExtended",value:function(y){for(var S=y.length,E=[],_=0;_<S;_++){var L=y[_];if(L>="a"&&L<="d"){if(_>S-2)return null;var z=y[++_],U=z.charCodeAt(0),V=void 0;switch(L){case"a":if(!(z>="A"&&z<="Z"))return null;V=String.fromCharCode(U-64);break;case"b":if(z>="A"&&z<="E")V=String.fromCharCode(U-38);else if(z>="F"&&z<="J")V=String.fromCharCode(U-11);else if(z>="K"&&z<="O")V=String.fromCharCode(U+16);else if(z>="P"&&z<="S")V=String.fromCharCode(U+43);else{if(!(z>="T"&&z<="Z"))return null;V=""}break;case"c":if(z>="A"&&z<="O")V=String.fromCharCode(U-32);else{if(z!=="Z")return null;V=":"}break;case"d":if(!(z>="A"&&z<="Z"))return null;V=String.fromCharCode(U+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",V),null}E.push(V)}else E.push(L)}return E}},{key:"_matchCheckChar",value:function(y,S,E){var _=y.slice(0,S),L=_.length,z=_.reduce(function(U,V,H){return U+((-1*H+(L-1))%E+1)*Vt.indexOf(V.charCodeAt(0))},0);return Vt[z%47]===y[S].charCodeAt(0)}},{key:"_verifyChecksums",value:function(y){return this._matchCheckChar(y,y.length-2,20)&&this._matchCheckChar(y,y.length-1,15)}},{key:"decode",value:function(y,S){if(!(S=this._findStart()))return null;var E,_,L=new Uint16Array([0,0,0,0,0,0]),z=[],U=this._nextSet(this._row,S.end);do{L=this._toCounters(U,L);var V=this._toPattern(L);if(V<0||(_=this._patternToChar(V))===null)return null;z.push(_),E=U,U+=Wl(L),U=this._nextSet(this._row,U)}while(_!=="*");return z.pop(),z.length&&this._verifyEnd(E,U)&&this._verifyChecksums(z)?(z=z.slice(0,z.length-2),(z=this._decodeExtended(z))===null?null:{code:z.join(""),start:S.start,end:U,startInfo:S,decodedCodes:z,format:this.FORMAT}):null}}])}(_n);function Su(b,k){var y=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);k&&(S=S.filter(function(E){return Object.getOwnPropertyDescriptor(b,E).enumerable})),y.push.apply(y,S)}return y}function rc(b){for(var k=1;k<arguments.length;k++){var y=arguments[k]!=null?arguments[k]:{};k%2?Su(Object(y),!0).forEach(function(S){M()(b,S,y[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(y)):Su(Object(y)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(y,S))})}return b}function nc(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var io=[1,1,1],Cu=[1,1,1,1,1],ku=[1,1,2],ic=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],sc=[0,11,13,14,19,25,28,21,22,26],zi=function(b){function k(y,S){var E;return A()(this,k),E=nc(this,k,[p()({supplements:[]},y),S]),M()(E,"FORMAT","ean_13"),M()(E,"SINGLE_CODE_ERROR",.7),M()(E,"STOP_PATTERN",[1,1,1]),E}return sn()(k,b),T()(k,[{key:"_findPattern",value:function(y,S,E,_){var L=new Array(y.length).fill(0),z={error:Number.MAX_VALUE,start:0,end:0},U=0;S||(S=this._nextSet(this._row));for(var V=!1,H=S;H<this._row.length;H++)if(this._row[H]^(E?1:0))L[U]+=1;else{if(U===L.length-1){var te=this._matchPattern(L,y);if(te<.48&&z.error&&te<z.error)return V=!0,z.error=te,z.start=H-L.reduce(function(ye,De){return ye+De},0),z.end=H,z;if(_){for(var Ce=0;Ce<L.length-2;Ce++)L[Ce]=L[Ce+2];L[L.length-2]=0,L[L.length-1]=0,U--}}else U++;L[U]=1,E=!E}return V?z:null}},{key:"_decodeCode",value:function(y,S){var E=[0,0,0,0],_=y,L={error:Number.MAX_VALUE,code:-1,start:y,end:y},z=!this._row[_],U=0;S||(S=ic.length);for(var V=_;V<this._row.length;V++)if(this._row[V]^(z?1:0))E[U]++;else{if(U===E.length-1){for(var H=0;H<S;H++){var te=this._matchPattern(E,ic[H]);L.end=V,te<L.error&&(L.code=H,L.error=te)}return L.error>.48?null:L}E[++U]=1,z=!z}return null}},{key:"_findStart",value:function(){for(var y=this._nextSet(this._row),S=null;!S;){if(!(S=this._findPattern(io,y,!1,!0)))return null;var E=S.start-(S.end-S.start);if(E>=0&&this._matchRange(E,S.start,0))return S;y=S.end,S=null}return null}},{key:"_calculateFirstDigit",value:function(y){for(var S=0;S<sc.length;S++)if(y===sc[S])return S;return null}},{key:"_decodePayload",value:function(y,S,E){for(var _=rc({},y),L=0,z=0;z<6;z++){if(!(_=this._decodeCode(_.end)))return null;_.code>=10?(_.code-=10,L|=1<<5-z):L|=0<<5-z,S.push(_.code),E.push(_)}var U=this._calculateFirstDigit(L);if(U===null)return null;S.unshift(U);var V=this._findPattern(Cu,_.end,!0,!1);if(V===null||!V.end)return null;E.push(V);for(var H=0;H<6;H++){if(!(V=this._decodeCode(V.end,10)))return null;E.push(V),S.push(V.code)}return V}},{key:"_verifyTrailingWhitespace",value:function(y){var S=y.end+(y.end-y.start);return S<this._row.length&&this._matchRange(y.end,S,0)?y:null}},{key:"_findEnd",value:function(y,S){var E=this._findPattern(this.STOP_PATTERN,y,S,!1);return E!==null?this._verifyTrailingWhitespace(E):null}},{key:"_checksum",value:function(y){for(var S=0,E=y.length-2;E>=0;E-=2)S+=y[E];S*=3;for(var _=y.length-1;_>=0;_-=2)S+=y[_];return S%10==0}},{key:"_decodeExtensions",value:function(y){var S=this._nextSet(this._row,y),E=this._findPattern(ku,S,!1,!1);if(E===null)return null;for(var _=0;_<this.supplements.length;_++)try{var L=this.supplements[_].decode(this._row,E.end);if(L!==null)return{code:L.code,start:S,startInfo:E,end:L.end,decodedCodes:L.decodedCodes,format:this.supplements[_].FORMAT}}catch(z){console.error("* decodeExtensions error in ",this.supplements[_],": ",z)}return null}},{key:"decode",value:function(y,S){var E=new Array,_=new Array,L={},z=this._findStart();if(!z)return null;var U={start:z.start,end:z.end};if(_.push(U),!(U=this._decodePayload(U,E,_))||!(U=this._findEnd(U.end,!1))||(_.push(U),!this._checksum(E)))return null;if(this.supplements.length>0){var V=this._decodeExtensions(U.end);if(!V||!V.decodedCodes)return null;var H=V.decodedCodes[V.decodedCodes.length-1],te={start:H.start+((H.end-H.start)/2|0),end:H.end};if(!this._verifyTrailingWhitespace(te))return null;L={supplement:V,code:E.join("")+V.code}}return rc(rc({code:E.join(""),start:z.start,end:U.end,startInfo:z,decodedCodes:_},L),{},{format:this.FORMAT})}}])}(_n);function Nu(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var Ys=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=Nu(this,k,[].concat(E)),M()(y,"FORMAT","ean_2"),y}return sn()(k,b),T()(k,[{key:"decode",value:function(y,S){y&&(this._row=y);var E=0,_=S,L=this._row.length,z=[],U=[],V=null;if(_===void 0)return null;for(var H=0;H<2&&_<L;H++){if(!(V=this._decodeCode(_)))return null;U.push(V),z.push(V.code%10),V.code>=10&&(E|=1<<1-H),H!==1&&(_=this._nextSet(this._row,V.end),_=this._nextUnset(this._row,_))}if(z.length!==2||parseInt(z.join(""))%4!==E)return null;var te=this._findStart();return{code:z.join(""),decodedCodes:U,end:V.end,format:this.FORMAT,startInfo:te,start:te.start}}}])}(zi);function mf(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var pf=[24,20,18,17,12,6,3,10,9,5],Eu=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=mf(this,k,[].concat(E)),M()(y,"FORMAT","ean_5"),y}return sn()(k,b),T()(k,[{key:"decode",value:function(y,S){if(S===void 0)return null;y&&(this._row=y);for(var E=0,_=S,L=this._row.length,z=null,U=[],V=[],H=0;H<5&&_<L;H++){if(!(z=this._decodeCode(_)))return null;V.push(z),U.push(z.code%10),z.code>=10&&(E|=1<<4-H),H!==4&&(_=this._nextSet(this._row,z.end),_=this._nextUnset(this._row,_))}if(U.length!==5||function(Ce){for(var ye=Ce.length,De=0,ge=ye-2;ge>=0;ge-=2)De+=Ce[ge];De*=3;for(var Oe=ye-1;Oe>=0;Oe-=2)De+=Ce[Oe];return(De*=3)%10}(U)!==function(Ce){for(var ye=0;ye<10;ye++)if(Ce===pf[ye])return ye;return null}(E))return null;var te=this._findStart();return{code:U.join(""),decodedCodes:V,end:z.end,format:this.FORMAT,startInfo:te,start:te.start}}}])}(zi);function Pu(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var ac=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=Pu(this,k,[].concat(E)),M()(y,"FORMAT","ean_8"),y}return sn()(k,b),T()(k,[{key:"_decodePayload",value:function(y,S,E){for(var _=y,L=0;L<4;L++){if(!(_=this._decodeCode(_.end,10)))return null;S.push(_.code),E.push(_)}if((_=this._findPattern(Cu,_.end,!0,!1))===null)return null;E.push(_);for(var z=0;z<4;z++){if(!(_=this._decodeCode(_.end,10)))return null;E.push(_),S.push(_.code)}return _}}])}(zi);function so(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var ka=function(b){function k(y){var S;return A()(this,k),S=so(this,k,[p()({normalizeBarSpaceWidth:!1},y)]),M()(S,"barSpaceRatio",[1,1]),M()(S,"SINGLE_CODE_ERROR",.78),M()(S,"AVG_CODE_ERROR",.38),M()(S,"START_PATTERN",[1,1,1,1]),M()(S,"STOP_PATTERN",[1,1,3]),M()(S,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),M()(S,"MAX_CORRECTION_FACTOR",5),M()(S,"FORMAT","i2of5"),y.normalizeBarSpaceWidth&&(S.SINGLE_CODE_ERROR=.38,S.AVG_CODE_ERROR=.09),S.config=y,zr()(S,S)}return sn()(k,b),T()(k,[{key:"_matchPattern",value:function(y,S){if(this.config.normalizeBarSpaceWidth){for(var E=[0,0],_=[0,0],L=[0,0],z=this.MAX_CORRECTION_FACTOR,U=1/z,V=0;V<y.length;V++)E[V%2]+=y[V],_[V%2]+=S[V];L[0]=_[0]/E[0],L[1]=_[1]/E[1],L[0]=Math.max(Math.min(L[0],z),U),L[1]=Math.max(Math.min(L[1],z),U),this.barSpaceRatio=L;for(var H=0;H<y.length;H++)y[H]*=this.barSpaceRatio[H%2]}return(te=k,Ce="_matchPattern",ye=this,De=3,ge=bs()(qt()(1&De?te.prototype:te),Ce,ye),2&De&&typeof ge=="function"?function(Oe){return ge.apply(ye,Oe)}:ge)([y,S]);var te,Ce,ye,De,ge}},{key:"_findPattern",value:function(y,S){var E=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=arguments.length>3&&arguments[3]!==void 0&&arguments[3],L=new Array(y.length).fill(0),z=0,U={error:Number.MAX_VALUE,start:0,end:0},V=this.AVG_CODE_ERROR;E=E||!1,_=_||!1,S||(S=this._nextSet(this._row));for(var H=S;H<this._row.length;H++)if(this._row[H]^(E?1:0))L[z]++;else{if(z===L.length-1){var te=L.reduce(function(De,ge){return De+ge},0),Ce=this._matchPattern(L,y);if(Ce<V)return U.error=Ce,U.start=H-te,U.end=H,U;if(!_)return null;for(var ye=0;ye<L.length-2;ye++)L[ye]=L[ye+2];L[L.length-2]=0,L[L.length-1]=0,z--}else z++;L[z]=1,E=!E}return null}},{key:"_findStart",value:function(){for(var y=0,S=this._nextSet(this._row),E=null,_=1;!E;){if(!(E=this._findPattern(this.START_PATTERN,S,!1,!0)))return null;if(_=Math.floor((E.end-E.start)/4),(y=E.start-10*_)>=0&&this._matchRange(y,E.start,0))return E;S=E.end,E=null}return null}},{key:"_verifyTrailingWhitespace",value:function(y){var S=y.end+(y.end-y.start)/2;return S<this._row.length&&this._matchRange(y.end,S,0)?y:null}},{key:"_findEnd",value:function(){this._row.reverse();var y=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),y===null)return null;var S=y.start;return y.start=this._row.length-y.end,y.end=this._row.length-S,y!==null?this._verifyTrailingWhitespace(y):null}},{key:"_decodePair",value:function(y){for(var S=[],E=0;E<y.length;E++){var _=this._decodeCode(y[E]);if(!_)return null;S.push(_)}return S}},{key:"_decodeCode",value:function(y){for(var S=this.AVG_CODE_ERROR,E={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0;_<this.CODE_PATTERN.length;_++){var L=this._matchPattern(y,this.CODE_PATTERN[_]);L<E.error&&(E.code=_,E.error=L)}return E.error<S?E:null}},{key:"_decodePayload",value:function(y,S,E){for(var _=0,L=y.length,z=[[0,0,0,0,0],[0,0,0,0,0]],U=null;_<L;){for(var V=0;V<5;V++)z[0][V]=y[_]*this.barSpaceRatio[0],z[1][V]=y[_+1]*this.barSpaceRatio[1],_+=2;if(!(U=this._decodePair(z)))return null;for(var H=0;H<U.length;H++)S.push(U[H].code+""),E.push(U[H])}return U}},{key:"_verifyCounterLength",value:function(y){return y.length%10==0}},{key:"decode",value:function(y,S){var E=new Array,_=new Array,L=this._findStart();if(!L)return null;_.push(L);var z=this._findEnd();if(!z)return null;var U=this._fillCounters(L.end,z.start,!1);return this._verifyCounterLength(U)&&this._decodePayload(U,E,_)?E.length%2!=0||E.length<6?null:(_.push(z),{code:E.join(""),start:L.start,end:z.end,startInfo:L,decodedCodes:_,format:this.FORMAT}):null}}])}(_n);function _u(b,k){var y=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);k&&(S=S.filter(function(E){return Object.getOwnPropertyDescriptor(b,E).enumerable})),y.push.apply(y,S)}return y}function Go(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}function Tu(b,k,y,S){var E=bs()(qt()(b.prototype),k,y);return 2&S&&typeof E=="function"?function(_){return E.apply(y,_)}:E}var oc=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=Go(this,k,[].concat(E)),M()(y,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),M()(y,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),M()(y,"FORMAT","upc_e"),y}return sn()(k,b),T()(k,[{key:"_decodePayload",value:function(y,S,E){for(var _=function(U){for(var V=1;V<arguments.length;V++){var H=arguments[V]!=null?arguments[V]:{};V%2?_u(Object(H),!0).forEach(function(te){M()(U,te,H[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(H)):_u(Object(H)).forEach(function(te){Object.defineProperty(U,te,Object.getOwnPropertyDescriptor(H,te))})}return U}({},y),L=0,z=0;z<6;z++){if(!(_=this._decodeCode(_.end)))return null;_.code>=10&&(_.code=_.code-10,L|=1<<5-z),S.push(_.code),E.push(_)}return this._determineParity(L,S)?_:null}},{key:"_determineParity",value:function(y,S){for(var E=0;E<this.CODE_FREQUENCY.length;E++)for(var _=0;_<this.CODE_FREQUENCY[E].length;_++)if(y===this.CODE_FREQUENCY[E][_])return S.unshift(E),S.push(_),!0;return!1}},{key:"_convertToUPCA",value:function(y){var S=[y[0]],E=y[y.length-2];return(S=E<=2?S.concat(y.slice(1,3)).concat([E,0,0,0,0]).concat(y.slice(3,6)):E===3?S.concat(y.slice(1,4)).concat([0,0,0,0,0]).concat(y.slice(4,6)):E===4?S.concat(y.slice(1,5)).concat([0,0,0,0,0,y[5]]):S.concat(y.slice(1,6)).concat([0,0,0,0,E])).push(y[y.length-1]),S}},{key:"_checksum",value:function(y){return Tu(k,"_checksum",this,3)([this._convertToUPCA(y)])}},{key:"_findEnd",value:function(y,S){return Tu(k,"_findEnd",this,3)([y,!0])}},{key:"_verifyTrailingWhitespace",value:function(y){var S=y.end+(y.end-y.start)/2;return S<this._row.length&&this._matchRange(y.end,S,0)?y:null}}])}(zi);function lc(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var Ko=function(b){function k(){var y;A()(this,k);for(var S=arguments.length,E=new Array(S),_=0;_<S;_++)E[_]=arguments[_];return y=lc(this,k,[].concat(E)),M()(y,"FORMAT","upc_a"),y}return sn()(k,b),T()(k,[{key:"decode",value:function(y,S){var E=zi.prototype.decode.call(this);return E&&E.code&&E.code.length===13&&E.code.charAt(0)==="0"?(E.code=E.code.substring(1),E):null}}])}(zi),ao={},oo={UP:1,DOWN:-1};ao.getBarcodeLine=function(b,k,y){var S,E,_,L,z,U=0|k.x,V=0|k.y,H=0|y.x,te=0|y.y,Ce=Math.abs(te-V)>Math.abs(H-U),ye=[],De=b.data,ge=b.size.x,Oe=255,Le=0;function Be(Qt,Ft){z=De[Ft*ge+Qt],Oe=z<Oe?z:Oe,Le=z>Le?z:Le,ye.push(z)}Ce&&(_=U,U=V,V=_,_=H,H=te,te=_),U>H&&(_=U,U=H,H=_,_=V,V=te,te=_);var ut=H-U,gt=Math.abs(te-V);S=ut/2|0,E=V;var Gt=V<te?1:-1;for(L=U;L<H;L++)Ce?Be(E,L):Be(L,E),(S-=gt)<0&&(E+=Gt,S+=ut);return{line:ye,min:Oe,max:Le}},ao.toBinaryLine=function(b){var k,y,S,E,_,L,z=b.min,U=b.max,V=b.line,H=z+(U-z)/2,te=[],Ce=(U-z)/12,ye=-Ce;for(S=V[0]>H?oo.UP:oo.DOWN,te.push({pos:0,val:V[0]}),_=0;_<V.length-2;_++)S!==(E=(k=V[_+1]-V[_])+(y=V[_+2]-V[_+1])<ye&&V[_+1]<1.5*H?oo.DOWN:k+y>Ce&&V[_+1]>.5*H?oo.UP:S)&&(te.push({pos:_,val:V[_]}),S=E);for(te.push({pos:V.length,val:V[V.length-1]}),L=te[0].pos;L<te[1].pos;L++)V[L]=V[L]>H?0:1;for(_=1;_<te.length-1;_++)for(Ce=te[_+1].val>te[_].val?te[_].val+(te[_+1].val-te[_].val)/3*2|0:te[_+1].val+(te[_].val-te[_+1].val)/3|0,L=te[_].pos;L<te[_+1].pos;L++)V[L]=V[L]>Ce?0:1;return{line:V,threshold:Ce}},ao.debug={printFrequency:function(b,k){var y,S=k.getContext("2d");for(k.width=b.length,k.height=256,S.beginPath(),S.strokeStyle="blue",y=0;y<b.length;y++)S.moveTo(y,255),S.lineTo(y,255-b[y]);S.stroke(),S.closePath()},printPattern:function(b,k){var y,S=k.getContext("2d");for(k.width=b.length,S.fillColor="black",y=0;y<b.length;y++)b[y]===1&&S.fillRect(y,0,1,100)}};var cc=ao;function gf(b,k){var y=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!y){if(Array.isArray(b)||(y=function(U,V){if(U){if(typeof U=="string")return Ou(U,V);var H={}.toString.call(U).slice(8,-1);return H==="Object"&&U.constructor&&(H=U.constructor.name),H==="Map"||H==="Set"?Array.from(U):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?Ou(U,V):void 0}}(b))||k){y&&(b=y);var S=0,E=function(){};return{s:E,n:function(){return S>=b.length?{done:!0}:{done:!1,value:b[S++]}},e:function(U){throw U},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,L=!0,z=!1;return{s:function(){y=y.call(b)},n:function(){var U=y.next();return L=U.done,U},e:function(U){z=!0,_=U},f:function(){try{L||y.return==null||y.return()}finally{if(z)throw _}}}}function Ou(b,k){(k==null||k>b.length)&&(k=b.length);for(var y=0,S=Array(k);y<k;y++)S[y]=b[y];return S}var lo={code_128_reader:qo,ean_reader:zi,ean_5_reader:Eu,ean_2_reader:Ys,ean_8_reader:ac,code_39_reader:Wo,code_39_vin_reader:tc,codabar_reader:vu,upc_reader:Ko,upc_e_reader:oc,i2of5_reader:ka,"2of5_reader":Ca,code_93_reader:Au,code_32_reader:wu},uc={registerReader:function(b,k){lo[b]=k},create:function(b,k){var y=[];function S(){b.readers.forEach(function(U){var V,H={},te=[];h()(U)==="object"?(V=U.format,H=U.config):typeof U=="string"&&(V=U),H.supplements&&(te=H.supplements.map(function(ye){return new lo[ye]}));try{var Ce=new lo[V](H,te);y.push(Ce)}catch(ye){throw console.error("* Error constructing reader ",V,ye),ye}})}function E(U){var V,H=null,te=cc.getBarcodeLine(k,U[0],U[1]);for(cc.toBinaryLine(te),V=0;V<y.length&&H===null;V++)H=y[V].decodePattern(te.line);return H===null?null:{codeResult:H,barcodeLine:te}}function _(U){return L.apply(this,arguments)}function L(){return(L=Kn()($r.a.mark(function U(V){var H,te,Ce,ye,De;return $r.a.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:H=null,te=gf(y),ge.prev=1,te.s();case 2:if((Ce=te.n()).done){ge.next=5;break}if(!(ye=Ce.value).decodeImage){ge.next=4;break}return ge.next=3,ye.decodeImage(V);case 3:if(!(H=ge.sent)){ge.next=4;break}return ge.abrupt("continue",5);case 4:ge.next=2;break;case 5:ge.next=7;break;case 6:ge.prev=6,De=ge.catch(1),te.e(De);case 7:return ge.prev=7,te.f(),ge.finish(7);case 8:return ge.abrupt("return",H);case 9:case"end":return ge.stop()}},U,null,[[1,6,7,8]])}))).apply(this,arguments)}function z(U){var V,H,te=function(ye){return Math.sqrt(Math.pow(Math.abs(ye[1].y-ye[0].y),2)+Math.pow(Math.abs(ye[1].x-ye[0].x),2))}(V=function(ye){return[{x:(ye[1][0]-ye[0][0])/2+ye[0][0],y:(ye[1][1]-ye[0][1])/2+ye[0][1]},{x:(ye[3][0]-ye[2][0])/2+ye[2][0],y:(ye[3][1]-ye[2][1])/2+ye[2][1]}]}(U)),Ce=Math.atan2(V[1].y-V[0].y,V[1].x-V[0].x);return(V=function(ye,De,ge){function Oe(Le){var Be=Le*Math.sin(De),ut=Le*Math.cos(De);ye[0].y-=Be,ye[0].x-=ut,ye[1].y+=Be,ye[1].x+=ut}for(Oe(ge);ge>1&&(!k.inImageWithBorder(ye[0])||!k.inImageWithBorder(ye[1]));)Oe(-(ge-=Math.ceil(ge/2)));return ye}(V,Ce,Math.floor(.1*te)))===null?null:((H=E(V))===null&&(H=function(ye,De,ge){var Oe,Le,Be,ut=Math.sqrt(Math.pow(ye[1][0]-ye[0][0],2)+Math.pow(ye[1][1]-ye[0][1],2)),gt=null,Gt=Math.sin(ge),Qt=Math.cos(ge);for(Oe=1;Oe<16&&gt===null;Oe++)Be={y:(Le=ut/16*Oe*(Oe%2==0?-1:1))*Gt,x:Le*Qt},De[0].y+=Be.x,De[0].x-=Be.y,De[1].y+=Be.x,De[1].x-=Be.y,gt=E(De);return gt}(U,V,Ce)),H===null?null:{codeResult:H.codeResult,line:V,angle:Ce,pattern:H.barcodeLine.line,threshold:H.barcodeLine.threshold})}return S(),{decodeFromBoundingBox:function(U){return z(U)},decodeFromBoundingBoxes:function(U){var V,H,te=[],Ce=b.multiple;for(V=0;V<U.length;V++){var ye=U[V];if((H=z(ye)||{}).box=ye,Ce)te.push(H);else if(H.codeResult)return H}return{barcodes:te}},decodeFromImage:function(U){return Kn()($r.a.mark(function V(){var H;return $r.a.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=1,_(U);case 1:return H=te.sent,te.abrupt("return",H);case 2:case"end":return te.stop()}},V)}))()},registerReader:function(U,V){if(lo[U])throw new Error("cannot register existing reader",U);lo[U]=V},setReaders:function(U){b.readers=U,y.length=0,S()}}}},Qs=function(){var b={};function k(E){return b[E]||(b[E]={subscribers:[]}),b[E]}function y(E,_){E.async?setTimeout(function(){E.callback(_)},4):E.callback(_)}function S(E,_,L){var z;if(typeof _=="function")z={callback:_,async:L};else if(!(z=_).callback)throw new Error("Callback was not specified on options");k(E).subscribers.push(z)}return{subscribe:function(E,_,L){return S(E,_,L)},publish:function(E,_){var L=k(E),z=L.subscribers;z.filter(function(U){return!!U.once}).forEach(function(U){y(U,_)}),L.subscribers=z.filter(function(U){return!U.once}),L.subscribers.forEach(function(U){y(U,_)})},once:function(E,_){var L=arguments.length>2&&arguments[2]!==void 0&&arguments[2];S(E,{callback:_,async:L,once:!0})},unsubscribe:function(E,_){if(E){var L=k(E);L.subscribers=L&&_?L.subscribers.filter(function(z){return z.callback!==_}):[]}else b={}}}}(),ci=i(59),co=i.n(ci),Mu=i(60);function Ru(b,k,y){return k=qt()(k),zr()(b,function(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return function(){return!!S}()}()?Reflect.construct(k,y||[],qt()(b).constructor):k.apply(b,y))}var Js,Ho=function(b){function k(y,S){var E;return A()(this,k),E=Ru(this,k,[y]),M()(E,"code",void 0),E.code=S,Object.setPrototypeOf(E,k.prototype),E}return sn()(k,b),T()(k)}(i.n(Mu)()(Error)),Yo="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function vf(){try{return navigator.mediaDevices.enumerateDevices()}catch{var b=new Ho("enumerateDevices is not defined. ".concat(Yo),-1);return Promise.reject(b)}}function yf(b){try{return navigator.mediaDevices.getUserMedia(b)}catch{var k=new Ho("getUserMedia is not defined. ".concat(Yo),-1);return Promise.reject(k)}}function js(b){return new Promise(function(k,y){var S=10;(function E(){S>0?b.videoWidth>10&&b.videoHeight>10?k():window.setTimeout(E,500):y(new Ho("Unable to play video stream. Is webcam working?",-1)),S--})()})}function dc(b,k){return F.apply(this,arguments)}function F(){return(F=Kn()($r.a.mark(function b(k,y){var S;return $r.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=1,yf(y);case 1:if(S=E.sent,Js=S,!k){E.next=2;break}return k.setAttribute("autoplay","true"),k.setAttribute("muted","true"),k.setAttribute("playsinline","true"),k.srcObject=S,k.addEventListener("loadedmetadata",function(){k.play().catch(function(_){console.warn("* Error while trying to play video stream:",_)})}),E.abrupt("return",js(k));case 2:return E.abrupt("return",Promise.resolve());case 3:case"end":return E.stop()}},b)}))).apply(this,arguments)}function B(b){var k=co()(b,["width","height","facingMode","aspectRatio","deviceId"]);return b.minAspectRatio!==void 0&&b.minAspectRatio>0&&(k.aspectRatio=b.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),b.facing!==void 0&&(k.facingMode=b.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),k}function G(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=B(b);return k&&k.deviceId&&k.facingMode&&delete k.facingMode,Promise.resolve({audio:!1,video:k})}function Q(){return(Q=Kn()($r.a.mark(function b(){var k;return $r.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=1,vf();case 1:return k=y.sent,y.abrupt("return",k.filter(function(S){return S.kind==="videoinput"}));case 2:case"end":return y.stop()}},b)}))).apply(this,arguments)}function se(){if(!Js)return null;var b=Js.getVideoTracks();return b&&b!=null&&b.length?b[0]:null}var le={requestedVideoElement:null,request:function(b,k){return Kn()($r.a.mark(function y(){var S;return $r.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return le.requestedVideoElement=b,E.next=1,G(k);case 1:return S=E.sent,E.abrupt("return",dc(b,S));case 2:case"end":return E.stop()}},y)}))()},release:function(){var b=Js&&Js.getVideoTracks();return le.requestedVideoElement!==null&&le.requestedVideoElement.pause(),new Promise(function(k){setTimeout(function(){b&&b.length&&b.forEach(function(y){return y.stop()}),Js=null,le.requestedVideoElement=null,k()},0)})},enumerateVideoDevices:function(){return Q.apply(this,arguments)},getActiveStreamLabel:function(){var b=se();return b?b.label:""},getActiveTrack:se,disableTorch:function(){return Kn()($r.a.mark(function b(){var k,y;return $r.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(k=se())){S.next=4;break}return S.prev=1,S.next=2,k.applyConstraints({advanced:[{torch:!1}]});case 2:S.next=4;break;case 3:throw S.prev=3,(y=S.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),y;case 4:case"end":return S.stop()}},b,null,[[1,3]])}))()},enableTorch:function(){return Kn()($r.a.mark(function b(){var k,y;return $r.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(k=se())){S.next=4;break}return S.prev=1,S.next=2,k.applyConstraints({advanced:[{torch:!0}]});case 2:S.next=4;break;case 3:throw S.prev=3,(y=S.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),y;case 4:case"end":return S.stop()}},b,null,[[1,3]])}))()}},Ae=le,xe={create:function(b){var k,y=document.createElement("canvas"),S=y.getContext("2d",{willReadFrequently:!!b.willReadFrequently}),E=[],_=(k=b.capacity)!==null&&k!==void 0?k:20,L=b.capture===!0;function z(U){return!!_&&U&&!function(V,H){return H&&H.some(function(te){return Object.keys(te).every(function(Ce){return te[Ce]===V[Ce]})})}(U,b.blacklist)&&function(V,H){return typeof H!="function"||H(V)}(U,b.filter)}return{addResult:function(U,V,H){var te={};z(H)&&(_--,te.codeResult=H,L&&(y.width=V.x,y.height=V.y,Si.drawImage(U,V,S),te.frame=y.toDataURL()),E.push(te))},getResults:function(){return E}}}},$e={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ze=Math.PI/180,nt={};nt.create=function(b,k){var y,S={},E=b.getConfig(),_=(Fo(b.getRealWidth(),b.getRealHeight()),b.getCanvasSize()),L=Fo(b.getWidth(),b.getHeight()),z=b.getTopRight(),U=z.x,V=z.y,H=null,te=null,Ce=E.willReadFrequently;return(y=k||document.createElement("canvas")).width=_.x,y.height=_.y,H=y.getContext("2d",{willReadFrequently:!!Ce}),te=new Uint8Array(L.x*L.y),S.attachData=function(ye){te=ye},S.getData=function(){return te},S.grab=function(){var ye,De=E.halfSample,ge=b.getFrame(),Oe=ge,Le=0;if(Oe){if(function(Be,ut,gt){Be.width!==ut.x&&(Be.width=ut.x),Be.height!==ut.y&&(Be.height=ut.y)}(y,_,E.debug),E.type==="ImageStream"&&(Oe=ge.img,ge.tags&&ge.tags.orientation))switch(ge.tags.orientation){case 6:Le=90*Ze;break;case 8:Le=-90*Ze}return Le!==0?(H.translate(_.x/2,_.y/2),H.rotate(Le),H.drawImage(Oe,-_.y/2,-_.x/2,_.y,_.x),H.rotate(-Le),H.translate(-_.x/2,-_.y/2)):H.drawImage(Oe,0,0,_.x,_.y),ye=H.getImageData(U,V,L.x,L.y).data,De?function(Be,ut,gt){for(var Gt,Qt=0,Ft=ut.x,Sr=Math.floor(Be.length/4),Bu=ut.x/2,Fu=0,$u=ut.x;Ft<Sr;){for(Gt=0;Gt<Bu;Gt++)gt[Fu]=(.299*Be[4*Qt+0]+.587*Be[4*Qt+1]+.114*Be[4*Qt+2]+(.299*Be[4*(Qt+1)+0]+.587*Be[4*(Qt+1)+1]+.114*Be[4*(Qt+1)+2])+(.299*Be[4*Ft+0]+.587*Be[4*Ft+1]+.114*Be[4*Ft+2])+(.299*Be[4*(Ft+1)+0]+.587*Be[4*(Ft+1)+1]+.114*Be[4*(Ft+1)+2]))/4,Fu++,Qt+=2,Ft+=2;Qt+=$u,Ft+=$u}}(ye,L,te):mu(ye,te,E),!0}return!1},S.getSize=function(){return L},S};var Pt=nt,Wt={274:"orientation"},nr=Object.keys(Wt).map(function(b){return Wt[b]});function or(b){return new Promise(function(k){var y=new FileReader;y.onload=function(S){return k(S.target.result)},y.readAsArrayBuffer(b)})}function Or(b){return new Promise(function(k,y){var S=new XMLHttpRequest;S.open("GET",b,!0),S.responseType="blob",S.onreadystatechange=function(){S.readyState!==XMLHttpRequest.DONE||S.status!==200&&S.status!==0||k(this.response)},S.onerror=y,S.send()})}function Nr(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nr,y=new DataView(b),S=b.byteLength,E=k.reduce(function(L,z){var U=Object.keys(Wt).filter(function(V){return Wt[V]===z})[0];return U&&(L[U]=z),L},{}),_=2;if(y.getUint8(0)!==255||y.getUint8(1)!==216)return!1;for(;_<S;){if(y.getUint8(_)!==255)return!1;if(y.getUint8(_+1)===225)return Gr(y,_+4,E);_+=2+y.getUint16(_+2)}return!1}function Gr(b,k,y){if(function(L,z,U){for(var V="",H=z;H<z+U;H++)V+=String.fromCharCode(L.getUint8(H));return V}(b,k,4)!=="Exif")return!1;var S,E=k+6;if(b.getUint16(E)===18761)S=!1;else{if(b.getUint16(E)!==19789)return!1;S=!0}if(b.getUint16(E+2,!S)!==42)return!1;var _=b.getUint32(E+4,!S);return!(_<8)&&function(L,z,U,V,H){for(var te=L.getUint16(U,!H),Ce={},ye=0;ye<te;ye++){var De=U+12*ye+2,ge=V[L.getUint16(De,!H)];ge&&(Ce[ge]=Vi(L,De,z,U,H))}return Ce}(b,E,E+_,y,S)}function Vi(b,k,y,S,E){var _=b.getUint16(k+2,!E),L=b.getUint32(k+4,!E);switch(_){case 3:if(L===1)return b.getUint16(k+8,!E)}return null}var Vr={};function Hn(b,k){b.onload=function(){k.loaded(this)}}Vr.load=function(b,k,y,S,E,_){var L,z,U,V=new Array(S),H=new Array(V.length);if(E===!1)V[0]=b;else for(L=0;L<V.length;L++)U=y+L,V[L]="".concat(b,"image-").concat("00".concat(U).slice(-3),".jpg");for(H.notLoaded=[],H.addImage=function(te){H.notLoaded.push(te)},H.loaded=function(te){for(var Ce=H.notLoaded,ye=0;ye<Ce.length;ye++)if(Ce[ye]===te){Ce.splice(ye,1);for(var De=0;De<V.length;De++){var ge=V[De].substr(V[De].lastIndexOf("/"));if(te.src.lastIndexOf(ge)!==-1){H[De]={img:te};break}}break}Ce.length===0&&(E===!1?function(Oe){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nr;return/^blob:/i.test(Oe)?Or(Oe).then(or).then(function(Be){return Nr(Be,Le)}):Promise.resolve(null)}(b,["orientation"]).then(function(Oe){H[0].tags=Oe,k(H)}).catch(function(Oe){console.log(Oe),k(H)}):k(H))},L=0;L<V.length;L++)z=new Image,H.addImage(z),Hn(z,H),z.src=V[L]};var uo=Vr,fc={createVideoStream:function(b){console.warn("**** InputStreamBrowser createVideoStream");var k,y,S=null,E=["canrecord","ended"],_={},L={x:0,y:0,type:"Point"},z={x:0,y:0,type:"XYSize"},U={getRealWidth:function(){return b.videoWidth},getRealHeight:function(){return b.videoHeight},getWidth:function(){return k},getHeight:function(){return y},setWidth:function(V){k=V},setHeight:function(V){y=V},setInputStream:function(V){S=V,this.setAttribute("src",V.src!==void 0?V.src:"")},ended:function(){return b.ended},getConfig:function(){return S},setAttribute:function(V,H){b&&b.setAttribute(V,H)},pause:function(){b.pause()},play:function(){b.play()},setCurrentTime:function(V){var H;((H=S)===null||H===void 0?void 0:H.type)!=="LiveStream"&&this.setAttribute("currentTime",V.toString())},addEventListener:function(V,H,te){E.indexOf(V)!==-1?(_[V]||(_[V]=[]),_[V].push(H)):b.addEventListener(V,H,te)},clearEventHandlers:function(){E.forEach(function(V){var H=_[V];H&&H.length>0&&H.forEach(function(te){b.removeEventListener(V,te)})})},trigger:function(V,H){var te,Ce,ye,De,ge,Oe=_[V];if(V==="canrecord"&&(De=b.videoWidth,ge=b.videoHeight,k=(Ce=S)!==null&&Ce!==void 0&&Ce.size?De/ge>1?S.size:Math.floor(De/ge*S.size):De,y=(ye=S)!==null&&ye!==void 0&&ye.size?De/ge>1?Math.floor(ge/De*S.size):S.size:ge,z.x=k,z.y=y),Oe&&Oe.length>0)for(te=0;te<Oe.length;te++)Oe[te].apply(U,H)},setTopRight:function(V){L.x=V.x,L.y=V.y},getTopRight:function(){return L},setCanvasSize:function(V){z.x=V.x,z.y=V.y},getCanvasSize:function(){return z},getFrame:function(){return b}};return U},createLiveStream:function(b){console.warn("**** InputStreamBrowser createLiveStream"),b&&b.setAttribute("autoplay","true");var k=fc.createVideoStream(b);return k.ended=function(){return!1},k},createImageStream:function(){var b,k,y=null,S=0,E=0,_=0,L=!0,z=!1,U=null,V=0,H=null,te=!1,Ce=["canrecord","ended"],ye={},De={x:0,y:0,type:"Point"},ge={x:0,y:0,type:"XYSize"};function Oe(Be,ut){var gt,Gt=ye[Be];if(Gt&&Gt.length>0)for(gt=0;gt<Gt.length;gt++)Gt[gt].apply(Le,ut)}var Le={trigger:Oe,getWidth:function(){return b},getHeight:function(){return k},setWidth:function(Be){b=Be},setHeight:function(Be){k=Be},getRealWidth:function(){return S},getRealHeight:function(){return E},setInputStream:function(Be){var ut;y=Be,Be.sequence===!1?(H=Be.src,V=1):(H=Be.src,V=Be.length),z=!1,uo.load(H,function(gt){var Gt,Qt;if(U=gt,gt[0].tags&&gt[0].tags.orientation)switch(gt[0].tags.orientation){case 6:case 8:S=gt[0].img.height,E=gt[0].img.width;break;default:S=gt[0].img.width,E=gt[0].img.height}else S=gt[0].img.width,E=gt[0].img.height;b=(Gt=y)!==null&&Gt!==void 0&&Gt.size?S/E>1?y.size:Math.floor(S/E*y.size):S,k=(Qt=y)!==null&&Qt!==void 0&&Qt.size?S/E>1?Math.floor(E/S*y.size):y.size:E,ge.x=b,ge.y=k,z=!0,_=0,setTimeout(function(){Oe("canrecord",[])},0)},1,V,(ut=y)===null||ut===void 0?void 0:ut.sequence,y)},ended:function(){return te},setAttribute:function(){},getConfig:function(){return y},pause:function(){L=!0},play:function(){L=!1},setCurrentTime:function(Be){_=Be},addEventListener:function(Be,ut){Ce.indexOf(Be)!==-1&&(ye[Be]||(ye[Be]=[]),ye[Be].push(ut))},clearEventHandlers:function(){Object.keys(ye).forEach(function(Be){return delete ye[Be]})},setTopRight:function(Be){De.x=Be.x,De.y=Be.y},getTopRight:function(){return De},setCanvasSize:function(Be){ge.x=Be.x,ge.y=Be.y},getCanvasSize:function(){return ge},getFrame:function(){var Be,ut;return z?(L||(Be=(ut=U)===null||ut===void 0?void 0:ut[_],_<V-1?_++:setTimeout(function(){te=!0,Oe("ended",[])},0)),Be):null}};return Le}},gr=fc,Xs={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(b,k){var y,S=b.data,E=k.data,_=this.searchDirections,L=b.size.x;function z(V,H,te,Ce){var ye,De,ge;for(ye=0;ye<_.length;ye++){if(De=V.cy+_[V.dir][0],ge=V.cx+_[V.dir][1],S[y=De*L+ge]===H&&(E[y]===0||E[y]===te))return E[y]=te,V.cy=De,V.cx=ge,!0;E[y]===0&&(E[y]=Ce),V.dir=(V.dir+1)%8}return!1}function U(V,H,te){return{dir:te,x:V,y:H,next:null,prev:null}}return{trace:function(V,H,te,Ce){return z(V,H,te,Ce)},contourTracing:function(V,H,te,Ce,ye){return function(De,ge,Oe,Le,Be){var ut,gt,Gt,Qt=null,Ft={cx:ge,cy:De,dir:0};if(z(Ft,Le,Oe,Be)){ut=Qt=U(ge,De,Ft.dir),Gt=Ft.dir,(gt=U(Ft.cx,Ft.cy,0)).prev=ut,ut.next=gt,gt.next=null,ut=gt;var Sr=b.size.x*b.size.y,Bu=0;do Ft.dir=(Ft.dir+6)%8,z(Ft,Le,Oe,Be),Gt!==Ft.dir?(ut.dir=Ft.dir,(gt=U(Ft.cx,Ft.cy,0)).prev=ut,ut.next=gt,gt.next=null,ut=gt):(ut.dir=Gt,ut.x=Ft.cx,ut.y=Ft.cy),Gt=Ft.dir;while((Ft.cx!==ge||Ft.cy!==De)&&++Bu<Sr);Qt.prev=ut.prev,ut.prev.next=Qt}return Qt}(V,H,te,Ce,ye)}}}},Kr={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(b,k){var y=b.data,S=k.data,E=b.size.x,_=b.size.y,L=Xs.create(b,k);return{rasterize:function(z){var U,V,H,te,Ce,ye,De,ge,Oe,Le,Be,ut,gt=[],Gt=0;for(ut=0;ut<400;ut++)gt[ut]=0;for(gt[0]=y[0],Oe=null,ye=1;ye<_-1;ye++)for(te=0,V=gt[0],Ce=1;Ce<E-1;Ce++)if(S[Be=ye*E+Ce]===0)if((U=y[Be])!==V){if(te===0)gt[H=Gt+1]=U,V=U,(De=L.contourTracing(ye,Ce,H,U,Kr.DIR.OUTSIDE_EDGE))!==null&&(Gt++,te=H,(ge=Kr.createContour2D()).dir=Kr.CONTOUR_DIR.CW_DIR,ge.index=te,ge.firstVertex=De,ge.nextpeer=Oe,ge.insideContours=null,Oe!==null&&(Oe.prevpeer=ge),Oe=ge);else if((De=L.contourTracing(ye,Ce,Kr.DIR.INSIDE_EDGE,U,te))!==null){for((ge=Kr.createContour2D()).firstVertex=De,ge.insideContours=null,ge.dir=z===0?Kr.CONTOUR_DIR.CCW_DIR:Kr.CONTOUR_DIR.CW_DIR,ge.index=z,Le=Oe;Le!==null&&Le.index!==te;)Le=Le.nextpeer;Le!==null&&(ge.nextpeer=Le.insideContours,Le.insideContours!==null&&(Le.insideContours.prevpeer=ge),Le.insideContours=ge)}}else S[Be]=te;else S[Be]===Kr.DIR.OUTSIDE_EDGE||S[Be]===Kr.DIR.INSIDE_EDGE?(te=0,V=S[Be]===Kr.DIR.INSIDE_EDGE?y[Be]:gt[0]):V=gt[te=S[Be]];for(Le=Oe;Le!==null;)Le.index=z,Le=Le.nextpeer;return{cc:Oe,count:Gt}},debug:{drawContour:function(z,U){var V,H,te,Ce=z.getContext("2d"),ye=U;for(Ce.strokeStyle="red",Ce.fillStyle="red",Ce.lineWidth=1,V=ye!==null?ye.insideContours:null;ye!==null;){switch(V!==null?(H=V,V=V.nextpeer):(H=ye,V=(ye=ye.nextpeer)!==null?ye.insideContours:null),H.dir){case Kr.CONTOUR_DIR.CW_DIR:Ce.strokeStyle="red";break;case Kr.CONTOUR_DIR.CCW_DIR:Ce.strokeStyle="blue";break;case Kr.CONTOUR_DIR.UNKNOWN_DIR:Ce.strokeStyle="green"}te=H.firstVertex,Ce.beginPath(),Ce.moveTo(te.x,te.y);do te=te.next,Ce.lineTo(te.x,te.y);while(te!==H.firstVertex);Ce.stroke()}}}}}},As=Kr;/* @preserve ASM END */var ui,Yn,fo,di,Zs,ho,an,Na,Ui,xn,Ea,Iu,xf=function(b,k,y){var S=new b.Uint8Array(y),E=k.size|0,_=b.Math.imul;function L(ge,Oe){ge=ge|0,Oe=Oe|0;var Le=0,Be=0,ut=0,gt=0,Gt=0,Qt=0,Ft=0,Sr=0;for(Le=1;(Le|0)<(E-1|0);Le=Le+1|0)for(Sr=Sr+E|0,Be=1;(Be|0)<(E-1|0);Be=Be+1|0)gt=Sr-E|0,Gt=Sr+E|0,Qt=Be-1|0,Ft=Be+1|0,ut=(S[ge+gt+Qt|0]|0)+(S[ge+gt+Ft|0]|0)+(S[ge+Sr+Be|0]|0)+(S[ge+Gt+Qt|0]|0)+(S[ge+Gt+Ft|0]|0)|0,(ut|0)==5?S[Oe+Sr+Be|0]=1:S[Oe+Sr+Be|0]=0}function z(ge,Oe,Le){ge=ge|0,Oe=Oe|0,Le=Le|0;var Be=0;for(Be=_(E,E)|0;(Be|0)>0;)Be=Be-1|0,S[Le+Be|0]=(S[ge+Be|0]|0)-(S[Oe+Be|0]|0)|0}function U(ge,Oe,Le){ge=ge|0,Oe=Oe|0,Le=Le|0;var Be=0;for(Be=_(E,E)|0;(Be|0)>0;)Be=Be-1|0,S[Le+Be|0]=S[ge+Be|0]|0|(S[Oe+Be|0]|0)|0}function V(ge){ge=ge|0;var Oe=0,Le=0;for(Le=_(E,E)|0;(Le|0)>0;)Le=Le-1|0,Oe=(Oe|0)+(S[ge+Le|0]|0)|0;return Oe|0}function H(ge,Oe){ge=ge|0,Oe=Oe|0;var Le=0;for(Le=_(E,E)|0;(Le|0)>0;)Le=Le-1|0,S[ge+Le|0]=Oe}function te(ge,Oe){ge=ge|0,Oe=Oe|0;var Le=0,Be=0,ut=0,gt=0,Gt=0,Qt=0,Ft=0,Sr=0;for(Le=1;(Le|0)<(E-1|0);Le=Le+1|0)for(Sr=Sr+E|0,Be=1;(Be|0)<(E-1|0);Be=Be+1|0)gt=Sr-E|0,Gt=Sr+E|0,Qt=Be-1|0,Ft=Be+1|0,ut=(S[ge+gt+Qt|0]|0)+(S[ge+gt+Ft|0]|0)+(S[ge+Sr+Be|0]|0)+(S[ge+Gt+Qt|0]|0)+(S[ge+Gt+Ft|0]|0)|0,(ut|0)>0?S[Oe+Sr+Be|0]=1:S[Oe+Sr+Be|0]=0}function Ce(ge,Oe){ge=ge|0,Oe=Oe|0;var Le=0;for(Le=_(E,E)|0;(Le|0)>0;)Le=Le-1|0,S[Oe+Le|0]=S[ge+Le|0]|0}function ye(ge){ge=ge|0;var Oe=0,Le=0;for(Oe=0;(Oe|0)<(E-1|0);Oe=Oe+1|0)S[ge+Oe|0]=0,S[ge+Le|0]=0,Le=Le+E-1|0,S[ge+Le|0]=0,Le=Le+1|0;for(Oe=0;(Oe|0)<(E|0);Oe=Oe+1|0)S[ge+Le|0]=0,Le=Le+1|0}function De(){var ge=0,Oe=0,Le=0,Be=0,ut=0,gt=0;Oe=_(E,E)|0,Le=Oe+Oe|0,Be=Le+Oe|0,H(Be,0),ye(ge);do L(ge,Oe),te(Oe,Le),z(ge,Le,Le),U(Be,Le,Be),Ce(Oe,ge),ut=V(ge)|0,gt=(ut|0)==0|0;while(!gt)}return{skeletonize:De}},Pa={ctx:{binary:null},dom:{binary:null}},ea={x:0,y:0};function $g(b){var k,y,S,E,_,L,z,U=Ui.size.x,V=Ui.size.y,H=-Ui.size.x,te=-Ui.size.y;for(k=0,y=0;y<b.length;y++)k+=(E=b[y]).rad;for((k=(180*(k/=b.length)/Math.PI+90)%180-90)<0&&(k+=180),k=(180-k)*Math.PI/180,_=s.copy(s.create(),[Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k)]),y=0;y<b.length;y++)for(E=b[y],S=0;S<4;S++)a.transformMat2(E.box[S],E.box[S],_);for(y=0;y<b.length;y++)for(E=b[y],S=0;S<4;S++)E.box[S][0]<U&&(U=E.box[S][0]),E.box[S][0]>H&&(H=E.box[S][0]),E.box[S][1]<V&&(V=E.box[S][1]),E.box[S][1]>te&&(te=E.box[S][1]);for(L=[[U,V],[H,V],[H,te],[U,te]],z=ui.halfSample?2:1,_=s.invert(_,_),S=0;S<4;S++)a.transformMat2(L[S],L[S],_);for(S=0;S<4;S++)a.scale(L[S],L[S],z);return L}function gm(b){var k=function(_,L,z){var U,V,H,te,Ce=0,ye=0,De=[];for(U=0;U<L;U++)De[U]={score:0,item:null};for(U=0;U<_.length;U++)if((V=z.apply(this,[_[U]]))>ye)for((H=De[Ce]).score=V,H.item=_[U],ye=Number.MAX_VALUE,te=0;te<L;te++)De[te].score<ye&&(ye=De[te].score,Ce=te);return De}(function(_,L,z){var U,V,H,te,Ce=[];function ye(De){var ge=!1;for(V=0;V<Ce.length;V++)(H=Ce[V]).fits(De)&&(H.add(De),ge=!0);return ge}for(z||(z="rad"),U=0;U<_.length;U++)ye(te=Ai(_[U],U,z))||Ce.push(hu(te,L));return Ce}(b,.9),1,function(_){return _.getPoints().length}),y=[],S=[];if(k.length===1){y=k[0].item.getPoints();for(var E=0;E<y.length;E++)S.push(y[E].point)}return S}function zg(b,k){Ui.subImageAsCopy(di,Fo(b,k)),Iu.skeletonize()}function Vg(b,k,y,S){var E,_,L,z,U=[],V=[],H=Math.ceil(xn.x/3);if(b.length>=2){for(E=0;E<b.length;E++)b[E].m00>H&&U.push(b[E]);if(U.length>=2){for(L=gm(U),_=0,E=0;E<L.length;E++){var te,Ce;_+=(te=(Ce=L[E])===null||Ce===void 0?void 0:Ce.rad)!==null&&te!==void 0?te:0}L.length>1&&L.length>=U.length/4*3&&L.length>b.length/4&&(_/=L.length,z={index:k[1]*ea.x+k[0],pos:{x:y,y:S},box:[a.clone([y,S]),a.clone([y+di.size.x,S]),a.clone([y+di.size.x,S+di.size.y]),a.clone([y,S+di.size.y])],moments:L,rad:_,vec:a.clone([Math.cos(_),Math.sin(_)])},V.push(z))}}return V}var bf=function(b,k){ui=k,Ea=b,function(){Yn=ui.halfSample?new li({x:Ea.size.x/2|0,y:Ea.size.y/2|0}):Ea,xn=ja(ui.patchSize,Yn.size),ea.x=Yn.size.x/xn.x|0,ea.y=Yn.size.y/xn.y|0,Ui=new li(Yn.size,void 0,Uint8Array,!1),Zs=new li(xn,void 0,Array,!0);var y=new ArrayBuffer(65536);di=new li(xn,new Uint8Array(y,0,xn.x*xn.y)),fo=new li(xn,new Uint8Array(y,xn.x*xn.y*3,xn.x*xn.y),void 0,!0),Iu=xf({Math,Uint8Array},{size:xn.x},y),Na=new li({x:Yn.size.x/di.size.x|0,y:Yn.size.y/di.size.y|0},void 0,Array,!0),ho=new li(Na.size,void 0,void 0,!0),an=new li(Na.size,void 0,Int32Array,!0)}(),function(){if(!ui.useWorker&&typeof document<"u"){Pa.dom.binary=document.createElement("canvas"),Pa.dom.binary.className="binaryBuffer";var y=!!ui.willReadFrequently;Pa.ctx.binary=Pa.dom.binary.getContext("2d",{willReadFrequently:y}),Pa.dom.binary.width=Ui.size.x,Pa.dom.binary.height=Ui.size.y}}()},_a=function(){ui.halfSample&&function(S,E){for(var _=S.data,L=S.size.x,z=E.data,U=0,V=L,H=_.length,te=L/2,Ce=0;V<H;){for(var ye=0;ye<te;ye++)z[Ce]=Math.floor((_[U]+_[U+1]+_[V]+_[V+1])/4),Ce++,U+=2,V+=2;U+=L,V+=L}}(Ea,Yn),to(Yn,Ui),Ui.zeroBorder();var b=function(){var S,E,_,L,z,U,V=[];for(S=0;S<ea.x;S++)for(E=0;E<ea.y;E++)zg(_=di.size.x*S,L=di.size.y*E),fo.zeroBorder(),ji(Zs.data,0),U=As.create(fo,Zs).rasterize(0),z=Zs.moments(U.count),V=V.concat(Vg(z,[S,E],_,L));return V}();if(b.length<ea.x*ea.y*.05)return null;var k=function(S){var E,_,L=0,z=0;function U(){var H;for(H=0;H<an.data.length;H++)if(an.data[H]===0&&ho.data[H]===1)return H;return an.data.length}function V(H){var te,Ce,ye,De,ge,Oe=H%an.size.x,Le=H/an.size.x|0;if(H<an.data.length)for(ye=Na.data[H],an.data[H]=L,ge=0;ge<Xs.searchDirections.length;ge++)Ce=Le+Xs.searchDirections[ge][0],te=Oe+Xs.searchDirections[ge][1],De=Ce*an.size.x+te,ho.data[De]!==0?an.data[De]===0&&Math.abs(a.dot(Na.data[De].vec,ye.vec))>.95&&V(De):an.data[De]=Number.MAX_VALUE}for(ji(ho.data,0),ji(an.data,0),ji(Na.data,null),E=0;E<S.length;E++)_=S[E],Na.data[_.index]=_,ho.data[_.index]=1;for(ho.zeroBorder();(z=U())<an.data.length;)L++,V(z);return L}(b);if(k<1)return null;var y=function(S){var E,_,L=[];for(E=0;E<S;E++)L.push(0);for(_=an.data.length;_--;)an.data[_]>0&&L[an.data[_]-1]++;return(L=L.map(function(z,U){return{val:z,label:U+1}})).sort(function(z,U){return U.val-z.val}),L.filter(function(z){return z.val>=5})}(k);return y.length===0?null:function(S,E){var _,L,z,U,V=[],H=[];for(_=0;_<S.length;_++){for(L=an.data.length,V.length=0;L--;)an.data[L]===S[_].label&&(z=Na.data[L],V.push(z));(U=$g(V))&&H.push(U)}return H}(y)},vm=function(b,k){var y,S,E=b.getWidth(),_=b.getHeight(),L=k.halfSample?.5:1;b.getConfig().area&&(S=$o(E,_,b.getConfig().area),b.setTopRight({x:S.sx,y:S.sy}),b.setCanvasSize({x:E,y:_}),E=S.sw,_=S.sh);var z={x:Math.floor(E*L),y:Math.floor(_*L)};if(y=ja(k.patchSize,z),b.setWidth(Math.max(Math.floor(Math.floor(z.x/y.x)*(1/L)*y.x),y.x)),b.setHeight(Math.max(Math.floor(Math.floor(z.y/y.y)*(1/L)*y.y),y.y)),b.getWidth()%y.x==0&&b.getHeight()%y.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(E," )and height (").concat(_,") must a multiple of ").concat(y.x))},Qo=T()(function b(){A()(this,b),M()(this,"config",void 0),M()(this,"inputStream",void 0),M()(this,"framegrabber",void 0),M()(this,"inputImageWrapper",void 0),M()(this,"stopped",!1),M()(this,"boxSize",void 0),M()(this,"resultCollector",void 0),M()(this,"decoder",void 0),M()(this,"workerPool",[]),M()(this,"onUIThread",!0),M()(this,"canvasContainer",new hc)}),qi=T()(function b(){A()(this,b),M()(this,"image",void 0),M()(this,"overlay",void 0)}),hc=T()(function b(){A()(this,b),M()(this,"ctx",void 0),M()(this,"dom",void 0),this.ctx=new qi,this.dom=new qi});function Ss(b){if(typeof document>"u")return null;if(b instanceof HTMLElement&&b.nodeName&&b.nodeType===1)return b;var k=typeof b=="string"?b:"#interactive.viewport";return document.querySelector(k)}function Du(b,k,y){var S=function(_,L){var z=document.querySelector(_);return z||((z=document.createElement("canvas")).className=L),z}(b,k),E=S.getContext("2d",{willReadFrequently:y.willReadFrequently});return{canvas:S,context:E}}function Ug(b){var k,y,S,E,_,L,z,U,V=Ss(b==null||(k=b.config)===null||k===void 0||(y=k.inputStream)===null||y===void 0?void 0:y.target),H=b==null||(S=b.config)===null||S===void 0||(E=S.inputStream)===null||E===void 0?void 0:E.type;if(!H)return null;var te=function(ye,De){var ge=De.willReadFrequently;if(typeof document<"u"){var Oe=Du("canvas.imgBuffer","imgBuffer",{willReadFrequently:ge}),Le=Du("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:ge});return Oe.canvas.width=Le.canvas.width=ye.x,Oe.canvas.height=Le.canvas.height=ye.y,{dom:{image:Oe.canvas,overlay:Le.canvas},ctx:{image:Oe.context,overlay:Le.context}}}return null}(b.inputStream.getCanvasSize(),{willReadFrequently:!(b==null||(_=b.config)===null||_===void 0||(L=_.inputStream)===null||L===void 0||!L.willReadFrequently),debug:b==null||(z=b.config)===null||z===void 0||(U=z.locator)===null||U===void 0?void 0:U.debug});if(!te)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var Ce=te.dom;return typeof document<"u"&&V&&(H!=="ImageStream"||V.contains(Ce.image)||V.appendChild(Ce.image),V.contains(Ce.overlay)||V.appendChild(Ce.overlay)),te}function ym(b,k){var y=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);k&&(S=S.filter(function(E){return Object.getOwnPropertyDescriptor(b,E).enumerable})),y.push.apply(y,S)}return y}function Cs(b){for(var k=1;k<arguments.length;k++){var y=arguments[k]!=null?arguments[k]:{};k%2?ym(Object(y),!0).forEach(function(S){M()(b,S,y[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(y)):ym(Object(y)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(y,S))})}return b}var Qn=[];function Jo(b){return Cs(Cs({},b),{},{inputStream:Cs(Cs({},b.inputStream),{},{target:null})})}function Lu(b){if(b){var k=b().default;if(!k)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var y;function S(_){self.postMessage({event:"processed",imageData:y.data,result:_},[y.data.buffer])}function E(){self.postMessage({event:"initialized",imageData:y.data},[y.data.buffer])}self.onmessage=function(_){if(_.data.cmd==="init"){var L=_.data.config;L.numOfWorkers=0,y=new k.ImageWrapper({x:_.data.size.x,y:_.data.size.y},new Uint8Array(_.data.imageData)),k.init(L,E,y),k.onProcessed(S)}else _.data.cmd==="process"?(y.data=new Uint8Array(_.data.imageData),k.start()):_.data.cmd==="setReaders"?k.setReaders(_.data.readers):_.data.cmd==="registerReader"&&k.registerReader(_.data.name,_.data.reader)}}function wf(b,k,y){var S,E,_=(typeof __factorySource__<"u"&&(E=__factorySource__),S=new Blob(["("+Lu.toString()+")("+E+");"],{type:"text/javascript"}),window.URL.createObjectURL(S)),L={worker:new Worker(_),imageData:new Uint8Array(k.getWidth()*k.getHeight()),busy:!0};L.worker.onmessage=function(z){z.data.event==="initialized"?(URL.revokeObjectURL(_),L.busy=!1,L.imageData=new Uint8Array(z.data.imageData),y(L)):z.data.event==="processed"?(L.imageData=new Uint8Array(z.data.imageData),L.busy=!1,typeof publishResult<"u"&&publishResult(z.data.result,L.imageData)):z.data.event},L.worker.postMessage({cmd:"init",size:{x:k.getWidth(),y:k.getHeight()},imageData:L.imageData,config:Jo(b)},[L.imageData.buffer])}function mo(b,k,y,S){var E=b-Qn.length;if(E===0&&S)S();else if(E<0)Qn.slice(E).forEach(function(z){z.worker.terminate()}),Qn=Qn.slice(0,E),S&&S();else{var _=function(z){Qn.push(z),Qn.length>=b&&S&&S()};if(k)for(var L=0;L<E;L++)wf(k,y,_)}}function ta(b,k,y){for(var S=b.length;S--;)b[S][0]+=k,b[S][1]+=y}var jr=function(){return T()(function y(){var S=this;A()(this,y),M()(this,"context",new Qo),M()(this,"canRecord",function(E){var _;S.context.config&&(vm(S.context.inputStream,(_=S.context.config)===null||_===void 0?void 0:_.locator),S.initCanvas(),S.context.framegrabber=Pt.create(S.context.inputStream,S.context.canvasContainer.dom.image),S.context.config.numOfWorkers===void 0&&(S.context.config.numOfWorkers=0),mo(S.context.config.numOfWorkers,S.context.config,S.context.inputStream,function(){var L;((L=S.context.config)===null||L===void 0?void 0:L.numOfWorkers)===0&&S.initializeData(),S.ready(E)}))}),M()(this,"update",function(){if(S.context.onUIThread){var E,_=(z=S.context.framegrabber,Qn.length?!!(U=Qn.filter(function(V){return!V.busy})[0])&&(z.attachData(U.imageData),z.grab()&&(U.busy=!0,U.worker.postMessage({cmd:"process",imageData:U.imageData},[U.imageData.buffer])),!0):null);_||(S.context.framegrabber.attachData((E=S.context.inputImageWrapper)===null||E===void 0?void 0:E.data),S.context.framegrabber.grab()&&(_||S.locateAndDecode()))}else{var L;S.context.framegrabber.attachData((L=S.context.inputImageWrapper)===null||L===void 0?void 0:L.data),S.context.framegrabber.grab(),S.locateAndDecode()}var z,U})},[{key:"initBuffers",value:function(y){if(this.context.config){var S=function(L,z,U){var V=z||new li({x:L.getWidth(),y:L.getHeight(),type:"XYSize"}),H=[a.clone([0,0]),a.clone([0,V.size.y]),a.clone([V.size.x,V.size.y]),a.clone([V.size.x,0])];return bf(V,U),{inputImageWrapper:V,boxSize:H}}(this.context.inputStream,y,this.context.config.locator),E=S.inputImageWrapper,_=S.boxSize;this.context.inputImageWrapper=E,this.context.boxSize=_}}},{key:"initializeData",value:function(y){this.context.config&&(this.initBuffers(y),this.context.decoder=uc.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Ss(this.context.config.inputStream.target):null}},{key:"ready",value:function(y){this.context.inputStream.play(),y()}},{key:"initCanvas",value:function(){var y=Ug(this.context);if(y){var S=y.ctx,E=y.dom;this.context.canvasContainer.dom.image=E.image,this.context.canvasContainer.dom.overlay=E.overlay,this.context.canvasContainer.ctx.image=S.image,this.context.canvasContainer.ctx.overlay=S.overlay}}},{key:"initInputStream",value:function(y){if(this.context.config&&this.context.config.inputStream){var S=this.context.config.inputStream,E=S.type,_=S.constraints,L=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",H=arguments.length>1?arguments[1]:void 0,te=arguments.length>2?arguments[2]:void 0;switch(V){case"VideoStream":var Ce=document.createElement("video");return{video:Ce,inputStream:te.createVideoStream(Ce)};case"ImageStream":return{inputStream:te.createImageStream()};case"LiveStream":var ye=null;return H&&((ye=H.querySelector("video"))||(ye=document.createElement("video"),H.appendChild(ye))),{video:ye,inputStream:te.createLiveStream(ye)};default:return console.error("* setupInputStream invalid type ".concat(V)),{video:null,inputStream:null}}}(E,this.getViewPort(),gr),z=L.video,U=L.inputStream;E==="LiveStream"&&z&&Ae.request(z,_).then(function(){return U.trigger("canrecord")}).catch(function(V){return y(V)}),U&&(U.setAttribute("preload","auto"),U.setInputStream(this.context.config.inputStream),U.addEventListener("canrecord",this.canRecord.bind(void 0,y))),this.context.inputStream=U}}},{key:"getBoundingBoxes",value:function(){var y;return(y=this.context.config)!==null&&y!==void 0&&y.locate?_a():[[a.clone(this.context.boxSize[0]),a.clone(this.context.boxSize[1]),a.clone(this.context.boxSize[2]),a.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(y){var S=this,E=this.context.inputStream.getTopRight(),_=E.x,L=E.y;if((_!==0||L!==0)&&(y.barcodes&&y.barcodes.forEach(function(U){return S.transformResult(U)}),y.line&&y.line.length===2&&function(U,V,H){U[0].x+=V,U[0].y+=H,U[1].x+=V,U[1].y+=H}(y.line,_,L),y.box&&ta(y.box,_,L),y.boxes&&y.boxes.length>0))for(var z=0;z<y.boxes.length;z++)ta(y.boxes[z],_,L)}},{key:"addResult",value:function(y,S){var E=this;S&&this.context.resultCollector&&(y.barcodes?y.barcodes.filter(function(_){return _.codeResult}).forEach(function(_){return E.addResult(_,S)}):y.codeResult&&this.context.resultCollector.addResult(S,this.context.inputStream.getCanvasSize(),y.codeResult))}},{key:"hasCodeResult",value:function(y){return!(!y||!(y.barcodes?y.barcodes.some(function(S){return S.codeResult}):y.codeResult))}},{key:"publishResult",value:function(){var y,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1?arguments[1]:void 0,_=S;S&&this.context.onUIThread&&(this.transformResult(S),this.addResult(S,E),_=(S==null||(y=S.barcodes)===null||y===void 0?void 0:y.length)>0?S.barcodes:S),Qs.publish("processed",_),this.hasCodeResult(S)&&Qs.publish("detected",_)}},{key:"locateAndDecode",value:(k=Kn()($r.a.mark(function y(){var S,E,_,L,z,U;return $r.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(S=this.getBoundingBoxes())){V.next=3;break}return V.next=1,this.context.decoder.decodeFromBoundingBoxes(S);case 1:if(U=V.sent){V.next=2;break}U={};case 2:(_=U).boxes=S,this.publishResult(_,(E=this.context.inputImageWrapper)===null||E===void 0?void 0:E.data),V.next=5;break;case 3:return V.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:(L=V.sent)?this.publishResult(L,(z=this.context.inputImageWrapper)===null||z===void 0?void 0:z.data):this.publishResult();case 5:case"end":return V.stop()}},y,this)})),function(){return k.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var y,S=this,E=null,_=1e3/(((y=this.context.config)===null||y===void 0?void 0:y.frequency)||60);this.context.stopped=!1;var L=this.context,z=function(U){E=E||U,L.stopped||(U>=E&&(E+=_,S.update()),window.requestAnimationFrame(z))};z(performance.now())}},{key:"start",value:function(){var y,S;this.context.onUIThread&&((y=this.context.config)===null||y===void 0||(S=y.inputStream)===null||S===void 0?void 0:S.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(b=Kn()($r.a.mark(function y(){var S;return $r.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(this.context.stopped=!0,mo(0),(S=this.context.config)===null||S===void 0||!S.inputStream||this.context.config.inputStream.type!=="LiveStream"){E.next=2;break}return E.next=1,Ae.release();case 1:this.context.inputStream.clearEventHandlers();case 2:case"end":return E.stop()}},y,this)})),function(){return b.apply(this,arguments)})},{key:"setReaders",value:function(y){this.context.decoder&&this.context.decoder.setReaders(y),function(S){Qn.forEach(function(E){return E.worker.postMessage({cmd:"setReaders",readers:S})})}(y)}},{key:"registerReader",value:function(y,S){uc.registerReader(y,S),this.context.decoder&&this.context.decoder.registerReader(y,S),function(E,_){Qn.forEach(function(L){return L.worker.postMessage({cmd:"registerReader",name:E,reader:_})})}(y,S)}}]);var b,k}(),cr=new jr,ks=cr.context,bn={init:function(b,k,y){var S,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:cr;return k||(S=new Promise(function(_,L){k=function(z){z?L(z):_()}})),E.context.config=p()({},$e,b),E.context.config.numOfWorkers>0&&(E.context.config.numOfWorkers=0),y?(E.context.onUIThread=!1,E.initializeData(y),k&&k()):E.initInputStream(k),S},start:function(){return cr.start()},stop:function(){return cr.stop()},pause:function(){ks.stopped=!0},onDetected:function(b){b&&(typeof b=="function"||h()(b)==="object"&&b.callback)?Qs.subscribe("detected",b):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(b){Qs.unsubscribe("detected",b)},onProcessed:function(b){b&&(typeof b=="function"||h()(b)==="object"&&b.callback)?Qs.subscribe("processed",b):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(b){Qs.unsubscribe("processed",b)},setReaders:function(b){b?cr.setReaders(b):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(b,k){b?k?cr.registerReader(b,k):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(b){b&&typeof b.addResult=="function"&&(ks.resultCollector=b)},get canvas(){return ks.canvasContainer},decodeSingle:function(b,k){var y=this,S=new jr;return(b=p()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:b.src},numOfWorkers:1,locator:{halfSample:!1}},b)).numOfWorkers>0&&(b.numOfWorkers=0),b.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),b.numOfWorkers=0),new Promise(function(E,_){try{y.init(b,function(){Qs.once("processed",function(L){S.stop(),k&&k.call(null,L),E(L)},!0),S.start()},null,S)}catch(L){_(L)}})},get default(){return bn},Readers:u,CameraAccess:Ae,ImageDebug:Si,ImageWrapper:li,ResultCollector:xe};n.default=bn}]).default})}(eb)),eb.exports}var zae=$ae();const Hi=us(zae);function Bl({onScan:e,paused:t,onResume:r,textMain:n="text-blue-800",className:i="",modalContext:s=!1,...a}){const[l,u]=j.useState("environment"),[d,h]=j.useState(null),[m,p]=j.useState(""),[v,x]=j.useState(!s),[C,A]=j.useState(!1),[N,T]=j.useState(!1),[O,M]=j.useState([]),[D,I]=j.useState(!1),$=j.useRef(null),[W,K]=j.useState(0),[J,Z]=j.useState([]),[de,ce]=j.useState(!1),[ee,ue]=j.useState(""),[je,pe]=j.useState(!1),[ie,be]=j.useState(!1),me=j.useRef(null),[Y,re]=j.useState(!1),[Se,Te]=j.useState(""),[Ie,tt]=j.useState(0);j.useEffect(()=>{(!s||Y)&&(async()=>{try{try{const _e=await navigator.permissions.query({name:"camera"});if(h(_e.state==="granted"),_e.state==="denied"){p("Camera access denied. Please enable camera permissions in your browser settings."),x(!1);return}_e.addEventListener("change",()=>{h(_e.state==="granted"),_e.state==="denied"?p("Camera access denied. Please enable camera permissions in your browser settings."):p("")})}catch{console.log("Permissions API not supported, attempting camera access...")}try{const fe=(await navigator.mediaDevices.enumerateDevices()).filter(Ve=>Ve.kind==="videoinput");if(console.log("Available cameras:",fe.length),M(fe),I(fe.length>1),fe.length===0){p("No camera found. Please connect a camera."),x(!1);return}}catch{console.log("Could not enumerate devices, will try direct access...")}setTimeout(()=>{x(!1)},500)}catch(_e){console.error("Permission check error:",_e),x(!1)}})()},[s,Y]),j.useEffect(()=>{s&&!Y&&re(!0)},[s,Y]),j.useEffect(()=>{T(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))},[]),j.useEffect(()=>{$.current=new(window.AudioContext||window.webkitAudioContext)},[]);const qe=()=>{if($.current){const ae=$.current.createOscillator(),_e=$.current.createGain();ae.connect(_e),_e.connect($.current.destination),ae.frequency.setValueAtTime(800,$.current.currentTime),_e.gain.setValueAtTime(.3,$.current.currentTime),ae.start(),ae.stop($.current.currentTime+.1)}},Fe=()=>{N&&"vibrate"in navigator&&navigator.vibrate(100)};j.useEffect(()=>{const ae=_e=>{if(_e.target.tagName==="INPUT"||_e.target.tagName==="TEXTAREA"||t)return;const fe=Date.now();if(fe-Ie>100?Te(_e.key):Te(lt=>lt+_e.key),tt(fe),_e.key==="Enter"){_e.preventDefault();const lt=Se.trim();lt&&(console.log("USB Scanner detected:",lt),qe(),Fe(),Z(yt=>[lt,...yt.filter(nn=>nn!==lt)].slice(0,5)),e([{rawValue:lt}])),Te("")}};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[t,Ie,Se,e,qe,Fe]);const Re=async()=>{if(!ie)try{await Hi.init({inputStream:{name:"Live",type:"LiveStream",target:me.current,constraints:{facingMode:l==="environment"?"environment":"user",width:{min:640,ideal:1920},height:{min:480,ideal:1080}}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader","2of5_reader","code_93_reader"]},locate:!0}),Hi.onDetected(ae=>{if(ae&&ae.codeResult){const _e=ae.codeResult.code;console.log("Quagga detected:",_e),qe(),Fe(),Z(fe=>[_e,...fe.filter(lt=>lt!==_e)].slice(0,5)),e([{rawValue:_e}])}}),Hi.onProcessed(ae=>{const _e=Hi.canvas.ctx.overlay,fe=Hi.canvas.dom.overlay;ae&&(ae.boxes&&(_e.clearRect(0,0,parseInt(fe.getAttribute("width")),parseInt(fe.getAttribute("height"))),ae.boxes.filter(Ve=>Ve!==ae.box).forEach(Ve=>{Hi.ImageDebug.drawPath(Ve,{x:0,y:1},_e,{color:"green",lineWidth:2})})),ae.box&&Hi.ImageDebug.drawPath(ae.box,{x:0,y:1},_e,{color:"#00F",lineWidth:2}),ae.codeResult&&ae.codeResult.code&&Hi.ImageDebug.drawPath(ae.line,{x:"x",y:"y"},_e,{color:"red",lineWidth:3}))}),await Hi.start(),be(!0),console.log("Quagga scanner initialized")}catch(ae){console.error("Quagga initialization failed:",ae),p("Advanced scanner initialization failed. Using fallback scanner.")}};j.useEffect(()=>()=>{ie&&(Hi.offDetected(),Hi.offProcessed(),Hi.stop())},[ie]);const Ke=()=>{je&&ie&&(Hi.stop(),be(!1)),pe(!je),x(!0),setTimeout(()=>x(!1),1e3)},Pe=ae=>{console.error("Scanner error:",ae);let _e="Scanner error occurred",fe=!1;if(ae.name==="NotAllowedError")_e="Camera access denied. Please allow camera access and refresh the page.",h(!1);else if(ae.name==="NotFoundError")_e="No camera found. Please connect a camera and refresh the page.";else if(ae.name==="NotReadableError")_e="Camera is being used by another application.";else if(ae.name==="OverconstrainedError")if(W<2){K(lt=>lt+1),u(l==="user"?"environment":"user"),p(""),x(!0),setTimeout(()=>x(!1),1e3);return}else _e="Camera constraints not supported. Trying without constraints...",u(null),fe=!0;else ae.name==="SecurityError"?_e="Camera access blocked. Please use HTTPS or localhost.":W<2&&(K(Ve=>Ve+1),fe=!0);if(fe&&W<2){x(!0),setTimeout(()=>{x(!1),p("")},1e3);return}p(_e),setTimeout(()=>{p(""),x(!0),setTimeout(()=>x(!1),1e3)},3e3)};return o.jsx(Zt,{className:`flex-shrink-0 bg-white/80 backdrop-blur-md border border-white/60 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden ${i}`,variant:"glass",microinteraction:!0,...a,children:o.jsxs("div",{className:"flex flex-col h-full p-2 sm:p-3",children:[o.jsxs("div",{className:`w-full text-center mb-2 font-bold text-xs sm:text-sm tracking-wide ${n} flex items-center justify-center gap-1.5`,children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"SCAN QR & BARCODE"]}),o.jsxs("div",{className:"w-full h-40 sm:h-48 md:h-56 lg:h-64 bg-gradient-to-br from-blue-50/80 via-indigo-50/60 to-blue-100/80 rounded-xl flex items-center justify-center border-2 border-blue-200/50 shadow-inner overflow-hidden relative z-0 group",children:[v?o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:"Initializing camera..."})]})}):m?o.jsx("div",{className:"flex items-center justify-center h-full text-red-500 p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Camera Error"}),o.jsx("p",{className:"text-xs",children:m}),o.jsx(He,{label:"Retry",size:"sm",variant:"secondary",className:"mt-2",onClick:()=>{p(""),K(0),x(!0),u(ae=>ae==="user"?"environment":"user"),setTimeout(()=>x(!1),1e3)},microinteraction:!0})]})}):je?o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("div",{ref:me,className:"w-full h-full rounded-xl overflow-hidden"}),!ie&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:o.jsx(He,{label:"Start Advanced Scanner",size:"sm",variant:"primary",onClick:Re,microinteraction:!0})})]}):o.jsx(Fae,{onScan:ae=>{var _e;if(console.log("Scanner result:",ae),ae&&ae.length>0){const fe=(_e=ae[0])==null?void 0:_e.rawValue;console.log("Detected code:",fe),fe&&(qe(),Fe(),Z(Ve=>[fe,...Ve.filter(yt=>yt!==fe)].slice(0,5)),e(ae))}},onError:Pe,paused:t,constraints:l!==null?{facingMode:l,width:{ideal:1920,min:640},height:{ideal:1080,min:480},frameRate:{ideal:30,min:15}}:{width:{ideal:1920,min:640},height:{ideal:1080,min:480},frameRate:{ideal:30,min:15}},scanDelay:50,area:{top:"5%",right:"5%",bottom:"5%",left:"5%"},styles:{container:{width:"100%",height:"100%",borderRadius:"1rem",overflow:"visible"},video:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"1rem",backgroundColor:"black"}},classNames:{container:"w-full h-full"},formats:["qr_code","code_128","code_39","ean_13","ean_8","upc_a","upc_e","itf","codabar","data_matrix","pdf417"],inversionAttempts:"attemptBoth",multiple:"true"}),!m&&!v&&t&&o.jsxs("div",{className:"absolute bottom-2 right-2 z-10 flex gap-2",children:[o.jsx(He,{label:"Resume",size:"sm",variant:"secondary",onClick:r,microinteraction:!0}),N&&D&&o.jsx(He,{label:l==="user"?"":"",size:"sm",variant:"secondary",onClick:()=>{u(ae=>ae==="user"?"environment":"user"),x(!0),setTimeout(()=>x(!1),1e3)},microinteraction:!0,title:l==="user"?"Switch to back camera":"Switch to front camera"}),N&&o.jsx(He,{label:C?"":"",size:"sm",variant:"secondary",onClick:()=>A(!C),microinteraction:!0,title:C?"Turn off flashlight":"Turn on flashlight"}),o.jsx(He,{label:"",size:"sm",variant:"secondary",onClick:()=>ce(!de),microinteraction:!0,title:"Manual input"}),o.jsx(He,{label:je?"":"",size:"sm",variant:"secondary",onClick:Ke,microinteraction:!0,title:je?"Switch to standard scanner":"Switch to advanced scanner"})]}),de&&o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-20",children:o.jsxs("div",{className:"bg-white rounded-xl p-4 w-80 max-w-[90vw]",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-center",children:"Manual SKU Input"}),o.jsx("input",{type:"text",value:ee,onChange:ae=>ue(ae.target.value),placeholder:"Enter SKU or barcode",className:"w-full p-3 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:ae=>{ae.key==="Enter"&&ee.trim()&&(e([{rawValue:ee.trim()}]),ue(""),ce(!1),qe(),Fe())}}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(He,{label:"Cancel",size:"sm",variant:"secondary",onClick:()=>{ce(!1),ue("")},className:"flex-1"}),o.jsx(He,{label:"Submit",size:"sm",variant:"primary",onClick:()=>{ee.trim()&&(e([{rawValue:ee.trim()}]),ue(""),ce(!1),qe(),Fe())},className:"flex-1"})]})]})}),J.length>0&&!m&&!v&&t&&o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-2 max-w-32",children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Recent:"}),o.jsx("div",{className:"space-y-1",children:J.slice(0,3).map((ae,_e)=>o.jsx("button",{onClick:()=>{e([{rawValue:ae}]),qe(),Fe()},className:"block w-full text-left text-xs text-blue-600 hover:text-blue-800 truncate",title:`Scan ${ae}`,children:ae.length>10?`${ae.substring(0,10)}...`:ae},_e))})]})})]})]})})}function FD({sku:e,setSku:t,quantity:r,setQuantity:n,handleAddToCart:i,className:s="",...a}){return o.jsx(Zt,{className:`flex-shrink-0 bg-white/80 backdrop-blur-md border border-white/60 shadow-xl hover:shadow-2xl transition-all duration-300 ${s}`,variant:"glass",microinteraction:!0,...a,children:o.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3 p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),o.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Enter SKU Code"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"SKU Code"}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"text",name:"sku",value:e,onChange:l=>t(l.target.value),onKeyPress:l=>{l.key==="Enter"&&i()},placeholder:"Scan or enter SKU code",className:"w-full pl-4 pr-4 py-3 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400 font-medium"})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700 whitespace-nowrap",children:"Quantity:"}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("button",{onClick:()=>n(Math.max(1,r-1)),className:"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold transition-colors duration-200 flex items-center justify-center",children:""}),o.jsx("input",{type:"number",name:"quantity",value:r,min:1,onChange:l=>n(Math.max(1,Number(l.target.value)||1)),className:"w-20 px-3 py-2 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-center text-sm font-semibold focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),o.jsx("button",{onClick:()=>n(r+1),className:"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold transition-colors duration-200 flex items-center justify-center",children:"+"})]})]}),o.jsx(He,{label:"Add to Cart",onClick:i,className:"w-full",variant:"primary",size:"lg",microinteraction:!0,icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),iconPosition:"left"})]})]})})}function $D({cart:e,handleRemove:t,total:r,className:n="",...i}){const s=()=>o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 1 1 2.828 2.828L11.828 15.828a4 4 0 0 1-1.414.828l-4.243 1.414 1.414-4.243a4 4 0 0 1 .828-1.414z"})}),a=()=>o.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})});return o.jsx(Zt,{className:`flex-1 flex flex-col bg-white/80 backdrop-blur-md border border-white/60 shadow-xl hover:shadow-2xl transition-all duration-300 h-full min-h-0 overflow-hidden ${n}`,variant:"glass",microinteraction:!0,...i,children:o.jsxs("div",{className:"flex-1 min-h-0 flex flex-col p-2 sm:p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-7 h-7 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("h3",{className:"text-sm sm:text-base font-bold text-gray-900",children:"Shopping Cart"})]}),o.jsxs("span",{className:"text-xs font-semibold text-gray-600 bg-gray-100 px-2 py-0.5 rounded-full",children:[e.length," ",e.length===1?"item":"items"]})]}),o.jsx("div",{className:"flex-1 overflow-auto min-h-0 rounded-lg",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"sticky top-0 z-10 bg-gradient-to-r from-blue-50/90 to-indigo-50/90 backdrop-blur-sm border-b border-blue-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-1.5 px-2 text-left text-[10px] sm:text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Product"}),o.jsx("th",{className:"py-1.5 px-2 text-center text-[10px] sm:text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Qty"}),o.jsx("th",{className:"py-1.5 px-2 text-right text-[10px] sm:text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"py-1.5 px-2 text-right text-[10px] sm:text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"py-1.5 px-2 text-center text-[10px] sm:text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"text-center py-8",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-2",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:"Cart is empty"}),o.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Scan or enter products"})]})})}):e.map((l,u)=>o.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors duration-200 group",children:[o.jsx("td",{className:"py-1.5 px-2",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:l.name}),o.jsxs("span",{className:"text-[10px] text-gray-500 truncate",children:["SKU: ",l.sku||"N/A"]})]})}),o.jsx("td",{className:"py-1.5 px-2 text-center",children:o.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-md bg-blue-100 text-blue-700 font-bold text-xs",children:l.quantity})}),o.jsx("td",{className:"py-1.5 px-2 text-right",children:o.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:["",l.price.toFixed(2)]})}),o.jsx("td",{className:"py-1.5 px-2 text-right",children:o.jsxs("span",{className:"text-xs sm:text-sm font-bold text-blue-600",children:["",(l.price*l.quantity).toFixed(2)]})}),o.jsx("td",{className:"py-1.5 px-2",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>{},className:"p-1.5 rounded-md bg-blue-50 text-blue-600 hover:bg-blue-100 border border-blue-200 transition-all duration-200",title:"Edit",children:o.jsx(s,{})}),o.jsx("button",{onClick:()=>t(u),className:"p-1.5 rounded-md bg-red-50 text-red-600 hover:bg-red-100 border border-red-200 transition-all duration-200",title:"Remove",children:o.jsx(a,{})})]})})]},u))})]})}),o.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-700",children:"Total:"}),o.jsxs("span",{className:"text-lg sm:text-xl font-extrabold text-blue-600",children:["",r.toFixed(2)]})]})})]})})}function zD({isOpen:e,onClose:t,sku:r,setSku:n}){const[i,s]=j.useState(null),a=async()=>{if(r)try{const u=localStorage.getItem("business_id"),d=u?`?business_id=${encodeURIComponent(u)}`:"",h=await at(`/api/products/public/sku/${encodeURIComponent(r)}${d}`);s(h?{name:h.product_name,price:Number(h.selling_price||0),sku:h.sku}:null)}catch{s(null)}};St.useEffect(()=>{if(!r){s(null);return}const u=setTimeout(()=>{a()},200);return()=>clearTimeout(u)},[r]);const l=o.jsx(He,{label:"Close",variant:"secondary",onClick:t,className:"w-full"});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Price Check",subtitle:"Scan or enter SKU/barcode",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),footer:l,size:"md",contentClassName:"space-y-4",children:[o.jsx("div",{className:"w-full",children:o.jsx(Bl,{onScan:u=>{var h;const d=(h=u==null?void 0:u[0])==null?void 0:h.rawValue;d&&n(d)},paused:!1,onResume:()=>{},className:"w-full",textMain:"text-blue-700"})}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter SKU or Barcode"}),o.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter SKU or scan barcode"})]}),i?o.jsxs("div",{className:"w-full bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200/50",children:[o.jsx("div",{className:"text-lg font-semibold text-blue-900 mb-1",children:i.name}),o.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:["",i.price.toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["SKU: ",i.sku]})]}):r?o.jsx("div",{className:"text-red-500 text-sm text-center py-4",children:"No product found."}):null]})}function VD({isOpen:e,onClose:t,onApplyDiscount:r}){const[n,i]=j.useState("FIX"),[s,a]=j.useState(!1),[l,u]=j.useState("PERCENTAGE"),[d,h]=j.useState([{label:"PWD/Senior Citizen",value:"5%"}]),[m,p]=j.useState([]),[v,x]=j.useState(""),[C,A]=j.useState(""),[N,T]=j.useState(null),O=()=>{!v||!C||(l==="PERCENTAGE"?h([...d,{label:v,value:C+"%"}]):p([...m,{label:v,value:parseFloat(C).toFixed(2)}]),x(""),A(""))},M=Z=>{l==="PERCENTAGE"?h(d.filter((de,ce)=>ce!==Z)):p(m.filter((de,ce)=>ce!==Z))},D=()=>{a(!1)},I=()=>{const Z=n==="PERCENTAGE"?d:m;N!==null&&Z[N]&&(r(Z[N]),T(null),t())},$=o.jsx(He,{label:"Save Settings",variant:"primary",onClick:D,className:"w-full"}),W=o.jsxs("div",{className:"w-full space-y-2",children:[o.jsx(He,{label:"Confirm Selection",variant:"primary",onClick:I,disabled:N===null,className:"w-full"}),o.jsx(He,{label:"Manage Discounts",variant:"secondary",onClick:()=>a(!0),className:"w-full"})]}),K=()=>{const Z=n==="PERCENTAGE"?d:m;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:`flex-1 px-4 py-2 rounded-lg font-semibold text-sm transition-all ${n==="FIX"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>{i("FIX"),T(null)},children:"Fixed Amount"}),o.jsx("button",{className:`flex-1 px-4 py-2 rounded-lg font-semibold text-sm transition-all ${n==="PERCENTAGE"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>{i("PERCENTAGE"),T(null)},children:"Percentage"})]}),o.jsx("div",{className:"space-y-2",children:Z.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No discounts available yet."}),o.jsx("p",{className:"text-xs mt-1",children:"Set up discounts in settings."})]}):Z.map((de,ce)=>o.jsxs("button",{type:"button",className:`w-full border-2 rounded-lg px-4 py-3 text-sm transition-all flex items-center justify-between ${N===ce?"border-blue-600 bg-blue-50 ring-2 ring-blue-300":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>T(ce),children:[o.jsx("span",{className:"font-medium",children:de.label}),o.jsx("span",{className:`font-bold ${N===ce?"text-blue-600":"text-gray-700"}`,children:de.value})]},ce))})]})},J=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:`flex-1 px-4 py-2 rounded-lg font-semibold text-sm transition-all ${l==="PERCENTAGE"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>u("PERCENTAGE"),children:"Percentage"}),o.jsx("button",{className:`flex-1 px-4 py-2 rounded-lg font-semibold text-sm transition-all ${l==="FIXED"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>u("FIXED"),children:"Fixed Amount"})]}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(l==="PERCENTAGE"?d:m).map((Z,de)=>o.jsxs("div",{className:"flex gap-2 items-center bg-gray-50 p-3 rounded-lg",children:[o.jsx("input",{className:"flex-1 bg-transparent outline-none text-sm font-medium",value:Z.label,readOnly:!0}),o.jsx("input",{className:"w-20 bg-transparent text-center outline-none text-sm font-medium",value:Z.value,readOnly:!0}),o.jsx("button",{className:"text-red-500 hover:text-red-700 transition-colors p-1",onClick:()=>M(de),title:"Remove",type:"button",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},de))}),o.jsxs("div",{className:"space-y-2 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("div",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Add New Discount"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description",value:v,onChange:Z=>x(Z.target.value)}),o.jsx("input",{className:"w-24 border border-gray-300 rounded-lg px-3 py-2 text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:l==="PERCENTAGE"?"0%":"0.00",value:C,onChange:Z=>A(Z.target.value),type:"number",min:"0"}),o.jsx("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-bold",onClick:O,title:"Add",type:"button",children:"+"})]})]})]});return o.jsx(ds,{isOpen:e,onClose:t,title:s?"Manage Discounts":"Select Discount",subtitle:s?"Add or remove discount options":"Choose a discount to apply",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),footer:s?$:W,size:"md",contentClassName:"space-y-4",children:s?J():K()})}function UD({isOpen:e,onClose:t}){const[r,n]=j.useState("SUMMARY"),[i,s]=j.useState(null),[a,l]=j.useState([]),[u,d]=j.useState([]),[h,m]=j.useState(!1),[p,v]=j.useState(!1),[x,C]=j.useState(""),A=async()=>{m(!0);try{C("");const D=await at("/stats/cash-ledger");l(Array.isArray(D)?D:[])}catch(D){C(D.message||"Failed to load cash ledger")}finally{m(!1)}},N=async(D=null)=>{v(!0);try{C("");const I=D?`/stats/cash-transactions?payment_type=${encodeURIComponent(D)}&limit=100`:"/stats/cash-transactions?limit=100",$=await at(I);d(Array.isArray($)?$:[])}catch(I){C(I.message||"Failed to load transactions")}finally{v(!1)}};j.useEffect(()=>{e&&(A(),N())},[e]);const T=()=>{const D=a.reduce((I,$)=>I+(Number($.balance)||0),0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 text-white rounded-3xl shadow-xl px-8 py-8 text-center",children:[o.jsx("p",{className:"text-sm font-semibold text-blue-100 mb-2",children:"Total Cash on Hand"}),o.jsxs("div",{className:"text-5xl font-bold flex items-center justify-center gap-2",children:[o.jsx("span",{className:"text-4xl",children:""}),D.toFixed(2)]}),o.jsx("p",{className:"text-blue-100 text-sm mt-3",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:o.jsx(Fk,{className:"w-5 h-5 text-white"})}),o.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Methods"})]}),o.jsx("div",{className:"space-y-3",children:h?o.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):a.length===0?o.jsx("div",{className:"text-sm text-gray-500",children:"No balances available"}):a.map(I=>o.jsx("button",{onClick:async()=>{s(I.name),n("TRANSACTIONS"),await N(I.name)},className:"w-full bg-gradient-to-r from-gray-50 to-gray-100/50 hover:from-blue-50 hover:to-indigo-50/50 rounded-2xl p-4 border border-gray-200/50 hover:border-blue-300 transition-all duration-200 group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center border border-gray-200 group-hover:border-blue-300 group-hover:bg-blue-50 transition-all",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold text-gray-900",children:I.name}),o.jsx("p",{className:"text-xs text-gray-500",children:"View transactions"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-right",children:o.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",(Number(I.balance)||0).toFixed(2)]})}),o.jsx(eV,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 transition-colors"})]})]})},I.name))})]}),x&&o.jsx("div",{className:"text-sm text-red-600",children:x.includes("Server returned an HTML error page")||x.includes("Cannot GET")?"Unable to reach backend API. Check backend server and proxy configuration.":x})]})},O=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{type:"button",onClick:()=>{s(null),n("SUMMARY")},className:"text-sm text-blue-600 hover:text-blue-800 font-semibold flex items-center gap-2 hover:gap-3 transition-all",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Summary"]}),o.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl p-4 border border-indigo-100/50",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:i?`${i} Transactions`:"All Transactions"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p?"Loading...":`${u.length} transaction${u.length!==1?"s":""} found`})]}),o.jsx("div",{className:"bg-white rounded-2xl border border-gray-200/50 overflow-hidden",children:p?o.jsx("div",{className:"text-center py-12 text-sm text-gray-500",children:"Loading transactions..."}):u.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No transactions found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200/50",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Date & Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Amount"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(D=>o.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors duration-150",children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 font-medium",children:new Date(D.created_at).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-sm",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 border border-blue-200",children:D.payment_type})}),o.jsxs("td",{className:"px-6 py-4 text-sm text-right font-bold text-green-600",children:["",(Number(D.total)||0).toFixed(2)]})]},String(D.transaction_id)))})]})})})]}),M=o.jsxs("div",{className:"flex gap-2 border-t border-gray-200/50 pt-4 mt-4",children:[o.jsxs("button",{onClick:()=>{n("SUMMARY"),s(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-semibold transition-all ${r==="SUMMARY"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(Xz,{className:"w-5 h-5"}),o.jsx("span",{children:"Summary"})]}),o.jsxs("button",{onClick:()=>{n("TRANSACTIONS"),s(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-semibold transition-all ${r==="TRANSACTIONS"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(Zz,{className:"w-5 h-5"}),o.jsx("span",{children:"Transactions"})]})]});return o.jsx(ds,{isOpen:e,onClose:t,title:"Cash Ledger",subtitle:"View cash balance and payment methods",icon:o.jsx(Fk,{className:"w-6 h-6 text-white"}),size:"lg",contentClassName:"space-y-4",children:o.jsxs("div",{className:"space-y-6",children:[r==="SUMMARY"?T():O(),M]})})}function qD({isOpen:e,onClose:t,total:r,onSelectPayment:n}){const i=o.jsxs("div",{className:"w-full flex flex-col gap-3",children:[o.jsx(He,{label:"CASH",className:"w-full h-12 text-base font-bold",onClick:()=>n("cash")}),o.jsx(He,{label:"GCASH",className:"w-full h-12 text-base font-bold",onClick:()=>n("gcash")}),o.jsx(He,{label:"MAYA",className:"w-full h-12 text-base font-bold",onClick:()=>n("maya")})]});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Checkout",subtitle:"Select payment method",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),footer:i,size:"sm",contentClassName:"text-center",children:[o.jsxs("div",{className:"bg-blue-500 text-white rounded-2xl py-6 px-4 text-center mb-4",children:[o.jsx("div",{className:"text-sm opacity-90 mb-2",children:"Total Amount"}),o.jsxs("div",{className:"text-4xl font-bold",children:["",r.toFixed(2)]})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Choose your preferred payment method"})]})}function Vae({isOpen:e,onClose:t,change:r=0,payable:n=0,onReceipt:i,onNewEntry:s}){const a=o.jsx("div",{className:"w-full flex flex-col gap-3",children:o.jsx(He,{label:"RECEIPT",className:"w-full h-11 text-sm font-semibold bg-blue-700 hover:bg-blue-800 text-white",onClick:()=>{i?i():alert("Receipt")}})});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Payment Complete",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),footer:a,size:"sm",contentClassName:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx("div",{className:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-400 to-indigo-500 rounded-2xl p-5 text-white",children:[o.jsx("div",{className:"text-xs uppercase tracking-wide opacity-90 mb-2",children:"Change"}),o.jsxs("div",{className:"inline-flex items-baseline gap-2 bg-white text-blue-700 rounded-lg px-4 py-3 shadow-md",children:[o.jsx("span",{className:"text-lg font-bold",children:""}),o.jsx("span",{className:"text-2xl font-bold",children:Number(r).toFixed(2)})]}),o.jsx("div",{className:"mt-4 text-sm opacity-90",children:"Payable"}),o.jsxs("div",{className:"text-sm font-semibold",children:["",Number(n).toFixed(2)]})]})]})}function WD({isOpen:e,onClose:t,total:r,onConfirm:n}){const[i,s]=j.useState(""),[a,l]=j.useState(!1),[u,d]=j.useState(null);if(!e&&!a)return null;if(a)return o.jsx(Vae,{isOpen:a,onClose:()=>{l(!1),t&&t()},change:u==null?void 0:u.change,payable:u==null?void 0:u.payable,onNewEntry:()=>{l(!1),t&&t()},onReceipt:()=>{n&&(u==null?void 0:u.received)!=null&&n(Number(u.received))}});const h=x=>s(x.toString()),m=()=>s(r.toString()),p=()=>{if(!i||Number(i)<r){alert("Amount received must be greater than or equal to total.");return}const x=Number(i),C=x-r;d({change:C,payable:r,received:x}),l(!0)},v=o.jsxs(o.Fragment,{children:[o.jsx(He,{label:"Cancel",variant:"secondary",onClick:t,type:"button",className:"flex-1"}),o.jsx(He,{label:"Proceed",variant:"primary",type:"button",onClick:p,className:"flex-1"})]});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Cash Payment",subtitle:"Enter amount received",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),footer:v,size:"md",contentClassName:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl py-6 px-4 text-center",children:[o.jsx("div",{className:"text-sm opacity-90 mb-2",children:"Total Amount"}),o.jsxs("div",{className:"text-4xl font-bold",children:["",r.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount Received"}),o.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-center text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",value:i,onChange:x=>s(x.target.value)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Quick amounts:"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[100,200,300,400,500,600,700,800,900].map(x=>o.jsx("button",{className:"bg-blue-100 hover:bg-blue-200 text-blue-700 font-bold py-2 rounded-lg transition-colors text-sm",onClick:()=>h(x),children:x},x))})]}),o.jsx(He,{label:"Use Exact Amount",className:"w-full h-10 text-sm font-bold bg-slate-600 hover:bg-slate-700 text-white",onClick:m})]})}function GD({isOpen:e,onClose:t,onImport:r}){const[n,i]=j.useState(!1),[s,a]=j.useState(""),l=sessionStorage.getItem("auth_token"),u=JSON.parse(sessionStorage.getItem("user")||"{}"),d=async m=>{var v;const p=(v=m==null?void 0:m[0])==null?void 0:v.rawValue;if(p){i(!0),a("");try{let x;try{x=JSON.parse(p)}catch{throw new Error("Invalid QR payload")}if(!x||x.t!=="cart"||!Array.isArray(x.items))throw new Error("Unsupported QR");const{b:C,items:A}=x,N=(u==null?void 0:u.businessId)||(u==null?void 0:u.business_id);if(C&&N&&Number(C)!==Number(N))throw new Error("This QR code is not valid for this store.");const T=[];for(const O of A){if(!(O!=null&&O.p)||!(O!=null&&O.q))continue;const M=await at(`/api/products/${encodeURIComponent(O.p)}`,{headers:{Authorization:`Bearer ${l}`}});T.push({product_id:M.product_id,sku:M.sku,name:M.product_name,quantity:Number(O.q),price:Number(M.selling_price||0)})}if(T.length===0)throw new Error("No items to import");r(T),t()}catch(x){a(x.message||"Failed to import")}finally{i(!1)}}},h=o.jsx(He,{label:"Close",variant:"secondary",onClick:t,className:"w-full"});return o.jsxs(ds,{isOpen:e,onClose:t,title:"Scan Customer Cart",subtitle:"Ask customer to show their QR",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),footer:h,size:"lg",contentClassName:"space-y-3",children:[o.jsx("div",{className:"text-blue-800 text-sm font-medium",children:"Ask the customer to show their cart QR code"}),o.jsx("div",{className:"h-[50vh]",children:o.jsx(Bl,{onScan:d,paused:n,onResume:()=>i(!1),className:"w-full h-full"})}),s&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:s})]})}function Uae(){var Rt,Jt;const e=gn(),[t,r]=j.useState(""),[n,i]=j.useState(1),[s,a]=j.useState([]),[l,u]=j.useState(!1),[d,h]=j.useState(!1),[m,p]=j.useState(""),[v,x]=j.useState(!1),[C,A]=j.useState(!1),[N,T]=j.useState(!1),[O,M]=j.useState(!1),[D,I]=j.useState(null),[$,W]=j.useState(!1),[K,J]=j.useState(!1),[Z,de]=j.useState(""),[ce,ee]=j.useState(""),[ue,je]=j.useState(null),[pe,ie]=j.useState(!1),[be,me]=j.useState(!1),Y=j.useRef(null),[re,Se]=j.useState(!1),Te=sessionStorage.getItem("auth_token"),Ie=JSON.parse(sessionStorage.getItem("user")||"{}"),tt=St.useRef(!1);j.useEffect(()=>{const ze=Ye=>{if(!Ye.repeat)switch(Ye.key){case"F4":Ye.preventDefault(),A(!0);break;case"F5":Ye.preventDefault(),u(!0);break;case"F6":Ye.preventDefault(),h(!0);break;case"F7":Ye.preventDefault(),x(!0);break;case"F8":Ye.preventDefault(),s.length>0&&T(!0);break}};return window.addEventListener("keydown",ze),()=>window.removeEventListener("keydown",ze)},[s.length]),j.useEffect(()=>{if(!ce){const ze=(Ie==null?void 0:Ie.businessId)||(Ie==null?void 0:Ie.business_id)||"BIZ",Ye=new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14),st=Math.floor(1e3+Math.random()*9e3);ee(`T-${ze}-${Ye}-${st}`)}},[]),j.useEffect(()=>{const Ye=new URLSearchParams(window.location.search).get("payment"),st=localStorage.getItem("pending_gcash_cart");if(Ye==="success"&&st)try{const rt=JSON.parse(st);(async()=>{if(tt.current)return;const It="gcash_finalize_done";if(sessionStorage.getItem(It)!=="1"){tt.current=!0,sessionStorage.setItem(It,"1");try{de("");const sr={items:rt.items||[],payment_type:"gcash",money_received:rt.total||null},Ht=await at("/api/sales/checkout",{method:"POST",headers:{Authorization:`Bearer ${Te}`},body:JSON.stringify(sr)});Ht!=null&&Ht.transaction_number&&ee(Ht.transaction_number),Ht!=null&&Ht.transaction_id&&je(Ht.transaction_id),a([]);try{const er=new URL(window.location.origin+"/receipt");Ht!=null&&Ht.transaction_number&&er.searchParams.set("tn",Ht.transaction_number),Ht!=null&&Ht.transaction_id&&er.searchParams.set("tid",String(Ht.transaction_id)),(Ht==null?void 0:Ht.total)!=null&&er.searchParams.set("total",String(Ht.total)),window.location.href=er.toString()}catch{}}catch(sr){de(sr.message||"Failed to record GCASH payment")}finally{localStorage.removeItem("pending_gcash_cart");const sr=new URL(window.location.href);sr.searchParams.delete("payment"),window.history.replaceState({},"",sr.toString())}}})()}catch{localStorage.removeItem("pending_gcash_cart")}else if(Ye==="cancel"){localStorage.removeItem("pending_gcash_cart");const rt=new URL(window.location.href);rt.searchParams.delete("payment"),window.history.replaceState({},"",rt.toString())}},[]);const qe=async(ze,Ye=1)=>{if(!(!ze||Ye<1)){de("");try{const st=await at(`/api/products/sku/${encodeURIComponent(ze)}`,{headers:{Authorization:`Bearer ${Te}`}}),rt=Number(st.selling_price||0),It=Number(st.stock_quantity??0);if(It<=0){de(`Stock for ${st.product_name} (SKU ${st.sku}) is 0.`);return}if(Ye>It){de(`Insufficient stock. Available: ${It}, requested: ${Ye}.`);return}a(sr=>{const Ht=sr.findIndex(er=>er.product_id===st.product_id);if(Ht>=0){const er=[...sr],Nn=er[Ht].quantity+Ye;return Nn>It?(de(`Insufficient stock. Available: ${It}, requested: ${Nn}.`),sr):(er[Ht]={...er[Ht],quantity:Nn},er)}return[...sr,{product_id:st.product_id,sku:st.sku,name:st.product_name,quantity:Ye,price:rt}]}),r(""),i(1),J(!1)}catch(st){de(st.message||"Product not found")}}},Fe=async()=>{await qe(t,n)},Re=ze=>a(s.filter((Ye,st)=>st!==ze)),Pe=s.reduce((ze,Ye)=>ze+Ye.price*Ye.quantity,0),ae=async(ze="cash",Ye=Pe)=>{if(s.length!==0){de("");try{const st={items:s.map(er=>({product_id:er.product_id,quantity:er.quantity})),payment_type:ze,money_received:Ye},rt=await at("/api/sales/checkout",{method:"POST",headers:{Authorization:`Bearer ${Te}`},body:JSON.stringify(st)});rt!=null&&rt.transaction_number&&ee(rt.transaction_number),rt!=null&&rt.transaction_id&&je(rt.transaction_id),a([]);try{const er=new URL(window.location.origin+"/receipt");rt!=null&&rt.transaction_number&&er.searchParams.set("tn",rt.transaction_number),rt!=null&&rt.transaction_id&&er.searchParams.set("tid",String(rt.transaction_id)),(rt==null?void 0:rt.total)!=null&&er.searchParams.set("total",String(rt.total)),e(er.pathname+er.search)}catch{}const It=(Ie==null?void 0:Ie.businessId)||(Ie==null?void 0:Ie.business_id)||"BIZ",sr=new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14),Ht=Math.floor(1e3+Math.random()*9e3);ee(`T-${It}-${sr}-${Ht}`)}catch(st){de(st.message||"Checkout failed")}}},[_e,fe]=j.useState([]),[Ve,lt]=j.useState(0),yt=()=>{try{return JSON.parse(sessionStorage.getItem("read_notif_ids")||"[]")}catch{return[]}},et=async()=>{try{const ze=await at("/api/logs",{headers:{Authorization:`Bearer ${Te}`}}),Ye=new Set(yt()),st=new Set(JSON.parse(sessionStorage.getItem("deleted_notif_ids")||"[]")),rt=(ze||[]).filter(It=>!st.has(It.log_id)).map(It=>({id:It.log_id,title:It.action,message:`${It.username} (${It.role}) did an action: ${It.action}`,time:new Date(It.date_time).toLocaleString(),isRead:Ye.has(It.log_id)}));fe(rt),lt(rt.filter(It=>!It.isRead).length)}catch(ze){console.error("Failed to fetch notifications",ze)}},nn=ze=>{const Ye=yt();Ye.includes(ze)||sessionStorage.setItem("read_notif_ids",JSON.stringify([...Ye,ze])),fe(st=>st.map(rt=>rt.id===ze?{...rt,isRead:!0}:rt)),lt(st=>Math.max(0,st-1))},_t=ze=>{const st=yt().filter(rt=>rt!==ze);sessionStorage.setItem("read_notif_ids",JSON.stringify(st)),fe(rt=>rt.map(It=>It.id===ze?{...It,isRead:!1}:It)),lt(rt=>rt+1)},Ct=ze=>{const Ye=JSON.parse(sessionStorage.getItem("deleted_notif_ids")||"[]");sessionStorage.setItem("deleted_notif_ids",JSON.stringify([...Ye,ze])),fe(rt=>rt.filter(It=>It.id!==ze));const st=_e.find(rt=>rt.id===ze);st&&!st.isRead&&lt(rt=>Math.max(0,rt-1))};j.useEffect(()=>{et()},[]),j.useEffect(()=>{const ze=Ye=>{Y.current&&!Y.current.contains(Ye.target)&&ie(!1)};return document.addEventListener("mousedown",ze),()=>document.removeEventListener("mousedown",ze)},[]);const dt=async()=>{try{if(!ce)return;await navigator.clipboard.writeText(ce)}catch{}},it=o.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-4 w-full",children:[o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("button",{onClick:dt,title:"Copy transaction number",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg px-2 py-1.5 sm:px-2.5 shadow-sm hover:bg-blue-100 transition-colors",children:[o.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2M8 16h8a2 2 0 002-2v-6m-10 8l-2 2m2-2l2 2"})}),o.jsx("span",{className:"font-mono text-xs sm:text-sm font-bold tracking-wider truncate max-w-[30vw] sm:max-w-[50vw]",children:ce})]})}),o.jsx("div",{className:"relative",ref:Y,children:o.jsx(qI,{notifications:_e,unreadCount:Ve,onMarkAsRead:nn,onMarkAsUnread:_t,onDelete:Ct,isOpen:pe,onToggle:()=>ie(!pe),containerRef:Y})}),o.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 bg-white/80 backdrop-blur-sm p-1.5 sm:px-3 sm:py-2 rounded-lg border border-gray-200/80 hover:bg-white transition-all duration-200 hover:shadow-md hover:scale-[1.02]",children:[o.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full flex items-center justify-center text-sm font-medium shadow-md",children:((Jt=(Rt=Ie.username)==null?void 0:Rt[0])==null?void 0:Jt.toUpperCase())||"A"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:inline",children:Ie.username||"Admin"})]})]});return o.jsxs(za,{title:"POS",sidebar:o.jsx(_o,{}),headerActions:it,isSidebarOpen:re,setSidebarOpen:Se,children:[o.jsx("div",{className:"flex-1 flex flex-col min-h-screen",children:o.jsx("main",{className:"flex-1 bg-gradient-to-br from-gray-50/50 via-blue-50/30 to-indigo-50/50 overflow-hidden p-2 sm:p-3 md:p-4 pb-10 lg:pb-4",children:o.jsxs("div",{className:"grid gap-2 sm:gap-3 md:gap-4 h-full grid-cols-1 lg:grid-cols-12",children:[o.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-2 sm:gap-3 md:gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Bl,{onScan:async ze=>{var st;const Ye=(st=ze==null?void 0:ze[0])==null?void 0:st.rawValue;Ye&&(J(!0),d?p(Ye):await qe(Ye,1))},paused:K,onResume:()=>J(!1),textMain:"text-blue-700"})}),o.jsxs("div",{className:"flex-shrink-0",children:[o.jsx(FD,{sku:t,setSku:r,quantity:n,setQuantity:i,handleAddToCart:Fe}),Z&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-3",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:(()=>{try{const ze=JSON.parse(Z);return ze.error||ze.message||Z}catch{return Z}})()})]})]})]}),o.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-2 sm:gap-3 min-h-0",children:[o.jsx("div",{className:"flex-1 min-h-0 max-h-[calc(100vh-280px)]",children:o.jsx($D,{cart:s,handleRemove:Re,total:Pe,className:"flex-1 h-full"})}),o.jsxs("div",{className:"grid grid-cols-12 gap-2 sm:gap-3 flex-shrink-0",children:[o.jsx("div",{className:"col-span-8",children:o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3",children:[o.jsx(He,{label:"CASH LEDGER (F4)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",variant:"secondary",microinteraction:!0,onClick:()=>A(!0),icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),o.jsx(He,{label:"DISCOUNT (F5)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>u(!0),variant:"secondary",microinteraction:!0,icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),o.jsx(He,{label:"PRICE CHECK (F6)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>h(!0),variant:"secondary",microinteraction:!0,icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),o.jsx(He,{label:"IMPORT CART (F7)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>x(!0),variant:"secondary",microinteraction:!0,icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),iconPosition:"left"})]})}),o.jsx("div",{className:"col-span-4",children:o.jsx(He,{label:"CHECKOUT (F8)",size:"md",className:"w-full h-full text-sm sm:text-base font-bold",variant:"primary",microinteraction:!0,onClick:()=>T(!0),disabled:s.length===0,icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"})})]})]})]})})}),o.jsx(VD,{isOpen:l,onClose:()=>u(!1),onApplyDiscount:ze=>{u(!1)}}),o.jsx(zD,{isOpen:d,onClose:()=>h(!1),sku:m,setSku:p}),o.jsx(UD,{isOpen:C,onClose:()=>A(!1)}),o.jsx(qD,{isOpen:N,onClose:()=>T(!1),total:Pe,onSelectPayment:ze=>{I(ze),T(!1),ze==="cash"?M(!0):ze==="gcash"?(async()=>{try{const Ye=window.location.origin+"/pos?payment=success",st=window.location.origin+"/pos?payment=cancel";localStorage.setItem("pending_gcash_cart",JSON.stringify({items:s.map(It=>({product_id:It.product_id,quantity:It.quantity})),total:Pe}));const{checkoutUrl:rt}=await dw({amount:Number(Pe||0),description:"POS Order",referenceNumber:ce||`POS-${Date.now()}`,cancelUrl:st,successUrl:Ye});window.location.href=rt}catch(Ye){de(Ye.message||"Failed to init GCash"),localStorage.removeItem("pending_gcash_cart")}})():ae(ze)}}),o.jsx(WD,{isOpen:O,onClose:()=>M(!1),total:Pe,onConfirm:ze=>{ae("cash",ze),M(!1)}}),o.jsx(Dg,{isOpen:be,onClose:()=>me(!1),userData:Ie}),o.jsx(GD,{isOpen:v,onClose:()=>x(!1),onImport:ze=>{a(Ye=>{const st=new Map(Ye.map(rt=>[rt.sku,rt]));for(const rt of ze){const It=st.get(rt.sku);It?It.quantity+=rt.quantity:st.set(rt.sku,{...rt})}return Array.from(st.values())})}})]})}function qae(){const e=gn(),[t,r]=j.useState(""),[n,i]=j.useState(""),[s,a]=j.useState(1),[l,u]=j.useState([]),[d,h]=j.useState(null),[m,p]=j.useState(!1),[v,x]=j.useState(!1),[C,A]=j.useState(!1),[N,T]=j.useState(!1),[O,M]=j.useState(!1),[D,I]=j.useState(null),[$,W]=j.useState(!1),[K,J]=j.useState(!1),[Z,de]=j.useState(!1),[ce,ee]=j.useState(""),[ue,je]=j.useState(!1),[pe,ie]=j.useState(""),[be,me]=j.useState(null),[Y,re]=j.useState(!1),[Se,Te]=j.useState(!1);j.useRef(null);const[Ie,tt]=j.useState(!1);j.useRef(null),j.useRef(!1);const qe=sessionStorage.getItem("auth_token"),Fe=JSON.parse(sessionStorage.getItem("user")||"{}"),Re=St.useRef(!1);j.useEffect(()=>{const _t=Ct=>{if(!Ct.repeat)switch(Ct.key){case"F4":Ct.preventDefault(),T(!0);break;case"F5":Ct.preventDefault(),p(!0);break;case"F6":Ct.preventDefault(),x(!0);break;case"F7":Ct.preventDefault(),A(!0);break;case"F8":Ct.preventDefault(),l.length>0&&M(!0);break}};return window.addEventListener("keydown",_t),()=>window.removeEventListener("keydown",_t)},[l.length]),j.useEffect(()=>{if(!pe){const _t=(Fe==null?void 0:Fe.businessId)||(Fe==null?void 0:Fe.business_id)||"BIZ",Ct=new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14),dt=Math.floor(1e3+Math.random()*9e3);ie(`T-${_t.toString().padStart(2,"0")}-${Ct}-${dt}`)}},[]),j.useEffect(()=>{const Ct=new URLSearchParams(window.location.search).get("payment"),dt=localStorage.getItem("pending_gcash_cart");if(Ct==="success"&&dt)try{const it=JSON.parse(dt);(async()=>{if(Re.current)return;const Rt="gcash_finalize_done";if(sessionStorage.getItem(Rt)!=="1"){Re.current=!0,sessionStorage.setItem(Rt,"1");try{ee("");const Jt={items:it.items||[],payment_type:"gcash",money_received:it.total||null,transaction_id:it.transactionId||null,transaction_number:it.transactionNumber||null},ze=await at("/api/sales/checkout",{method:"POST",headers:{Authorization:`Bearer ${qe}`},body:JSON.stringify(Jt)});ze!=null&&ze.transaction_number&&ie(ze.transaction_number),ze!=null&&ze.transaction_id&&me(ze.transaction_id),u([]);try{const Ye=new URL(window.location.origin+"/receipt");ze!=null&&ze.transaction_number&&Ye.searchParams.set("tn",ze.transaction_number),ze!=null&&ze.transaction_id&&Ye.searchParams.set("tid",String(ze.transaction_id)),(ze==null?void 0:ze.total)!=null&&Ye.searchParams.set("total",String(ze.total)),e(Ye.pathname+Ye.search)}catch{}}catch(Jt){ee(Jt.message||"Failed to record GCASH payment")}finally{localStorage.removeItem("pending_gcash_cart");const Jt=new URL(window.location.href);Jt.searchParams.delete("payment"),window.history.replaceState({},"",Jt.toString())}}})()}catch{localStorage.removeItem("pending_gcash_cart")}else if(Ct==="cancel"){localStorage.removeItem("pending_gcash_cart");const it=new URL(window.location.href);it.searchParams.delete("payment"),window.history.replaceState({},"",it.toString())}},[]);const Ke=async(_t,Ct=1)=>{if(!(!_t||Ct<1)){ee("");try{const dt=(Fe==null?void 0:Fe.businessId)||(Fe==null?void 0:Fe.business_id)||null,it=dt?`/api/products/sku/${encodeURIComponent(_t)}?business_id=${dt}`:`/api/products/sku/${encodeURIComponent(_t)}`,Rt=await at(it,{headers:{Authorization:`Bearer ${qe}`}}),Jt=Number(Rt.selling_price||0),ze=Number(Rt.stock_quantity??0);if(ze<=0){ee(`Stock for ${Rt.product_name} (SKU ${Rt.sku}) is 0.`);return}if(Ct>ze){ee(`Insufficient stock. Available: ${ze}, requested: ${Ct}.`);return}u(Ye=>{const st=Ye.findIndex(rt=>rt.product_id===Rt.product_id);if(st>=0){const rt=[...Ye],It=rt[st].quantity+Ct;return It>ze?(ee(`Insufficient stock. Available: ${ze}, requested: ${It}.`),Ye):(rt[st]={...rt[st],quantity:It},rt)}return[...Ye,{product_id:Rt.product_id,sku:Rt.sku,name:Rt.product_name,quantity:Ct,price:Jt}]}),r(""),a(1),de(!1)}catch(dt){ee(dt.message||"Product not found")}}},Pe=async()=>{await Ke(t,s)},ae=_t=>u(l.filter((Ct,dt)=>dt!==_t)),fe=l.reduce((_t,Ct)=>_t+Ct.price*Ct.quantity,0),Ve=async(_t="cash",Ct=fe)=>{if(l.length!==0){ee("");try{const dt={transaction_id:be||null,transaction_number:pe||null,items:l.map(Ye=>({product_id:Ye.product_id,quantity:Ye.quantity})),payment_type:_t,money_received:Ct,...d&&typeof d.value=="string"&&d.value.endsWith("%")?{discount_percentage:parseFloat(d.value)}:d?{discount_amount:Number(d.value)}:{}},it=await at("/api/sales/checkout",{method:"POST",headers:{Authorization:`Bearer ${qe}`},body:JSON.stringify(dt)});it!=null&&it.transaction_number&&ie(it.transaction_number),it!=null&&it.transaction_id&&me(it.transaction_id),u([]);try{const Ye=new URL(window.location.origin+"/receipt");it!=null&&it.transaction_number&&Ye.searchParams.set("tn",it.transaction_number),it!=null&&it.transaction_id&&Ye.searchParams.set("tid",String(it.transaction_id)),(it==null?void 0:it.total)!=null&&Ye.searchParams.set("total",String(it.total)),e(Ye.pathname+Ye.search)}catch{}const Rt=(Fe==null?void 0:Fe.businessId)||(Fe==null?void 0:Fe.business_id)||"BIZ",Jt=new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14),ze=Math.floor(1e3+Math.random()*9e3);ie(`T-${Rt.toString().padStart(2,"0")}-${Jt}-${ze}`),h(null),me(null)}catch(dt){ee(dt.message||"Checkout failed")}}},lt=()=>{navigator.clipboard.writeText(pe)},yt=()=>{je(!0)},et=()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user"),je(!1),e("/")},nn=o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>re(!Y),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Notifications",children:o.jsx(Dp,{className:"w-5 h-5 text-gray-600"})}),o.jsx("button",{onClick:()=>Te(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Profile",children:o.jsx(kse,{className:"w-5 h-5 text-gray-600"})}),o.jsx("button",{onClick:yt,className:"p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Logout",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h6a2 2 0 012 2v1"})})})]});return o.jsx("div",{className:"bg-white min-h-screen",children:o.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[o.jsxs("header",{className:"flex items-center gap-2 px-4 sm:px-6 py-3 bg-white/90 backdrop-blur-md shadow-md border-b border-gray-200/50 h-[64px] min-h-[64px] max-h-[64px] sticky top-0 z-30",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight",children:"POS"})}),o.jsx("div",{className:"flex-1 flex items-center justify-center px-2",children:o.jsxs("button",{onClick:lt,title:"Copy transaction number",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg px-2.5 py-1.5 shadow-sm hover:bg-blue-100 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2M8 16h8a2 2 0 002-2v-6m-10 8l-2 2m2-2l2 2"})}),o.jsx("span",{className:"font-mono text-xs sm:text-sm md:text-base font-bold tracking-wider truncate max-w-[50vw]",children:pe})]})}),o.jsx("div",{className:"ml-auto",children:nn})]}),o.jsx("main",{className:"flex-1 bg-gradient-to-br from-gray-50/50 via-blue-50/30 to-indigo-50/50 overflow-y-auto p-2 sm:p-3 md:p-4 pb-55 lg:pb-4",children:o.jsxs("div",{className:"grid gap-2 sm:gap-3 md:gap-4 h-full grid-cols-1 lg:grid-cols-12",children:[o.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-2 sm:gap-3 md:gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Bl,{onScan:async _t=>{var dt;const Ct=(dt=_t==null?void 0:_t[0])==null?void 0:dt.rawValue;if(Ct)if(de(!0),v)i(Ct);else try{let it;try{it=JSON.parse(Ct)}catch{it=null}if(it&&it.t==="cart"&&Array.isArray(it.items)){it.transaction_id&&me(it.transaction_id),it.transaction_number&&ie(it.transaction_number);const Rt=it.items.map(Jt=>({product_id:Jt.p,quantity:Jt.q,sku:Jt.sku||""}));try{const Jt=await Promise.all(Rt.map(async ze=>{const Ye=await at(`/api/products/${ze.product_id}`,{headers:{Authorization:`Bearer ${qe}`}});return{product_id:ze.product_id,sku:Ye.sku||ze.sku||"",name:Ye.product_name||"",price:Number(Ye.selling_price)||0,quantity:ze.quantity}}));u(ze=>{const Ye=new Map(ze.map(st=>[st.product_id,st]));for(const st of Jt){const rt=Ye.get(st.product_id);rt?rt.quantity+=st.quantity:Ye.set(st.product_id,{...st})}return Array.from(Ye.values())});return}catch(Jt){console.error("Error fetching product details for scanned cart:",Jt),u(ze=>{const Ye=new Map(ze.map(st=>[st.product_id,st]));for(const st of Rt){const rt=Ye.get(st.product_id);rt?rt.quantity+=st.quantity:Ye.set(st.product_id,{...st,name:"",price:0})}return Array.from(Ye.values())});return}}await Ke(Ct,1)}catch(it){console.error("Error processing scanned code:",it),await Ke(Ct,1)}},paused:Z,onResume:()=>de(!1),textMain:"text-blue-700"})}),o.jsxs("div",{className:"flex-shrink-0",children:[o.jsx(FD,{sku:t,setSku:r,quantity:s,setQuantity:a,handleAddToCart:Pe}),ce&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-3",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:(()=>{try{const _t=JSON.parse(ce);return _t.error||_t.message||ce}catch{return ce}})()})]})]})]}),o.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-2 sm:gap-3 min-h-0",children:[o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsx($D,{cart:l,handleRemove:ae,total:fe,className:"flex-1 h-full"})}),o.jsxs("div",{className:"grid grid-cols-12 gap-2 sm:gap-3 flex-shrink-0",children:[o.jsx("div",{className:"col-span-8",children:o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-2 sm:gap-3",children:[o.jsx(He,{label:"CASH LEDGER (F4)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",variant:"secondary",microinteraction:!0,onClick:()=>T(!0),icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),o.jsx(He,{label:"DISCOUNT (F5)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>p(!0),variant:"secondary",microinteraction:!0,icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),o.jsx(He,{label:"PRICE CHECK (F6)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>x(!0),variant:"secondary",microinteraction:!0,icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"}),o.jsx(He,{label:"IMPORT CART (F7)",size:"md",className:"w-full h-10 sm:h-12 text-xs sm:text-sm font-bold",onClick:()=>A(!0),variant:"secondary",microinteraction:!0,icon:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),iconPosition:"left"})]})}),o.jsx("div",{className:"col-span-4",children:o.jsx(He,{label:"CHECKOUT (F8)",size:"md",className:"w-full h-full text-sm sm:text-base font-bold",variant:"primary",microinteraction:!0,onClick:()=>M(!0),disabled:l.length===0,icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iconPosition:"left"})})]})]})]})}),ue&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>je(!1)}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-[92%] max-w-md p-6 z-10",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Confirm Logout"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you sure you want to log out?"}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>je(!1),className:"px-3 py-2 rounded-lg bg-gray-100 text-sm font-medium hover:bg-gray-200 transition",children:"Cancel"}),o.jsx("button",{onClick:et,className:"px-3 py-2 rounded-lg bg-red-600 text-white text-sm font-medium hover:bg-red-700 transition",children:"Logout"})]})]})]}),o.jsx(VD,{isOpen:m,onClose:()=>p(!1),onApplyDiscount:_t=>{p(!1)}}),o.jsx(zD,{isOpen:v,onClose:()=>x(!1),sku:n,setSku:i}),o.jsx(UD,{isOpen:N,onClose:()=>T(!1)}),o.jsx(qD,{isOpen:O,onClose:()=>M(!1),total:fe,onSelectPayment:_t=>{I(_t),M(!1),_t==="cash"?W(!0):_t==="gcash"?(async()=>{try{const Ct=window.location.origin+"/pos?payment=success",dt=window.location.origin+"/pos?payment=cancel";localStorage.setItem("pending_gcash_cart",JSON.stringify({items:l.map(Rt=>({product_id:Rt.product_id,quantity:Rt.quantity})),total:fe,transactionId:be,transactionNumber:pe}));const{checkoutUrl:it}=await dw({amount:Number(fe||0),description:"POS Order",referenceNumber:pe||`POS-${Date.now()}`,cancelUrl:dt,successUrl:Ct});window.location.href=it}catch(Ct){ee(Ct.message||"Failed to init GCash"),localStorage.removeItem("pending_gcash_cart")}})():Ve(_t)}}),o.jsx(WD,{isOpen:$,onClose:()=>W(!1),total:fe,onConfirm:_t=>{Ve("cash",_t),W(!1)}}),o.jsx(GD,{isOpen:C,onClose:()=>A(!1),onImport:async _t=>{try{console.log("Scanned items:",_t);const Ct=await Promise.all(_t.map(async dt=>{const it=await at(`/api/products/${dt.product_id}`,{headers:{Authorization:`Bearer ${qe}`}});return console.log("Fetched product for id",dt.product_id,":",it),{product_id:dt.product_id,sku:it.sku||dt.sku||"",name:it.product_name||"",price:Number(it.selling_price)||0,quantity:dt.quantity}}));u(dt=>{const it=new Map(dt.map(Rt=>[Rt.sku,Rt]));for(const Rt of Ct){const Jt=it.get(Rt.sku);Jt?Jt.quantity+=Rt.quantity:it.set(Rt.sku,{...Rt})}return Array.from(it.values())})}catch(Ct){console.error("Error fetching products for scanned items:",Ct),u(dt=>{const it=new Map(dt.map(Rt=>[Rt.sku,Rt]));for(const Rt of _t){const Jt=it.get(Rt.sku);Jt?Jt.quantity+=Rt.quantity:it.set(Rt.sku,{...Rt})}return Array.from(it.values())})}}}),o.jsx(Dg,{isOpen:Se,onClose:()=>Te(!1),userData:Fe})]})})}const Wae=e=>{if(!e||e.length===0)return"";const t=["Name","SKU","Category","Description","Cost Price","Selling Price","Stock"],r=[];return r.push(t.join(",")),e.forEach(n=>{const i=[`"${n.name||""}"`,`"${n.sku||""}"`,`"${n.category||""}"`,`"${n.description||""}"`,n.cost_price||0,n.selling_price||0,n.quantity||0];r.push(i.join(","))}),r.join(`
`)},Gae=(e,t)=>{const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(n.download!==void 0){const i=URL.createObjectURL(r);n.setAttribute("href",i),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}};function Kae({products:e,allProducts:t,page:r,entriesPerPage:n,totalPages:i,onPageChange:s,onEntriesChange:a,search:l,onSearchChange:u,onEdit:d,onDelete:h,onStockEntry:m,categories:p=[],selectedCategory:v,onCategoryFilter:x,stockFilter:C,onStockFilter:A,sortBy:N,sortOrder:T,onSort:O}){const M=()=>o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 1 1 2.828 2.828L11.828 15.828a4 4 0 0 1-1.414.828l-4.243 1.414 1.414-4.243a4 4 0 0 1 .828-1.414z"})}),D=()=>o.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),o.jsx("path",{d:"M10 11v6M14 11v6"})]}),I=()=>o.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M9 12l2 2l4-4"})]}),$=J=>J===0?{label:"Out of Stock",color:"bg-red-100 text-red-700 border-red-200"}:J<10?{label:"Low Stock",color:"bg-orange-100 text-orange-700 border-orange-200"}:{label:"In Stock",color:"bg-green-100 text-green-700 border-green-200"},W=({direction:J})=>o.jsx("svg",{className:`w-4 h-4 ${J?"text-blue-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:J==="asc"?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}):J==="desc"?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}):o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),K=J=>{N===J?O(J,T==="asc"?"desc":"asc"):O(J,"asc")};return o.jsxs(o.Fragment,{children:[o.jsx(Zt,{className:"mb-4 sm:mb-6 p-3 sm:p-4 md:p-6 w-full overflow-hidden",children:o.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 w-full",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 sm:gap-4 w-full",children:[o.jsx("div",{className:"flex-1 w-full min-w-0",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",value:l,onChange:u,className:"w-full pl-9 sm:pl-12 pr-3 sm:pr-4 py-2 sm:py-3 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-xs sm:text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400",placeholder:"Search products, categories..."})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-600 hidden md:block",children:"Sort:"}),o.jsxs("select",{value:`${N}-${T}`,onChange:J=>{const[Z,de]=J.target.value.split("-");O(Z,de)},className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 cursor-pointer",children:[o.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),o.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),o.jsx("option",{value:"quantity-asc",children:"Stock (Low to High)"}),o.jsx("option",{value:"quantity-desc",children:"Stock (High to Low)"}),o.jsx("option",{value:"selling_price-asc",children:"Price (Low to High)"}),o.jsx("option",{value:"selling_price-desc",children:"Price (High to Low)"}),o.jsx("option",{value:"category-asc",children:"Category (A-Z)"})]})]}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-600 hidden md:block",children:"Show:"}),o.jsx("select",{value:n,onChange:a,className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl px-2 sm:px-3 py-1.5 sm:py-2 text-xs font-medium text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 cursor-pointer",children:[5,10,25,50,100].map(J=>o.jsx("option",{value:J,children:J},J))})]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2 sm:pt-3 border-t border-gray-100 w-full",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-600 shrink-0",children:"Filters:"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("select",{value:v||"",onChange:J=>x(J.target.value||null),className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-full px-3 sm:px-4 py-1 sm:py-1.5 text-xs font-medium text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 cursor-pointer",children:[o.jsx("option",{value:"",children:"All Categories"}),p.map(J=>o.jsx("option",{value:J.name,children:J.name},J.id||J.name))]})}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("select",{value:C||"",onChange:J=>A(J.target.value||null),className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-full px-3 sm:px-4 py-1 sm:py-1.5 text-xs font-medium text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 cursor-pointer",children:[o.jsx("option",{value:"",children:"All Stock Status"}),o.jsx("option",{value:"in_stock",children:"In Stock"}),o.jsx("option",{value:"low_stock",children:"Low Stock"}),o.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})}),(v||C)&&o.jsxs("button",{onClick:()=>{x(null),A(null)},className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all duration-200 flex items-center gap-1 shrink-0",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear"]})]})]})}),o.jsxs(Zt,{className:"overflow-hidden w-full",children:[o.jsxs("div",{className:"overflow-x-auto w-full relative hidden sm:block",children:[" ",o.jsxs("table",{className:"w-full min-w-[800px]",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 border-b-2 border-blue-100",children:[o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"#"}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-blue-100/50 transition-colors group",onClick:()=>K("name"),children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:["Product",o.jsx(W,{direction:N==="name"?T:null})]})}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider hidden sm:table-cell cursor-pointer hover:bg-blue-100/50 transition-colors group",onClick:()=>K("category"),children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:["Category",o.jsx(W,{direction:N==="category"?T:null})]})}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider hidden md:table-cell",children:"Description"}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider hidden lg:table-cell",children:"Cost Price"}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-blue-100/50 transition-colors group",onClick:()=>K("selling_price"),children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:["Selling Price",o.jsx(W,{direction:N==="selling_price"?T:null})]})}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-blue-100/50 transition-colors group",onClick:()=>K("quantity"),children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:["Stock",o.jsx(W,{direction:N==="quantity"?T:null})]})}),o.jsx("th",{className:"py-3 px-2 sm:py-4 sm:px-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"text-center py-16",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("p",{className:"text-gray-500 text-lg font-semibold",children:"No products found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:l?"Try adjusting your search terms":"Start by adding your first product"})]})})}):e.map((J,Z)=>{const de=$(J.quantity);return o.jsxs("tr",{className:"hover:bg-blue-50/50 transition-all duration-200 group",children:[o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4 text-xs sm:text-sm text-gray-600 font-medium",children:(r-1)*n+Z+1}),o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4",children:o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsxs("span",{className:"text-xs sm:text-sm font-semibold text-gray-900 group-hover:text-blue-600 transition-colors truncate",children:[J.name||"N/A"," "]}),o.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500 mt-0.5 truncate",children:["SKU: ",J.sku||"N/A"]})]})}),o.jsxs("td",{className:"py-3 px-2 sm:py-4 sm:px-4 hidden sm:table-cell",children:[o.jsx("span",{className:"inline-flex items-center px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium bg-indigo-50 text-indigo-700 border border-indigo-200",children:J.category})," "]}),o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4 max-w-xs truncate hidden md:table-cell text-xs sm:text-sm text-gray-600",title:J.description,children:J.description||"-"}),o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4 hidden lg:table-cell",children:o.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:["",Number(J.cost_price||0).toFixed(2)," "]})}),o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4",children:o.jsxs("span",{className:"text-xs sm:text-sm font-bold text-blue-600",children:["",Number(J.selling_price||0).toFixed(2)," "]})}),o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:J.quantity}),o.jsx("span",{className:`inline-flex items-center px-1.5 sm:px-2 py-0.5 rounded-full text-[10px] sm:text-xs font-medium border ${de.color}`,children:de.label})]})}),o.jsx("td",{className:"py-3 px-2 sm:py-4 sm:px-4",children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx("button",{onClick:()=>m&&m(J),className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 border border-green-200 transition-all duration-200 hover:scale-110",title:"Add Stock",children:o.jsx(I,{})}),o.jsx("button",{onClick:()=>d(J),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 border border-blue-200 transition-all duration-200 hover:scale-110",title:"Edit Product",children:o.jsx(M,{})}),o.jsx("button",{onClick:()=>h(J.id),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 border border-red-200 transition-all duration-200 hover:scale-110",title:"Delete Product",children:o.jsx(D,{})})]})})]},J.id)})})]})]}),o.jsx("div",{className:"sm:hidden divide-y divide-gray-100",children:e.length===0?o.jsx("div",{className:"text-center py-16 px-4",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),o.jsx("p",{className:"text-gray-500 text-lg font-semibold",children:"No products found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:l?"Try adjusting your search terms":"Start by adding your first product"})]})}):e.map((J,Z)=>{const de=$(J.quantity);return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:J.name||"N/A"}),o.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["SKU: ",J.sku||"N/A"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-indigo-50 text-indigo-700 border border-indigo-200",children:J.category||"N/A"})}),J.description&&o.jsxs("p",{className:"text-xs text-gray-500 mt-2 italic truncate",title:J.description,children:['"',J.description,'"']})]}),o.jsxs("div",{className:"flex-shrink-0 text-right",children:[o.jsxs("p",{className:"text-sm font-bold text-blue-600",children:["",Number(J.selling_price||0).toFixed(2)]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Cost: ",Number(J.cost_price||0).toFixed(2)]}),o.jsxs("p",{className:`text-xs font-semibold mt-1 ${de.color.replace("bg-","text-").split(" ")[0]}`,children:[J.quantity," in stock"]})]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 border-t border-gray-100 pt-3",children:[o.jsx("button",{onClick:()=>m&&m(J),className:"p-2 rounded-lg bg-green-50 text-green-600 hover:bg-green-100 border border-green-200 transition-all duration-200",title:"Add Stock",children:o.jsx(I,{})}),o.jsx("button",{onClick:()=>d(J),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 border border-blue-200 transition-all duration-200",title:"Edit Product",children:o.jsx(M,{})}),o.jsx("button",{onClick:()=>h(J.id),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 border border-red-200 transition-all duration-200",title:"Delete Product",children:o.jsx(D,{})})]})]},J.id)})}),o.jsx("div",{className:"bg-gray-50/50 border-t border-gray-200 px-3 sm:px-4 md:px-6 py-3 sm:py-4 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4 w-full",children:[o.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:["Showing"," ",o.jsx("span",{className:"font-semibold text-gray-900",children:e.length===0?0:(r-1)*n+1})," ","to"," ",o.jsx("span",{className:"font-semibold text-gray-900",children:Math.min(r*n,e.length)})," ","of"," ",o.jsx("span",{className:"font-semibold text-gray-900",children:e.length})," ","entries"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-1 sm:gap-2 w-full sm:w-auto",children:[o.jsx(He,{label:"Previous",size:"sm",variant:"secondary",onClick:()=>s(r-1),disabled:r===1,className:"min-w-[80px] sm:min-w-[100px] text-xs sm:text-sm"}),o.jsx("div",{className:"flex items-center gap-1 flex-wrap justify-center",children:Array.from({length:Math.min(i,5)},(J,Z)=>{let de;return i<=5||r<=3?de=Z+1:r>=i-2?de=i-4+Z:de=r-2+Z,o.jsx(He,{variant:r===de?"paginationActive":"paginationInactive",onClick:()=>s(de),disabled:r===de,className:"min-w-[36px] sm:min-w-[40px] text-xs sm:text-sm",children:de},de)})}),o.jsx(He,{label:"Next",size:"sm",variant:"secondary",onClick:()=>s(r+1),disabled:r===i,className:"min-w-[80px] sm:min-w-[100px] text-xs sm:text-sm"})]})]})})]})]})}function Hae({products:e,allProducts:t=e,stats:r,page:n,entriesPerPage:i,totalPages:s,onPageChange:a,onEntriesChange:l,search:u,onSearchChange:d,onEdit:h,onDelete:m,onAddProduct:p,onStockEntry:v,onExport:x,categories:C=[],selectedCategory:A,onCategoryFilter:N,stockFilter:T,onStockFilter:O,sortBy:M,sortOrder:D,onSort:I,className:$=""}){const W=t.reduce((Z,de)=>Z+Number(de.selling_price||0)*Number(de.quantity||0),0),K=t.filter(Z=>Number(Z.quantity||0)<10).length,J=()=>{const Z=Wae(t),ce=`inventory_export_${new Date().toISOString().split("T")[0]}.csv`;Gae(Z,ce)};return o.jsxs("div",{className:`w-full max-w-full overflow-x-hidden py-4 sm:py-6 px-4 md:px-6 ${$}`,children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-end gap-3 sm:gap-4 mb-4 sm:mb-6 w-full",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 w-full sm:w-auto",children:[o.jsxs(He,{onClick:J,size:"lg",variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto shrink-0",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"hidden sm:inline",children:"Export"}),o.jsx("span",{className:"sm:hidden",children:"Export"})]}),o.jsxs(He,{onClick:p,size:"lg",variant:"primary",microinteraction:!0,className:"flex items-center gap-2 shadow-lg hover:shadow-xl w-full sm:w-auto shrink-0",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),o.jsx("span",{className:"hidden sm:inline",children:"Add Product"}),o.jsx("span",{className:"sm:hidden",children:"Add"})]})]})}),o.jsx(Zt,{className:"mb-4 sm:mb-6 p-3 sm:p-4 md:p-6 bg-gradient-to-r from-blue-50/80 to-indigo-50/80 border-blue-100 w-full overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 w-full",children:[" ",o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-xl flex items-center justify-center shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide truncate",children:"Total Products"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:[t.length||0," "]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 rounded-xl flex items-center justify-center shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide truncate",children:"Low Stock Items"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:[K||0," "]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 sm:col-span-2 lg:col-span-1",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-xl flex items-center justify-center shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide truncate",children:"Total Inventory Value"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:[" ",W.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]})}),o.jsx(Kae,{products:e,page:n,entriesPerPage:i,totalPages:s,onPageChange:a,onEntriesChange:l,search:u,onSearchChange:d,onEdit:h,onDelete:m,onStockEntry:v,categories:C,selectedCategory:A,onCategoryFilter:N,stockFilter:T,onStockFilter:O,sortBy:M,sortOrder:D,onSort:I})]})}const Yae="modulepreload",Qae=function(e){return"/"+e},l_={},mm=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=a(r.map(d=>{if(d=Qae(d),d in l_)return;l_[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Yae,h||(p.as="script"),p.crossOrigin="",p.href=d,u&&p.setAttribute("nonce",u),document.head.appendChild(p),h)return new Promise((v,x)=>{p.addEventListener("load",v),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Jae=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mm(async()=>{const{default:n}=await Promise.resolve().then(()=>nf);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class eA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class c_ extends eA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class u_ extends eA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class d_ extends eA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var U1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(U1||(U1={}));var Xae=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};class Zae{constructor(t,{headers:r={},customFetch:n,region:i=U1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Jae(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xae(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:a,body:l,signal:u}=n;let d={},{region:h}=n;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:p,signal:u}).catch(N=>{throw N.name==="AbortError"?N:new c_(N)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new u_(v);if(!v.ok)throw new d_(v);let C=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return C==="application/json"?A=yield v.json():C==="application/octet-stream"?A=yield v.blob():C==="text/event-stream"?A=v:C==="multipart/form-data"?A=yield v.formData():A=yield v.text(),{data:A,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new c_(s)}:{data:null,error:s,response:s instanceof d_||s instanceof u_?s.context:void 0}}})}}var Rn={},Zu={},ed={},td={},rd={},nd={},eoe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zd=eoe();const toe=zd.fetch,KD=zd.fetch.bind(zd),HD=zd.Headers,roe=zd.Request,noe=zd.Response,nf=Object.freeze(Object.defineProperty({__proto__:null,Headers:HD,Request:roe,Response:noe,default:KD,fetch:toe},Symbol.toStringTag,{value:"Module"})),ioe=J6(nf);var bp={},f_;function YD(){if(f_)return bp;f_=1,Object.defineProperty(bp,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bp.default=e,bp}var h_;function QD(){if(h_)return nd;h_=1;var e=nd&&nd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(nd,"__esModule",{value:!0});const t=e(ioe),r=e(YD());class n{constructor(s){var a,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,m,p,v;let x=null,C=null,A=null,N=d.status,T=d.statusText;if(d.ok){if(this.method!=="HEAD"){const I=await d.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?C=I:C=JSON.parse(I))}const M=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),D=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");M&&D&&D.length>1&&(A=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(x={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,A=null,N=406,T="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const M=await d.text();try{x=JSON.parse(M),Array.isArray(x)&&d.status===404&&(C=[],x=null,N=200,T="OK")}catch{d.status===404&&M===""?(N=204,T="No Content"):x={message:M}}if(x&&this.isMaybeSingle&&(!((v=x==null?void 0:x.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,N=200,T="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:C,count:A,status:N,statusText:T}});return this.shouldThrowOnError||(u=u.catch(d=>{var h,m,p;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=d==null?void 0:d.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return nd.default=n,nd}var m_;function JD(){if(m_)return rd;m_=1;var e=rd&&rd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rd,"__esModule",{value:!0});const t=e(QD());class r extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return rd.default=r,rd}var p_;function tA(){if(p_)return td;p_=1;var e=td&&td.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(td,"__esModule",{value:!0});const t=e(JD());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return td.default=r,td}var g_;function XD(){if(g_)return ed;g_=1;var e=ed&&ed.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ed,"__esModule",{value:!0});const t=e(tA());class r{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,s){const{head:a=!1,count:l}=s??{},u=a?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(m.length>0){const p=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return ed.default=r,ed}var v_;function soe(){if(v_)return Zu;v_=1;var e=Zu&&Zu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Zu,"__esModule",{value:!0});const t=e(XD()),r=e(tA());class n{constructor(s,{headers:a={},schema:l,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:u=!1,count:d}={}){var h;let m;const p=new URL(`${this.url}/rpc/${s}`);let v;l||u?(m=l?"HEAD":"GET",Object.entries(a).filter(([C,A])=>A!==void 0).map(([C,A])=>[C,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([C,A])=>{p.searchParams.append(C,A)})):(m="POST",v=a);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new r.default({method:m,url:p,headers:x,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Zu.default=n,Zu}var y_;function aoe(){if(y_)return Rn;y_=1;var e=Rn&&Rn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.PostgrestError=Rn.PostgrestBuilder=Rn.PostgrestTransformBuilder=Rn.PostgrestFilterBuilder=Rn.PostgrestQueryBuilder=Rn.PostgrestClient=void 0;const t=e(soe());Rn.PostgrestClient=t.default;const r=e(XD());Rn.PostgrestQueryBuilder=r.default;const n=e(tA());Rn.PostgrestFilterBuilder=n.default;const i=e(JD());Rn.PostgrestTransformBuilder=i.default;const s=e(QD());Rn.PostgrestBuilder=s.default;const a=e(YD());return Rn.PostgrestError=a.default,Rn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Rn}var ooe=aoe();const loe=us(ooe),{PostgrestClient:coe,PostgrestQueryBuilder:xue,PostgrestFilterBuilder:bue,PostgrestTransformBuilder:wue,PostgrestBuilder:jue,PostgrestError:Aue}=loe;class uoe{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const doe="2.75.0",foe=`realtime-js/${doe}`,hoe="1.0.0",q1=1e4,moe=1e3,poe=100;var vh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vh||(vh={}));var Sn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sn||(Sn={}));var ua;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ua||(ua={}));var W1;(function(e){e.websocket="websocket"})(W1||(W1={}));var Tc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Tc||(Tc={}));class goe{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const u=n.decode(t.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class ZD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Er;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Er||(Er={}));const x_=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=voe(a,e,t,i),s),{}):{}},voe=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?e6(s,a):G1(a)},e6=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return woe(t,r)}switch(e){case Er.bool:return yoe(t);case Er.float4:case Er.float8:case Er.int2:case Er.int4:case Er.int8:case Er.numeric:case Er.oid:return xoe(t);case Er.json:case Er.jsonb:return boe(t);case Er.timestamp:return joe(t);case Er.abstime:case Er.date:case Er.daterange:case Er.int4range:case Er.int8range:case Er.money:case Er.reltime:case Er.text:case Er.time:case Er.timestamptz:case Er.timetz:case Er.tsrange:case Er.tstzrange:return G1(t);default:return G1(t)}},G1=e=>e,yoe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xoe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},boe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},woe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>e6(t,l))}return e},joe=e=>typeof e=="string"?e.replace(" ","T"):e,t6=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class tb{constructor(t,r,n={},i=q1){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var b_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(b_||(b_={}));class yh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yh.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=yh.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=yh.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(s,(d,h)=>{a[d]||(u[d]=h)}),this.map(a,(d,h)=>{const m=s[d];if(m){const p=h.map(A=>A.presence_ref),v=m.map(A=>A.presence_ref),x=h.filter(A=>v.indexOf(A.presence_ref)<0),C=m.filter(A=>p.indexOf(A.presence_ref)<0);x.length>0&&(l[d]=x),C.length>0&&(u[d]=C)}else l[d]=h}),this.syncDiff(s,{joins:l,leaves:u},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),h.length>0){const m=t[l].map(v=>v.presence_ref),p=h.filter(v=>m.indexOf(v.presence_ref)<0);t[l].unshift(...p)}n(l,h,u)}),this.map(a,(l,u)=>{let d=t[l];if(!d)return;const h=u.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=d,i(l,d,u),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(w_||(w_={}));var xh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xh||(xh={}));var xo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xo||(xo={}));class rA{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tb(this,ua.join,this.params,this.timeout),this.rejoinTimer=new ZD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ua.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new yh(this),this.broadcastEndpointURL=t6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Sn.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[xh.PRESENCE]&&this.bindings[xh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(xo.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(xo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){t==null||t(xo.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,A=(x=C==null?void 0:C.length)!==null&&x!==void 0?x:0,N=[];for(let T=0;T<A;T++){const O=C[T],{filter:{event:M,schema:D,table:I,filter:$}}=O,W=v&&v[T];if(W&&W.event===M&&W.schema===D&&W.table===I&&W.filter===$)N.push(Object.assign(Object.assign({},O),{id:W.id}));else{this.unsubscribe(),this.state=Sn.errored,t==null||t(xo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(xo.SUBSCRIBED);return}}).receive("error",v=>{this.state=Sn.errored,t==null||t(xo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Sn.joined&&t===xh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ua.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new tb(this,ua.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Sn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tb(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>poe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:h}=ua;if(n&&[l,u,d,h].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,C,A;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((A=(C=v.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===a}).map(v=>v.callback(p,n)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var x,C,A,N,T,O;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const M=v.id,D=(x=v.filter)===null||x===void 0?void 0:x.event;return M&&((C=r.ids)===null||C===void 0?void 0:C.includes(M))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const M=(T=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:C,table:A,commit_timestamp:N,type:T,errors:O}=x;p=Object.assign(Object.assign({},{schema:C,table:A,commit_timestamp:N,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(x))}v.callback(p,n)})}_isClosed(){return this.state===Sn.closed}_isJoined(){return this.state===Sn.joined}_isJoining(){return this.state===Sn.joining}_isLeaving(){return this.state===Sn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&rA.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ua.close,{},t)}_onError(t){this._on(ua.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=x_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=x_(t.columns,t.old_record)),r}}const rb=()=>{},wp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Aoe=[1e3,2e3,5e3,1e4],Soe=1e4,Coe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class koe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=q1,this.transport=null,this.heartbeatIntervalMs=wp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rb,this.ref=0,this.reconnectTimer=null,this.logger=rb,this.conn=null,this.sendBuffer=[],this.serializer=new goe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>mm(async()=>{const{default:l}=await Promise.resolve().then(()=>nf);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${W1.websocket}`,this.httpEndpoint=t6(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uoe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hoe}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vh.connecting:return Tc.Connecting;case vh.open:return Tc.Open;case vh.closing:return Tc.Closing;default:return Tc.Closed}}isConnected(){return this.connectionState()===Tc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new rA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(moe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,l=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${n} ${i} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ua.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Coe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:foe};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ua.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ZD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,l,u,d,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:q1,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wp.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:rb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>Aoe[m-1]||Soe,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,p)=>p(JSON.stringify(m)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class nA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function un(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Noe extends nA{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class K1 extends nA{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Eoe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};const r6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mm(async()=>{const{default:n}=await Promise.resolve().then(()=>nf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Poe=()=>Eoe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mm(()=>Promise.resolve().then(()=>nf),void 0)).Response:Response}),H1=e=>{if(Array.isArray(e))return e.map(r=>H1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=H1(n)}),t},_oe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var cu=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};const nb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Toe=(e,t,r)=>cu(void 0,void 0,void 0,function*(){const n=yield Poe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Noe(nb(i),s,a))}).catch(i=>{t(new K1(nb(i),i))}):t(new K1(nb(e),e))}),Ooe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(_oe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function pm(e,t,r,n,i,s){return cu(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Ooe(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>Toe(u,l,n))})})}function D0(e,t,r,n){return cu(this,void 0,void 0,function*(){return pm(e,"GET",t,r,n)})}function Ra(e,t,r,n,i){return cu(this,void 0,void 0,function*(){return pm(e,"POST",t,n,i,r)})}function Y1(e,t,r,n,i){return cu(this,void 0,void 0,function*(){return pm(e,"PUT",t,n,i,r)})}function Moe(e,t,r,n){return cu(this,void 0,void 0,function*(){return pm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function n6(e,t,r,n,i){return cu(this,void 0,void 0,function*(){return pm(e,"DELETE",t,n,i,r)})}var Roe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};class Ioe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Roe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}var Doe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};class Loe{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new Ioe(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return Doe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}}var Pi=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};const Boe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Foe{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=r6(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Pi(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},j_),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=yield(t=="PUT"?Y1:Ra)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(un(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Pi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Pi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:j_.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield Y1(this.fetch,l.toString(),u,{headers:h});return{data:{path:s,fullPath:m.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(un(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return Pi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ra(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new nA("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pi(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Pi(this,void 0,void 0,function*(){try{return{data:{path:(yield Ra(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Pi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ra(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Pi(this,void 0,void 0,function*(){try{const i=yield Ra(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",l=this._getFinalPath(t),u=()=>D0(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new Loe(u,this.shouldThrowOnError)}info(t){return Pi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield D0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:H1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}exists(t){return Pi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Moe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n)&&n instanceof K1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Pi(this,void 0,void 0,function*(){try{return{data:yield n6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Boe),r),{prefix:t||""});return{data:yield Ra(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}listV2(t,r){return Pi(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ra(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $oe="2.75.0",zoe={"X-Client-Info":`storage-js/${$oe}`};var id=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};class Voe{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zoe),r),this.fetch=r6(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return id(this,void 0,void 0,function*(){try{return{data:yield D0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(un(t))return{data:null,error:t};throw t}})}getBucket(t){return id(this,void 0,void 0,function*(){try{return{data:yield D0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}createBucket(t){return id(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ra(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return id(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(un(n))return{data:null,error:n};throw n}})}emptyBucket(t){return id(this,void 0,void 0,function*(){try{return{data:yield Ra(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}deleteBucket(t){return id(this,void 0,void 0,function*(){try{return{data:yield n6(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(un(r))return{data:null,error:r};throw r}})}}class Uoe extends Voe{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Foe(this.url,this.headers,t,this.fetch)}}const qoe="2.75.0";let ah="";typeof Deno<"u"?ah="deno":typeof document<"u"?ah="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ah="react-native":ah="node";const Woe={"X-Client-Info":`supabase-js-${ah}/${qoe}`},Goe={headers:Woe},Koe={schema:"public"},Hoe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yoe={};var Qoe=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};const Joe=e=>{let t;return e?t=e:typeof fetch>"u"?t=KD:t=fetch,(...r)=>t(...r)},Xoe=()=>typeof Headers>"u"?HD:Headers,Zoe=(e,t,r)=>{const n=Joe(r),i=Xoe();return(s,a)=>Qoe(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},a),{headers:d}))})};var ele=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};function tle(e){return e.endsWith("/")?e:e+"/"}function rle(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:u,auth:d,realtime:h,global:m}=t,p={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ele(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function nle(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tle(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i6="2.75.0",dd=30*1e3,Q1=3,ib=Q1*dd,ile="http://localhost:9999",sle="supabase.auth.token",ale={"X-Client-Info":`gotrue-js/${i6}`},J1="X-Supabase-Api-Version",s6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ole=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lle=10*60*1e3;class Vh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cle extends Vh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ule(e){return Mt(e)&&e.name==="AuthApiError"}class Oc extends Vh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Fl extends Vh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ml extends Fl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dle(e){return Mt(e)&&e.name==="AuthSessionMissingError"}class sd extends Fl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jp extends Fl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ap extends Fl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fle(e){return Mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class A_ extends Fl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X1 extends Fl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function sb(e){return Mt(e)&&e.name==="AuthRetryableFetchError"}class S_ extends Fl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Z1 extends Fl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const L0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C_=` 	
\r=`.split(""),hle=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<C_.length;t+=1)e[C_[t].charCodeAt(0)]=-2;for(let t=0;t<L0.length;t+=1)e[L0[t].charCodeAt(0)]=t;return e})();function k_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(L0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(L0[n]),t.queuedBits-=6}}function a6(e,t,r){const n=hle[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function N_(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{gle(a,n,r)};for(let a=0;a<e.length;a+=1)a6(e.charCodeAt(a),i,s);return t.join("")}function mle(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ple(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}mle(n,t)}}function gle(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)a6(e.charCodeAt(i),r,n);return new Uint8Array(t)}function vle(e){const t=[];return ple(e,r=>t.push(r)),new Uint8Array(t)}function zc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>k_(i,r,n)),k_(null,r,n),t.join("")}function yle(e){return Math.round(Date.now()/1e3)+e}function xle(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ji=()=>typeof window<"u"&&typeof document<"u",Ac={tested:!1,writable:!1},o6=()=>{if(!Ji())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ac.tested)return Ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ac.tested=!0,Ac.writable=!0}catch{Ac.tested=!0,Ac.writable=!1}return Ac.writable};function ble(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const l6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mm(async()=>{const{default:n}=await Promise.resolve().then(()=>nf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wle=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Sc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ul=async(e,t)=>{await e.removeItem(t)};class Fg{constructor(){this.promise=new Fg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fg.promiseConstructor=Promise;function ab(e){const t=e.split(".");if(t.length!==3)throw new Z1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ole.test(t[n]))throw new Z1("JWT not in base64url format");return{header:JSON.parse(N_(t[0])),payload:JSON.parse(N_(t[1])),signature:Pd(t[2]),raw:{header:t[0],payload:t[1]}}}async function jle(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ale(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Sle(e){return("0"+e.toString(16)).substr(-2)}function Cle(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Sle).join("")}async function kle(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Nle(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kle(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ad(e,t,r=!1){const n=Cle();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fd(e,`${t}-code-verifier`,i);const s=await Nle(n);return[s,n===s?"plain":"s256"]}const Ele=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ple(e){const t=e.headers.get(J1);if(!t||!t.match(Ele))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _le(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Tle(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ole=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function od(e){if(!Ole.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ob(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E_(e){return JSON.parse(JSON.stringify(e))}var Mle=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Pc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rle=[502,503,504];async function P_(e){var t;if(!wle(e))throw new X1(Pc(e),0);if(Rle.includes(e.status))throw new X1(Pc(e),e.status);let r;try{r=await e.json()}catch(s){throw new Oc(Pc(s),s)}let n;const i=Ple(e);if(i&&i.getTime()>=s6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new S_(Pc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ml}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new S_(Pc(r),e.status,r.weak_password.reasons);throw new cle(Pc(r),e.status||500,n)}const Ile=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function zt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[J1]||(s[J1]=s6["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await Dle(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Dle(e,t,r,n,i,s){const a=Ile(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new X1(Pc(u),0)}if(l.ok||await P_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await P_(u)}}function oa(e){var t;let r=null;Fle(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yle(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function __(e){const t=oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Lle(e){return{data:e,error:null}}function Ble(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=Mle(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function T_(e){return e}function Fle(e){return e.access_token&&e.refresh_token&&e.expires_in}const lb=["global","local","others"];var $le=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class zle{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=l6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=lb[0]){if(lb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lb.join(", ")}`);try{return await zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$le(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ble,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Mt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:T_});if(h.error)throw h.error;const m=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);d[`${A}Page`]=C}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Mt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){od(t);try{return await zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yl})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){od(t);try{return await zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){od(t);try{return await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yl})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){od(t.userId);try{const{data:r,error:n}=await zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){od(t.userId),od(t.id);try{return{data:await zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},h=await zt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:T_});if(h.error)throw h.error;const m=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const C=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);d[`${A}Page`]=C}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Mt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await zt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await zt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await zt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await zt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}function O_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ld={debug:!!(globalThis&&o6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vle extends c6{}async function Ule(e,t,r){ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ld.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ld.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vle(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ld.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qle(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u6(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Wle(e){return parseInt(e,16)}function Gle(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Kle(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:h,uri:m,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=u6(e.address),x=h?`${h}://${n}`:n,C=e.statement?`${e.statement}
`:"",A=`${x} wants you to sign in with your Ethereum account:
${v}

${C}`;let N=`URI: ${m}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),l&&(N+=`
Not Before: ${l.toISOString()}`),u&&(N+=`
Request ID: ${u}`),d){let T=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);T+=`
- ${O}`}N+=T}return`${A}
${N}`}class cn extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class B0 extends cn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Hle({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new cn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new cn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new cn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new cn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new cn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new cn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(f6(a)){if(s.rp.id!==a)return new cn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new cn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Yle({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(f6(n)){if(r.rpId!==n)return new cn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var d6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Qle{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Jle=new Qle;function Xle(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=d6(e,["challenge","user","excludeCredentials"]),s=Pd(t).buffer,a=Object.assign(Object.assign({},r),{id:Pd(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Pd(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Zle(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=d6(e,["challenge","allowCredentials"]),i=Pd(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Pd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function ece(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:zc(new Uint8Array(e.response.attestationObject)),clientDataJSON:zc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tce(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zc(new Uint8Array(i.authenticatorData)),clientDataJSON:zc(new Uint8Array(i.clientDataJSON)),signature:zc(new Uint8Array(i.signature)),userHandle:i.userHandle?zc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function f6(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function M_(){var e,t;return!!(Ji()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function rce(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new B0("Browser returned unexpected credential type",t)}:{data:null,error:new B0("Empty credential response",t)}}catch(t){return{data:null,error:Hle({error:t,options:e})}}}async function nce(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new B0("Browser returned unexpected credential type",t)}:{data:null,error:new B0("Empty credential response",t)}}catch(t){return{data:null,error:Yle({error:t,options:e})}}}const ice={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},sce={userVerification:"preferred",hints:["security-key"]};function F0(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const l=n[s];t(l)?n[s]=F0(l,a):n[s]=F0(a)}else n[s]=a}return n}function ace(e,t){return F0(ice,e,t||{})}function oce(e,t){return F0(sce,e,t||{})}class lce{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const u=i??Jle.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=ace(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:m}=await rce({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=oce(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:m}=await nce(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(a){return Mt(a)?{data:null,error:a}:{data:null,error:new Oc("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new Vh("rpId is required for WebAuthn authentication")};try{if(!M_())return{data:null,error:new Oc("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return Mt(a)?{data:null,error:a}:{data:null,error:new Oc("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new Vh("rpId is required for WebAuthn registration")};try{if(!M_())return{data:null,error:new Oc("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Mt(a)?{data:null,error:a}:{data:null,error:new Oc("Unexpected error in register",a)}}}}qle();const cce={url:ile,storageKey:sle,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ale,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function R_(e,t,r){return await r()}const cd={};class Uh{get jwks(){var t,r;return(r=(t=cd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){cd[this.storageKey]=Object.assign(Object.assign({},cd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=cd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cd[this.storageKey]=Object.assign(Object.assign({},cd[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uh.nextInstanceID,Uh.nextInstanceID+=1,this.instanceID>0&&Ji()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},cce),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zle({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=l6(i.fetch),this.lock=i.lock||R_,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ji()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ule:this.lock=R_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lce(this)},this.persistSession?(i.storage?this.storage=i.storage:o6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O_(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=O_(this.memoryStorage)),Ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i6}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ble(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ji()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fle(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Mt(r)?{error:r}:{error:new Oc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:oa}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:m,options:p}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await ad(this.storage,this.storageKey)),s=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:oa})}else if("phone"in t){const{phone:h,password:m,options:p}=t;s=await zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:oa})}else throw new jp("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Mt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:__})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:__})}else throw new jp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,l,u,d,h,m,p;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:C,wallet:A,statement:N,options:T}=t;let O;if(Ji())if(typeof A=="object")O=A;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")O=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=A}const M=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href),D=await O.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=u6(D[0]);let $=(n=T==null?void 0:T.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const K=await O.request({method:"eth_chainId"});$=Wle(K)}const W={domain:M.host,address:I,statement:N,uri:M.href,version:"1",chainId:$,nonce:(i=T==null?void 0:T.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=T==null?void 0:T.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=T==null?void 0:T.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=Kle(W),x=await O.request({method:"personal_sign",params:[Gle(v),I]})}try{const{data:C,error:A}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:oa});if(A)throw A;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new sd}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:A})}catch(C){if(Mt(C))return{data:{user:null,session:null},error:C};throw C}}async signInWithSolana(t){var r,n,i,s,a,l,u,d,h,m,p,v;let x,C;if("message"in t)x=t.message,C=t.signature;else{const{chain:A,wallet:N,statement:T,options:O}=t;let M;if(Ji())if(typeof N=="object")M=N;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))M=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const D=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const I=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),T?{statement:T}:null));let $;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")$=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)$=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)x=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),C=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${D.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=O==null?void 0:O.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=O==null?void 0:O.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((a=O==null?void 0:O.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((m=(h=O==null?void 0:O.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...O.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const I=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=I}}try{const{data:A,error:N}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:zc(C)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:oa});if(N)throw N;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new sd}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:N})}catch(A){if(Mt(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(t){const r=await Sc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oa});if(await ul(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new sd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Mt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:oa}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new sd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:u}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await ad(this.storage,this.storageKey));const{error:m}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:h}=await zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new jp("You must provide either an email or phone number.")}catch(l){if(Mt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:oa});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ad(this.storage,this.storageKey)),await zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Lle})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ml;const{error:i}=await zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new jp("You must provide either an email or phone number and a type")}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Sc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ib:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Sc(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ob()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yl}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ml}:await zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:yl})})}catch(r){if(Mt(r))return dle(r)&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new ml;const a=i.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await ad(this.storage,this.storageKey));const{data:d,error:h}=await zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:yl});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ml;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=ab(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Mt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ml;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ji())throw new Ap("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ap(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new A_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ap("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new A_("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=t;if(!s||!l||!a||!d)throw new Ap("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let p=h+m;u&&(p=parseInt(u));const v=p-h;v*1e3<=dd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const x=p-m;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,h);const{data:C,error:A}=await this._getUser(s);if(A)throw A;const N={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:p,refresh_token:a,token_type:d,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(n){if(Mt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Sc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(ule(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=xle(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ad(this.storage,this.storageKey,!0));try{return await zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Mt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,u,d,h;const{data:m,error:p}=s;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await zt(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ji()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Mt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:l,token:u,access_token:d,nonce:h}=t,m=await zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:oa}),{data:p,error:v}=m;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new sd}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:v})}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ale(async i=>(i>0&&await jle(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oa})),(i,s)=>{const a=200*Math.pow(2,i);return s&&sb(s)&&Date.now()+a-n<dd})}catch(n){if(this._debug(r,"error",n),Mt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ji()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Sc(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Sc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await fd(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ob()}else if(i&&!i.user&&!i.user){const a=await Sc(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ul(this.storage,this.storageKey+"-user"),await fd(this.storage,this.storageKey,i)):i.user=ob()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ib;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ib}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),sb(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ml;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fg;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ml;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Mt(s)){const a={data:null,error:s};return sb(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=E_(i);await fd(this.storage,this.storageKey,s)}else{const i=E_(r);await fd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ul(this.storage,this.storageKey),await ul(this.storage,this.storageKey+"-code-verifier"),await ul(this.storage,this.storageKey+"-user"),this.userStorage&&await ul(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ji()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dd}ms, refresh threshold is ${Q1} ticks`),i<=Q1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof c6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ji()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ad(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ece(t.webauthn.credential_response):tce(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const a=await zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Xle(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Zle(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ab(i.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+lle>i)return n;const{data:s,error:a}=await zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:u}}=ab(n);r!=null&&r.allowExpired||_le(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const h=Tle(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,a,vle(`${l}.${u}`)))throw new Z1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}}Uh.nextInstanceID=0;const uce=Uh;class dce extends uce{constructor(t){super(t)}}var fce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(h){try{d(n.next(h))}catch(m){a(m)}}function u(h){try{d(n.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(l,u)}d((n=n.apply(e,t||[])).next())})};class hce{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const l=nle(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Koe,realtime:Yoe,auth:Object.assign(Object.assign({},Hoe),{storageKey:u}),global:Goe},h=rle(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Zoe(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new coe(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Uoe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Zae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return fce(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:u,debug:d},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dce({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:u,debug:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new koe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mce=(e,t,r)=>new hce(e,t,r);function pce(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pce()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gce="https://qzeomarntlrksyenepqe.supabase.co",vce="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6ZW9tYXJudGxya3N5ZW5lcHFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5Mjg2NjUsImV4cCI6MjA3NTUwNDY2NX0.x3S2nvc2wx-9hlsqwvw_nyB5YJWyHFo4Kmv6zPEJr78",yce=mce(gce,vce);function xce({stockForm:e,onChange:t,onSubmit:r,loading:n,onClose:i}){return o.jsxs("form",{onSubmit:r,className:"space-y-4",children:[!(e!=null&&e.sku)&&o.jsx(Cn,{label:"SKU Code",name:"sku",value:(e==null?void 0:e.sku)||"",onChange:t,placeholder:"Enter SKU"}),o.jsx(Cn,{label:"Quantity to Add",name:"quantity",type:"number",value:(e==null?void 0:e.quantity)||"",onChange:t,placeholder:"Enter quantity",required:!0}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(He,{label:"Cancel",variant:"secondary",onClick:i,type:"button"}),o.jsx(He,{label:"Add Stock",variant:"primary",type:"submit",disabled:n})]}),n&&o.jsx(Ii,{size:"sm",className:"mt-2"})]})}function bce({editingProduct:e,productForm:t,onChange:r,categories:n,onSubmit:i,loading:s,onClose:a,businessType:l}){const[u,d]=j.useState(!1),[h,m]=j.useState(!1),p=()=>{var O;const C={"Grocery Store":["Fresh Produce","Meat & Poultry","Seafood","Dairy & Eggs","Bread & Bakery","Snacks & Chips","Beverages","Canned & Packaged Goods","Frozen Food","Rice, Pasta & Grains","Condiments & Spices","Cleaning Supplies","Household Essentials","Baby Products","Pet Supplies"],Pharmacy:["Prescription Medicines","OTC Medicines","Vitamins & Supplements","First Aid Supplies","Medical Devices","Personal Care","Hygiene Products","Beauty & Cosmetics","Baby Care","Adult Care","PPE & Sanitizers"],"Clothing Store":["Mens Clothing","Womens Clothing","Kids Clothing","Baby Clothing","Footwear","Bags & Accessories","Underwear & Socks"],"Electronics Store":["Mobile Devices","Computers & Laptops","Computer Accessories","Phone Accessories","Audio Devices","Cameras & Photography","Home Appliances","Personal Appliances","Gaming Consoles & Accessories","Cables, Adapters & Chargers"],"Hardware Store":["Hand Tools","Power Tools","Construction Materials","Electrical Supplies","Plumbing Supplies","Paint & Painting Supplies","Gardening Tools","Fasteners (Nails, Screws, Bolts)","Safety Gear"],Bookstore:["Fiction Books","Non-Fiction Books","Educational Books","Childrens Books","Comics & Manga","School Supplies","Art Materials","Office Supplies","Stationery & Gifts"],"Convenience Store":["Snacks","Beverages","Ready-to-Eat Food","Instant Noodles / Cup Meals","Frozen Food","Basic Grocery Items","Toiletries","Basic OTC Medicines","Household Essentials","Phone Load","Ice Cream & Desserts","Tobacco & Lighters"],Others:["General"]},A=typeof window<"u"&&sessionStorage.getItem("business_type")||null;let N=l||A||"Others";if(N==="Others"&&typeof window<"u")try{const M=sessionStorage.getItem("user")||localStorage.getItem("user");if(M){const D=JSON.parse(M),I=((O=D==null?void 0:D.business)==null?void 0:O.business_type)||(D==null?void 0:D.business_type)||null;if(I){N=I;try{sessionStorage.setItem("business_type",I)}catch{}}}}catch{}return(C[N]||C.Others).map((M,D)=>({id:`fb-${D}`,name:M}))},v=C=>C.map((A,N)=>({id:A.id||`p-${N}`,name:A.name||A})),x=(()=>{if(l){const A=p();try{console.debug("ProductForm: using fallback categories for businessType=",l,A)}catch{}return A}if(n&&n.length>0){const A=n[0],N=A&&(A.name||A);if(n.length===1&&(N==="General"||N==="Others")){const O=p();try{console.debug("ProductForm: categories prop is generic, using fallback=",O)}catch{}return O}const T=v(n);try{console.debug("ProductForm: using provided categories=",T)}catch{}return T}const C=p();try{console.debug("ProductForm: no categories provided, using fallback=",C)}catch{}return C})();return o.jsxs("form",{onSubmit:i,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Cn,{label:"SKU Code",name:"sku",value:t.sku,onChange:r,placeholder:"Scan or enter SKU",required:!0}),o.jsx("div",{className:"flex items-end",children:o.jsx(He,{label:u?"Close Scanner":"Scan Barcode",type:"button",variant:"secondary",onClick:()=>d(!u)})})]}),u&&o.jsx("div",{className:"rounded-2xl border border-blue-100 p-4",children:o.jsx(Bl,{onScan:C=>{var N;const A=((N=C==null?void 0:C[0])==null?void 0:N.rawValue)||"";A&&(r({target:{name:"sku",value:A}}),m(!0))},paused:h,onResume:()=>m(!1),textMain:"text-blue-700"})}),o.jsx(Cn,{label:"Name",name:"name",value:t.name,onChange:r,required:!0}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Category ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"category",value:t.category,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select category"}),x.map(C=>o.jsx("option",{value:C.name,children:C.name},C.id))]}),t.category==="Others"&&o.jsx("div",{className:"mt-2",children:o.jsx(Cn,{label:"Custom Category",name:"customCategory",value:t.customCategory||"",onChange:r,placeholder:"Please specify category",required:!0})})]}),o.jsx(Cn,{label:"Description",name:"description",value:t.description,onChange:r,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Cn,{label:"Quantity",name:"quantity",type:"number",value:t.quantity,onChange:r,required:!0}),o.jsx(Cn,{label:"Cost Price ()",name:"cost_price",type:"number",value:t.cost_price,onChange:r,required:!0}),o.jsx(Cn,{label:"Selling Price ()",name:"selling_price",type:"number",value:t.selling_price,onChange:r,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx(He,{label:"Cancel",variant:"secondary",onClick:a,type:"button"}),o.jsx(He,{label:e?"Update":"Add",variant:"primary",type:"submit",disabled:s})]}),s&&o.jsx(Ii,{size:"sm",className:"mt-2"})]})}function qh({isOpen:e,onClose:t,title:r,children:n,size:i="md",variant:s="glass",editingProduct:a,productForm:l,onChange:u,categories:d,onSubmit:h,loading:m,stockForm:p}){if(!e)return null;const[v,x]=j.useState(null);return j.useEffect(()=>{if(!e||s!=="product")return;(async()=>{try{let A=typeof window<"u"&&(localStorage.getItem("business_id")||sessionStorage.getItem("business_id"))||null;if(!A&&typeof window<"u")try{const M=sessionStorage.getItem("user")||localStorage.getItem("user");if(M){const D=JSON.parse(M);A=(D==null?void 0:D.businessId)||(D==null?void 0:D.business_id)||null}}catch{A=null}if(!A){console.debug("Modal: no business id available to fetch business_type");return}console.debug("Modal: loading business_type for business_id=",A);const{data:N,error:T}=await yce.from("business").select("business_type").eq("business_id",A).maybeSingle();if(T){console.debug("Could not fetch business_type:",T.message||T);return}const O=(N==null?void 0:N.business_type)||null;if(O){console.debug("Modal: got business_type=",O),x(O);try{sessionStorage.setItem("business_type",O)}catch{}}}catch(A){console.error(A)}})()},[e,s]),o.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:t,"aria-hidden":"true"}),o.jsxs("div",{className:`relative bg-white rounded-2xl shadow-2xl min-w-[340px] max-w-full z-10 max-h-[90vh] overflow-hidden flex flex-col ${i==="sm"?"w-full max-w-md":i==="lg"?"w-full max-w-4xl":"w-full max-w-xl"}`,children:[o.jsx("button",{className:"absolute top-4 right-4 z-20 w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200",onClick:t,"aria-label":"Close",type:"button",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsxs("div",{className:"overflow-y-auto",children:[r&&o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r})}),s==="product"?o.jsx("div",{className:"p-6",children:o.jsx(bce,{editingProduct:a,productForm:l,onChange:u,categories:d||[],businessType:v,onSubmit:h,loading:m,onClose:t})}):s==="stock"?o.jsx("div",{className:"p-6",children:o.jsx(xce,{stockForm:p,onChange:u,onSubmit:h,loading:m,onClose:t})}):n]})]})]})}const wce=[],jce=[];function I_(e){const t={"Grocery Store":["Fresh Produce","Meat & Poultry","Seafood","Dairy & Eggs","Bread & Bakery","Snacks & Chips","Beverages","Canned & Packaged Goods","Frozen Food","Rice, Pasta & Grains","Condiments & Spices","Cleaning Supplies","Household Essentials","Baby Products","Pet Supplies"],Pharmacy:["Prescription Medicines","OTC Medicines","Vitamins & Supplements","First Aid Supplies","Medical Devices","Personal Care","Hygiene Products","Beauty & Cosmetics","Baby Care","Adult Care","PPE & Sanitizers"],"Clothing Store":["Mens Clothing","Womens Clothing","Kids Clothing","Baby Clothing","Footwear","Bags & Accessories","Underwear & Socks"],"Electronics Store":["Mobile Devices","Computers & Laptops","Computer Accessories","Phone Accessories","Audio Devices","Cameras & Photography","Home Appliances","Personal Appliances","Gaming Consoles & Accessories","Cables, Adapters & Chargers"],"Hardware Store":["Hand Tools","Power Tools","Construction Materials","Electrical Supplies","Plumbing Supplies","Paint & Painting Supplies","Gardening Tools","Fasteners (Nails, Screws, Bolts)","Safety Gear"],Bookstore:["Fiction Books","Non-Fiction Books","Educational Books","Childrens Books","Comics & Manga","School Supplies","Art Materials","Office Supplies","Stationery & Gifts"],"Convenience Store":["Snacks","Beverages","Ready-to-Eat Food","Instant Noodles / Cup Meals","Frozen Food","Basic Grocery Items","Toiletries","Basic OTC Medicines","Household Essentials","Phone Load","Ice Cream & Desserts","Tobacco & Lighters"],Others:["General"]};return t[e]||t.Others}function Ace(){const[e,t]=j.useState(wce),[r,n]=j.useState(()=>{var fe;try{let Ve=null;try{Ve=typeof window<"u"&&sessionStorage.getItem("business_type")||null}catch{Ve=null}if(!Ve&&typeof window<"u")try{const yt=sessionStorage.getItem("user")||localStorage.getItem("user");if(yt){const et=JSON.parse(yt);if(Ve=((fe=et==null?void 0:et.business)==null?void 0:fe.business_type)||(et==null?void 0:et.business_type)||null,Ve)try{sessionStorage.setItem("business_type",Ve)}catch{}}}catch{Ve=null}return Ve=Ve||"Others",(I_(Ve)||[]).map((yt,et)=>({id:et+1,name:yt}))}catch{return jce}}),[i,s]=j.useState(!1),[a,l]=j.useState(!1),[u,d]=j.useState(null),[h,m]=j.useState({sku:"",name:"",category:"",customCategory:"",description:"",quantity:"",cost_price:"",selling_price:""}),[p,v]=j.useState({sku:"",quantity:""}),[x,C]=j.useState(!1),[A,N]=j.useState(""),[T,O]=j.useState(10),[M,D]=j.useState(1),[I,$]=j.useState(""),[W,K]=j.useState(!1);j.useEffect(()=>{(async()=>{var Ve;try{C(!0),$("");const lt=sessionStorage.getItem("auth_token"),yt=await at("/api/auth/profile",{headers:en(lt)}),et=((Ve=yt==null?void 0:yt.business)==null?void 0:Ve.business_type)||"Others";try{typeof window<"u"&&sessionStorage.setItem("business_type",et)}catch(dt){console.debug("Could not persist business_type",dt)}const nn=I_(et);n(nn.map((dt,it)=>({id:it+1,name:dt})));const Ct=(await at("/api/inventory",{headers:en(lt)})||[]).map(dt=>({id:String(dt.id||""),name:dt.name||"-",category:dt.category||"-",quantity:Number(dt.quantity||0),cost_price:Number(dt.cost_price||0),selling_price:Number(dt.selling_price||0),sku:dt.sku||"",description:dt.description||""}));t(Ct)}catch(lt){$(lt.message||"Failed to load inventory"),t([])}finally{C(!1)}})()},[]);const J=e.reduce((fe,Ve)=>fe+Number(Ve.selling_price||0)*Number(Ve.quantity||0),0),Z=e.filter(fe=>Number(fe.quantity||0)<10).length,de=[{label:"TOTAL ITEMS",value:e.length,icon:o.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),color:"text-blue-800",sub:"Total products in inventory"},{label:"INVENTORY VALUE",value:J,icon:o.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-green-700",formatValue:fe=>`${fe.toLocaleString(void 0,{minimumFractionDigits:2})}`,sub:"Total value of all stock"},{label:"AVAILABLE CATEGORIES",value:r.length,icon:o.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M4 7h16M4 12h16M4 17h16"})}),color:"text-blue-500",sub:"Product categories"},{label:"LOW STOCK ALERTS",value:Z,icon:o.jsx("svg",{width:"32",height:"32",fill:"none",stroke:"#2563eb",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),color:"text-orange-600",sub:"Items needing restock"}],[ce,ee]=j.useState("name"),[ue,je]=j.useState("asc"),[pe,ie]=j.useState(null),[be,me]=j.useState(null),Y=j.useMemo(()=>{let fe=e.filter(Ve=>Ve.name.toLowerCase().includes(A.toLowerCase())||Ve.category.toLowerCase().includes(A.toLowerCase())||Ve.description.toLowerCase().includes(A.toLowerCase()));return pe&&(fe=fe.filter(Ve=>Ve.category===pe)),be&&(be==="out_of_stock"?fe=fe.filter(Ve=>Number(Ve.quantity||0)===0):be==="low_stock"?fe=fe.filter(Ve=>{const lt=Number(Ve.quantity||0);return lt>0&&lt<10}):be==="in_stock"&&(fe=fe.filter(Ve=>Number(Ve.quantity||0)>=10))),fe.sort((Ve,lt)=>{let yt,et;if(ce==="name")yt=(Ve.name||"").toLowerCase(),et=(lt.name||"").toLowerCase();else if(ce==="category")yt=(Ve.category||"").toLowerCase(),et=(lt.category||"").toLowerCase();else if(ce==="quantity")yt=Number(Ve.quantity||0),et=Number(lt.quantity||0);else if(ce==="selling_price")yt=Number(Ve.selling_price||0),et=Number(lt.selling_price||0);else return 0;return yt<et?ue==="asc"?-1:1:yt>et?ue==="asc"?1:-1:0}),fe},[e,A,pe,be,ce,ue]),re=Math.ceil(Y.length/T)||1,Se=Y.slice((M-1)*T,M*T),Te=()=>{d(null),m({sku:"",name:"",category:"",customCategory:"",description:"",quantity:"",cost_price:"",selling_price:""}),s(!0)},Ie=fe=>{d(fe),m({...fe}),s(!0)},tt=fe=>{v({sku:(fe==null?void 0:fe.sku)||"",quantity:""}),l(!0)},qe=fe=>{const{name:Ve,value:lt}=fe.target;m(yt=>({...yt,[Ve]:lt}))},Fe=async fe=>{fe.preventDefault();try{C(!0),$("");const Ve=sessionStorage.getItem("auth_token");u?await at(`/api/inventory/${u.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...en(Ve)},body:JSON.stringify({product_name:(h.name||"").trim(),cost_price:Number(h.cost_price)||0,selling_price:Number(h.selling_price)||0,sku:(h.sku||"").trim(),category:h.category==="Others"?(h.customCategory||"").trim():(h.category||"").trim(),description:(h.description||"").trim()})}):await at("/api/products",{method:"POST",headers:{"Content-Type":"application/json",...en(Ve)},body:JSON.stringify({product_category_id:null,category:h.category==="Others"?(h.customCategory||"").trim():(h.category||"").trim(),product_name:(h.name||"").trim(),name:(h.name||"").trim(),description:(h.description||"").trim(),cost_price:Number(h.cost_price)||0,selling_price:Number(h.selling_price)||0,price:Number(h.selling_price)||0,sku:(h.sku||"").trim()||`SKU-${Date.now()}`,quantity:Number(h.quantity)||0})});const yt=(await at("/api/inventory",{headers:en(Ve)})||[]).map(et=>({id:String(et.id||""),name:et.name||"-",category:et.category||"-",quantity:Number(et.quantity||0),cost_price:Number(et.cost_price||0),selling_price:Number(et.selling_price||0),sku:et.sku||"",description:et.description||""}));t(yt),s(!1)}catch(Ve){$(Ve.message||"Failed to save product")}finally{C(!1)}},Re=async fe=>{fe.preventDefault();try{C(!0),$("");const Ve=sessionStorage.getItem("auth_token");await at("/api/products/add-stock-by-sku",{method:"POST",headers:en(Ve),body:JSON.stringify({sku:p.sku,quantity:Number(p.quantity)})});const yt=(await at("/api/inventory",{headers:en(Ve)})||[]).map(et=>({id:String(et.id||""),name:et.name||"-",category:et.category||"-",quantity:Number(et.quantity||0),cost_price:Number(et.cost_price||0),selling_price:Number(et.selling_price||0),sku:et.sku||"",description:et.description||""}));t(yt),l(!1)}catch(Ve){$(Ve.message||"Failed to add stock")}finally{C(!1)}},Ke=async fe=>{if(window.confirm("Are you sure you want to delete this product?"))try{C(!0),$("");const Ve=sessionStorage.getItem("auth_token");await at(`/api/inventory/${fe}`,{method:"DELETE",headers:en(Ve)});const yt=(await at("/api/inventory",{headers:en(Ve)})||[]).map(et=>({id:String(et.id||""),name:et.name||"-",category:et.category||"-",quantity:Number(et.quantity||0),cost_price:Number(et.cost_price||0),selling_price:Number(et.selling_price||0),sku:et.sku||"",description:et.description||""}));t(yt)}catch(Ve){$(Ve.message||"Failed to delete product")}finally{C(!1)}},Pe=fe=>{fe<1||fe>re||D(fe)},ae=fe=>{O(Number(fe.target.value)),D(1)},_e=fe=>{N(fe.target.value),D(1)};return o.jsxs(za,{title:"INVENTORY",subtitle:"Manage your products and stock",sidebar:o.jsx(_o,{}),isSidebarOpen:W,setSidebarOpen:K,showHeader:!0,showNavbar:!1,showFooter:!1,children:[o.jsx(Hae,{products:Se,allProducts:Y,stats:de,page:M,entriesPerPage:T,totalPages:re,onPageChange:Pe,onEntriesChange:ae,search:A,onSearchChange:_e,onEdit:Ie,onDelete:Ke,onAddProduct:Te,onStockEntry:tt,categories:r,selectedCategory:pe,onCategoryFilter:fe=>{ie(fe),D(1)},stockFilter:be,onStockFilter:fe=>{me(fe),D(1)},sortBy:ce,sortOrder:ue,onSort:(fe,Ve)=>{ee(fe),je(Ve),D(1)}}),I&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-2",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:(()=>{try{const fe=JSON.parse(I);return fe.error||fe.message||I}catch{return I}})()})]}),o.jsx(qh,{isOpen:i,onClose:()=>s(!1),variant:"product",title:u?"Edit Product":"Add New Product",editingProduct:u,productForm:h,onChange:qe,categories:r,onSubmit:Fe,loading:x}),o.jsx(qh,{isOpen:a,onClose:()=>l(!1),title:"Stock Entry",variant:"stock",editingProduct:null,stockForm:p,onChange:fe=>v({...p,[fe.target.name]:fe.target.value}),onSubmit:Re,loading:x})]})}function Sce({item:e,onIncrement:t,onDecrement:r,onRemove:n}){return o.jsxs("div",{className:"grid grid-cols-[40px_1fr_80px_80px] items-center gap-2 py-2",children:[o.jsxs("div",{className:"text-sm text-blue-900 font-semibold",children:[e.quantity,"x"]}),o.jsx("div",{children:o.jsx("input",{value:e.name,readOnly:!0,className:"w-full px-3 py-2 rounded-lg border border-blue-200 bg-white text-blue-900 text-sm shadow-sm focus:outline-none"})}),o.jsxs("div",{className:"text-right text-sm text-blue-900 font-semibold",children:["",e.price.toFixed(2)]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:r,className:"text-blue-700",children:""}),o.jsx("button",{onClick:t,className:"text-blue-700",children:""}),o.jsx("button",{onClick:n,className:"text-red-600",children:""})]})]})}function Cce({cart:e,onIncrement:t,onDecrement:r,onRemove:n}){return o.jsxs("div",{className:"w-full",children:[o.jsx("div",{className:"text-blue-900 text-lg font-bold mb-3",children:"Your Order"}),o.jsxs("div",{className:"grid grid-cols-[40px_1fr_80px_80px] text-xs text-blue-700 font-semibold px-1 mb-2",children:[o.jsx("div",{children:"QTY"}),o.jsx("div",{children:"Item"}),o.jsx("div",{children:"Price"}),o.jsx("div",{className:"text-right",children:"Settings"})]}),o.jsx("div",{className:"space-y-2 max-h-[45vh] overflow-y-auto pr-1",children:e.length===0?o.jsx("div",{className:"text-blue-500 text-center py-6",children:"Scan items to add them to your order."}):e.map(i=>o.jsx(Sce,{item:i,onIncrement:()=>t(i.sku),onDecrement:()=>r(i.sku),onRemove:()=>n(i.sku)},i.sku))})]})}function kce({isOpen:e,onClose:t,total:r,method:n,setMethod:i,onPay:s}){const a=gn(),l=()=>{t(),a("/")};return o.jsx(qh,{isOpen:e,onClose:t,title:"",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-blue-900 font-bold text-lg",children:"Pay using"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"radio",name:"payment",checked:n==="Cash",onChange:()=>i("Cash")}),o.jsx("span",{className:"text-blue-900",children:"Cash"})]}),o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"radio",name:"payment",checked:n==="GCash",onChange:()=>i("GCash")}),o.jsx("span",{className:"text-blue-900",children:"GCash"})]}),o.jsxs("label",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"radio",name:"payment",checked:n==="PayMaya",onChange:()=>i("PayMaya")}),o.jsx("span",{className:"text-blue-900",children:"Pay Maya"})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsx("div",{className:"text-blue-700",children:"Total"}),o.jsxs("div",{className:"text-blue-900 font-extrabold",children:["",r.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(He,{label:"Back to Home",variant:"secondary",onClick:l,microinteraction:!0}),o.jsx(He,{label:"Pay",variant:"primary",onClick:()=>s(n||"Cash"),microinteraction:!0})]})]})})}function Nce({total:e,onCancel:t,onCheckout:r,disabled:n=!1}){return o.jsx(wt.div,{className:"fixed bottom-0 left-0 right-0 px-4 pb-4 sm:pb-6 pt-3 bg-white/95 backdrop-blur-xl border-t border-blue-200/50 shadow-2xl",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,ease:"easeOut"},children:o.jsxs("div",{className:"max-w-screen-md mx-auto flex items-center justify-between gap-3",children:[o.jsx(He,{label:"Cancel",variant:"secondary",onClick:t,microinteraction:!0,disabled:n,className:"flex-shrink-0"}),o.jsx(He,{label:"Check Out",variant:"primary",onClick:r,microinteraction:!0,disabled:n,className:"flex-shrink-0"}),o.jsxs(wt.div,{className:"text-right text-sm flex-shrink-0 min-w-[100px]",initial:{scale:.9},animate:{scale:1},transition:{delay:.2},children:[o.jsx("div",{className:"text-blue-600 font-medium text-xs sm:text-sm",children:"Order Total:"}),o.jsxs("div",{className:"text-blue-900 font-extrabold text-lg sm:text-xl",children:["",e.toFixed(2)]})]})]})})}function Ece({isOpen:e,onClose:t,cartItems:r,businessId:n,qrPayload:i}){const s=gn(),a=j.useMemo(()=>{if(i)return i;const u=(r||[]).map(d=>({p:d.product_id,q:d.quantity}));return JSON.stringify({t:"cart",b:n?Number(n):null,items:u})},[r,n,i]),l=j.useMemo(()=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(a)}&qzone=2&format=png&_=${Date.now()}`,[a]);return o.jsxs(ds,{isOpen:e,onClose:t,title:"Show to Cashier",subtitle:"Let the cashier scan this QR code",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),size:"sm",contentClassName:"text-center space-y-3",children:[o.jsx("img",{src:l,alt:"Customer Cart QR",className:"w-[300px] h-[300px] border-4 border-blue-200 rounded-2xl bg-white mx-auto shadow-lg"}),o.jsx("div",{className:"text-blue-800 text-sm font-medium",children:"Cashier scans this in POS to load your cart."}),o.jsx("button",{onClick:()=>s("/customer-enter"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-300",children:"Done"})]})}function h6(){const[e,t]=j.useState([]),[r,n]=j.useState(!1),[i,s]=j.useState(!1),[a,l]=j.useState("GCash"),[u,d]=j.useState(!0),[h,m]=j.useState(!1),[p,v]=j.useState(""),[x,C]=j.useState(""),[A,N]=j.useState(!1),T=j.useRef(!1),[O,M]=j.useState(null),[D,I]=j.useState(null),$=j.useMemo(()=>e.reduce((ce,ee)=>ee&&typeof ee.price=="number"&&typeof ee.quantity=="number"?ce+ee.price*ee.quantity:ce,0),[e]);j.useEffect(()=>{const ee=new URLSearchParams(window.location.search).get("payment"),ue=localStorage.getItem("pending_gcash_cart_public"),je=localStorage.getItem("business_id");if(ee==="success"&&ue&&je)try{const pe=JSON.parse(ue);(async()=>{if(T.current)return;const ie="gcash_finalize_done_public";if(sessionStorage.getItem(ie)!=="1"){T.current=!0,sessionStorage.setItem(ie,"1");try{const be={items:pe.items||[],payment_type:"gcash",money_received:pe.total||null,business_id:Number(je),transaction_number:pe.transactionNumber||null},me=await at("/api/sales/public/checkout",{method:"POST",body:JSON.stringify(be)});t([]);const Y=new URL(window.location.origin+"/receipt");Y.searchParams.set("tn",me.transaction_number),Y.searchParams.set("tid",String(me.transaction_id)),Y.searchParams.set("total",String(me.total||0)),window.location.href=Y.toString()}catch(be){C(be.message||"Failed to record payment")}finally{localStorage.removeItem("pending_gcash_cart_public");const be=new URL(window.location.href);be.searchParams.delete("payment"),window.history.replaceState({},"",be.toString())}}})()}catch{localStorage.removeItem("pending_gcash_cart_public")}},[]);const W=async ce=>{var ue;const ee=(ue=ce==null?void 0:ce[0])==null?void 0:ue.rawValue;if(ee){n(!0),C(""),m(!0);try{const je=e.findIndex(me=>me.sku===ee);if(je!==-1){t(me=>{const Y=[...me];return Y[je]={...Y[je],quantity:Y[je].quantity+1},Y}),n(!1);return}const pe=localStorage.getItem("business_id"),ie=pe?`?business_id=${encodeURIComponent(pe)}`:"",be=await at(`/api/products/public/sku/${encodeURIComponent(ee)}${ie}`);if(be&&(!pe||Number(be.business_id)===Number(pe))){const me=Number(be.selling_price||0),Y=be.product_name||`Product ${ee}`;t(re=>[...re,{product_id:be.product_id,sku:be.sku,name:Y,quantity:1,price:me}])}else throw new Error("Product not found in this store")}catch(je){C(je.message||"Product not found"),console.error("Error fetching product:",je)}finally{m(!1),n(!1)}}},K=ce=>t(ee=>ee.map(ue=>ue.sku===ce?{...ue,quantity:ue.quantity+1}:ue)),J=ce=>t(ee=>ee.map(ue=>ue.sku===ce?{...ue,quantity:Math.max(1,ue.quantity-1)}:ue)),Z=ce=>t(ee=>ee.filter(ue=>ue.sku!==ce)),de=()=>{const ce=localStorage.getItem("provisionalTransactionNumber");navigator.clipboard.writeText(ce||"")};return o.jsxs(Ri,{variant:"gradientBlue",pattern:"dots",floatingElements:!0,overlay:!0,children:[o.jsx(wt.div,{className:"absolute -top-24 -left-24 w-[28rem] h-[28rem] rounded-full bg-gradient-to-br from-blue-400/15 to-cyan-400/10 blur-3xl",animate:{scale:[1,1.08,1],opacity:[.35,.5,.35]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),o.jsx(wt.div,{className:"absolute bottom-0 -right-24 w-[30rem] h-[30rem] rounded-full bg-gradient-to-bl from-indigo-400/15 to-purple-400/10 blur-3xl",animate:{scale:[1,1.12,1],opacity:[.3,.45,.3]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),o.jsxs("div",{className:"min-h-screen pb-32 pt-4 sm:pt-6",children:[o.jsxs(wt.div,{className:"px-4 space-y-4 max-w-screen-md mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("div",{className:"flex items-center justify-center p-2",children:o.jsxs("button",{onClick:de,title:"Copy transaction number",className:"inline-flex items-center gap-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg px-2.5 py-1.5 shadow-sm hover:bg-blue-100 transition-colors",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2M8 16h8a2 2 0 002-2v-6m-10 8l-2 2m2-2l2 2"})}),o.jsx("span",{className:"font-mono text-xs sm:text-sm md:text-base font-bold tracking-wider truncate max-w-[50vw]",children:localStorage.getItem("provisionalTransactionNumber")||"Scan Store QR to Begin"})]})}),o.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:o.jsx(Bl,{onScan:W,paused:r,onResume:()=>n(!1),className:"w-full",textMain:"text-blue-700"})}),o.jsx(Op,{children:x&&o.jsx(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700 text-sm shadow-lg backdrop-blur-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{children:x})]})})}),o.jsx(Op,{children:h&&o.jsx(wt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-blue-700 text-sm text-center shadow-lg backdrop-blur-sm",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(wt.div,{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),o.jsx("span",{children:"Loading product..."})]})})}),o.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:o.jsxs(Zt,{className:"w-full",variant:"glass",children:[o.jsx(Cce,{open:u,onToggle:()=>d(ce=>!ce),cart:e,onIncrement:K,onDecrement:J,onRemove:Z}),e.length===0&&o.jsx("div",{className:"p-4 text-center text-gray-500",children:"Cart is empty"})]})})]}),o.jsx(Nce,{total:$,onCancel:()=>t([]),onCheckout:()=>s(!0),disabled:e.length===0}),e.length>0&&o.jsx(kce,{isOpen:i,onClose:()=>s(!1),total:$,method:a,setMethod:l,onPay:async ce=>{const ee=localStorage.getItem("business_id");if(!ee){C("No store selected. Please scan the store QR first."),s(!1);return}if(ce==="Cash"){const ue=localStorage.getItem("customer_user_id");s(!1);try{const je={items:e.map(ie=>({product_id:ie.product_id,sku:ie.sku,quantity:ie.quantity})),payment_type:ce.toLowerCase(),money_received:$,business_id:Number(ee),customer_user_id:ue?Number(ue):null,transaction_number:localStorage.getItem("provisionalTransactionNumber")},pe=await at("/api/sales/public/checkout",{method:"POST",body:JSON.stringify(je)});t([]),pe.qr_payload?(N(!0),v(""),M(pe.qr_payload),I(pe.transaction_id)):v("Failed to generate payment QR")}catch{v("Checkout failed")}return}if(ce==="GCash"){try{const ue=window.location.origin+"/customer?payment=success",je=window.location.origin+"/customer?payment=cancel";localStorage.setItem("pending_gcash_cart_public",JSON.stringify({items:e.map(ie=>({product_id:ie.product_id,sku:ie.sku,quantity:ie.quantity})),total:$,transactionNumber:localStorage.getItem("provisionalTransactionNumber")}));const{checkoutUrl:pe}=await dw({amount:Number($||0),description:"Self-checkout Order",referenceNumber:`SC-${Date.now()}`,cancelUrl:je,successUrl:ue});window.location.href=pe}catch(ue){C(ue.message||"Failed to initialize online payment"),localStorage.removeItem("pending_gcash_cart_public")}finally{s(!1)}return}try{const ue=localStorage.getItem("customer_user_id"),je={items:e.map(ie=>({product_id:ie.product_id,sku:ie.sku,quantity:ie.quantity})),payment_type:ce,money_received:$,business_id:Number(ee),customer_user_id:ue?Number(ue):null,transaction_number:localStorage.getItem("provisionalTransactionNumber")},pe=await at("/api/sales/public/checkout",{method:"POST",body:JSON.stringify(je)});if(t([]),pe.qr_payload)N(!0),v(""),M(pe.qr_payload),I(pe.transaction_id);else{const ie=new URL(window.location.origin+"/receipt");ie.searchParams.set("tn",pe.transaction_number),ie.searchParams.set("tid",String(pe.transaction_id)),ie.searchParams.set("total",String(pe.total||0)),window.location.href=ie.toString()}}catch{v("Checkout failed")}finally{s(!1)}}}),o.jsx(Ece,{isOpen:A,onClose:()=>N(!1),cartItems:e,businessId:localStorage.getItem("business_id"),qrPayload:O,transactionId:D}),o.jsx(Op,{children:p&&o.jsx(wt.div,{className:"px-4 mt-4 max-w-screen-md mx-auto",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-green-700 text-sm shadow-lg backdrop-blur-sm",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{children:p})]})})})})]})]})}function Pce(){return o.jsx(h6,{})}function _ce(){const e=gn();return o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[o.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Select Role"}),o.jsxs("div",{className:"flex gap-8",children:[o.jsx("button",{onClick:()=>e("/cashier-pos"),className:"bg-blue-600 text-white font-semibold px-10 py-4 rounded-xl shadow-lg text-xl hover:bg-blue-700 transition",children:"Cashier"}),o.jsx("button",{onClick:()=>e("/login"),className:"bg-gray-800 text-white font-semibold px-10 py-4 rounded-xl shadow-lg text-xl hover:bg-gray-900 transition",children:"Admin"})]})]})}function Tce(){return o.jsx(h6,{})}function Oce(e){try{const t=new URL(e);return t.searchParams.get("business_id")||t.searchParams.get("b")||t.searchParams.get("store")||e}catch{try{const r=JSON.parse(e);return r.business_id||r.businessId||r.storeId||e}catch{return e}}}function Mce(){const[e,t]=j.useState(!1),[r,n]=j.useState(!1),i=gn(),s=async d=>{var p;const h=(p=d==null?void 0:d[0])==null?void 0:p.rawValue;if(!h)return;t(!0),n(!0);const m=Oce(h);if(m){localStorage.setItem("business_id",String(m)),localStorage.removeItem("provisionalTransactionNumber"),localStorage.removeItem("customerCart");const v=new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14),x=Math.floor(1e3+Math.random()*9e3),C=`T-${String(m).padStart(2,"0")}-${v}-${x}`;localStorage.setItem("provisionalTransactionNumber",C);try{const A=await fetch("/api/sales/public/enter-store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({business_id:m})});if(A.ok){const N=await A.json();N.user_id&&localStorage.setItem("customer_user_id",N.user_id),N.username&&localStorage.setItem("customer_username",N.username),console.log("Anonymous user created after scanning store QR:",N)}else{const N=await A.json();console.error("Failed to create user after scanning store QR:",N.error||"Unknown error")}}catch(A){console.error("Error calling enter-store API:",A)}setTimeout(()=>{i("/customer")},300)}else n(!1),t(!1)},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.1}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},u={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.4,ease:"easeOut"}}};return o.jsxs(Ri,{variant:"gradientBlue",pattern:"dots",floatingElements:!0,overlay:!0,children:[o.jsx(wt.div,{className:"absolute -top-24 -left-24 w-[28rem] h-[28rem] rounded-full bg-gradient-to-br from-blue-400/15 to-cyan-400/10 blur-3xl",animate:{scale:[1,1.08,1],opacity:[.35,.5,.35]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),o.jsx(wt.div,{className:"absolute bottom-0 -right-24 w-[30rem] h-[30rem] rounded-full bg-gradient-to-bl from-indigo-400/15 to-purple-400/10 blur-3xl",animate:{scale:[1,1.12,1],opacity:[.3,.45,.3]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}}),o.jsxs(wt.div,{className:"min-h-screen flex flex-col items-center justify-center p-4 sm:p-6 pt-6 sm:pt-8 relative z-10",variants:a,initial:"hidden",animate:"visible",children:[o.jsx(wt.div,{className:"absolute top-4 sm:top-6 left-4 sm:left-6 z-20",variants:l,children:o.jsxs(xl,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-full bg-white/80 backdrop-blur-md border border-white/40 hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl group",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-700 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),o.jsx("span",{className:"font-semibold text-gray-700 hidden sm:inline",children:"Back Home"})]})}),o.jsxs("div",{className:"w-full max-w-4xl flex flex-col gap-6 sm:gap-8",children:[o.jsxs(wt.div,{className:"text-center",variants:l,children:[o.jsx(wt.div,{className:"inline-flex items-center justify-center gap-3 mb-6",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:180},children:o.jsxs(wt.div,{className:"p-4 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-700 rounded-2xl shadow-2xl relative group",animate:{boxShadow:["0 10px 30px rgba(59, 130, 246, 0.3)","0 20px 40px rgba(59, 130, 246, 0.4)","0 10px 30px rgba(59, 130, 246, 0.3)"]},transition:{duration:2.5,repeat:1/0},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsx("svg",{className:"w-8 h-8 sm:w-9 sm:h-9 text-white relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})]})}),o.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:[o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Welcome to the Store !!!"}),o.jsx("p",{className:"text-base sm:text-lg text-gray-600 max-w-xl mx-auto leading-relaxed",children:"Scan the store's QR code to access the self-checkout experience"})]})]}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2 items-center",children:[o.jsx(wt.div,{className:"flex flex-col gap-4",variants:l,children:o.jsxs(wt.div,{className:"bg-white/80 backdrop-blur-xl border border-white/60 rounded-3xl shadow-2xl p-6 sm:p-8 hover:shadow-3xl transition-all duration-300 group overflow-hidden",whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},children:[o.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/30 to-transparent"}),o.jsxs("div",{className:"relative z-10 space-y-5",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 text-white font-bold shadow-lg",children:"1"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Point Your Camera"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Position your device to scan the QR code displayed in the store"})]})]}),o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 text-white font-bold shadow-lg",children:"2"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Scan the Code"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Allow camera access and keep the QR code in frame"})]})]}),o.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-2xl bg-blue-600 to-pink-600 text-white font-bold shadow-lg",children:"3"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Start Shopping"}),o.jsx("p",{className:"text-sm text-gray-600",children:"You'll be connected to the store's self-checkout system"})]})]})]})]})}),o.jsx(wt.div,{className:"flex items-center justify-center relative w-full",variants:u,children:o.jsxs("div",{className:"w-full aspect-square relative max-w-sm lg:max-w-md",children:[o.jsx(wt.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-indigo-600/20 rounded-2xl sm:rounded-3xl blur-2xl -z-10",animate:{scale:[1,1.1,1],opacity:[.4,.6,.4]},transition:{duration:4,repeat:1/0}}),o.jsxs("div",{className:"relative h-full rounded-2xl sm:rounded-3xl overflow-hidden border-3 sm:border-4 border-white/60 shadow-lg sm:shadow-2xl bg-white/10 backdrop-blur-sm",children:[r&&o.jsx(wt.div,{className:"absolute inset-0 flex items-center justify-center z-30 bg-black/40 backdrop-blur-md",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(wt.div,{className:"bg-white/95 backdrop-blur-md rounded-xl sm:rounded-2xl p-6 sm:p-8 shadow-xl sm:shadow-2xl border border-white/20 mx-4",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200},children:o.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[o.jsx(wt.div,{className:"w-12 h-12 sm:w-14 sm:h-14 border-3 sm:border-4 border-blue-500 border-t-indigo-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-900 font-semibold text-sm sm:text-base",children:"Recognizing store..."}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Please wait"})]})]})})}),o.jsx(Bl,{onScan:s,paused:e,onResume:()=>{t(!1),n(!1)},className:"w-full h-full"})]}),o.jsx("div",{className:"absolute -top-1.5 -left-1.5 sm:-top-2 sm:-left-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-tl-lg sm:rounded-tl-2xl"}),o.jsx("div",{className:"absolute -top-1.5 -right-1.5 sm:-top-2 sm:-right-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-tr-lg sm:rounded-tr-2xl"}),o.jsx("div",{className:"absolute -bottom-1.5 -left-1.5 sm:-bottom-2 sm:-left-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-bl-lg sm:rounded-bl-2xl"}),o.jsx("div",{className:"absolute -bottom-1.5 -right-1.5 sm:-bottom-2 sm:-right-2 w-5 h-5 sm:w-8 sm:h-8 border-2 border-white/40 rounded-br-lg sm:rounded-br-2xl"}),o.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 border-2 border-white/40 rounded-tl-2xl"}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 border-2 border-white/40 rounded-tr-2xl"}),o.jsx("div",{className:"absolute -bottom-2 -left-2 w-8 h-8 border-2 border-white/40 rounded-bl-2xl"}),o.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 border-2 border-white/40 rounded-br-2xl"})]})})]}),o.jsx(wt.div,{className:"mt-4 sm:mt-8",variants:l,children:o.jsx("div",{className:"bg-gradient-to-r from-blue-50/80 via-indigo-50/60 to-purple-50/80 backdrop-blur-md rounded-2xl border border-blue-200/40 p-6 sm:p-8",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(wt.div,{className:"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Need Help?"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Make sure your device has camera permissions enabled. The QR code is typically displayed at the store entrance or on staff uniforms."})]})]})})})]})]})]})}function Rce(e){try{const t=new URL(e),r=t.searchParams.get("business_id")||t.searchParams.get("b")||t.searchParams.get("store");if(r)return r}catch{}try{const t=JSON.parse(e);if(t&&(t.business_id||t.businessId||t.storeId))return t.business_id||t.businessId||t.storeId}catch{}return e}function Ice(){const e=gn(),[t,r]=j.useState(!1),[n,i]=j.useState(""),s=a=>{var p;const l=(p=a==null?void 0:a[0])==null?void 0:p.rawValue;if(!l)return;r(!0),i("");const u=Rce(l);if(!u){i("Invalid store QR"),r(!1);return}localStorage.setItem("business_id",String(u)),localStorage.removeItem("provisionalTransactionNumber"),localStorage.removeItem("customerCart");const d=new Date().toISOString().replace(/[-:T.Z]/g,"").slice(0,14),h=Math.floor(1e3+Math.random()*9e3),m=`T-${String(u).padStart(2,"0")}-${d}-${h}`;localStorage.setItem("provisionalTransactionNumber",m),e("/customer")};return o.jsx(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"pt-20 px-4",children:o.jsx(U0,{})}),o.jsxs("div",{className:"px-4 mt-6 grid gap-4",children:[o.jsxs(Zt,{className:"p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"Scan Store QR"}),o.jsx("div",{className:"text-blue-700 mt-1",children:"Point your camera at the store QR to start self-checkout."})]}),n?o.jsxs(Zt,{className:"p-4 border-red-200",children:[o.jsx("div",{className:"text-red-700",children:n}),o.jsx("div",{className:"mt-2",children:o.jsx(He,{label:"Try again",variant:"secondary",onClick:()=>{i(""),r(!1)}})})]}):null,o.jsx("div",{className:"h-[60vh]",children:o.jsx(Bl,{onScan:s,paused:t,onResume:()=>r(!1),className:"w-full h-full"})})]})]})})}function D_({isOpen:e,onClose:t,onSubmit:r,title:n="Add Cashier",submitButtonText:i="Save",initialData:s={name:"",password:"",number:"",email:"",status:"ACTIVE"},isLoading:a=!1}){const[l,u]=j.useState(s),[d,h]=j.useState({}),[m,p]=j.useState({}),v=(M,D)=>{const I={...d};switch(M){case"name":D.trim()?D.trim().length<2?I.name="Name must be at least 2 characters":delete I.name:I.name="Name is required";break;case"password":D?D.length<6?I.password="Password must be at least 6 characters":delete I.password:I.password="Password is required";break;case"number":D.trim()?D.trim().length<7?I.number="Phone number must be at least 7 digits":delete I.number:I.number="Phone number is required";break;case"email":D.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D.trim())?delete I.email:I.email="Please enter a valid email":I.email="Email is required";break}h(I)},x=M=>{const{name:D,value:I}=M.target;u($=>({...$,[D]:I})),m[D]&&v(D,I)},C=M=>{const{name:D,value:I}=M.target;p($=>({...$,[D]:!0})),v(D,I)},A=async M=>{M.preventDefault(),Object.keys(l).forEach(I=>{I!=="status"&&v(I,l[I])}),Object.keys(d).length>0||(await r(l),N())},N=()=>{u(s),h({}),p({}),t()};if(!e)return null;const T=Object.keys(d).length===0&&l.name.trim()&&l.password&&l.number.trim()&&l.email.trim(),O=o.jsxs(o.Fragment,{children:[o.jsx(He,{label:"Cancel",variant:"secondary",onClick:N,type:"button",disabled:a}),o.jsx(He,{label:i,variant:"primary",type:"submit",onClick:A,disabled:!T||a})]});return o.jsx(ds,{isOpen:e,onClose:N,title:n,subtitle:"Please fill in all required fields",icon:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 10H9m6 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),footer:O,disabled:a,size:"md",contentClassName:"space-y-4",children:o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsx(Cn,{label:"Full Name",name:"name",value:l.name,onChange:x,onBlur:C,placeholder:"Enter cashier name",error:m.name&&d.name?d.name:null,required:!0}),o.jsx(Cn,{label:"Password",name:"password",type:"password",value:l.password,onChange:x,onBlur:C,placeholder:"Min. 6 characters",error:m.password&&d.password?d.password:null,required:!0}),o.jsx(Cn,{label:"Phone Number",name:"number",value:l.number,onChange:x,onBlur:C,placeholder:"Enter phone number",error:m.number&&d.number?d.number:null,required:!0}),o.jsx(Cn,{label:"Email Address",name:"email",type:"email",value:l.email,onChange:x,onBlur:C,placeholder:"Enter email address",error:m.email&&d.email?d.email:null,required:!0}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 text-sm text-gray-700 font-medium",children:["Status ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{name:"status",value:l.status,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]})]})})}const Dce=[];function Lce(){const[e,t]=j.useState(Dce),[r,n]=j.useState(!1),[i,s]=j.useState(""),[a,l]=j.useState(""),[u,d]=j.useState("ALL"),[h,m]=j.useState(!1),[p,v]=j.useState(!1),[x,C]=j.useState(null),[A,N]=j.useState(!1),[T,O]=j.useState({name:"",password:"",number:"",email:"",status:"ACTIVE"}),[M,D]=j.useState(!1);j.useEffect(()=>{(async()=>{try{n(!0),s("");const ee=sessionStorage.getItem("auth_token"),je=(await at("/api/business/cashiers",{headers:en(ee)})||[]).map(pe=>({name:pe.username||"-",id:pe.user_id||"-",number:pe.contact_number||"-",email:pe.email||"-",status:"ACTIVE"}));t(je)}catch(ee){s(ee.message||"Failed to load cashiers")}finally{n(!1)}})()},[]);const I=St.useMemo(()=>{const ce=(a||"").toLowerCase();return e.filter(ee=>{const ue=ee.name.toLowerCase().includes(ce)||String(ee.id).toLowerCase().includes(ce)||(ee.email||"").toLowerCase().includes(ce)||(ee.number||"").toLowerCase().includes(ce),je=u==="ALL"?!0:ee.status===u;return ue&&je})},[e,a,u]),$=()=>{O({name:"",password:"",number:"",email:"",status:"ACTIVE"}),C(null),m(!0)},W=async ce=>{try{N(!0),s("");const ee=sessionStorage.getItem("auth_token");await at("/api/business/cashiers",{method:"POST",headers:{"Content-Type":"application/json",...en(ee)},body:JSON.stringify({username:(ce.name||"").trim(),password:(ce.password||"").trim(),contact_number:(ce.number||"").trim()||null,email:(ce.email||"").trim()||null})});const je=(await at("/api/business/cashiers",{headers:en(ee)})||[]).map(pe=>({name:pe.username||"-",id:pe.user_id||"-",number:pe.contact_number||"-",email:pe.email||"-",status:"ACTIVE"}));t(je),m(!1)}catch(ee){s(ee.message||"Failed to create cashier")}finally{N(!1)}},K=ce=>{C(ce),O({...e[ce]}),v(!0)},J=async ce=>{try{N(!0);const ee=[...e];ee[x]=ce,t(ee),v(!1),C(null)}catch(ee){s(ee.message||"Failed to update cashier")}finally{N(!1)}},Z=ce=>{window.confirm("Are you sure you want to delete this cashier?")&&t(e.filter((ee,ue)=>ue!==ce))},de=()=>{const ce=["Name","Cashier ID","Number","Email","Status"],ee=I.map(ie=>[ie.name,ie.id,ie.number,ie.email,ie.status]),ue=[ce,...ee].map(ie=>ie.join(",")).join(`
`),je=new Blob([ue],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a");pe.href=URL.createObjectURL(je),pe.download="cashiers.csv",pe.click()};return o.jsxs(za,{title:"Cashiers",subtitle:"Manage cashier accounts and permissions",sidebar:o.jsx(_o,{}),isSidebarOpen:M,setSidebarOpen:D,className:"min-h-screen bg-white",children:[o.jsx("div",{className:"flex-1 bg-transparent overflow-hidden p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"w-full max-w-5xl mb-3 flex flex-col sm:flex-row gap-2.5 sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{value:a,onChange:ce=>l(ce.target.value),className:"w-full sm:w-72 pl-9 pr-3 py-1.5 rounded-xl border border-gray-200 bg-white/80 backdrop-blur-sm text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search cashier by name, ID, email or number"})]}),o.jsxs("select",{value:u,onChange:ce=>d(ce.target.value),className:"rounded-xl border border-gray-200 bg-white/80 backdrop-blur-sm px-3 py-1.5 text-sm focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"ALL",children:"All"}),o.jsx("option",{value:"ACTIVE",children:"Active"}),o.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(He,{onClick:de,size:"lg",variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto shrink-0",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"hidden sm:inline",children:"Export"}),o.jsx("span",{className:"sm:hidden",children:"Export"})]}),o.jsx(He,{className:"bg-blue-600 text-white font-semibold px-4 py-1.5 rounded-xl shadow hover:bg-blue-700 transition",onClick:$,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Cashier"]})})]})]}),i&&o.jsx("div",{className:"w-full max-w-5xl mb-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded-xl px-4 py-3",children:i}),o.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-2xl shadow-lg border border-blue-100 p-0",children:[o.jsx("div",{className:"w-full overflow-x-auto hidden [@media (orientation: landscape)]:block md:block",children:o.jsxs("table",{className:"w-full min-w-0 md:min-w-[720px] text-left rounded-xl overflow-hidden",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gradient-to-r from-blue-50/80 to-indigo-50/80 text-gray-700 font-semibold text-xs uppercase tracking-wider border-b border-blue-100",children:[o.jsx("th",{className:"py-2 px-3 sm:px-5",children:"Name"}),o.jsx("th",{className:"py-2 px-3 sm:px-5",children:"Cashier ID"}),o.jsx("th",{className:"py-2 px-3 sm:px-5",children:"Number"}),o.jsx("th",{className:"py-2 px-3 sm:px-5",children:"Email"}),o.jsx("th",{className:"py-2 px-3 sm:px-5",children:"Status"}),o.jsx("th",{className:"py-2 px-3 sm:px-5 text-center",children:"Action"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r&&Array.from({length:5}).map((ce,ee)=>o.jsxs("tr",{className:"animate-pulse",children:[o.jsx("td",{className:"py-3 px-3 sm:px-5",children:o.jsx("div",{className:"h-3 w-28 bg-gray-200 rounded"})}),o.jsx("td",{className:"py-3 px-3 sm:px-5",children:o.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded"})}),o.jsx("td",{className:"py-3 px-3 sm:px-5",children:o.jsx("div",{className:"h-3 w-24 bg-gray-200 rounded"})}),o.jsx("td",{className:"py-3 px-3 sm:px-5",children:o.jsx("div",{className:"h-3 w-40 bg-gray-200 rounded"})}),o.jsx("td",{className:"py-3 px-3 sm:px-5",children:o.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded"})}),o.jsx("td",{className:"py-3 px-3 sm:px-5",children:o.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded"})})]},`skeleton-${ee}`)),!r&&I.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"py-8",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mb-3",children:o.jsx("svg",{className:"w-7 h-7 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M5 7V5a2 2 0 012-2h10a2 2 0 012 2v2M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7"})})}),o.jsx("p",{className:"text-gray-600 font-semibold",children:"No cashiers found"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Try changing filters or add a new cashier"})]})})}),!r&&I.map((ce,ee)=>o.jsxs("tr",{className:"hover:bg-blue-50/40 transition-colors",children:[o.jsx("td",{className:"py-2.5 px-3 sm:px-5 font-medium text-gray-900",children:ce.name}),o.jsx("td",{className:"py-2.5 px-3 sm:px-5 text-gray-700",children:ce.id}),o.jsx("td",{className:"py-2.5 px-3 sm:px-5 text-gray-700",children:ce.number}),o.jsx("td",{className:"py-2.5 px-3 sm:px-5 text-gray-700",children:ce.email}),o.jsx("td",{className:"py-2.5 px-3 sm:px-5",children:o.jsx("span",{className:ce.status==="ACTIVE"?"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200":"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700 border border-red-200",children:ce.status})}),o.jsx("td",{className:"py-2.5 px-3 sm:px-5",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(He,{variant:"icon",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-full p-1.5 border border-blue-200",onClick:()=>K(ee),title:"Edit",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a4 4 0 01-1.414.828l-4.243 1.414 1.414-4.243a4 4 0 01.828-1.414z"})})}),o.jsx(He,{variant:"icon",className:"bg-red-50 hover:bg-red-100 text-red-700 rounded-full p-1.5 border border-red-200",onClick:()=>Z(ee),title:"Delete",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},ee))]})]})}),o.jsxs("div",{className:"w-full sm:hidden px-3 py-3 space-y-3",children:[r&&Array.from({length:4}).map((ce,ee)=>o.jsxs("div",{className:"animate-pulse bg-white border rounded-lg p-3 shadow-sm",children:[o.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),o.jsx("div",{className:"h-3 w-24 bg-gray-200 rounded mb-1"}),o.jsx("div",{className:"h-3 w-40 bg-gray-200 rounded"})]},`card-skel-${ee}`)),!r&&I.length===0&&o.jsxs("div",{className:"bg-white border rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-3",children:o.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7h18M5 7V5a2 2 0 012-2h10a2 2 0 012 2v2M3 7v10a2 2 0 002 2h14a2 2 0 002-2V7"})})}),o.jsx("p",{className:"text-gray-600 font-semibold",children:"No cashiers found"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Try changing filters or add a new cashier"})]}),!r&&I.map((ce,ee)=>o.jsxs("div",{className:"bg-white border rounded-lg p-3 shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ce.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",ce.id]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"mb-1",children:o.jsx("span",{className:ce.status==="ACTIVE"?"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200":"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700 border border-red-200",children:ce.status})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(He,{variant:"icon",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-full p-1.5 border border-blue-200",onClick:()=>K(ee),title:"Edit",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a4 4 0 01-1.414.828l-4.243 1.414 1.414-4.243a4 4 0 01.828-1.414z"})})}),o.jsx(He,{variant:"icon",className:"bg-red-50 hover:bg-red-100 text-red-700 rounded-full p-1.5 border border-red-200",onClick:()=>Z(ee),title:"Delete",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}),o.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:[o.jsxs("div",{className:"truncate",children:[o.jsx("strong",{children:"Number:"})," ",ce.number]}),o.jsxs("div",{className:"truncate",children:[o.jsx("strong",{children:"Email:"})," ",ce.email]})]})]},`card-${ee}`))]})]}),o.jsx("div",{className:"h-4"})]})}),o.jsx(D_,{isOpen:h,onClose:()=>m(!1),onSubmit:W,title:"Add New Cashier",submitButtonText:"Create Cashier",isLoading:A}),o.jsx(D_,{isOpen:p,onClose:()=>v(!1),onSubmit:J,title:"Edit Cashier",submitButtonText:"Update Cashier",initialData:T,isLoading:A})]})}const Bce=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(""),[i,s]=j.useState(""),[a,l]=j.useState(!1),[u,d]=j.useState(!1),[h,m]=j.useState("all"),[p,v]=j.useState("desc"),[x,C]=j.useState(!1),[A,N]=j.useState(!1),T=j.useRef(null),O=async()=>{try{l(!0),n("");const W=sessionStorage.getItem("auth_token"),J=(await at("/api/logs",{headers:en(W)})||[]).map(Z=>({id:Z.log_id,userId:Z.user_id,username:Z.username||"",action:Z.action||`Action by ${Z.username||Z.user_id}`,time:Z.date_time?new Date(Z.date_time).toLocaleString():"Invalid date",dateTime:Z.date_time,role:(Z.role==="business_owner"?"admin":Z.role||"").toLowerCase()}));t(J)}catch(W){n(W.message||"Failed to load logs")}finally{l(!1)}};j.useEffect(()=>{O()},[]),j.useEffect(()=>{const W=K=>{T.current&&!T.current.contains(K.target)&&C(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const M=j.useMemo(()=>{let W=e;if(h!=="all"&&(W=W.filter(K=>K.role===h)),i){const K=i.toLowerCase();W=W.filter(J=>(J.action||"").toLowerCase().includes(K)||(J.username||"").toLowerCase().includes(K))}return W.sort((K,J)=>{const Z=new Date(K.dateTime),de=new Date(J.dateTime);return p==="asc"?Z-de:de-Z}),W},[e,h,i,p]),D=()=>{try{const J=[["User ID","Username","Role","Action","Time"].join(","),...M.map(ee=>[ee.userId||ee.id||"",`"${(ee.username||"").replace(/"/g,'""')}"`,ee.role||"",`"${(ee.action||"").replace(/"/g,'""')}"`,`"${(ee.time||"").replace(/"/g,'""')}"`].join(","))].join(`
`),Z=new Blob([J],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a"),ce=URL.createObjectURL(Z);de.setAttribute("href",ce),de.setAttribute("download",`logs_export_${new Date().toISOString().split("T")[0]}.csv`),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)}catch(W){n("Failed to export logs as CSV"),console.error("CSV export error:",W)}},I=[{value:"all",label:"All Roles"},{value:"cashier",label:"Cashier"},{value:"admin",label:"Admin"},{value:"user",label:"User"}],$=I.find(W=>W.value===h);return M.length,o.jsx(za,{title:"LOGS",subtitle:"System activity and transaction logs",sidebar:o.jsx(_o,{}),isSidebarOpen:A,setSidebarOpen:N,className:"h-screen overflow-hidden",children:o.jsxs("div",{className:"flex-1 bg-transparent overflow-hidden p-4 flex flex-col",children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[o.jsxs("div",{className:"relative flex-1 max-w-xl w-full",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),o.jsx("input",{type:"text",placeholder:"Search logs...",value:i,onChange:W=>s(W.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3 w-full sm:w-auto",children:[o.jsxs("div",{className:"relative",ref:T,children:[o.jsxs("button",{onClick:()=>C(!x),className:"w-full sm:w-auto pl-4 pr-10 py-3 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:$.icon}),o.jsx("span",{children:$.label})]}),o.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&o.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-xl shadow-lg max-h-60 overflow-auto",children:I.map(W=>o.jsxs("button",{onClick:()=>{m(W.value),C(!1)},className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 flex items-center gap-2 transition-colors duration-150 ${h===W.value?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[o.jsx("span",{children:W.icon}),o.jsx("span",{children:W.label})]},W.value))})]}),o.jsxs(He,{onClick:()=>v(p==="asc"?"desc":"asc"),variant:"secondary",size:"md",className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),"Sort (",p==="asc"?"Oldest":"Newest",")"]}),o.jsxs(He,{onClick:D,variant:"secondary",size:"md",className:"flex items-center gap-2",disabled:M.length===0||a,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export as CSV"]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("table",{className:"min-w-full bg-white/80 backdrop-blur-md rounded-xl overflow-hidden",children:[o.jsx("thead",{className:"bg-gray-100/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200/50",children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"text-center py-8 text-gray-500",children:"Loading logs..."})}):M.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"text-center py-8 text-gray-500",children:"No logs found."})}):M.map(W=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.username}),o.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",W.userId]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W.role==="admin"||W.role==="business_owner"?"bg-purple-100 text-purple-800":W.role==="cashier"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:W.role})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:W.action}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W.time})]},W.id))})]})}),r&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2 mt-4",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:(()=>{try{const W=JSON.parse(r);return W.error||W.message||r}catch{return r}})()})]})]})})},L_=e=>o.jsx("svg",{className:`w-5 h-5 ${e.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Sp=e=>o.jsx("svg",{className:`w-5 h-5 ${e.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),cb=e=>o.jsx("svg",{className:`w-5 h-5 ${e.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),Xf=e=>o.jsx("svg",{className:`w-5 h-5 ${e.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),ub=e=>o.jsx("svg",{className:`w-5 h-5 ${e.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),B_=e=>o.jsxs("svg",{className:`w-5 h-5 ${e.className||""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),F_=()=>o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),Fce=()=>o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),$ce=()=>o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),zce=()=>o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Vce=()=>o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h4a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),db=e=>{var l,u,d,h;const t=((l=e==null?void 0:e.business)==null?void 0:l.business_id)||((u=e==null?void 0:e.user)==null?void 0:u.businessId)||((d=JSON.parse(sessionStorage.getItem("user")||"{}"))==null?void 0:d.businessId)||((h=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:h.businessId);if(!t)return{url:"N/A",qrSrc:null,businessId:null};const r=new URL(window.location.origin+"/enter-store");r.searchParams.set("business_id",String(t));const n=r.toString(),i=encodeURIComponent(n),s=`https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=${i}&qzone=2&format=png&_=${Date.now()}`,a=`https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${i}&qzone=2&format=png&_=${Date.now()}`;return{url:n,qrSrc:s,downloadSrc:a,businessId:t}},Uce=()=>{var x,C,A,N,T,O,M,D,I,$,W,K,J,Z,de,ce,ee,ue,je,pe,ie,be,me,Y,re;const[e,t]=j.useState(null),[r,n]=j.useState(!0),[i,s]=j.useState(""),[a,l]=j.useState(!1),[u,d]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0),s("");const Se=sessionStorage.getItem("auth_token");if(console.log("Auth token:",Se?"Present":"Missing"),!Se&&!localStorage.getItem("auth_token"))throw new Error("No authentication token found");console.log("Fetching profile data from /api/auth/profile");const Te=await at("/api/auth/profile",{headers:{Authorization:`Bearer ${Se}`}});console.log("Profile data received:",Te),t(Te)}catch(Se){console.error("Failed to fetch profile data:",Se),s("Failed to load profile information. Please check your connection and try again.")}finally{n(!1)}},m=Se=>Se?new Date(Se).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",p=()=>{const{downloadSrc:Se,businessId:Te}=db(e);if(!Se){alert("Business ID not found to generate QR code.");return}const Ie=document.createElement("a");Ie.href=Se,Ie.download=`store-${Te||"qr"}.png`,Ie.target="_blank",Ie.rel="noopener",Ie.click()},v=o.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-3",children:[o.jsx(He,{onClick:h,variant:"secondary",size:"sm",icon:o.jsx(F_,{}),iconPosition:"left",className:"whitespace-nowrap [&>span]:hidden sm:[&>span]:inline",children:o.jsx("span",{children:"Refresh"})}),o.jsx(He,{variant:"secondary",size:"sm",icon:o.jsx($ce,{}),iconPosition:"left",onClick:()=>alert("Change password functionality would be implemented here"),className:"whitespace-nowrap [&>span]:hidden sm:[&>span]:inline",children:o.jsx("span",{children:"Change Password"})}),o.jsx(He,{variant:"primary",size:"sm",icon:o.jsx(Fce,{}),iconPosition:"left",onClick:()=>d(!0),className:"whitespace-nowrap [&>span]:hidden sm:[&>span]:inline",children:o.jsx("span",{children:"Edit Profile"})})]});return r?o.jsx(za,{title:"PROFILE",subtitle:"Store and admin credentials",sidebar:o.jsx(_o,{}),isSidebarOpen:a,setSidebarOpen:l,className:"bg-gray-50",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Ii,{})})}):o.jsxs(za,{title:"PROFILE",subtitle:"",sidebar:o.jsx(_o,{}),headerActions:v,isSidebarOpen:a,setSidebarOpen:l,className:"bg-gray-50",children:[o.jsx(Dg,{isOpen:u,onClose:()=>d(!1),userData:e==null?void 0:e.user}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[i&&o.jsx(Zt,{className:"bg-gradient-to-br from-red-50 to-orange-50 border-red-200/50",children:o.jsxs("div",{className:"flex items-start gap-4 p-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-sm font-semibold text-red-900 mb-1",children:"Error Loading Profile"}),o.jsx("p",{className:"text-sm text-red-700",children:i})]})]})}),!r&&!i&&!e&&o.jsx(Zt,{className:"bg-gradient-to-br from-gray-50 to-blue-50/30 border-gray-200/50",children:o.jsxs("div",{className:"p-8 md:p-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-200 to-gray-300 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx("svg",{className:"w-10 h-10 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Profile Data Available"}),o.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Unable to load your profile information. Please try refreshing or check your connection."}),o.jsx(He,{onClick:h,variant:"primary",size:"md",icon:o.jsx(F_,{}),iconPosition:"left",children:"Try Again"})]})}),e&&o.jsxs(St.Fragment,{children:[o.jsx(Zt,{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border-blue-200/50 overflow-hidden",children:o.jsx("div",{className:"p-6 md:p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl flex items-center justify-center text-3xl md:text-4xl font-bold shadow-lg ring-4 ring-white/50",children:((A=(C=(x=e==null?void 0:e.user)==null?void 0:x.username)==null?void 0:C.charAt(0))==null?void 0:A.toUpperCase())||"A"}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-full border-4 border-white flex items-center justify-center",children:o.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:((N=e==null?void 0:e.user)==null?void 0:N.username)||"Admin User"}),o.jsxs("p",{className:"text-gray-600 mb-4 flex items-center gap-2",children:[o.jsx(Sp,{}),o.jsx("span",{className:"truncate",children:((T=e==null?void 0:e.user)==null?void 0:T.email)||"N/A"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-semibold bg-blue-100 text-blue-800 border border-blue-200",children:((M=(O=e==null?void 0:e.user)==null?void 0:O.role)==null?void 0:M.replace("_"," ").toUpperCase())||"ADMIN"}),((D=e==null?void 0:e.business)==null?void 0:D.business_name)&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 border border-indigo-200",children:[o.jsx(ub,{}),o.jsx("span",{className:"ml-1.5",children:e.business.business_name})]})]})]})]})})}),o.jsx(Zt,{className:"bg-white shadow-sm",children:o.jsxs("div",{className:"p-6 md:p-8",children:[o.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl flex items-center justify-center mr-3",children:o.jsx(L_,{})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Account Information"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Personal details and credentials"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Username"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-blue-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(L_,{className:"text-blue-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:((I=e==null?void 0:e.user)==null?void 0:I.username)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Email Address"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-blue-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Sp,{className:"text-blue-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1 truncate",children:(($=e==null?void 0:e.user)==null?void 0:$.email)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Role"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-800 border border-blue-200 capitalize",children:((K=(W=e==null?void 0:e.user)==null?void 0:W.role)==null?void 0:K.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Contact Number"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-blue-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(cb,{className:"text-green-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:((J=e==null?void 0:e.user)==null?void 0:J.contact_number)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Account Created"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-blue-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Xf,{className:"text-purple-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:m((Z=e==null?void 0:e.user)==null?void 0:Z.created_at)})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Last Updated"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-blue-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Xf,{className:"text-orange-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:m((de=e==null?void 0:e.user)==null?void 0:de.updated_at)})]})]})]})]}),o.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-xl flex items-center justify-center",children:o.jsx(Vce,{})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Store Entry QR Code"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Share this QR code for customer self-checkout"})]})]}),o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50/30 rounded-2xl p-6 border border-gray-200/50",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-2xl blur-xl opacity-20"}),o.jsx("img",{src:db(e).qrSrc,alt:"Store Entry QR",className:"relative w-[260px] h-[260px] border-4 border-white rounded-2xl bg-white shadow-xl"})]}),o.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"QR Code URL"}),o.jsx("div",{className:"bg-white px-4 py-3 rounded-xl border border-gray-200 break-all text-sm text-gray-700 font-mono",children:db(e).url})]}),o.jsx(He,{variant:"primary",size:"md",icon:o.jsx(zce,{}),iconPosition:"left",onClick:p,className:"w-full md:w-auto",children:"Download QR Code"})]})]})})]})]})}),o.jsx(Zt,{className:"bg-white shadow-sm",children:o.jsxs("div",{className:"p-6 md:p-8",children:[o.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-xl flex items-center justify-center mr-3",children:o.jsx(ub,{})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Store Information"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Business details and credentials"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Business Name"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(ub,{className:"text-green-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:((ce=e==null?void 0:e.business)==null?void 0:ce.business_name)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Business Type"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:((ee=e==null?void 0:e.business)==null?void 0:ee.business_type)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Country"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(B_,{className:"text-teal-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:((ue=e==null?void 0:e.business)==null?void 0:ue.country)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Business Email"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Sp,{className:"text-blue-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1 truncate",children:((je=e==null?void 0:e.business)==null?void 0:je.email)||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Business Address"}),o.jsxs("div",{className:"flex items-start gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(B_,{className:"text-indigo-600"})}),o.jsxs("span",{className:"text-gray-900 font-medium flex-1",children:[((pe=e==null?void 0:e.business)==null?void 0:pe.business_address)||"N/A",((ie=e==null?void 0:e.business)==null?void 0:ie.house_number)&&`, ${e.business.house_number}`]})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Mobile Number"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(cb,{className:"text-green-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:((be=e==null?void 0:e.business)==null?void 0:be.mobile)||"N/A"})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Business Established"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Xf,{className:"text-purple-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:m((me=e==null?void 0:e.business)==null?void 0:me.created_at)})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Last Updated"}),o.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-gray-50 to-gray-100/50 px-4 py-3 rounded-xl border border-gray-200/50 group-hover:border-green-300 transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Xf,{className:"text-orange-600"})}),o.jsx("span",{className:"text-gray-900 font-medium flex-1",children:m((Y=e==null?void 0:e.business)==null?void 0:Y.updated_at)})]})]})]})]})]})}),((re=e==null?void 0:e.business)==null?void 0:re.users)&&e.business.users.length>0&&o.jsx(o.Fragment,{children:(()=>{const Se=e.business.users.filter(Te=>Te.user_type_name==="admin"||Te.user_type_name==="cashier"||Te.role==="admin"||Te.role==="cashier"||Te.role==="business_owner");return o.jsx(Zt,{className:"bg-white shadow-sm",children:o.jsxs("div",{className:"p-6 md:p-8",children:[o.jsxs("div",{className:"flex items-center mb-6 pb-4 border-b border-gray-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br bg-blue-500 text-white rounded-xl flex items-center justify-center mr-3",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Business Team"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["All users associated with this business (",Se.length," total)"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Se.map((Te,Ie)=>{var tt,qe;return o.jsxs("div",{className:"group bg-gradient-to-br from-white to-gray-50/50 rounded-2xl p-5 border border-gray-200/50 hover:border-purple-300 hover:shadow-lg transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br bg-blue-500 text-white rounded-xl flex items-center justify-center text-lg font-bold shadow-md ring-2 ring-white",children:((qe=(tt=Te.username)==null?void 0:tt.charAt(0))==null?void 0:qe.toUpperCase())||"U"}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),o.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[o.jsx("h4",{className:"font-bold text-gray-900 truncate",children:Te.username}),o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold mt-1 ${Te.user_type_name==="admin"||Te.role==="business_owner"?"bg-red-100 text-red-800 border border-red-200":Te.user_type_name==="cashier"||Te.role==="cashier"?"bg-green-100 text-green-800 border border-green-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:Te.user_type_name||Te.role})]})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Sp,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"Email"}),o.jsx("div",{className:"font-medium text-gray-900 truncate",children:Te.email})]})]}),Te.contact_number&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(cb,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"Contact"}),o.jsx("div",{className:"font-medium text-gray-900",children:Te.contact_number})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Xf,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"Joined"}),o.jsx("div",{className:"font-medium text-gray-900",children:m(Te.created_at)})]})]})]})]},Te.user_id)})})]})})})()})]})]})]})};function qce(){const[e,t]=j.useState([]),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,l]=j.useState(!0),[u,d]=j.useState(!1),[h,m]=j.useState({});j.useEffect(()=>{p(),v()},[]);const p=async()=>{try{const O=sessionStorage.getItem("auth_token"),M=await at("/documents/pending",{headers:{Authorization:`Bearer ${O}`}});t(M)}catch(O){console.error("Error fetching pending verifications:",O)}finally{l(!1)}},v=async()=>{try{const O=sessionStorage.getItem("auth_token"),M=await at("/documents/stats",{headers:{Authorization:`Bearer ${O}`}}),D={pending:M.pending||0,approved:M.approved||0,rejected:M.rejected||0,repass:M.repass||0};m(D)}catch(O){console.error("Error fetching stats:",O)}},x=async O=>{try{const M=sessionStorage.getItem("auth_token"),D=await at(`/documents/business/${O}/verification`,{headers:{Authorization:`Bearer ${M}`}});s(D)}catch(M){console.error("Error fetching business details:",M)}},C=O=>{n(O),x(O.business_id)},A=async(O,M,D="")=>{d(!0);try{const I=sessionStorage.getItem("auth_token");await at(`/documents/document/${O}/verify`,{method:"PUT",headers:{Authorization:`Bearer ${I}`},body:JSON.stringify({status:M,notes:D})}),x(r.business_id),alert(`Document ${M} successfully`)}catch(I){console.error("Error updating document:",I),alert("Error updating document status")}finally{d(!1)}},N=async(O,M="",D="")=>{d(!0);try{const I=sessionStorage.getItem("auth_token");await at(`/documents/business/${r.business_id}/complete`,{method:"PUT",headers:{Authorization:`Bearer ${I}`},body:JSON.stringify({status:O,rejection_reason:M,resubmission_notes:D})}),alert(`Business verification ${O} successfully`),n(null),s(null),p(),v()}catch(I){console.error("Error completing verification:",I),alert("Error completing verification")}finally{d(!1)}},T=async(O,M)=>{try{const D=sessionStorage.getItem("auth_token"),$=await(await at(`/documents/download/${O}`,{headers:{Authorization:`Bearer ${D}`}},!0)).blob(),W=window.URL.createObjectURL($),K=document.createElement("a");K.style.display="none",K.href=W,K.download=M,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(W)}catch(D){console.error("Error downloading document:",D),alert("Error downloading document")}};return a?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Ii,{size:"lg"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(Zt,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(h.pending||0)+(h.approved||0)+(h.rejected||0)+(h.repass||0)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Businesses"})]})}),o.jsx(Zt,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.pending||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})}),o.jsx(Zt,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.approved||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Approved"})]})}),o.jsx(Zt,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.rejected||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})}),o.jsx(Zt,{className:"p-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:h.repass||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Repass"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(Zt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"All Businesses with Documents"}),e.length===0?o.jsx("p",{className:"text-gray-500 text-center py-8",children:"No businesses with documents"}):o.jsx("div",{className:"space-y-3",children:e.map(O=>o.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${(r==null?void 0:r.business_id)===O.business_id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>C(O),children:[o.jsx("div",{className:"font-medium",children:O.business_name}),o.jsx("div",{className:"text-sm text-gray-600",children:O.business_type}),o.jsxs("div",{className:"text-xs text-gray-500",children:[O.total_documents," documents  Status:"," ",O.verification_status]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Submitted"," ",O.verification_submitted_at?new Date(O.verification_submitted_at).toLocaleDateString():"N/A"]})]},O.business_id))})]})}),o.jsx("div",{className:"lg:col-span-2",children:r?o.jsx(Wce,{business:i,onDocumentAction:A,onCompleteVerification:N,onDownloadDocument:T,actionLoading:u}):o.jsx(Zt,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Business to Review"}),o.jsx("p",{className:"text-gray-500",children:"Choose a business from the list to review their documents."})]})})})]})]})}function Wce({business:e,onDocumentAction:t,onCompleteVerification:r,onDownloadDocument:n,actionLoading:i}){var A,N,T,O;const[s,a]=j.useState(""),[l,u]=j.useState(""),[d,h]=j.useState(!1),[m,p]=j.useState(!1);if(!e)return o.jsx(Zt,{className:"p-6",children:o.jsx("div",{className:"flex justify-center items-center h-32",children:o.jsx(Ii,{})})});const v=M=>{switch(M){case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"repass":return"text-orange-600 bg-orange-100";default:return"text-yellow-600 bg-yellow-100"}},x=(A=e.documents)==null?void 0:A.every(M=>M.verification_status==="approved"),C=(N=e.documents)==null?void 0:N.some(M=>M.verification_status==="rejected"||M.verification_status==="repass");return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Zt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Business Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),o.jsx("p",{className:"text-gray-900",children:e.business_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Business Type"}),o.jsx("p",{className:"text-gray-900",children:e.business_type})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),o.jsx("p",{className:"text-gray-900",children:e.business_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mobile"}),o.jsx("p",{className:"text-gray-900",children:e.mobile})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),o.jsxs("p",{className:"text-gray-900",children:[e.business_address,e.house_number&&`, ${e.house_number}`,","," ",e.country]})]})]})]}),o.jsxs(Zt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Submitted Documents"}),((T=e.documents)==null?void 0:T.length)===0?o.jsx("p",{className:"text-gray-500",children:"No documents uploaded"}):o.jsx("div",{className:"space-y-4",children:(O=e.documents)==null?void 0:O.map(M=>o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:M.document_type}),o.jsx("p",{className:"text-sm text-gray-600",children:M.document_name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded"," ",new Date(M.uploaded_at).toLocaleDateString()]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(M.verification_status)}`,children:M.verification_status})]}),M.verification_notes&&o.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded text-sm",children:[o.jsx("strong",{children:"Notes:"})," ",M.verification_notes]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(He,{size:"sm",variant:"outline",onClick:()=>n(M.document_id,M.document_name),children:"Download"}),M.verification_status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx(He,{size:"sm",onClick:()=>t(M.document_id,"approved"),disabled:i,children:"Approve"}),o.jsx(He,{size:"sm",variant:"outline",onClick:()=>{const D=prompt("Enter notes for rejection:");D!==null&&t(M.document_id,"rejected",D)},disabled:i,children:"Reject"}),o.jsx(He,{size:"sm",variant:"outline",onClick:()=>{const D=prompt("Enter notes for repass (document quality issues):");D!==null&&t(M.document_id,"repass",D)},disabled:i,children:"Repass"})]})]})]},M.document_id))})]}),o.jsxs(Zt,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Complete Verification"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(He,{onClick:()=>r("approved"),disabled:!x||i,className:"bg-green-600 hover:bg-green-700",children:"Approve Business"}),o.jsx(He,{variant:"outline",onClick:()=>h(!0),disabled:i,children:"Reject Application"}),o.jsx(He,{variant:"outline",onClick:()=>p(!0),disabled:i,children:"Request Resubmission"})]}),!x&&!C&&o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"All documents must be reviewed before completing verification."})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reject Application"}),o.jsx("textarea",{value:s,onChange:M=>a(M.target.value),placeholder:"Enter reason for rejection...",className:"w-full p-3 border rounded-lg resize-none h-32"}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[o.jsx(He,{variant:"outline",onClick:()=>{h(!1),a("")},children:"Cancel"}),o.jsx(He,{onClick:()=>{r("rejected",s),h(!1),a("")},disabled:!s.trim(),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Request Resubmission"}),o.jsx("textarea",{value:l,onChange:M=>u(M.target.value),placeholder:"Enter notes about document quality issues...",className:"w-full p-3 border rounded-lg resize-none h-32"}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[o.jsx(He,{variant:"outline",onClick:()=>{p(!1),u("")},children:"Cancel"}),o.jsx(He,{onClick:()=>{r("repass","",l),p(!1),u("")},disabled:!l.trim(),className:"bg-orange-600 hover:bg-orange-700",children:"Request Resubmission"})]})]})})]})}const Gce=()=>o.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Kce=()=>o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})});function Hce(){var Ke;const[e,t]=j.useState("verification"),r=[{id:"sample-1",name:"ABC Store",email:"abc@store.com",status:"approved"}],[n,i]=j.useState(r),[s,a]=j.useState(!1),[l,u]=j.useState(null),[d,h]=j.useState(""),[m,p]=j.useState({isOpen:!1,store:null}),[v,x]=j.useState(""),[C,A]=j.useState(!1),[N,T]=j.useState(""),O=gn(),M=sessionStorage.getItem("auth_token")||localStorage.getItem("token"),[D,I]=j.useState({isOpen:!1}),[$,W]=j.useState(null),[K,J]=j.useState(!1),[Z,de]=j.useState(!1),[ce,ee]=j.useState(""),[ue,je]=j.useState({username:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",contactNumber:""}),pe=(()=>{try{const Pe=sessionStorage.getItem("user");if(Pe)return JSON.parse(Pe);const ae=localStorage.getItem("user");return ae?JSON.parse(ae):{}}catch{return{}}})();j.useEffect(()=>{ie()},[]);const ie=async()=>{a(!0),h("");try{const Pe=await at("/api/superadmin/stores",{headers:{Authorization:`Bearer ${M}`}});Array.isArray(Pe)&&Pe.length>0&&i(Pe)}catch{h("Using sample data")}finally{a(!1)}},be=(Pe,ae)=>{i(_e=>_e.map(fe=>fe.id===Pe?{...fe,status:ae}:fe))},me=async Pe=>{if(!(!Pe||Pe.status==="approved")){u(Pe.id),h("");try{await at(`/api/superadmin/stores/${Pe.id}/approve`,{method:"POST",headers:{Authorization:`Bearer ${M}`}}),be(Pe.id,"approved")}catch{be(Pe.id,"approved"),h("Approve updated locally")}finally{u(null)}}},Y=async Pe=>{if(!(!Pe||Pe.status==="rejected")){u(Pe.id),h("");try{await at(`/api/superadmin/stores/${Pe.id}/reject`,{method:"POST",headers:{Authorization:`Bearer ${M}`}}),be(Pe.id,"rejected")}catch{be(Pe.id,"rejected"),h("Reject updated locally")}finally{u(null)}}},re=Pe=>{O(`/superadmin/stores/${Pe.id}`)},Se=Pe=>{p({isOpen:!0,store:Pe}),x(""),T("")},Te=async()=>{if(!(!m.store||!v)){A(!0),T("");try{await at(`/api/superadmin/stores/${m.store.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`},body:JSON.stringify({password:v})}),i(Pe=>Pe.filter(ae=>ae.id!==m.store.id)),p({isOpen:!1,store:null}),h("")}catch(Pe){T(Pe.message||"Unknown error")}finally{A(!1)}}},Ie=()=>{p({isOpen:!1,store:null}),x(""),T("")},tt=async()=>{var Pe,ae,_e;I({isOpen:!0}),ee(""),J(!0);try{const fe=await at("/api/auth/profile",{headers:{Authorization:`Bearer ${M}`}});W(fe),je({username:((Pe=fe==null?void 0:fe.user)==null?void 0:Pe.username)||"",email:((ae=fe==null?void 0:fe.user)==null?void 0:ae.email)||"",currentPassword:"",newPassword:"",confirmPassword:"",contactNumber:((_e=fe==null?void 0:fe.user)==null?void 0:_e.contact_number)||""})}catch(fe){ee("Failed to load profile data"),console.error("Profile fetch error:",fe)}finally{J(!1)}},qe=()=>{I({isOpen:!1}),ee(""),je({username:"",email:"",currentPassword:"",newPassword:"",confirmPassword:"",contactNumber:""})},Fe=Pe=>{const{name:ae,value:_e}=Pe.target;je(fe=>({...fe,[ae]:_e})),ee("")},Re=async()=>{if(ee(""),!ue.username.trim()){ee("Username is required");return}if(!ue.email.trim()){ee("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue.email)){ee("Please enter a valid email address");return}if(ue.newPassword){if(!ue.currentPassword){ee("Current password is required to change password");return}if(ue.newPassword.length<6){ee("New password must be at least 6 characters");return}if(ue.newPassword!==ue.confirmPassword){ee("New passwords do not match");return}}de(!0);try{const ae={username:ue.username,email:ue.email,contact_number:ue.contactNumber||null};ue.newPassword&&(ae.currentPassword=ue.currentPassword,ae.newPassword=ue.newPassword),await at("/api/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify(ae)});const _e={...pe,name:ue.username,email:ue.email};sessionStorage.setItem("user",JSON.stringify(_e)),localStorage.setItem("user",JSON.stringify(_e)),alert("Profile updated successfully!"),qe(),window.location.reload()}catch(ae){ee(ae.message||"Failed to update profile. Please try again."),console.error("Profile update error:",ae)}finally{de(!1)}};return o.jsxs(Ri,{variant:"gradientBlue",pattern:"dots",floatingElements:!0,overlay:!0,children:[o.jsx("div",{className:"flex h-screen overflow-hidden",children:o.jsxs("div",{className:"flex-1 flex flex-col h-screen",children:[o.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between px-3 sm:px-4 md:px-6 py-3 sm:py-4 bg-white/95 backdrop-blur-md border-b border-gray-200/50 shadow-sm gap-2 sm:gap-3",children:[o.jsx("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 min-w-0 flex-1",children:o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 bg-clip-text text-transparent tracking-tight truncate",children:"Super Admin Dashboard"}),o.jsx("p",{className:"text-xs text-gray-500 font-medium truncate",children:"Manage stores and verifications"})]})}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[o.jsx("button",{onClick:tt,className:"p-2.5 rounded-lg bg-white border border-blue-200 shadow-sm hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 group",title:"Edit Profile",children:o.jsx(Gce,{})}),o.jsx("button",{onClick:()=>{sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user"),localStorage.removeItem("auth_token"),localStorage.removeItem("user"),O("/")},className:"p-2.5 rounded-lg bg-white border border-red-200 shadow-sm hover:bg-red-50 hover:border-red-300 transition-all duration-200 group",title:"Logout",children:o.jsx(Kce,{})})]})]}),o.jsxs("main",{className:"flex-1 p-3 sm:p-4 md:p-6 lg:p-8 overflow-auto bg-gradient-to-br from-gray-50 via-blue-50/30 to-green-50/20",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200/50 rounded-xl mb-4 sm:mb-5 md:mb-6 shadow-sm overflow-hidden",children:o.jsxs("div",{className:"flex overflow-x-auto",children:[o.jsxs("button",{onClick:()=>t("verification"),className:`relative px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4 font-semibold text-xs sm:text-sm transition-all duration-300 whitespace-nowrap flex-shrink-0 ${e==="verification"?"text-blue-700 bg-blue-50/50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50/50"}`,children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-1.5 sm:gap-2",children:[o.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{className:"hidden sm:inline",children:"Document Verification"}),o.jsx("span",{className:"sm:hidden",children:"Verification"})]}),e==="verification"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-600 to-blue-700"})]}),o.jsxs("button",{onClick:()=>t("stores"),className:`relative px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4 font-semibold text-xs sm:text-sm transition-all duration-300 whitespace-nowrap flex-shrink-0 ${e==="stores"?"text-blue-700 bg-blue-50/50":"text-gray-600 hover:text-blue-600 hover:bg-gray-50/50"}`,children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-1.5 sm:gap-2",children:[o.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),o.jsx("span",{className:"hidden sm:inline",children:"Store Management"}),o.jsx("span",{className:"sm:hidden",children:"Stores"})]}),e==="stores"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-600 to-green-600"})]})]})}),e==="verification"?o.jsx(qce,{}):o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-sm overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50/50 via-blue-50/30 to-green-50/20 border-b border-gray-200/50 px-4 sm:px-5 md:px-6 py-4 sm:py-4.5 md:py-5",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent truncate",children:"Store Management"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 truncate",children:"Manage and monitor all registered stores"})]}),o.jsx("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:o.jsxs("button",{onClick:ie,className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-white border border-gray-300 rounded-lg text-xs sm:text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md whitespace-nowrap",children:[o.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),o.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),o.jsx("span",{className:"sm:hidden",children:"Refresh"})]})})]})}),o.jsxs("div",{className:"p-4 sm:p-5 md:p-6",children:[d&&o.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[o.jsx("svg",{className:"w-5 h-5 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"text-red-700 text-sm font-medium",children:(()=>{try{const Pe=JSON.parse(d);return Pe.error||Pe.message||d}catch{return d}})()})]}),s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Loading stores..."})]})}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No stores found"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Get started by approving new store registrations."})]}):o.jsx("div",{className:"overflow-x-auto -mx-4 sm:-mx-5 md:-mx-6 px-4 sm:px-5 md:px-6",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 sm:py-4 px-2 sm:px-3 md:px-4 text-xs font-semibold text-gray-700 uppercase tracking-wider min-w-[150px]",children:"Store Name"}),o.jsx("th",{className:"text-left py-3 sm:py-4 px-2 sm:px-3 md:px-4 text-xs font-semibold text-gray-700 uppercase tracking-wider min-w-[180px]",children:"Email"}),o.jsx("th",{className:"text-left py-3 sm:py-4 px-2 sm:px-3 md:px-4 text-xs font-semibold text-gray-700 uppercase tracking-wider min-w-[100px]",children:"Status"}),o.jsx("th",{className:"text-right py-3 sm:py-4 px-2 sm:px-3 md:px-4 text-xs font-semibold text-gray-700 uppercase tracking-wider min-w-[200px]",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(Pe=>{var ae,_e;return o.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors duration-150 group",children:[o.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 md:px-4",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[o.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-semibold text-xs sm:text-sm shadow-sm flex-shrink-0",children:((_e=(ae=Pe.name)==null?void 0:ae.charAt(0))==null?void 0:_e.toUpperCase())||"S"}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900 group-hover:text-blue-700 transition-colors truncate",children:Pe.name})})]})}),o.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 md:px-4",children:o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate max-w-[200px] sm:max-w-none",children:Pe.email})}),o.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 md:px-4",children:Pe.status==="approved"?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),"Active"]}):Pe.status==="suspended"?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700 border border-yellow-200",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-600"}),"Suspended"]}):Pe.status==="rejected"?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold bg-red-100 text-red-700 border border-red-200",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-600"}),"Rejected"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-200",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 animate-pulse"}),"Pending"]})}),o.jsx("td",{className:"py-3 sm:py-4 px-2 sm:px-3 md:px-4",children:o.jsxs("div",{className:"flex items-center justify-end gap-1 sm:gap-1.5 md:gap-2 flex-wrap",children:[o.jsx("button",{onClick:()=>re(Pe),className:"p-1.5 sm:p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 flex-shrink-0",title:"View Details",children:o.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),o.jsx("button",{onClick:()=>me(Pe),disabled:Pe.status==="approved"||l===Pe.id,className:`px-2 sm:px-2.5 md:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 whitespace-nowrap flex-shrink-0 ${Pe.status==="approved"?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200 hover:border-green-300 shadow-sm hover:shadow"}`,title:Pe.status==="approved"?"Already Approved":"Approve Store",children:l===Pe.id?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"hidden sm:inline",children:"Processing..."}),o.jsx("span",{className:"sm:hidden",children:"..."})]}):Pe.status==="approved"?"Approved":"Approve"}),o.jsx("button",{onClick:()=>Y(Pe),disabled:Pe.status==="rejected"||l===Pe.id,className:`px-2 sm:px-2.5 md:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 whitespace-nowrap flex-shrink-0 ${Pe.status==="rejected"?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200 hover:border-red-300 shadow-sm hover:shadow"}`,title:Pe.status==="rejected"?"Already Rejected":"Reject Store",children:l===Pe.id?o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"hidden sm:inline",children:"Processing..."}),o.jsx("span",{className:"sm:hidden",children:"..."})]}):Pe.status==="rejected"?"Rejected":"Reject"}),o.jsx("button",{onClick:()=>Se(Pe),disabled:l===Pe.id,className:"p-1.5 sm:p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all duration-200 border border-transparent hover:border-red-200 flex-shrink-0",title:"Delete Store",children:o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},Pe.id)})})]})})]})]})]})]})}),o.jsx(qh,{isOpen:m.isOpen,onClose:Ie,title:"",size:"md",children:o.jsxs("div",{className:"p-0",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-50 via-red-50/80 to-orange-50/50 border-b border-red-100 px-6 py-5 rounded-t-2xl",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Confirm Store Deletion"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-red-50/50 border border-red-200 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-1",children:["You are about to delete:"," ",o.jsx("span",{className:"text-red-700 font-bold",children:(Ke=m.store)==null?void 0:Ke.name})]}),o.jsx("p",{className:"text-sm text-red-700",children:"All associated data including users, products, inventory, and sales records will be permanently deleted."})]})]})}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"deletePassword",className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[o.jsx("div",{className:"w-5 h-5 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),"Enter your password to confirm"]}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"password",id:"deletePassword",value:v,onChange:Pe=>x(Pe.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your password",disabled:C})}),N&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:N})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:Ie,disabled:C,className:"px-5 py-2.5 rounded-lg text-sm font-semibold text-gray-700 bg-white border-2 border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:Te,disabled:!v||C,className:"px-5 py-2.5 rounded-lg text-sm font-semibold text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:C?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Store"]})})]})]})]})}),o.jsx(qh,{isOpen:D.isOpen,onClose:qe,title:"",size:"md",children:o.jsxs("div",{className:"p-0",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 via-blue-50/80 to-green-50/50 border-b border-blue-100 px-5 py-4 rounded-t-2xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Edit Super Admin Credentials"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Update your account information and security settings"})]})]})}),o.jsx("div",{className:"p-5",children:K?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mb-3"}),o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Loading profile data..."})]}):o.jsxs("div",{className:"space-y-4",children:[ce&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:ce.replace(/^\{|\}$/g,"")})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[o.jsx("div",{className:"w-5 h-5 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Personal Information"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"username",className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 mb-1.5",children:[o.jsx("div",{className:"w-4 h-4 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),"Username ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"username",name:"username",value:ue.username,onChange:Fe,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-gray-50 focus:bg-white text-sm",placeholder:"Enter username",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 mb-1.5",children:[o.jsx("div",{className:"w-4 h-4 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),"Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",id:"email",name:"email",value:ue.email,onChange:Fe,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-gray-50 focus:bg-white text-sm",placeholder:"Enter email",required:!0})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"contactNumber",className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 mb-1.5",children:[o.jsx("div",{className:"w-4 h-4 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),"Contact Number"]}),o.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:ue.contactNumber,onChange:Fe,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-gray-50 focus:bg-white text-sm",placeholder:"Enter contact number (optional)"})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-1.5",children:[o.jsx("div",{className:"w-5 h-5 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Change Password"}),o.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Optional)"})]}),o.jsx("div",{className:"bg-green-50/50 border border-green-100 rounded-lg p-2.5 mb-3",children:o.jsxs("p",{className:"text-xs text-green-700 flex items-center gap-1.5",children:[o.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Leave password fields empty if you don't want to change your password"]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"currentPassword",className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 mb-1.5",children:[o.jsx("div",{className:"w-4 h-4 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),"Current Password"]}),o.jsx(bl,{name:"currentPassword",value:ue.currentPassword,onChange:Fe,placeholder:"Enter current password",className:"w-full text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"newPassword",className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 mb-1.5",children:[o.jsx("div",{className:"w-4 h-4 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),"New Password"]}),o.jsx(bl,{name:"newPassword",value:ue.newPassword,onChange:Fe,placeholder:"Min 6 characters",className:"w-full text-sm"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"confirmPassword",className:"flex items-center gap-1.5 text-xs font-semibold text-gray-700 mb-1.5",children:[o.jsx("div",{className:"w-4 h-4 bg-white border-2 border-blue-500 rounded flex items-center justify-center",children:o.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),"Confirm Password"]}),o.jsx(bl,{name:"confirmPassword",value:ue.confirmPassword,onChange:Fe,placeholder:"Confirm new password",className:"w-full text-sm"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:qe,disabled:Z,className:"px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 bg-white border-2 border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:Re,disabled:Z,className:"px-4 py-2 rounded-lg text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Z?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-3.5 h-3.5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})})]})})]})}function Yce(){var x,C,A,N,T,O,M,D,I;const{id:e}=fB(),t=gn(),[r,n]=j.useState(null),[i,s]=j.useState(!0),[a,l]=j.useState(""),[u,d]=j.useState(!1),h={id:"sample-1",name:"John Doe",firstName:"John",lastName:"Doe",email:"john.doe@example.com",phone:"+63 963 909 2810",storeName:"John Doe",location:"123 Main St, City",established:"2020",documents:[{name:"Business License.pdf",url:"#"},{name:"Tax Certificate.pdf",url:"#"}],verifiedDocuments:[{name:"ID Verification.pdf",url:"#"},{name:"Address Proof.pdf",url:"#"}],account:{username:"admin_abc",passwordHint:"******** (Last updated: 07/01/2025)",lastLogin:"07/15/2025 02:51 PST",createdAt:"06/15/2020",lastPasswordChange:"07/01/2025 09:15 PST",loginAttemptsToday:2,storeAddress:"Brgy 18, Rizal St. Cabangan Legazpi City",status:"Active",sessionTimeout:"30 minutes"}};j.useEffect(()=>{(async()=>{s(!0),l("");try{const W=sessionStorage.getItem("auth_token"),K=await at(`/api/superadmin/stores/${e}`,{headers:W?{Authorization:`Bearer ${W}`}:void 0});K&&typeof K=="object"&&Object.keys(K).length?n(K):n(h)}catch{l("Using sample data"),n(h)}finally{s(!1)}})()},[e]);const m=async()=>{if(!(!r||u)){d(!0);try{const $=sessionStorage.getItem("auth_token");await at(`/api/superadmin/stores/${e}/approve`,{method:"POST",headers:{Authorization:`Bearer ${$}`}}),n(W=>({...W,account:{...W.account,status:"Active"},status:"approved"})),alert("Business approved successfully!")}catch($){l("Failed to approve business: "+($.message||"Unknown error"))}finally{d(!1)}}},p=async()=>{if(!(!r||u)&&confirm("Are you sure you want to reject this application?")){d(!0);try{const $=sessionStorage.getItem("auth_token");await at(`/api/superadmin/stores/${e}/reject`,{method:"POST",headers:{Authorization:`Bearer ${$}`}}),n(W=>({...W,account:{...W.account,status:"Rejected"},status:"rejected"})),alert("Application rejected successfully!")}catch($){l("Failed to reject application: "+($.message||"Unknown error"))}finally{d(!1)}}},v=async()=>{if(!(!r||u)){d(!0);try{const $=sessionStorage.getItem("auth_token");await at(`/api/superadmin/stores/${e}/request-resubmission`,{method:"POST",headers:{Authorization:`Bearer ${$}`}}),alert("Resubmission requested successfully!")}catch($){l("Failed to request resubmission: "+($.message||"Unknown error"))}finally{d(!1)}}};return i?o.jsx(Ri,{variant:"gradientBlue",pattern:"dots",floatingElements:!0,overlay:!0,children:o.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8",children:o.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-2 sm:border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 font-medium text-center",children:"Loading store details..."})]})})}):o.jsx(Ri,{variant:"gradientBlue",pattern:"dots",floatingElements:!0,overlay:!0,children:o.jsx("div",{className:"min-h-screen p-3 sm:p-4 md:p-6 lg:p-8 bg-gradient-to-br from-gray-50 via-blue-50/30 to-green-50/20",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 p-4 sm:p-5 md:p-6 mb-4 sm:mb-5 md:mb-6 overflow-hidden",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg ring-2 sm:ring-4 ring-blue-100/50 flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 bg-clip-text text-transparent break-words",children:"Tenant Review"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5 sm:mt-1",children:"Comprehensive business verification details"})]})]}),o.jsxs("button",{onClick:()=>t("/superadmin"),className:"inline-flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-white border border-gray-300 rounded-lg text-xs sm:text-sm font-semibold text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md w-full sm:w-auto touch-manipulation",children:[o.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),o.jsx("span",{className:"whitespace-nowrap",children:"Back to List"})]})]})}),a&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 sm:p-4 mb-4 sm:mb-5 md:mb-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("span",{className:"text-sm sm:text-base text-red-700 font-medium break-words",children:a})]})}),o.jsx("section",{className:"mb-4 sm:mb-5 md:mb-6",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50/50 via-blue-50/30 to-blue-50/20 border-b border-gray-200/50 px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 bg-blue-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:o.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsx("h2",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Personal Overview"})]})}),o.jsx("div",{className:"p-4 sm:p-5 md:p-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-indigo-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"First Name"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:r.firstName||r.name||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-blue-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Last Name"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:r.lastName||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-blue-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Email"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-all",children:r.email||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-indigo-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Phone"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:r.phone||"N/A"})]})]})})]})})]})}),o.jsx("section",{className:"mb-4 sm:mb-5 md:mb-6",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-50/50 via-green-50/30 to-green-50/20 border-b border-gray-200/50 px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:o.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),o.jsx("h2",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Business Information"})]})}),o.jsx("div",{className:"p-4 sm:p-5 md:p-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-emerald-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Store Name"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:r.storeName||r.name||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsxs("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Location"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:r.location||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Established"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:r.established||"N/A"})]})]})})]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5 md:gap-6 mb-4 sm:mb-5 md:mb-6",children:[o.jsx("section",{children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 overflow-hidden h-full",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50/50 via-blue-50/30 to-blue-50/20 border-b border-gray-200/50 px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:o.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsx("h2",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Business Documents"})]})}),o.jsxs("div",{className:"p-4 sm:p-5 md:p-6 space-y-2 sm:space-y-3",children:[(r.documents||[]).map(($,W)=>o.jsxs("a",{href:$.url||"#",className:"flex items-center gap-2 sm:gap-3 md:gap-4 p-3 sm:p-3.5 md:p-4 bg-gradient-to-r from-blue-50/50 to-blue-50/30 hover:from-blue-100/50 hover:to-blue-100/30 text-blue-900 rounded-xl border border-blue-100/50 hover:border-blue-200 transition-all duration-300 hover:shadow-md group touch-manipulation",download:!0,children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:$.name}),o.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Click to download"})]}),o.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-blue-500 group-hover:text-blue-700 transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]},W)),(!r.documents||r.documents.length===0)&&o.jsxs("div",{className:"text-center py-8 sm:py-10 md:py-12 text-gray-500",children:[o.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mx-auto mb-3 sm:mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No documents available"})]})]})]})}),o.jsx("section",{children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 overflow-hidden h-full",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-50/50 via-green-50/30 to-green-50/20 border-b border-gray-200/50 px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:o.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h2",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Verified Documents"})]})}),o.jsxs("div",{className:"p-4 sm:p-5 md:p-6 space-y-2 sm:space-y-3",children:[(r.verifiedDocuments||[]).map(($,W)=>o.jsxs("a",{href:$.url||"#",className:"flex items-center gap-2 sm:gap-3 md:gap-4 p-3 sm:p-3.5 md:p-4 bg-gradient-to-r from-green-50/50 to-green-50/30 hover:from-green-100/50 hover:to-green-100/30 text-green-900 rounded-xl border border-green-100/50 hover:border-green-200 transition-all duration-300 hover:shadow-md group touch-manipulation",download:!0,children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:$.name}),o.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Verified & ready"})]}),o.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-green-500 group-hover:text-green-700 transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]},W)),(!r.verifiedDocuments||r.verifiedDocuments.length===0)&&o.jsxs("div",{className:"text-center py-8 sm:py-10 md:py-12 text-gray-500",children:[o.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mx-auto mb-3 sm:mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No verified documents"})]})]})]})})]}),o.jsx("section",{className:"mb-4 sm:mb-5 md:mb-6",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50/50 via-blue-50/30 to-green-50/20 border-b border-gray-200/50 px-4 sm:px-5 md:px-6 py-3 sm:py-3.5 md:py-4",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 md:w-10 md:h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:o.jsxs("svg",{className:"w-4 h-4 sm:w-4 sm:h-4 md:w-5 md:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("h2",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Account & Security"})]})}),o.jsx("div",{className:"p-4 sm:p-5 md:p-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-blue-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Username"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((x=r.account)==null?void 0:x.username)||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Password"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((C=r.account)==null?void 0:C.passwordHint)||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-blue-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Last Login"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((A=r.account)==null?void 0:A.lastLogin)||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Created"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((N=r.account)==null?void 0:N.createdAt)||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-blue-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Password Changed"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((T=r.account)==null?void 0:T.lastPasswordChange)||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Login Attempts"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((O=r.account)==null?void 0:O.loginAttemptsToday)??"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300 sm:col-span-2 lg:col-span-3",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsxs("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Store Address"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((M=r.account)==null?void 0:M.storeAddress)||"N/A"})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-green-50/50 to-green-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-green-100/50 hover:border-green-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Status"}),o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),((D=r.account)==null?void 0:D.status)||r.status||"N/A"]})]})]})}),o.jsx("div",{className:"group bg-gradient-to-br from-blue-50/50 to-blue-50/30 rounded-xl p-3 sm:p-4 md:p-5 border border-blue-100/50 hover:border-blue-200 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-10 h-10 sm:w-11 sm:h-11 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 sm:w-5 sm:h-5 md:w-6 md:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-0.5 sm:mb-1",children:"Session Timeout"}),o.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 break-words",children:((I=r.account)==null?void 0:I.sessionTimeout)||"N/A"})]})]})})]})})]})}),o.jsx("section",{className:"mb-4 sm:mb-5 md:mb-6",children:o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-gray-200/50 overflow-hidden",children:o.jsxs("div",{className:"p-4 sm:p-5 md:p-6",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-5",children:"Complete Verification"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsx("button",{onClick:m,disabled:u||(r==null?void 0:r.status)==="approved",className:"flex-1 px-4 sm:px-6 py-3 sm:py-3.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 touch-manipulation",children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve Business"]})}),o.jsx("button",{onClick:p,disabled:u||(r==null?void 0:r.status)==="rejected",className:"flex-1 px-4 sm:px-6 py-3 sm:py-3.5 bg-white border-2 border-blue-500 text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 touch-manipulation",children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Reject Application"]})}),o.jsx("button",{onClick:v,disabled:u,className:"flex-1 px-4 sm:px-6 py-3 sm:py-3.5 bg-white border-2 border-blue-500 text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 touch-manipulation",children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Request Resubmission"]})})]})]})})})]})})})}function Qce(){const e=gn(),[t,r]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[n,i]=j.useState({}),[s,a]=j.useState(!1),[l,u]=j.useState(""),[d,h]=j.useState(!1),[m,p]=j.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),v=A=>{const{name:N,value:T}=A.target;r({...t,[N]:T}),n[N]&&i({...n,[N]:""}),N==="password"&&p({length:T.length>=8,uppercase:/[A-Z]/.test(T),lowercase:/[a-z]/.test(T),number:/\d/.test(T),special:/[!@#$%^&*(),.?":{}|<>]/.test(T)})},x=()=>{const A={};return t.name.trim()||(A.name="Full name is required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(A.email="Please enter a valid email address"):A.email="Email address is required",t.password?t.password.length<8?A.password="Password must be at least 8 characters long":Object.values(m).every(Boolean)||(A.password="Password does not meet security requirements"):A.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(A.confirmPassword="Passwords do not match"):A.confirmPassword="Please confirm your password",i(A),Object.keys(A).length===0},C=async A=>{if(A.preventDefault(),!!x()){a(!0),u("");try{const N=await at("/api/auth/setup/superadmin",{method:"POST",body:JSON.stringify({name:t.name.trim(),email:t.email.trim(),password:t.password,confirmPassword:t.confirmPassword})});h(!0),setTimeout(()=>{e("/login?role=admin&setup=complete")},3e3)}catch(N){u(N.message||"Setup failed. Please try again.")}finally{a(!1)}}};return d?o.jsx(Ri,{variant:"gradientGreen",pattern:"dots",overlay:!0,floatingElements:!0,children:o.jsx("main",{className:"flex h-screen items-center justify-center px-2 relative z-10",children:o.jsxs(Zt,{variant:"glass",className:"w-full max-w-md p-8 text-center animate-fadeIn",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),o.jsx($s,{variant:"light",size:"lg",className:"mb-4",children:"Setup Complete!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Your SuperAdmin account has been created successfully."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]}),o.jsx(Ii,{size:"sm"})]})})}):o.jsxs(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:[o.jsx("main",{className:"flex h-screen items-center justify-center px-2 relative z-10 overflow-hidden",children:o.jsxs(Zt,{variant:"glass",className:"w-full max-w-4xl flex flex-col md:flex-row overflow-hidden p-0 animate-fadeIn",children:[o.jsxs("aside",{className:"hidden md:flex flex-col justify-center items-center bg-gradient-to-br from-blue-500 via-blue-300 to-blue-500 w-1/2 p-15 gap-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 -z-10 pointer-events-none",children:o.jsx("div",{className:"w-full h-full bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.3)_1px,transparent_0)] bg-[length:20px_20px]"})}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsxs($s,{variant:"white",size:"xl",className:"mb-4 mt-4 text-center",children:[o.jsx(V0,{size:64,className:"mb-10"}),"Initial Setup"]}),o.jsx("p",{className:"text-white/90 text-center text-lg max-w-xs font-medium leading-relaxed mb-4",children:"Welcome to eKahera! Let's create your SuperAdmin account to get started."}),o.jsxs("div",{className:"text-white/80 text-sm space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Full system access"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Manage all stores"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Advanced analytics"})]})]})]})]}),o.jsx("section",{className:"w-full md:w-1/2 flex flex-col justify-center items-center p-8 md:p-12 bg-white/95 backdrop-blur-sm",children:o.jsxs("div",{className:"w-full max-w-sm",children:[o.jsx($s,{variant:"light",size:"lg",className:"mb-8 text-center",children:"Create SuperAdmin"}),o.jsxs("form",{onSubmit:C,className:"w-full flex flex-col gap-6",noValidate:!0,children:[o.jsx(Bs,{name:"name",value:t.name,onChange:v,placeholder:"Enter your full name",type:"text",error:n.name,autoComplete:"name",required:!0}),o.jsx(Bs,{name:"email",value:t.email,onChange:v,placeholder:"Enter your email address",type:"email",error:n.email,autoComplete:"email",required:!0}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(bl,{name:"password",value:t.password,onChange:v,placeholder:"Create a strong password",error:n.password,autoComplete:"new-password",required:!0}),t.password&&o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsx("div",{className:"text-gray-600 font-medium",children:"Password Requirements:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[o.jsxs("div",{className:`flex items-center gap-1 ${m.length?"text-green-600":"text-gray-400"}`,children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"8+ chars"})]}),o.jsxs("div",{className:`flex items-center gap-1 ${m.uppercase?"text-green-600":"text-gray-400"}`,children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Uppercase"})]}),o.jsxs("div",{className:`flex items-center gap-1 ${m.lowercase?"text-green-600":"text-gray-400"}`,children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Lowercase"})]}),o.jsxs("div",{className:`flex items-center gap-1 ${m.number?"text-green-600":"text-gray-400"}`,children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Number"})]}),o.jsxs("div",{className:`flex items-center gap-1 ${m.special?"text-green-600":"text-gray-400"}`,children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Special (!@#$)"})]})]})]})]}),o.jsx(bl,{name:"confirmPassword",value:t.confirmPassword,onChange:v,placeholder:"Confirm your password",error:n.confirmPassword,autoComplete:"new-password",required:!0}),l&&o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-3 flex items-start gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("p",{className:"text-sm font-medium text-red-700",children:l.replace(/^\{|\}$/g,"")})]}),o.jsxs(He,{type:"submit",variant:"primary",disabled:s||!Object.values(m).every(Boolean),className:"w-full flex items-center justify-center h-12 mt-4 text-lg font-medium transition-all duration-300 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]",children:[s&&o.jsx(Ii,{size:"sm",className:"mr-2"}),s?"Creating Account...":"Create SuperAdmin Account"]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"This account will have full system access"})})]})})]})}),o.jsx("style",{children:`
        html, body, #root {
          height: 100%;
          margin: 0;
          padding: 0;
          overflow: hidden; /* No scroll */
        }
      `})]})}function Jce(){const e=j.useMemo(()=>{try{return JSON.parse(sessionStorage.getItem("user")||"{}")}catch{return{}}},[]),t=(e==null?void 0:e.businessId)||(e==null?void 0:e.business_id),[r,n]=j.useState(()=>String(Date.now())),i=j.useRef(null),s=j.useMemo(()=>{const u=new URL(window.location.origin+"/enter-store");return t&&u.searchParams.set("business_id",String(t)),u.toString()},[t]),a=j.useMemo(()=>`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(s)}&qzone=2&format=png&_=${r}`,[s,r]),l=()=>{if(!i.current)return;const u=document.createElement("a");u.href=a,u.download=`store-${t||"qr"}.png`,u.target="_blank",u.rel="noopener",u.click()};return o.jsx(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"pt-20 px-4",children:o.jsx(U0,{})}),o.jsxs("div",{className:"px-4 mt-6 grid gap-4",children:[o.jsxs(Zt,{className:"p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"Store QR"}),o.jsx("div",{className:"text-blue-700 mt-1",children:"Customers scan this once when they enter your store."})]}),o.jsx(Zt,{className:"p-6 flex flex-col items-center gap-4",children:t?o.jsxs(o.Fragment,{children:[o.jsx("img",{ref:i,src:a,alt:"Store QR",className:"w-[300px] h-[300px] border rounded-xl bg-white"}),o.jsx("div",{className:"text-blue-800 break-all text-sm",children:s}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(He,{label:"Download PNG",variant:"primary",onClick:l}),o.jsx(He,{label:"Regenerate",variant:"secondary",onClick:()=>n(String(Date.now()))})]})]}):o.jsx("div",{className:"text-red-700",children:"Business ID not found. Please ensure you're logged in as an admin."})})]})]})})}function Xce(){const e=gn(),t=new URLSearchParams(window.location.search),r=t.get("tn"),n=t.get("tid"),i=t.get("total"),s=localStorage.getItem("business_id"),a=JSON.parse(sessionStorage.getItem("user")||"{}"),l=j.useMemo(()=>JSON.stringify({t:"receipt",tn:r,tid:n?Number(n):null,total:i?Number(i):0,b:s?Number(s):null}),[r,n,i,s]),u=j.useMemo(()=>`https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=${encodeURIComponent(l)}&qzone=2&format=png&_=${Date.now()}`,[l]);return o.jsx(Ri,{variant:"gradientBlue",pattern:"dots",overlay:!0,floatingElements:!0,children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx("div",{className:"pt-20 px-4",children:o.jsx(U0,{})}),o.jsxs("div",{className:"px-4 mt-6 grid gap-4",children:[o.jsxs(Zt,{className:"p-6",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"E-Receipt"}),o.jsx("div",{className:"text-blue-700 mt-1",children:"Thank you for your purchase."})]}),o.jsxs(Zt,{className:"p-6 space-y-3",children:[o.jsxs("div",{className:"text-blue-800",children:["Transaction No.: ",o.jsx("span",{className:"font-bold",children:r})]}),o.jsxs("div",{className:"text-blue-800",children:["Total: ",o.jsxs("span",{className:"font-bold",children:["",Number(i||0).toFixed(2)]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("img",{src:u,alt:"Receipt QR",className:"w-[260px] h-[260px] border rounded-xl bg-white"}),o.jsx("div",{className:"text-blue-700 text-sm mt-2",children:"QR contains a summary of this transaction."})]}),o.jsx("div",{className:"pt-4",children:o.jsx("button",{onClick:()=>{a&&a.role==="cashier"?e("/cashier-pos"):e("/pos")},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200",children:"Proceed"})})]})]})]})})}const Zce=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(""),[a,l]=j.useState(null);j.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0),s("");const v=sessionStorage.getItem("auth_token"),x=JSON.parse(sessionStorage.getItem("user")||"{}"),C=x.businessId||x.business_id;if(!v)throw new Error("No authentication token found");if(!C)throw new Error("Business ID not found");const A=await at(`/documents/business/${C}`,{headers:en(v)});t(Array.isArray(A.documents)?A.documents:[])}catch(v){console.error("Failed to fetch documents:",v),s(v.message||"Failed to load documents. Please check your connection and try again.")}finally{n(!1)}},d=async(v,x)=>{l(v);try{const C=sessionStorage.getItem("auth_token"),N=await(await at(`/documents/download/${v}`,{headers:en(C)},!0)).blob(),T=window.URL.createObjectURL(N),O=document.createElement("a");O.style.display="none",O.href=T,O.download=x,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(T)}catch(C){console.error("Error downloading document:",C),alert("Error downloading document")}finally{l(null)}},h=v=>{switch(v){case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"repass":return"text-orange-600 bg-orange-100";default:return"text-yellow-600 bg-yellow-100"}},m=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",p=o.jsx("div",{className:"flex flex-wrap gap-3",children:o.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Refresh Documents"})});return r?o.jsx(za,{title:"DOCUMENTS",subtitle:"View and manage your business documents",sidebar:o.jsx(_o,{}),className:"bg-gray-50",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Ii,{})})}):o.jsx(za,{title:"DOCUMENTS",subtitle:"View and manage your business documents",sidebar:o.jsx(_o,{}),headerActions:p,className:"bg-gray-50",children:o.jsxs("div",{className:"p-6 space-y-6",children:[i&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"w-5 h-5 text-red-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),o.jsx("p",{className:"text-red-800 text-sm",children:i})]})}),!r&&!i&&e.length===0&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Documents Available"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't uploaded any business documents yet."}),o.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Refresh"})]}),e.length>0&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>o.jsx(Zt,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:v.document_type}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:v.document_name})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(v.verification_status)}`,children:v.verification_status})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Uploaded:"}),o.jsx("div",{className:"text-gray-900",children:m(v.uploaded_at)})]}),v.verification_notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("div",{className:"text-gray-900 mt-1",children:v.verification_notes})]})]}),o.jsx(He,{onClick:()=>d(v.document_id,v.document_name),disabled:a===v.document_id,className:"w-full",size:"sm",children:a===v.document_id?"Downloading...":"Download"})]})},v.document_id))})]})})};function eue(){const e=gn(),t=()=>{e("/")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full text-center",children:[o.jsx("div",{className:"mb-8",children:o.jsx("img",{src:fw,alt:"eKahera Logo",className:"mx-auto w-24 h-24"})}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"text-9xl font-bold text-blue-200 select-none",children:"404"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("svg",{className:"w-24 h-24 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-.978-5.708-2.709M12 2l3 3-3 3-3-3 3-3z"})})})]})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),o.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Oops! The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL."}),o.jsx(He,{onClick:t,variant:"primary",size:"lg",className:"shadow-lg hover:shadow-xl",children:"Go Back Home"}),o.jsx("div",{className:"mt-8 text-sm text-gray-500",children:o.jsx("p",{children:"If you believe this is an error, please contact eKahera support."})})]})})}const tue=r8([{path:"/",element:o.jsx(x8,{}),children:[{index:!0,element:o.jsx(fV,{})},{path:"services",element:o.jsx(hV,{})},{path:"get-started",element:o.jsx(CV,{})},{path:"contact",element:o.jsx(kV,{})},{path:"login",element:o.jsx(NV,{})},{path:"dashboard",element:o.jsx(_se,{})},{path:"dashboard/store-qr",element:o.jsx(Jce,{})},{path:"pos",element:o.jsx(Uae,{})},{path:"cashier-pos",element:o.jsx(qae,{})},{path:"inventory",element:o.jsx(Ace,{})},{path:"mobile-scanner",element:o.jsx(Pce,{})},{path:"select-role",element:o.jsx(_ce,{})},{path:"customer",element:o.jsx(Tce,{})},{path:"customer-enter",element:o.jsx(Mce,{})},{path:"receipt",element:o.jsx(Xce,{})},{path:"enter-store",element:o.jsx(Ice,{})},{path:"cashiers",element:o.jsx(Lce,{})},{path:"logs",element:o.jsx(Bce,{})},{path:"profile",element:o.jsx(Uce,{})},{path:"documents",element:o.jsx(Zce,{})},{path:"superadmin",element:o.jsx(Hce,{})},{path:"superadmin/stores/:id",element:o.jsx(Yce,{})},{path:"setup",element:o.jsx(Qce,{})},{path:"*",element:o.jsx(eue,{})}]}],{basename:"/"});sL.createRoot(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx(h8,{router:tue})}));
